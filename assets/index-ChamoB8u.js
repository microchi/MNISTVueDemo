var Bre=Object.defineProperty;var zre=(n,e,t)=>e in n?Bre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Vl=(n,e,t)=>zre(n,typeof e!="symbol"?e+"":e,t);function Vre(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(n,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.4
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function $R(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const sn={},Af=[],ks=()=>{},Gre=()=>!1,kS=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),PR=n=>n.startsWith("onUpdate:"),Sr=Object.assign,MR=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},Wre=Object.prototype.hasOwnProperty,cn=(n,e)=>Wre.call(n,e),gt=Array.isArray,Df=n=>_S(n)==="[object Map]",G8=n=>_S(n)==="[object Set]",wt=n=>typeof n=="function",Nn=n=>typeof n=="string",Xu=n=>typeof n=="symbol",En=n=>n!==null&&typeof n=="object",W8=n=>(En(n)||wt(n))&&wt(n.then)&&wt(n.catch),H8=Object.prototype.toString,_S=n=>H8.call(n),Hre=n=>_S(n).slice(8,-1),U8=n=>_S(n)==="[object Object]",LR=n=>Nn(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Iv=$R(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),IS=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},Ure=/-(\w)/g,ta=IS(n=>n.replace(Ure,(e,t)=>t?t.toUpperCase():"")),jre=/\B([A-Z])/g,Pl=IS(n=>n.replace(jre,"-$1").toLowerCase()),TS=IS(n=>n.charAt(0).toUpperCase()+n.slice(1)),Z1=IS(n=>n?`on${TS(n)}`:""),Wo=(n,e)=>!Object.is(n,e),mk=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},j8=(n,e,t,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:t})},Kre=n=>{const e=parseFloat(n);return isNaN(e)?n:e},Xre=n=>{const e=Nn(n)?Number(n):NaN;return isNaN(e)?n:e};let n3;const K8=()=>n3||(n3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wy(n){if(gt(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],o=Nn(r)?Jre(r):wy(r);if(o)for(const i in o)e[i]=o[i]}return e}else if(Nn(n)||En(n))return n}const qre=/;(?![^(]*\))/g,Yre=/:([^]+)/,Zre=/\/\*[^]*?\*\//g;function Jre(n){const e={};return n.replace(Zre,"").split(qre).forEach(t=>{if(t){const r=t.split(Yre);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function bt(n){let e="";if(Nn(n))e=n;else if(gt(n))for(let t=0;t<n.length;t++){const r=bt(n[t]);r&&(e+=r+" ")}else if(En(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function AS(n){if(!n)return null;let{class:e,style:t}=n;return e&&!Nn(e)&&(n.class=bt(e)),t&&(n.style=wy(t)),n}const Qre="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",eoe=$R(Qre);function X8(n){return!!n||n===""}const q8=n=>!!(n&&n.__v_isRef===!0),Bn=n=>Nn(n)?n:n==null?"":gt(n)||En(n)&&(n.toString===H8||!wt(n.toString))?q8(n)?Bn(n.value):JSON.stringify(n,Y8,2):String(n),Y8=(n,e)=>q8(e)?Y8(n,e.value):Df(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,o],i)=>(t[yk(r,i)+" =>"]=o,t),{})}:G8(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>yk(t))}:Xu(e)?yk(e):En(e)&&!gt(e)&&!U8(e)?String(e):e,yk=(n,e="")=>{var t;return Xu(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.4
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ci;class toe{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ci,!e&&ci&&(this.index=(ci.scopes||(ci.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=ci;try{return ci=this,e()}finally{ci=t}}}on(){ci=this}off(){ci=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function noe(){return ci}let wn;const bk=new WeakSet;class Z8{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0,ci&&ci.active&&ci.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,bk.has(this)&&(bk.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=Tv,Tv=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,r3(this),Q8(this);const e=wn,t=Ea;wn=this,Ea=!0;try{return this.fn()}finally{e9(this),wn=e,Ea=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)FR(e);this.deps=this.depsTail=void 0,r3(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?bk.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){AT(this)&&this.run()}get dirty(){return AT(this)}}let J8=0,Tv;function NR(){J8++}function OR(){if(--J8>0)return;let n;for(;Tv;){let e=Tv;for(Tv=void 0;e;){const t=e.nextEffect;if(e.nextEffect=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){n||(n=r)}e=t}}if(n)throw n}function Q8(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function e9(n){let e,t=n.depsTail;for(let r=t;r;r=r.prevDep)r.version===-1?(r===t&&(t=r.prevDep),FR(r),roe(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0;n.deps=e,n.depsTail=t}function AT(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&t9(e.dep.computed)||e.dep.version!==e.version)return!0;return!!n._dirty}function t9(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Jv))return;n.globalVersion=Jv;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&!AT(n)){n.flags&=-3;return}const t=wn,r=Ea;wn=n,Ea=!0;try{Q8(n);const o=n.fn(n._value);(e.version===0||Wo(o,n._value))&&(n._value=o,e.version++)}catch(o){throw e.version++,o}finally{wn=t,Ea=r,e9(n),n.flags&=-3}}function FR(n){const{dep:e,prevSub:t,nextSub:r}=n;if(t&&(t.nextSub=r,n.prevSub=void 0),r&&(r.prevSub=t,n.nextSub=void 0),e.subs===n&&(e.subs=t),!e.subs&&e.computed){e.computed.flags&=-5;for(let o=e.computed.deps;o;o=o.nextDep)FR(o)}}function roe(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let Ea=!0;const n9=[];function qu(){n9.push(Ea),Ea=!1}function Yu(){const n=n9.pop();Ea=n===void 0?!0:n}function r3(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=wn;wn=void 0;try{e()}finally{wn=t}}}let Jv=0;class DS{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!wn||!Ea||wn===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==wn)t=this.activeLink={dep:this,sub:wn,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},wn.deps?(t.prevDep=wn.depsTail,wn.depsTail.nextDep=t,wn.depsTail=t):wn.deps=wn.depsTail=t,wn.flags&4&&r9(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const r=t.nextDep;r.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=r),t.prevDep=wn.depsTail,t.nextDep=void 0,wn.depsTail.nextDep=t,wn.depsTail=t,wn.deps===t&&(wn.deps=r)}return t}trigger(e){this.version++,Jv++,this.notify(e)}notify(e){NR();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()}finally{OR()}}}function r9(n){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)r9(r)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}const DT=new WeakMap,kd=Symbol(""),RT=Symbol(""),Qv=Symbol("");function lo(n,e,t){if(Ea&&wn){let r=DT.get(n);r||DT.set(n,r=new Map);let o=r.get(t);o||r.set(t,o=new DS),o.track()}}function vl(n,e,t,r,o,i){const a=DT.get(n);if(!a){Jv++;return}const s=l=>{l&&l.trigger()};if(NR(),e==="clear")a.forEach(s);else{const l=gt(n),u=l&&LR(t);if(l&&t==="length"){const c=Number(r);a.forEach((d,h)=>{(h==="length"||h===Qv||!Xu(h)&&h>=c)&&s(d)})}else switch(t!==void 0&&s(a.get(t)),u&&s(a.get(Qv)),e){case"add":l?u&&s(a.get("length")):(s(a.get(kd)),Df(n)&&s(a.get(RT)));break;case"delete":l||(s(a.get(kd)),Df(n)&&s(a.get(RT)));break;case"set":Df(n)&&s(a.get(kd));break}}OR()}function Mh(n){const e=nn(n);return e===n?e:(lo(e,"iterate",Qv),Qi(n)?e:e.map(no))}function RS(n){return lo(n=nn(n),"iterate",Qv),n}const ooe={__proto__:null,[Symbol.iterator](){return wk(this,Symbol.iterator,no)},concat(...n){return Mh(this).concat(...n.map(e=>gt(e)?Mh(e):e))},entries(){return wk(this,"entries",n=>(n[1]=no(n[1]),n))},every(n,e){return Js(this,"every",n,e,void 0,arguments)},filter(n,e){return Js(this,"filter",n,e,t=>t.map(no),arguments)},find(n,e){return Js(this,"find",n,e,no,arguments)},findIndex(n,e){return Js(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Js(this,"findLast",n,e,no,arguments)},findLastIndex(n,e){return Js(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Js(this,"forEach",n,e,void 0,arguments)},includes(...n){return xk(this,"includes",n)},indexOf(...n){return xk(this,"indexOf",n)},join(n){return Mh(this).join(n)},lastIndexOf(...n){return xk(this,"lastIndexOf",n)},map(n,e){return Js(this,"map",n,e,void 0,arguments)},pop(){return vg(this,"pop")},push(...n){return vg(this,"push",n)},reduce(n,...e){return o3(this,"reduce",n,e)},reduceRight(n,...e){return o3(this,"reduceRight",n,e)},shift(){return vg(this,"shift")},some(n,e){return Js(this,"some",n,e,void 0,arguments)},splice(...n){return vg(this,"splice",n)},toReversed(){return Mh(this).toReversed()},toSorted(n){return Mh(this).toSorted(n)},toSpliced(...n){return Mh(this).toSpliced(...n)},unshift(...n){return vg(this,"unshift",n)},values(){return wk(this,"values",no)}};function wk(n,e,t){const r=RS(n),o=r[e]();return r!==n&&!Qi(n)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=t(i.value)),i}),o}const ioe=Array.prototype;function Js(n,e,t,r,o,i){const a=RS(n),s=a!==n&&!Qi(n),l=a[e];if(l!==ioe[e]){const d=l.apply(n,i);return s?no(d):d}let u=t;a!==n&&(s?u=function(d,h){return t.call(this,no(d),h,n)}:t.length>2&&(u=function(d,h){return t.call(this,d,h,n)}));const c=l.call(a,u,r);return s&&o?o(c):c}function o3(n,e,t,r){const o=RS(n);let i=t;return o!==n&&(Qi(n)?t.length>3&&(i=function(a,s,l){return t.call(this,a,s,l,n)}):i=function(a,s,l){return t.call(this,a,no(s),l,n)}),o[e](i,...r)}function xk(n,e,t){const r=nn(n);lo(r,"iterate",Qv);const o=r[e](...t);return(o===-1||o===!1)&&WR(t[0])?(t[0]=nn(t[0]),r[e](...t)):o}function vg(n,e,t=[]){qu(),NR();const r=nn(n)[e].apply(n,t);return OR(),Yu(),r}const aoe=$R("__proto__,__v_isRef,__isVue"),o9=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Xu));function soe(n){Xu(n)||(n=String(n));const e=nn(this);return lo(e,"has",n),e.hasOwnProperty(n)}class i9{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){const o=this._isReadonly,i=this._isShallow;if(t==="__v_isReactive")return!o;if(t==="__v_isReadonly")return o;if(t==="__v_isShallow")return i;if(t==="__v_raw")return r===(o?i?woe:u9:i?l9:s9).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=gt(e);if(!o){let l;if(a&&(l=ooe[t]))return l;if(t==="hasOwnProperty")return soe}const s=Reflect.get(e,t,io(e)?e:r);return(Xu(t)?o9.has(t):aoe(t))||(o||lo(e,"get",t),i)?s:io(s)?a&&LR(t)?s:s.value:En(s)?o?VR(s):$S(s):s}}class a9 extends i9{constructor(e=!1){super(!1,e)}set(e,t,r,o){let i=e[t];if(!this._isShallow){const l=Nd(i);if(!Qi(r)&&!Nd(r)&&(i=nn(i),r=nn(r)),!gt(e)&&io(i)&&!io(r))return l?!1:(i.value=r,!0)}const a=gt(e)&&LR(t)?Number(t)<e.length:cn(e,t),s=Reflect.set(e,t,r,io(e)?e:o);return e===nn(o)&&(a?Wo(r,i)&&vl(e,"set",t,r):vl(e,"add",t,r)),s}deleteProperty(e,t){const r=cn(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&r&&vl(e,"delete",t,void 0),o}has(e,t){const r=Reflect.has(e,t);return(!Xu(t)||!o9.has(t))&&lo(e,"has",t),r}ownKeys(e){return lo(e,"iterate",gt(e)?"length":kd),Reflect.ownKeys(e)}}class loe extends i9{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const uoe=new a9,coe=new loe,doe=new a9(!0);const BR=n=>n,ES=n=>Reflect.getPrototypeOf(n);function wb(n,e,t=!1,r=!1){n=n.__v_raw;const o=nn(n),i=nn(e);t||(Wo(e,i)&&lo(o,"get",e),lo(o,"get",i));const{has:a}=ES(o),s=r?BR:t?HR:no;if(a.call(o,e))return s(n.get(e));if(a.call(o,i))return s(n.get(i));n!==o&&n.get(e)}function xb(n,e=!1){const t=this.__v_raw,r=nn(t),o=nn(n);return e||(Wo(n,o)&&lo(r,"has",n),lo(r,"has",o)),n===o?t.has(n):t.has(n)||t.has(o)}function Sb(n,e=!1){return n=n.__v_raw,!e&&lo(nn(n),"iterate",kd),Reflect.get(n,"size",n)}function i3(n,e=!1){!e&&!Qi(n)&&!Nd(n)&&(n=nn(n));const t=nn(this);return ES(t).has.call(t,n)||(t.add(n),vl(t,"add",n,n)),this}function a3(n,e,t=!1){!t&&!Qi(e)&&!Nd(e)&&(e=nn(e));const r=nn(this),{has:o,get:i}=ES(r);let a=o.call(r,n);a||(n=nn(n),a=o.call(r,n));const s=i.call(r,n);return r.set(n,e),a?Wo(e,s)&&vl(r,"set",n,e):vl(r,"add",n,e),this}function s3(n){const e=nn(this),{has:t,get:r}=ES(e);let o=t.call(e,n);o||(n=nn(n),o=t.call(e,n)),r&&r.call(e,n);const i=e.delete(n);return o&&vl(e,"delete",n,void 0),i}function l3(){const n=nn(this),e=n.size!==0,t=n.clear();return e&&vl(n,"clear",void 0,void 0),t}function Cb(n,e){return function(r,o){const i=this,a=i.__v_raw,s=nn(a),l=e?BR:n?HR:no;return!n&&lo(s,"iterate",kd),a.forEach((u,c)=>r.call(o,l(u),l(c),i))}}function kb(n,e,t){return function(...r){const o=this.__v_raw,i=nn(o),a=Df(i),s=n==="entries"||n===Symbol.iterator&&a,l=n==="keys"&&a,u=o[n](...r),c=t?BR:e?HR:no;return!e&&lo(i,"iterate",l?RT:kd),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:s?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Gl(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function hoe(){const n={get(i){return wb(this,i)},get size(){return Sb(this)},has:xb,add:i3,set:a3,delete:s3,clear:l3,forEach:Cb(!1,!1)},e={get(i){return wb(this,i,!1,!0)},get size(){return Sb(this)},has:xb,add(i){return i3.call(this,i,!0)},set(i,a){return a3.call(this,i,a,!0)},delete:s3,clear:l3,forEach:Cb(!1,!0)},t={get(i){return wb(this,i,!0)},get size(){return Sb(this,!0)},has(i){return xb.call(this,i,!0)},add:Gl("add"),set:Gl("set"),delete:Gl("delete"),clear:Gl("clear"),forEach:Cb(!0,!1)},r={get(i){return wb(this,i,!0,!0)},get size(){return Sb(this,!0)},has(i){return xb.call(this,i,!0)},add:Gl("add"),set:Gl("set"),delete:Gl("delete"),clear:Gl("clear"),forEach:Cb(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=kb(i,!1,!1),t[i]=kb(i,!0,!1),e[i]=kb(i,!1,!0),r[i]=kb(i,!0,!0)}),[n,t,e,r]}const[foe,poe,goe,voe]=hoe();function zR(n,e){const t=e?n?voe:goe:n?poe:foe;return(r,o,i)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?r:Reflect.get(cn(t,o)&&o in r?t:r,o,i)}const moe={get:zR(!1,!1)},yoe={get:zR(!1,!0)},boe={get:zR(!0,!1)};const s9=new WeakMap,l9=new WeakMap,u9=new WeakMap,woe=new WeakMap;function xoe(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Soe(n){return n.__v_skip||!Object.isExtensible(n)?0:xoe(Hre(n))}function $S(n){return Nd(n)?n:GR(n,!1,uoe,moe,s9)}function Coe(n){return GR(n,!1,doe,yoe,l9)}function VR(n){return GR(n,!0,coe,boe,u9)}function GR(n,e,t,r,o){if(!En(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const i=o.get(n);if(i)return i;const a=Soe(n);if(a===0)return n;const s=new Proxy(n,a===2?r:t);return o.set(n,s),s}function Rf(n){return Nd(n)?Rf(n.__v_raw):!!(n&&n.__v_isReactive)}function Nd(n){return!!(n&&n.__v_isReadonly)}function Qi(n){return!!(n&&n.__v_isShallow)}function WR(n){return n?!!n.__v_raw:!1}function nn(n){const e=n&&n.__v_raw;return e?nn(e):n}function koe(n){return!cn(n,"__v_skip")&&Object.isExtensible(n)&&j8(n,"__v_skip",!0),n}const no=n=>En(n)?$S(n):n,HR=n=>En(n)?VR(n):n;function io(n){return n?n.__v_isRef===!0:!1}function Yt(n){return _oe(n,!1)}function _oe(n,e){return io(n)?n:new Ioe(n,e)}class Ioe{constructor(e,t){this.dep=new DS,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:nn(e),this._value=t?e:no(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,r=this.__v_isShallow||Qi(e)||Nd(e);e=r?e:nn(e),Wo(e,t)&&(this._rawValue=e,this._value=r?e:no(e),this.dep.trigger())}}function Toe(n){return io(n)?n.value:n}const Aoe={get:(n,e,t)=>e==="__v_raw"?n:Toe(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const o=n[e];return io(o)&&!io(t)?(o.value=t,!0):Reflect.set(n,e,t,r)}};function c9(n){return Rf(n)?n:new Proxy(n,Aoe)}class Doe{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new DS,{get:r,set:o}=e(t.track.bind(t),t.trigger.bind(t));this._get=r,this._set=o}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Roe(n){return new Doe(n)}class Eoe{constructor(e,t,r){this.fn=e,this.setter=t,this._value=void 0,this.dep=new DS(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Jv-1,this.effect=this,this.__v_isReadonly=!t,this.isSSR=r}notify(){this.flags|=16,wn!==this&&this.dep.notify()}get value(){const e=this.dep.track();return t9(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function $oe(n,e,t=!1){let r,o;return wt(n)?r=n:(r=n.get,o=n.set),new Eoe(r,o,t)}const _b={},Iw=new WeakMap;let Kc;function Poe(n,e=!1,t=Kc){if(t){let r=Iw.get(t);r||Iw.set(t,r=[]),r.push(n)}}function Moe(n,e,t=sn){const{immediate:r,deep:o,once:i,scheduler:a,augmentJob:s,call:l}=t,u=w=>o?w:Qi(w)||o===!1||o===0?sl(w,1):sl(w);let c,d,h,f,p=!1,g=!1;if(io(n)?(d=()=>n.value,p=Qi(n)):Rf(n)?(d=()=>u(n),p=!0):gt(n)?(g=!0,p=n.some(w=>Rf(w)||Qi(w)),d=()=>n.map(w=>{if(io(w))return w.value;if(Rf(w))return u(w);if(wt(w))return l?l(w,2):w()})):wt(n)?e?d=l?()=>l(n,2):n:d=()=>{if(h){qu();try{h()}finally{Yu()}}const w=Kc;Kc=c;try{return l?l(n,3,[f]):n(f)}finally{Kc=w}}:d=ks,e&&o){const w=d,x=o===!0?1/0:o;d=()=>sl(w(),x)}const v=noe(),m=()=>{c.stop(),v&&MR(v.effects,c)};if(i)if(e){const w=e;e=(...x)=>{w(...x),m()}}else{const w=d;d=()=>{w(),m()}}let y=g?new Array(n.length).fill(_b):_b;const b=w=>{if(!(!(c.flags&1)||!c.dirty&&!w))if(e){const x=c.run();if(o||p||(g?x.some((S,C)=>Wo(S,y[C])):Wo(x,y))){h&&h();const S=Kc;Kc=c;try{const C=[x,y===_b?void 0:g&&y[0]===_b?[]:y,f];l?l(e,3,C):e(...C),y=x}finally{Kc=S}}}else c.run()};return s&&s(b),c=new Z8(d),c.scheduler=a?()=>a(b,!1):b,f=w=>Poe(w,!1,c),h=c.onStop=()=>{const w=Iw.get(c);if(w){if(l)l(w,4);else for(const x of w)x();Iw.delete(c)}},e?r?b(!0):y=c.run():a?a(b.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function sl(n,e=1/0,t){if(e<=0||!En(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,io(n))sl(n.value,e,t);else if(gt(n))for(let r=0;r<n.length;r++)sl(n[r],e,t);else if(G8(n)||Df(n))n.forEach(r=>{sl(r,e,t)});else if(U8(n)){for(const r in n)sl(n[r],e,t);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&sl(n[r],e,t)}return n}/**
* @vue/runtime-core v3.5.4
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xy(n,e,t,r){try{return r?n(...r):n()}catch(o){PS(o,e,t)}}function Ba(n,e,t,r){if(wt(n)){const o=xy(n,e,t,r);return o&&W8(o)&&o.catch(i=>{PS(i,e,t)}),o}if(gt(n)){const o=[];for(let i=0;i<n.length;i++)o.push(Ba(n[i],e,t,r));return o}}function PS(n,e,t,r=!0){const o=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||sn;if(e){let s=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;s;){const c=s.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](n,l,u)===!1)return}s=s.parent}if(i){qu(),xy(i,null,10,[n,l,u]),Yu();return}}Loe(n,t,o,r,a)}function Loe(n,e,t,r=!0,o=!1){if(o)throw n;console.error(n)}let em=!1,ET=!1;const So=[];let ls=0;const Ef=[];let nu=null,cf=0;const d9=Promise.resolve();let UR=null;function h9(n){const e=UR||d9;return n?e.then(this?n.bind(this):n):e}function Noe(n){let e=em?ls+1:0,t=So.length;for(;e<t;){const r=e+t>>>1,o=So[r],i=tm(o);i<n||i===n&&o.flags&2?e=r+1:t=r}return e}function jR(n){if(!(n.flags&1)){const e=tm(n),t=So[So.length-1];!t||!(n.flags&2)&&e>=tm(t)?So.push(n):So.splice(Noe(e),0,n),n.flags|=1,f9()}}function f9(){!em&&!ET&&(ET=!0,UR=d9.then(g9))}function Ooe(n){gt(n)?Ef.push(...n):nu&&n.id===-1?nu.splice(cf+1,0,n):n.flags&1||(Ef.push(n),n.flags|=1),f9()}function u3(n,e,t=em?ls+1:0){for(;t<So.length;t++){const r=So[t];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;So.splice(t,1),t--,r.flags&4&&(r.flags&=-2),r(),r.flags&=-2}}}function p9(n){if(Ef.length){const e=[...new Set(Ef)].sort((t,r)=>tm(t)-tm(r));if(Ef.length=0,nu){nu.push(...e);return}for(nu=e,cf=0;cf<nu.length;cf++){const t=nu[cf];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}nu=null,cf=0}}const tm=n=>n.id==null?n.flags&2?-1:1/0:n.id;function g9(n){ET=!1,em=!0;try{for(ls=0;ls<So.length;ls++){const e=So[ls];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),xy(e,e.i,e.i?15:14),e.flags&=-2)}}finally{for(;ls<So.length;ls++){const e=So[ls];e&&(e.flags&=-2)}ls=0,So.length=0,p9(),em=!1,UR=null,(So.length||Ef.length)&&g9()}}let Er=null,v9=null;function Tw(n){const e=Er;return Er=n,v9=n&&n.type.__scopeId||null,e}function ut(n,e=Er,t){if(!e||n._n)return n;const r=(...o)=>{r._d&&x3(-1);const i=Tw(e);let a;try{a=n(...o)}finally{Tw(i),r._d&&x3(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Ka(n,e){if(Er===null)return n;const t=BS(Er),r=n.dirs||(n.dirs=[]);for(let o=0;o<e.length;o++){let[i,a,s,l=sn]=e[o];i&&(wt(i)&&(i={mounted:i,updated:i}),i.deep&&sl(a),r.push({dir:i,instance:t,value:a,oldValue:void 0,arg:s,modifiers:l}))}return n}function pc(n,e,t,r){const o=n.dirs,i=e&&e.dirs;for(let a=0;a<o.length;a++){const s=o[a];i&&(s.oldValue=i[a].value);let l=s.dir[r];l&&(qu(),Ba(l,t,8,[n.el,s,n,e]),Yu())}}const m9=Symbol("_vte"),y9=n=>n.__isTeleport,Av=n=>n&&(n.disabled||n.disabled===""),Foe=n=>n&&(n.defer||n.defer===""),c3=n=>typeof SVGElement<"u"&&n instanceof SVGElement,d3=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,$T=(n,e)=>{const t=n&&n.to;return Nn(t)?e?e(t):null:t},Boe={name:"Teleport",__isTeleport:!0,process(n,e,t,r,o,i,a,s,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:g,createComment:v}}=u,m=Av(e.props);let{shapeFlag:y,children:b,dynamicChildren:w}=e;if(n==null){const x=e.el=g(""),S=e.anchor=g("");f(x,t,r),f(S,t,r);const C=(_,I)=>{y&16&&c(b,_,I,o,i,a,s,l)},k=()=>{const _=e.target=$T(e.props,p),I=b9(_,e,g,f);_&&(a!=="svg"&&c3(_)?a="svg":a!=="mathml"&&d3(_)&&(a="mathml"),m||(C(_,I),J1(e)))};m&&(C(t,S),J1(e)),Foe(e.props)?Vo(k,i):k()}else{e.el=n.el,e.targetStart=n.targetStart;const x=e.anchor=n.anchor,S=e.target=n.target,C=e.targetAnchor=n.targetAnchor,k=Av(n.props),_=k?t:S,I=k?x:C;if(a==="svg"||c3(S)?a="svg":(a==="mathml"||d3(S))&&(a="mathml"),w?(h(n.dynamicChildren,w,_,o,i,a,s),ZR(n,e,!0)):l||d(n,e,_,I,o,i,a,s,!1),m)k?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):Ib(e,t,x,u,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const T=e.target=$T(e.props,p);T&&Ib(e,T,null,u,0)}else k&&Ib(e,S,C,u,1);J1(e)}},remove(n,e,t,{um:r,o:{remove:o}},i){const{shapeFlag:a,children:s,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=n;if(d&&(o(u),o(c)),i&&o(l),a&16){const f=i||!Av(h);for(let p=0;p<s.length;p++){const g=s[p];r(g,e,t,f,!!g.dynamicChildren)}}},move:Ib,hydrate:zoe};function Ib(n,e,t,{o:{insert:r},m:o},i=2){i===0&&r(n.targetAnchor,e,t);const{el:a,anchor:s,shapeFlag:l,children:u,props:c}=n,d=i===2;if(d&&r(a,e,t),(!d||Av(c))&&l&16)for(let h=0;h<u.length;h++)o(u[h],e,t,2);d&&r(s,e,t)}function zoe(n,e,t,r,o,i,{o:{nextSibling:a,parentNode:s,querySelector:l,insert:u,createText:c}},d){const h=e.target=$T(e.props,l);if(h){const f=h._lpa||h.firstChild;if(e.shapeFlag&16)if(Av(e.props))e.anchor=d(a(n),e,s(n),t,r,o,i),e.targetStart=f,e.targetAnchor=f&&a(f);else{e.anchor=a(n);let p=f;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")e.targetStart=p;else if(p.data==="teleport anchor"){e.targetAnchor=p,h._lpa=e.targetAnchor&&a(e.targetAnchor);break}}p=a(p)}e.targetAnchor||b9(h,e,c,u),d(f&&a(f),e,h,t,r,o,i)}J1(e)}return e.anchor&&a(e.anchor)}const Voe=Boe;function J1(n){const e=n.ctx;if(e&&e.ut){let t=n.targetStart;for(;t&&t!==n.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}function b9(n,e,t,r){const o=e.targetStart=t(""),i=e.targetAnchor=t("");return o[m9]=i,n&&(r(o,n),r(i,n)),i}const ru=Symbol("_leaveCb"),Tb=Symbol("_enterCb");function Goe(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Sy(()=>{n.isMounted=!0}),T9(()=>{n.isUnmounting=!0}),n}const Ai=[Function,Array],w9={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ai,onEnter:Ai,onAfterEnter:Ai,onEnterCancelled:Ai,onBeforeLeave:Ai,onLeave:Ai,onAfterLeave:Ai,onLeaveCancelled:Ai,onBeforeAppear:Ai,onAppear:Ai,onAfterAppear:Ai,onAppearCancelled:Ai},x9=n=>{const e=n.subTree;return e.component?x9(e.component):e},Woe={name:"BaseTransition",props:w9,setup(n,{slots:e}){const t=eE(),r=Goe();return()=>{const o=e.default&&k9(e.default(),!0);if(!o||!o.length)return;const i=S9(o),a=nn(n),{mode:s}=a;if(r.isLeaving)return Sk(i);const l=h3(i);if(!l)return Sk(i);let u=PT(l,a,r,t,h=>u=h);l.type!==Io&&nm(l,u);const c=t.subTree,d=c&&h3(c);if(d&&d.type!==Io&&!nd(l,d)&&x9(t).type!==Io){const h=PT(d,a,r,t);if(nm(d,h),s==="out-in"&&l.type!==Io)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,t.job.flags&8||t.update(),delete h.afterLeave},Sk(i);s==="in-out"&&l.type!==Io&&(h.delayLeave=(f,p,g)=>{const v=C9(r,d);v[String(d.key)]=d,f[ru]=()=>{p(),f[ru]=void 0,delete u.delayedLeave},u.delayedLeave=g})}return i}}};function S9(n){let e=n[0];if(n.length>1){for(const t of n)if(t.type!==Io){e=t;break}}return e}const Hoe=Woe;function C9(n,e){const{leavingVNodes:t}=n;let r=t.get(e.type);return r||(r=Object.create(null),t.set(e.type,r)),r}function PT(n,e,t,r,o){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:v,onAppear:m,onAfterAppear:y,onAppearCancelled:b}=e,w=String(n.key),x=C9(t,n),S=(_,I)=>{_&&Ba(_,r,9,I)},C=(_,I)=>{const T=I[1];S(_,I),gt(_)?_.every(A=>A.length<=1)&&T():_.length<=1&&T()},k={mode:a,persisted:s,beforeEnter(_){let I=l;if(!t.isMounted)if(i)I=v||l;else return;_[ru]&&_[ru](!0);const T=x[w];T&&nd(n,T)&&T.el[ru]&&T.el[ru](),S(I,[_])},enter(_){let I=u,T=c,A=d;if(!t.isMounted)if(i)I=m||u,T=y||c,A=b||d;else return;let D=!1;const E=_[Tb]=$=>{D||(D=!0,$?S(A,[_]):S(T,[_]),k.delayedLeave&&k.delayedLeave(),_[Tb]=void 0)};I?C(I,[_,E]):E()},leave(_,I){const T=String(n.key);if(_[Tb]&&_[Tb](!0),t.isUnmounting)return I();S(h,[_]);let A=!1;const D=_[ru]=E=>{A||(A=!0,I(),E?S(g,[_]):S(p,[_]),_[ru]=void 0,x[T]===n&&delete x[T])};x[T]=n,f?C(f,[_,D]):D()},clone(_){const I=PT(_,e,t,r,o);return o&&o(I),I}};return k}function Sk(n){if(MS(n))return n=Lu(n),n.children=null,n}function h3(n){if(!MS(n))return y9(n.type)&&n.children?S9(n.children):n;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&wt(t.default))return t.default()}}function nm(n,e){n.shapeFlag&6&&n.component?(n.transition=e,nm(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function k9(n,e=!1,t){let r=[],o=0;for(let i=0;i<n.length;i++){let a=n[i];const s=t==null?a.key:String(t)+String(a.key!=null?a.key:i);a.type===st?(a.patchFlag&128&&o++,r=r.concat(k9(a.children,e,s))):(e||a.type!==Io)&&r.push(s!=null?Lu(a,{key:s}):a)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Uoe(n,e){return wt(n)?Sr({name:n.name},e,{setup:n}):n}function _9(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function MT(n,e,t,r,o=!1){if(gt(n)){n.forEach((p,g)=>MT(p,e&&(gt(e)?e[g]:e),t,r,o));return}if($f(r)&&!o)return;const i=r.shapeFlag&4?BS(r.component):r.el,a=o?null:i,{i:s,r:l}=n,u=e&&e.r,c=s.refs===sn?s.refs={}:s.refs,d=s.setupState,h=nn(d),f=d===sn?()=>!1:p=>cn(h,p);if(u!=null&&u!==l&&(Nn(u)?(c[u]=null,f(u)&&(d[u]=null)):io(u)&&(u.value=null)),wt(l))xy(l,s,12,[a,c]);else{const p=Nn(l),g=io(l);if(p||g){const v=()=>{if(n.f){const m=p?f(l)?d[l]:c[l]:l.value;o?gt(m)&&MR(m,i):gt(m)?m.includes(i)||m.push(i):p?(c[l]=[i],f(l)&&(d[l]=c[l])):(l.value=[i],n.k&&(c[n.k]=l.value))}else p?(c[l]=a,f(l)&&(d[l]=a)):g&&(l.value=a,n.k&&(c[n.k]=a))};a?(v.id=-1,Vo(v,t)):v()}}}const $f=n=>!!n.type.__asyncLoader,MS=n=>n.type.__isKeepAlive;function joe(n,e){I9(n,"a",e)}function Koe(n,e){I9(n,"da",e)}function I9(n,e,t=Vr){const r=n.__wdc||(n.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return n()});if(LS(e,r,t),t){let o=t.parent;for(;o&&o.parent;)MS(o.parent.vnode)&&Xoe(r,e,t,o),o=o.parent}}function Xoe(n,e,t,r){const o=LS(e,n,r,!0);A9(()=>{MR(r[e],o)},t)}function LS(n,e,t=Vr,r=!1){if(t){const o=t[n]||(t[n]=[]),i=e.__weh||(e.__weh=(...a)=>{qu();const s=Cy(t),l=Ba(e,t,n,a);return s(),Yu(),l});return r?o.unshift(i):o.push(i),i}}const Ml=n=>(e,t=Vr)=>{(!FS||n==="sp")&&LS(n,(...r)=>e(...r),t)},qoe=Ml("bm"),Sy=Ml("m"),Yoe=Ml("bu"),Zoe=Ml("u"),T9=Ml("bum"),A9=Ml("um"),Joe=Ml("sp"),Qoe=Ml("rtg"),eie=Ml("rtc");function tie(n,e=Vr){LS("ec",n,e)}const KR="components",nie="directives";function Je(n,e){return XR(KR,n,!0,e)||n}const D9=Symbol.for("v-ndc");function mt(n){return Nn(n)?XR(KR,n,!1)||n:n||D9}function Ks(n){return XR(nie,n)}function XR(n,e,t=!0,r=!1){const o=Er||Vr;if(o){const i=o.type;if(n===KR){const s=Gie(i,!1);if(s&&(s===e||s===ta(e)||s===TS(ta(e))))return i}const a=f3(o[n]||i[n],e)||f3(o.appContext[n],e);return!a&&r?i:a}}function f3(n,e){return n&&(n[e]||n[ta(e)]||n[TS(ta(e))])}function vr(n,e,t,r){let o;const i=t,a=gt(n);if(a||Nn(n)){const s=a&&Rf(n);let l=!1;s&&(l=!Qi(n),n=RS(n)),o=new Array(n.length);for(let u=0,c=n.length;u<c;u++)o[u]=e(l?no(n[u]):n[u],u,void 0,i)}else if(typeof n=="number"){o=new Array(n);for(let s=0;s<n;s++)o[s]=e(s+1,s,void 0,i)}else if(En(n))if(n[Symbol.iterator])o=Array.from(n,(s,l)=>e(s,l,void 0,i));else{const s=Object.keys(n);o=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];o[l]=e(n[c],c,l,i)}}else o=[];return o}function Zf(n,e){for(let t=0;t<e.length;t++){const r=e[t];if(gt(r))for(let o=0;o<r.length;o++)n[r[o].name]=r[o].fn;else r&&(n[r.name]=r.key?(...o)=>{const i=r.fn(...o);return i&&(i.key=r.key),i}:r.fn)}return n}function He(n,e,t={},r,o){if(Er.ce||Er.parent&&$f(Er.parent)&&Er.parent.ce)return e!=="default"&&(t.name=e),B(),be(st,null,[je("slot",t,r&&r())],64);let i=n[e];i&&i._c&&(i._d=!1),B();const a=i&&R9(i(t)),s=be(st,{key:(t.key||a&&a.key||`_${e}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&n._===1?64:-2);return s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function R9(n){return n.some(e=>Dw(e)?!(e.type===Io||e.type===st&&!R9(e.children)):!0)?n:null}function Ab(n,e){const t={};for(const r in n)t[/[A-Z]/.test(r)?`on:${r}`:Z1(r)]=n[r];return t}const LT=n=>n?q9(n)?BS(n):LT(n.parent):null,Dv=Sr(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>LT(n.parent),$root:n=>LT(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>qR(n),$forceUpdate:n=>n.f||(n.f=()=>{jR(n.update)}),$nextTick:n=>n.n||(n.n=h9.bind(n.proxy)),$watch:n=>_ie.bind(n)}),Ck=(n,e)=>n!==sn&&!n.__isScriptSetup&&cn(n,e),rie={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:o,props:i,accessCache:a,type:s,appContext:l}=n;let u;if(e[0]!=="$"){const f=a[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return o[e];case 4:return t[e];case 3:return i[e]}else{if(Ck(r,e))return a[e]=1,r[e];if(o!==sn&&cn(o,e))return a[e]=2,o[e];if((u=n.propsOptions[0])&&cn(u,e))return a[e]=3,i[e];if(t!==sn&&cn(t,e))return a[e]=4,t[e];NT&&(a[e]=0)}}const c=Dv[e];let d,h;if(c)return e==="$attrs"&&lo(n.attrs,"get",""),c(n);if((d=s.__cssModules)&&(d=d[e]))return d;if(t!==sn&&cn(t,e))return a[e]=4,t[e];if(h=l.config.globalProperties,cn(h,e))return h[e]},set({_:n},e,t){const{data:r,setupState:o,ctx:i}=n;return Ck(o,e)?(o[e]=t,!0):r!==sn&&cn(r,e)?(r[e]=t,!0):cn(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(i[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:o,propsOptions:i}},a){let s;return!!t[a]||n!==sn&&cn(n,a)||Ck(e,a)||(s=i[0])&&cn(s,a)||cn(r,a)||cn(Dv,a)||cn(o.config.globalProperties,a)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:cn(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function p3(n){return gt(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let NT=!0;function oie(n){const e=qR(n),t=n.proxy,r=n.ctx;NT=!1,e.beforeCreate&&g3(e.beforeCreate,n,"bc");const{data:o,computed:i,methods:a,watch:s,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:v,beforeDestroy:m,beforeUnmount:y,destroyed:b,unmounted:w,render:x,renderTracked:S,renderTriggered:C,errorCaptured:k,serverPrefetch:_,expose:I,inheritAttrs:T,components:A,directives:D,filters:E}=e;if(u&&iie(u,r,null),a)for(const N in a){const M=a[N];wt(M)&&(r[N]=M.bind(t))}if(o){const N=o.call(t,t);En(N)&&(n.data=$S(N))}if(NT=!0,i)for(const N in i){const M=i[N],L=wt(M)?M.bind(t,t):wt(M.get)?M.get.bind(t,t):ks,V=!wt(M)&&wt(M.set)?M.set.bind(t):ks,W=Hie({get:L,set:V});Object.defineProperty(r,N,{enumerable:!0,configurable:!0,get:()=>W.value,set:j=>W.value=j})}if(s)for(const N in s)E9(s[N],r,t,N);if(l){const N=wt(l)?l.call(t):l;Reflect.ownKeys(N).forEach(M=>{die(M,N[M])})}c&&g3(c,n,"c");function P(N,M){gt(M)?M.forEach(L=>N(L.bind(t))):M&&N(M.bind(t))}if(P(qoe,d),P(Sy,h),P(Yoe,f),P(Zoe,p),P(joe,g),P(Koe,v),P(tie,k),P(eie,S),P(Qoe,C),P(T9,y),P(A9,w),P(Joe,_),gt(I))if(I.length){const N=n.exposed||(n.exposed={});I.forEach(M=>{Object.defineProperty(N,M,{get:()=>t[M],set:L=>t[M]=L})})}else n.exposed||(n.exposed={});x&&n.render===ks&&(n.render=x),T!=null&&(n.inheritAttrs=T),A&&(n.components=A),D&&(n.directives=D),_&&_9(n)}function iie(n,e,t=ks){gt(n)&&(n=OT(n));for(const r in n){const o=n[r];let i;En(o)?"default"in o?i=Q1(o.from||r,o.default,!0):i=Q1(o.from||r):i=Q1(o),io(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[r]=i}}function g3(n,e,t){Ba(gt(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function E9(n,e,t,r){let o=r.includes(".")?W9(t,r):()=>t[r];if(Nn(n)){const i=e[n];wt(i)&&bs(o,i)}else if(wt(n))bs(o,n.bind(t));else if(En(n))if(gt(n))n.forEach(i=>E9(i,e,t,r));else{const i=wt(n.handler)?n.handler.bind(t):e[n.handler];wt(i)&&bs(o,i,n)}}function qR(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=n.appContext,s=i.get(e);let l;return s?l=s:!o.length&&!t&&!r?l=e:(l={},o.length&&o.forEach(u=>Aw(l,u,a,!0)),Aw(l,e,a)),En(e)&&i.set(e,l),l}function Aw(n,e,t,r=!1){const{mixins:o,extends:i}=e;i&&Aw(n,i,t,!0),o&&o.forEach(a=>Aw(n,a,t,!0));for(const a in e)if(!(r&&a==="expose")){const s=aie[a]||t&&t[a];n[a]=s?s(n[a],e[a]):e[a]}return n}const aie={data:v3,props:m3,emits:m3,methods:rv,computed:rv,beforeCreate:vo,created:vo,beforeMount:vo,mounted:vo,beforeUpdate:vo,updated:vo,beforeDestroy:vo,beforeUnmount:vo,destroyed:vo,unmounted:vo,activated:vo,deactivated:vo,errorCaptured:vo,serverPrefetch:vo,components:rv,directives:rv,watch:lie,provide:v3,inject:sie};function v3(n,e){return e?n?function(){return Sr(wt(n)?n.call(this,this):n,wt(e)?e.call(this,this):e)}:e:n}function sie(n,e){return rv(OT(n),OT(e))}function OT(n){if(gt(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function vo(n,e){return n?[...new Set([].concat(n,e))]:e}function rv(n,e){return n?Sr(Object.create(null),n,e):e}function m3(n,e){return n?gt(n)&&gt(e)?[...new Set([...n,...e])]:Sr(Object.create(null),p3(n),p3(e??{})):e}function lie(n,e){if(!n)return e;if(!e)return n;const t=Sr(Object.create(null),n);for(const r in e)t[r]=vo(n[r],e[r]);return t}function $9(){return{app:null,config:{isNativeTag:Gre,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uie=0;function cie(n,e){return function(r,o=null){wt(r)||(r=Sr({},r)),o!=null&&!En(o)&&(o=null);const i=$9(),a=new WeakSet,s=[];let l=!1;const u=i.app={_uid:uie++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:Uie,get config(){return i.config},set config(c){},use(c,...d){return a.has(c)||(c&&wt(c.install)?(a.add(c),c.install(u,...d)):wt(c)&&(a.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,h){if(!l){const f=u._ceVNode||je(r,o);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),d&&e?e(f,c):n(f,c,h),l=!0,u._container=c,c.__vue_app__=u,BS(f.component)}},onUnmount(c){s.push(c)},unmount(){l&&(Ba(s,u._instance,16),n(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=Pf;Pf=u;try{return c()}finally{Pf=d}}};return u}}let Pf=null;function die(n,e){if(Vr){let t=Vr.provides;const r=Vr.parent&&Vr.parent.provides;r===t&&(t=Vr.provides=Object.create(r)),t[n]=e}}function Q1(n,e,t=!1){const r=Vr||Er;if(r||Pf){const o=Pf?Pf._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&n in o)return o[n];if(arguments.length>1)return t&&wt(e)?e.call(r&&r.proxy):e}}const P9={},M9=()=>Object.create(P9),L9=n=>Object.getPrototypeOf(n)===P9;function hie(n,e,t,r=!1){const o={},i=M9();n.propsDefaults=Object.create(null),N9(n,e,o,i);for(const a in n.propsOptions[0])a in o||(o[a]=void 0);t?n.props=r?o:Coe(o):n.type.props?n.props=o:n.props=i,n.attrs=i}function fie(n,e,t,r){const{props:o,attrs:i,vnode:{patchFlag:a}}=n,s=nn(o),[l]=n.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const c=n.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(NS(n.emitsOptions,h))continue;const f=e[h];if(l)if(cn(i,h))f!==i[h]&&(i[h]=f,u=!0);else{const p=ta(h);o[p]=FT(l,s,p,f,n,!1)}else f!==i[h]&&(i[h]=f,u=!0)}}}else{N9(n,e,o,i)&&(u=!0);let c;for(const d in s)(!e||!cn(e,d)&&((c=Pl(d))===d||!cn(e,c)))&&(l?t&&(t[d]!==void 0||t[c]!==void 0)&&(o[d]=FT(l,s,d,void 0,n,!0)):delete o[d]);if(i!==s)for(const d in i)(!e||!cn(e,d))&&(delete i[d],u=!0)}u&&vl(n.attrs,"set","")}function N9(n,e,t,r){const[o,i]=n.propsOptions;let a=!1,s;if(e)for(let l in e){if(Iv(l))continue;const u=e[l];let c;o&&cn(o,c=ta(l))?!i||!i.includes(c)?t[c]=u:(s||(s={}))[c]=u:NS(n.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(i){const l=nn(t),u=s||sn;for(let c=0;c<i.length;c++){const d=i[c];t[d]=FT(o,l,d,u[d],n,!cn(u,d))}}return a}function FT(n,e,t,r,o,i){const a=n[t];if(a!=null){const s=cn(a,"default");if(s&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&wt(l)){const{propsDefaults:u}=o;if(t in u)r=u[t];else{const c=Cy(o);r=u[t]=l.call(null,e),c()}}else r=l;o.ce&&o.ce._setProp(t,r)}a[0]&&(i&&!s?r=!1:a[1]&&(r===""||r===Pl(t))&&(r=!0))}return r}const pie=new WeakMap;function O9(n,e,t=!1){const r=t?pie:e.propsCache,o=r.get(n);if(o)return o;const i=n.props,a={},s=[];let l=!1;if(!wt(n)){const c=d=>{l=!0;const[h,f]=O9(d,e,!0);Sr(a,h),f&&s.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!i&&!l)return En(n)&&r.set(n,Af),Af;if(gt(i))for(let c=0;c<i.length;c++){const d=ta(i[c]);y3(d)&&(a[d]=sn)}else if(i)for(const c in i){const d=ta(c);if(y3(d)){const h=i[c],f=a[d]=gt(h)||wt(h)?{type:h}:Sr({},h),p=f.type;let g=!1,v=!0;if(gt(p))for(let m=0;m<p.length;++m){const y=p[m],b=wt(y)&&y.name;if(b==="Boolean"){g=!0;break}else b==="String"&&(v=!1)}else g=wt(p)&&p.name==="Boolean";f[0]=g,f[1]=v,(g||cn(f,"default"))&&s.push(d)}}const u=[a,s];return En(n)&&r.set(n,u),u}function y3(n){return n[0]!=="$"&&!Iv(n)}const F9=n=>n[0]==="_"||n==="$stable",YR=n=>gt(n)?n.map(fs):[fs(n)],gie=(n,e,t)=>{if(e._n)return e;const r=ut((...o)=>YR(e(...o)),t);return r._c=!1,r},B9=(n,e,t)=>{const r=n._ctx;for(const o in n){if(F9(o))continue;const i=n[o];if(wt(i))e[o]=gie(o,i,r);else if(i!=null){const a=YR(i);e[o]=()=>a}}},z9=(n,e)=>{const t=YR(e);n.slots.default=()=>t},V9=(n,e,t)=>{for(const r in e)(t||r!=="_")&&(n[r]=e[r])},vie=(n,e,t)=>{const r=n.slots=M9();if(n.vnode.shapeFlag&32){const o=e._;o?(V9(r,e,t),t&&j8(r,"_",o,!0)):B9(e,r)}else e&&z9(n,e)},mie=(n,e,t)=>{const{vnode:r,slots:o}=n;let i=!0,a=sn;if(r.shapeFlag&32){const s=e._;s?t&&s===1?i=!1:V9(o,e,t):(i=!e.$stable,B9(e,o)),a=e}else e&&(z9(n,e),a={default:1});if(i)for(const s in o)!F9(s)&&a[s]==null&&delete o[s]},Vo=Eie;function yie(n){return bie(n)}function bie(n,e){const t=K8();t.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:a,createText:s,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=ks,insertStaticContent:p}=n,g=(F,z,J,ie=null,ae=null,pe=null,Ie=void 0,Ce=null,Te=!!z.dynamicChildren)=>{if(F===z)return;F&&!nd(F,z)&&(ie=ye(F),j(F,ae,pe,!0),F=null),z.patchFlag===-2&&(Te=!1,z.dynamicChildren=null);const{type:we,ref:Ze,shapeFlag:Me}=z;switch(we){case OS:v(F,z,J,ie);break;case Io:m(F,z,J,ie);break;case Tk:F==null&&y(z,J,ie,Ie);break;case st:A(F,z,J,ie,ae,pe,Ie,Ce,Te);break;default:Me&1?x(F,z,J,ie,ae,pe,Ie,Ce,Te):Me&6?D(F,z,J,ie,ae,pe,Ie,Ce,Te):(Me&64||Me&128)&&we.process(F,z,J,ie,ae,pe,Ie,Ce,Te,Se)}Ze!=null&&ae&&MT(Ze,F&&F.ref,pe,z||F,!z)},v=(F,z,J,ie)=>{if(F==null)r(z.el=s(z.children),J,ie);else{const ae=z.el=F.el;z.children!==F.children&&u(ae,z.children)}},m=(F,z,J,ie)=>{F==null?r(z.el=l(z.children||""),J,ie):z.el=F.el},y=(F,z,J,ie)=>{[F.el,F.anchor]=p(F.children,z,J,ie,F.el,F.anchor)},b=({el:F,anchor:z},J,ie)=>{let ae;for(;F&&F!==z;)ae=h(F),r(F,J,ie),F=ae;r(z,J,ie)},w=({el:F,anchor:z})=>{let J;for(;F&&F!==z;)J=h(F),o(F),F=J;o(z)},x=(F,z,J,ie,ae,pe,Ie,Ce,Te)=>{z.type==="svg"?Ie="svg":z.type==="math"&&(Ie="mathml"),F==null?S(z,J,ie,ae,pe,Ie,Ce,Te):_(F,z,ae,pe,Ie,Ce,Te)},S=(F,z,J,ie,ae,pe,Ie,Ce)=>{let Te,we;const{props:Ze,shapeFlag:Me,transition:Ue,dirs:it}=F;if(Te=F.el=a(F.type,pe,Ze&&Ze.is,Ze),Me&8?c(Te,F.children):Me&16&&k(F.children,Te,null,ie,ae,kk(F,pe),Ie,Ce),it&&pc(F,null,ie,"created"),C(Te,F,F.scopeId,Ie,ie),Ze){for(const Vt in Ze)Vt!=="value"&&!Iv(Vt)&&i(Te,Vt,null,Ze[Vt],pe,ie);"value"in Ze&&i(Te,"value",null,Ze.value,pe),(we=Ze.onVnodeBeforeMount)&&Qa(we,ie,F)}it&&pc(F,null,ie,"beforeMount");const St=wie(ae,Ue);St&&Ue.beforeEnter(Te),r(Te,z,J),((we=Ze&&Ze.onVnodeMounted)||St||it)&&Vo(()=>{we&&Qa(we,ie,F),St&&Ue.enter(Te),it&&pc(F,null,ie,"mounted")},ae)},C=(F,z,J,ie,ae)=>{if(J&&f(F,J),ie)for(let pe=0;pe<ie.length;pe++)f(F,ie[pe]);if(ae){let pe=ae.subTree;if(z===pe||j9(pe.type)&&(pe.ssContent===z||pe.ssFallback===z)){const Ie=ae.vnode;C(F,Ie,Ie.scopeId,Ie.slotScopeIds,ae.parent)}}},k=(F,z,J,ie,ae,pe,Ie,Ce,Te=0)=>{for(let we=Te;we<F.length;we++){const Ze=F[we]=Ce?ou(F[we]):fs(F[we]);g(null,Ze,z,J,ie,ae,pe,Ie,Ce)}},_=(F,z,J,ie,ae,pe,Ie)=>{const Ce=z.el=F.el;let{patchFlag:Te,dynamicChildren:we,dirs:Ze}=z;Te|=F.patchFlag&16;const Me=F.props||sn,Ue=z.props||sn;let it;if(J&&gc(J,!1),(it=Ue.onVnodeBeforeUpdate)&&Qa(it,J,z,F),Ze&&pc(z,F,J,"beforeUpdate"),J&&gc(J,!0),(Me.innerHTML&&Ue.innerHTML==null||Me.textContent&&Ue.textContent==null)&&c(Ce,""),we?I(F.dynamicChildren,we,Ce,J,ie,kk(z,ae),pe):Ie||M(F,z,Ce,null,J,ie,kk(z,ae),pe,!1),Te>0){if(Te&16)T(Ce,Me,Ue,J,ae);else if(Te&2&&Me.class!==Ue.class&&i(Ce,"class",null,Ue.class,ae),Te&4&&i(Ce,"style",Me.style,Ue.style,ae),Te&8){const St=z.dynamicProps;for(let Vt=0;Vt<St.length;Vt++){const Gt=St[Vt],Br=Me[Gt],rr=Ue[Gt];(rr!==Br||Gt==="value")&&i(Ce,Gt,Br,rr,ae,J)}}Te&1&&F.children!==z.children&&c(Ce,z.children)}else!Ie&&we==null&&T(Ce,Me,Ue,J,ae);((it=Ue.onVnodeUpdated)||Ze)&&Vo(()=>{it&&Qa(it,J,z,F),Ze&&pc(z,F,J,"updated")},ie)},I=(F,z,J,ie,ae,pe,Ie)=>{for(let Ce=0;Ce<z.length;Ce++){const Te=F[Ce],we=z[Ce],Ze=Te.el&&(Te.type===st||!nd(Te,we)||Te.shapeFlag&70)?d(Te.el):J;g(Te,we,Ze,null,ie,ae,pe,Ie,!0)}},T=(F,z,J,ie,ae)=>{if(z!==J){if(z!==sn)for(const pe in z)!Iv(pe)&&!(pe in J)&&i(F,pe,z[pe],null,ae,ie);for(const pe in J){if(Iv(pe))continue;const Ie=J[pe],Ce=z[pe];Ie!==Ce&&pe!=="value"&&i(F,pe,Ce,Ie,ae,ie)}"value"in J&&i(F,"value",z.value,J.value,ae)}},A=(F,z,J,ie,ae,pe,Ie,Ce,Te)=>{const we=z.el=F?F.el:s(""),Ze=z.anchor=F?F.anchor:s("");let{patchFlag:Me,dynamicChildren:Ue,slotScopeIds:it}=z;it&&(Ce=Ce?Ce.concat(it):it),F==null?(r(we,J,ie),r(Ze,J,ie),k(z.children||[],J,Ze,ae,pe,Ie,Ce,Te)):Me>0&&Me&64&&Ue&&F.dynamicChildren?(I(F.dynamicChildren,Ue,J,ae,pe,Ie,Ce),(z.key!=null||ae&&z===ae.subTree)&&ZR(F,z,!0)):M(F,z,J,Ze,ae,pe,Ie,Ce,Te)},D=(F,z,J,ie,ae,pe,Ie,Ce,Te)=>{z.slotScopeIds=Ce,F==null?z.shapeFlag&512?ae.ctx.activate(z,J,ie,Ie,Te):E(z,J,ie,ae,pe,Ie,Te):$(F,z,Te)},E=(F,z,J,ie,ae,pe,Ie)=>{const Ce=F.component=Oie(F,ie,ae);if(MS(F)&&(Ce.ctx.renderer=Se),Fie(Ce,!1,Ie),Ce.asyncDep){if(ae&&ae.registerDep(Ce,P,Ie),!F.el){const Te=Ce.subTree=je(Io);m(null,Te,z,J)}}else P(Ce,F,z,J,ae,pe,Ie)},$=(F,z,J)=>{const ie=z.component=F.component;if(Die(F,z,J))if(ie.asyncDep&&!ie.asyncResolved){N(ie,z,J);return}else ie.next=z,ie.update();else z.el=F.el,ie.vnode=z},P=(F,z,J,ie,ae,pe,Ie)=>{const Ce=()=>{if(F.isMounted){let{next:Me,bu:Ue,u:it,parent:St,vnode:Vt}=F;{const Ir=G9(F);if(Ir){Me&&(Me.el=Vt.el,N(F,Me,Ie)),Ir.asyncDep.then(()=>{F.isUnmounted||Ce()});return}}let Gt=Me,Br;gc(F,!1),Me?(Me.el=Vt.el,N(F,Me,Ie)):Me=Vt,Ue&&mk(Ue),(Br=Me.props&&Me.props.onVnodeBeforeUpdate)&&Qa(Br,St,Me,Vt),gc(F,!0);const rr=Ik(F),ai=F.subTree;F.subTree=rr,g(ai,rr,d(ai.el),ye(ai),F,ae,pe),Me.el=rr.el,Gt===null&&Rie(F,rr.el),it&&Vo(it,ae),(Br=Me.props&&Me.props.onVnodeUpdated)&&Vo(()=>Qa(Br,St,Me,Vt),ae)}else{let Me;const{el:Ue,props:it}=z,{bm:St,m:Vt,parent:Gt,root:Br,type:rr}=F,ai=$f(z);if(gc(F,!1),St&&mk(St),!ai&&(Me=it&&it.onVnodeBeforeMount)&&Qa(Me,Gt,z),gc(F,!0),Ue&&Ee){const Ir=()=>{F.subTree=Ik(F),Ee(Ue,F.subTree,F,ae,null)};ai&&rr.__asyncHydrate?rr.__asyncHydrate(Ue,F,Ir):Ir()}else{Br.ce&&Br.ce._injectChildStyle(rr);const Ir=F.subTree=Ik(F);g(null,Ir,J,ie,F,ae,pe),z.el=Ir.el}if(Vt&&Vo(Vt,ae),!ai&&(Me=it&&it.onVnodeMounted)){const Ir=z;Vo(()=>Qa(Me,Gt,Ir),ae)}(z.shapeFlag&256||Gt&&$f(Gt.vnode)&&Gt.vnode.shapeFlag&256)&&F.a&&Vo(F.a,ae),F.isMounted=!0,z=J=ie=null}};F.scope.on();const Te=F.effect=new Z8(Ce);F.scope.off();const we=F.update=Te.run.bind(Te),Ze=F.job=Te.runIfDirty.bind(Te);Ze.i=F,Ze.id=F.uid,Te.scheduler=()=>jR(Ze),gc(F,!0),we()},N=(F,z,J)=>{z.component=F;const ie=F.vnode.props;F.vnode=z,F.next=null,fie(F,z.props,ie,J),mie(F,z.children,J),qu(),u3(F),Yu()},M=(F,z,J,ie,ae,pe,Ie,Ce,Te=!1)=>{const we=F&&F.children,Ze=F?F.shapeFlag:0,Me=z.children,{patchFlag:Ue,shapeFlag:it}=z;if(Ue>0){if(Ue&128){V(we,Me,J,ie,ae,pe,Ie,Ce,Te);return}else if(Ue&256){L(we,Me,J,ie,ae,pe,Ie,Ce,Te);return}}it&8?(Ze&16&&ge(we,ae,pe),Me!==we&&c(J,Me)):Ze&16?it&16?V(we,Me,J,ie,ae,pe,Ie,Ce,Te):ge(we,ae,pe,!0):(Ze&8&&c(J,""),it&16&&k(Me,J,ie,ae,pe,Ie,Ce,Te))},L=(F,z,J,ie,ae,pe,Ie,Ce,Te)=>{F=F||Af,z=z||Af;const we=F.length,Ze=z.length,Me=Math.min(we,Ze);let Ue;for(Ue=0;Ue<Me;Ue++){const it=z[Ue]=Te?ou(z[Ue]):fs(z[Ue]);g(F[Ue],it,J,null,ae,pe,Ie,Ce,Te)}we>Ze?ge(F,ae,pe,!0,!1,Me):k(z,J,ie,ae,pe,Ie,Ce,Te,Me)},V=(F,z,J,ie,ae,pe,Ie,Ce,Te)=>{let we=0;const Ze=z.length;let Me=F.length-1,Ue=Ze-1;for(;we<=Me&&we<=Ue;){const it=F[we],St=z[we]=Te?ou(z[we]):fs(z[we]);if(nd(it,St))g(it,St,J,null,ae,pe,Ie,Ce,Te);else break;we++}for(;we<=Me&&we<=Ue;){const it=F[Me],St=z[Ue]=Te?ou(z[Ue]):fs(z[Ue]);if(nd(it,St))g(it,St,J,null,ae,pe,Ie,Ce,Te);else break;Me--,Ue--}if(we>Me){if(we<=Ue){const it=Ue+1,St=it<Ze?z[it].el:ie;for(;we<=Ue;)g(null,z[we]=Te?ou(z[we]):fs(z[we]),J,St,ae,pe,Ie,Ce,Te),we++}}else if(we>Ue)for(;we<=Me;)j(F[we],ae,pe,!0),we++;else{const it=we,St=we,Vt=new Map;for(we=St;we<=Ue;we++){const si=z[we]=Te?ou(z[we]):fs(z[we]);si.key!=null&&Vt.set(si.key,we)}let Gt,Br=0;const rr=Ue-St+1;let ai=!1,Ir=0;const fc=new Array(rr);for(we=0;we<rr;we++)fc[we]=0;for(we=it;we<=Me;we++){const si=F[we];if(Br>=rr){j(si,ae,pe,!0);continue}let Ja;if(si.key!=null)Ja=Vt.get(si.key);else for(Gt=St;Gt<=Ue;Gt++)if(fc[Gt-St]===0&&nd(si,z[Gt])){Ja=Gt;break}Ja===void 0?j(si,ae,pe,!0):(fc[Ja-St]=we+1,Ja>=Ir?Ir=Ja:ai=!0,g(si,z[Ja],J,null,ae,pe,Ie,Ce,Te),Br++)}const bb=ai?xie(fc):Af;for(Gt=bb.length-1,we=rr-1;we>=0;we--){const si=St+we,Ja=z[si],t3=si+1<Ze?z[si+1].el:ie;fc[we]===0?g(null,Ja,J,t3,ae,pe,Ie,Ce,Te):ai&&(Gt<0||we!==bb[Gt]?W(Ja,J,t3,2):Gt--)}}},W=(F,z,J,ie,ae=null)=>{const{el:pe,type:Ie,transition:Ce,children:Te,shapeFlag:we}=F;if(we&6){W(F.component.subTree,z,J,ie);return}if(we&128){F.suspense.move(z,J,ie);return}if(we&64){Ie.move(F,z,J,Se);return}if(Ie===st){r(pe,z,J);for(let Me=0;Me<Te.length;Me++)W(Te[Me],z,J,ie);r(F.anchor,z,J);return}if(Ie===Tk){b(F,z,J);return}if(ie!==2&&we&1&&Ce)if(ie===0)Ce.beforeEnter(pe),r(pe,z,J),Vo(()=>Ce.enter(pe),ae);else{const{leave:Me,delayLeave:Ue,afterLeave:it}=Ce,St=()=>r(pe,z,J),Vt=()=>{Me(pe,()=>{St(),it&&it()})};Ue?Ue(pe,St,Vt):Vt()}else r(pe,z,J)},j=(F,z,J,ie=!1,ae=!1)=>{const{type:pe,props:Ie,ref:Ce,children:Te,dynamicChildren:we,shapeFlag:Ze,patchFlag:Me,dirs:Ue,cacheIndex:it}=F;if(Me===-2&&(ae=!1),Ce!=null&&MT(Ce,null,J,F,!0),it!=null&&(z.renderCache[it]=void 0),Ze&256){z.ctx.deactivate(F);return}const St=Ze&1&&Ue,Vt=!$f(F);let Gt;if(Vt&&(Gt=Ie&&Ie.onVnodeBeforeUnmount)&&Qa(Gt,z,F),Ze&6)se(F.component,J,ie);else{if(Ze&128){F.suspense.unmount(J,ie);return}St&&pc(F,null,z,"beforeUnmount"),Ze&64?F.type.remove(F,z,J,Se,ie):we&&!we.hasOnce&&(pe!==st||Me>0&&Me&64)?ge(we,z,J,!1,!0):(pe===st&&Me&384||!ae&&Ze&16)&&ge(Te,z,J),ie&&Q(F)}(Vt&&(Gt=Ie&&Ie.onVnodeUnmounted)||St)&&Vo(()=>{Gt&&Qa(Gt,z,F),St&&pc(F,null,z,"unmounted")},J)},Q=F=>{const{type:z,el:J,anchor:ie,transition:ae}=F;if(z===st){te(J,ie);return}if(z===Tk){w(F);return}const pe=()=>{o(J),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(F.shapeFlag&1&&ae&&!ae.persisted){const{leave:Ie,delayLeave:Ce}=ae,Te=()=>Ie(J,pe);Ce?Ce(F.el,pe,Te):Te()}else pe()},te=(F,z)=>{let J;for(;F!==z;)J=h(F),o(F),F=J;o(z)},se=(F,z,J)=>{const{bum:ie,scope:ae,job:pe,subTree:Ie,um:Ce,m:Te,a:we}=F;b3(Te),b3(we),ie&&mk(ie),ae.stop(),pe&&(pe.flags|=8,j(Ie,F,z,J)),Ce&&Vo(Ce,z),Vo(()=>{F.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},ge=(F,z,J,ie=!1,ae=!1,pe=0)=>{for(let Ie=pe;Ie<F.length;Ie++)j(F[Ie],z,J,ie,ae)},ye=F=>{if(F.shapeFlag&6)return ye(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const z=h(F.anchor||F.el),J=z&&z[m9];return J?h(J):z};let ve=!1;const de=(F,z,J)=>{F==null?z._vnode&&j(z._vnode,null,null,!0):g(z._vnode||null,F,z,null,null,null,J),z._vnode=F,ve||(ve=!0,u3(),p9(),ve=!1)},Se={p:g,um:j,m:W,r:Q,mt:E,mc:k,pc:M,pbc:I,n:ye,o:n};let me,Ee;return{render:de,hydrate:me,createApp:cie(de,me)}}function kk({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function gc({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function wie(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function ZR(n,e,t=!1){const r=n.children,o=e.children;if(gt(r)&&gt(o))for(let i=0;i<r.length;i++){const a=r[i];let s=o[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=o[i]=ou(o[i]),s.el=a.el),!t&&s.patchFlag!==-2&&ZR(a,s)),s.type===OS&&(s.el=a.el)}}function xie(n){const e=n.slice(),t=[0];let r,o,i,a,s;const l=n.length;for(r=0;r<l;r++){const u=n[r];if(u!==0){if(o=t[t.length-1],n[o]<u){e[r]=o,t.push(r);continue}for(i=0,a=t.length-1;i<a;)s=i+a>>1,n[t[s]]<u?i=s+1:a=s;u<n[t[i]]&&(i>0&&(e[r]=t[i-1]),t[i]=r)}}for(i=t.length,a=t[i-1];i-- >0;)t[i]=a,a=e[a];return t}function G9(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:G9(e)}function b3(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const Sie=Symbol.for("v-scx"),Cie=()=>Q1(Sie);function kie(n,e){return JR(n,null,{flush:"sync"})}function bs(n,e,t){return JR(n,e,t)}function JR(n,e,t=sn){const{immediate:r,deep:o,flush:i,once:a}=t,s=Sr({},t);let l;if(FS)if(i==="sync"){const h=Cie();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!e||r)s.once=!0;else return{stop:ks,resume:ks,pause:ks};const u=Vr;s.call=(h,f,p)=>Ba(h,u,f,p);let c=!1;i==="post"?s.scheduler=h=>{Vo(h,u&&u.suspense)}:i!=="sync"&&(c=!0,s.scheduler=(h,f)=>{f?h():jR(h)}),s.augmentJob=h=>{e&&(h.flags|=4),c&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=Moe(n,e,s);return l&&l.push(d),d}function _ie(n,e,t){const r=this.proxy,o=Nn(n)?n.includes(".")?W9(r,n):()=>r[n]:n.bind(r,r);let i;wt(e)?i=e:(i=e.handler,t=e);const a=Cy(this),s=JR(o,i.bind(r),t);return a(),s}function W9(n,e){const t=e.split(".");return()=>{let r=n;for(let o=0;o<t.length&&r;o++)r=r[t[o]];return r}}function _k(n,e,t=sn){const r=eE(),o=ta(e),i=Pl(e),a=H9(n,e),s=Roe((l,u)=>{let c,d=sn,h;return kie(()=>{const f=n[e];Wo(c,f)&&(c=f,u())}),{get(){return l(),t.get?t.get(c):c},set(f){const p=t.set?t.set(f):f;if(!Wo(p,c)&&!(d!==sn&&Wo(f,d)))return;const g=r.vnode.props;g&&(e in g||o in g||i in g)&&(`onUpdate:${e}`in g||`onUpdate:${o}`in g||`onUpdate:${i}`in g)||(c=f,u()),r.emit(`update:${e}`,p),Wo(f,p)&&Wo(f,d)&&!Wo(p,h)&&u(),d=f,h=p}}});return s[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?a||sn:s,done:!1}:{done:!0}}}},s}const H9=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${ta(e)}Modifiers`]||n[`${Pl(e)}Modifiers`];function Iie(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||sn;let o=t;const i=e.startsWith("update:"),a=i&&H9(r,e.slice(7));a&&(a.trim&&(o=t.map(c=>Nn(c)?c.trim():c)),a.number&&(o=t.map(Kre)));let s,l=r[s=Z1(e)]||r[s=Z1(ta(e))];!l&&i&&(l=r[s=Z1(Pl(e))]),l&&Ba(l,n,6,o);const u=r[s+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[s])return;n.emitted[s]=!0,Ba(u,n,6,o)}}function U9(n,e,t=!1){const r=e.emitsCache,o=r.get(n);if(o!==void 0)return o;const i=n.emits;let a={},s=!1;if(!wt(n)){const l=u=>{const c=U9(u,e,!0);c&&(s=!0,Sr(a,c))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!i&&!s?(En(n)&&r.set(n,null),null):(gt(i)?i.forEach(l=>a[l]=null):Sr(a,i),En(n)&&r.set(n,a),a)}function NS(n,e){return!n||!kS(e)?!1:(e=e.slice(2).replace(/Once$/,""),cn(n,e[0].toLowerCase()+e.slice(1))||cn(n,Pl(e))||cn(n,e))}function Ik(n){const{type:e,vnode:t,proxy:r,withProxy:o,propsOptions:[i],slots:a,attrs:s,emit:l,render:u,renderCache:c,props:d,data:h,setupState:f,ctx:p,inheritAttrs:g}=n,v=Tw(n);let m,y;try{if(t.shapeFlag&4){const w=o||r,x=w;m=fs(u.call(x,w,c,d,f,h,p)),y=s}else{const w=e;m=fs(w.length>1?w(d,{attrs:s,slots:a,emit:l}):w(d,null)),y=e.props?s:Tie(s)}}catch(w){Rv.length=0,PS(w,n,1),m=je(Io)}let b=m;if(y&&g!==!1){const w=Object.keys(y),{shapeFlag:x}=b;w.length&&x&7&&(i&&w.some(PR)&&(y=Aie(y,i)),b=Lu(b,y,!1,!0))}return t.dirs&&(b=Lu(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(t.dirs):t.dirs),t.transition&&nm(b,t.transition),m=b,Tw(v),m}const Tie=n=>{let e;for(const t in n)(t==="class"||t==="style"||kS(t))&&((e||(e={}))[t]=n[t]);return e},Aie=(n,e)=>{const t={};for(const r in n)(!PR(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function Die(n,e,t){const{props:r,children:o,component:i}=n,{props:a,children:s,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return r?w3(r,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(a[h]!==r[h]&&!NS(u,h))return!0}}}else return(o||s)&&(!s||!s.$stable)?!0:r===a?!1:r?a?w3(r,a,u):!0:!!a;return!1}function w3(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==n[i]&&!NS(t,i))return!0}return!1}function Rie({vnode:n,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=e.vnode).el=t,e=e.parent;else break}}const j9=n=>n.__isSuspense;function Eie(n,e){e&&e.pendingBranch?gt(n)?e.effects.push(...n):e.effects.push(n):Ooe(n)}const st=Symbol.for("v-fgt"),OS=Symbol.for("v-txt"),Io=Symbol.for("v-cmt"),Tk=Symbol.for("v-stc"),Rv=[];let gi=null;function B(n=!1){Rv.push(gi=n?null:[])}function $ie(){Rv.pop(),gi=Rv[Rv.length-1]||null}let rm=1;function x3(n){rm+=n,n<0&&gi&&(gi.hasOnce=!0)}function K9(n){return n.dynamicChildren=rm>0?gi||Af:null,$ie(),rm>0&&gi&&gi.push(n),n}function ne(n,e,t,r,o,i){return K9(ke(n,e,t,r,o,i,!0))}function be(n,e,t,r,o){return K9(je(n,e,t,r,o,!0))}function Dw(n){return n?n.__v_isVNode===!0:!1}function nd(n,e){return n.type===e.type&&n.key===e.key}const X9=({key:n})=>n??null,ew=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Nn(n)||io(n)||wt(n)?{i:Er,r:n,k:e,f:!!t}:n:null);function ke(n,e=null,t=null,r=0,o=null,i=n===st?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&X9(e),ref:e&&ew(e),scopeId:v9,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Er};return s?(QR(l,t),i&128&&n.normalize(l)):t&&(l.shapeFlag|=Nn(t)?8:16),rm>0&&!a&&gi&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&gi.push(l),l}const je=Pie;function Pie(n,e=null,t=null,r=0,o=null,i=!1){if((!n||n===D9)&&(n=Io),Dw(n)){const s=Lu(n,e,!0);return t&&QR(s,t),rm>0&&!i&&gi&&(s.shapeFlag&6?gi[gi.indexOf(n)]=s:gi.push(s)),s.patchFlag=-2,s}if(Wie(n)&&(n=n.__vccOpts),e){e=Mie(e);let{class:s,style:l}=e;s&&!Nn(s)&&(e.class=bt(s)),En(l)&&(WR(l)&&!gt(l)&&(l=Sr({},l)),e.style=wy(l))}const a=Nn(n)?1:j9(n)?128:y9(n)?64:En(n)?4:wt(n)?2:0;return ke(n,e,t,r,o,a,i,!0)}function Mie(n){return n?WR(n)||L9(n)?Sr({},n):n:null}function Lu(n,e,t=!1,r=!1){const{props:o,ref:i,patchFlag:a,children:s,transition:l}=n,u=e?H(o||{},e):o,c={__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&X9(u),ref:e&&e.ref?t&&i?gt(i)?i.concat(ew(e)):[i,ew(e)]:ew(e):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==st?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Lu(n.ssContent),ssFallback:n.ssFallback&&Lu(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&r&&nm(c,l.clone(c)),c}function ml(n=" ",e=0){return je(OS,null,n,e)}function Oe(n="",e=!1){return e?(B(),be(Io,null,n)):je(Io,null,n)}function fs(n){return n==null||typeof n=="boolean"?je(Io):gt(n)?je(st,null,n.slice()):typeof n=="object"?ou(n):je(OS,null,String(n))}function ou(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Lu(n)}function QR(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(gt(e))t=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),QR(n,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!L9(e)?e._ctx=Er:o===3&&Er&&(Er.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else wt(e)?(e={default:e,_ctx:Er},t=32):(e=String(e),r&64?(t=16,e=[ml(e)]):t=8);n.children=e,n.shapeFlag|=t}function H(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=bt([e.class,r.class]));else if(o==="style")e.style=wy([e.style,r.style]);else if(kS(o)){const i=e[o],a=r[o];a&&i!==a&&!(gt(i)&&i.includes(a))&&(e[o]=i?[].concat(i,a):a)}else o!==""&&(e[o]=r[o])}return e}function Qa(n,e,t,r=null){Ba(n,e,7,[t,r])}const Lie=$9();let Nie=0;function Oie(n,e,t){const r=n.type,o=(e?e.appContext:n.appContext)||Lie,i={uid:Nie++,vnode:n,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new toe(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:O9(r,o),emitsOptions:U9(r,o),emit:null,emitted:null,propsDefaults:sn,inheritAttrs:r.inheritAttrs,ctx:sn,data:sn,props:sn,attrs:sn,slots:sn,refs:sn,setupState:sn,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Iie.bind(null,i),n.ce&&n.ce(i),i}let Vr=null;const eE=()=>Vr||Er;let Rw,BT;{const n=K8(),e=(t,r)=>{let o;return(o=n[t])||(o=n[t]=[]),o.push(r),i=>{o.length>1?o.forEach(a=>a(i)):o[0](i)}};Rw=e("__VUE_INSTANCE_SETTERS__",t=>Vr=t),BT=e("__VUE_SSR_SETTERS__",t=>FS=t)}const Cy=n=>{const e=Vr;return Rw(n),n.scope.on(),()=>{n.scope.off(),Rw(e)}},S3=()=>{Vr&&Vr.scope.off(),Rw(null)};function q9(n){return n.vnode.shapeFlag&4}let FS=!1;function Fie(n,e=!1,t=!1){e&&BT(e);const{props:r,children:o}=n.vnode,i=q9(n);hie(n,r,i,e),vie(n,o,t);const a=i?Bie(n,e):void 0;return e&&BT(!1),a}function Bie(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,rie);const{setup:r}=t;if(r){const o=n.setupContext=r.length>1?Vie(n):null,i=Cy(n);qu();const a=xy(r,n,0,[n.props,o]);if(Yu(),i(),W8(a)){if($f(n)||_9(n),a.then(S3,S3),e)return a.then(s=>{C3(n,s,e)}).catch(s=>{PS(s,n,0)});n.asyncDep=a}else C3(n,a,e)}else Y9(n,e)}function C3(n,e,t){wt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:En(e)&&(n.setupState=c9(e)),Y9(n,t)}let k3;function Y9(n,e,t){const r=n.type;if(!n.render){if(!e&&k3&&!r.render){const o=r.template||qR(n).template;if(o){const{isCustomElement:i,compilerOptions:a}=n.appContext.config,{delimiters:s,compilerOptions:l}=r,u=Sr(Sr({isCustomElement:i,delimiters:s},a),l);r.render=k3(o,u)}}n.render=r.render||ks}{const o=Cy(n);qu();try{oie(n)}finally{Yu(),o()}}}const zie={get(n,e){return lo(n,"get",""),n[e]}};function Vie(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,zie),slots:n.slots,emit:n.emit,expose:e}}function BS(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(c9(koe(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Dv)return Dv[t](n)},has(e,t){return t in e||t in Dv}})):n.proxy}function Gie(n,e=!0){return wt(n)?n.displayName||n.name:n.name||e&&n.__name}function Wie(n){return wt(n)&&"__vccOpts"in n}const Hie=(n,e)=>$oe(n,e,FS);function Z9(n,e,t){const r=arguments.length;return r===2?En(e)&&!gt(e)?Dw(e)?je(n,null,[e]):je(n,e):je(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&Dw(t)&&(t=[t]),je(n,e,t))}const Uie="3.5.4";/**
* @vue/runtime-dom v3.5.4
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zT;const _3=typeof window<"u"&&window.trustedTypes;if(_3)try{zT=_3.createPolicy("vue",{createHTML:n=>n})}catch{}const J9=zT?n=>zT.createHTML(n):n=>n,jie="http://www.w3.org/2000/svg",Kie="http://www.w3.org/1998/Math/MathML",rl=typeof document<"u"?document:null,I3=rl&&rl.createElement("template"),Xie={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const o=e==="svg"?rl.createElementNS(jie,n):e==="mathml"?rl.createElementNS(Kie,n):t?rl.createElement(n,{is:t}):rl.createElement(n);return n==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:n=>rl.createTextNode(n),createComment:n=>rl.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>rl.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,o,i){const a=t?t.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===i||!(o=o.nextSibling)););else{I3.innerHTML=J9(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const s=I3.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Wl="transition",mg="animation",om=Symbol("_vtc"),Q9={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},qie=Sr({},w9,Q9),Yie=n=>(n.displayName="Transition",n.props=qie,n),tE=Yie((n,{slots:e})=>Z9(Hoe,Zie(n),e)),vc=(n,e=[])=>{gt(n)?n.forEach(t=>t(...e)):n&&n(...e)},T3=n=>n?gt(n)?n.some(e=>e.length>1):n.length>1:!1;function Zie(n){const e={};for(const A in n)A in Q9||(e[A]=n[A]);if(n.css===!1)return e;const{name:t="v",type:r,duration:o,enterFromClass:i=`${t}-enter-from`,enterActiveClass:a=`${t}-enter-active`,enterToClass:s=`${t}-enter-to`,appearFromClass:l=i,appearActiveClass:u=a,appearToClass:c=s,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:h=`${t}-leave-active`,leaveToClass:f=`${t}-leave-to`}=n,p=Jie(o),g=p&&p[0],v=p&&p[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:b,onLeave:w,onLeaveCancelled:x,onBeforeAppear:S=m,onAppear:C=y,onAppearCancelled:k=b}=e,_=(A,D,E)=>{mc(A,D?c:s),mc(A,D?u:a),E&&E()},I=(A,D)=>{A._isLeaving=!1,mc(A,d),mc(A,f),mc(A,h),D&&D()},T=A=>(D,E)=>{const $=A?C:y,P=()=>_(D,A,E);vc($,[D,P]),A3(()=>{mc(D,A?l:i),Hl(D,A?c:s),T3($)||D3(D,r,g,P)})};return Sr(e,{onBeforeEnter(A){vc(m,[A]),Hl(A,i),Hl(A,a)},onBeforeAppear(A){vc(S,[A]),Hl(A,l),Hl(A,u)},onEnter:T(!1),onAppear:T(!0),onLeave(A,D){A._isLeaving=!0;const E=()=>I(A,D);Hl(A,d),Hl(A,h),tae(),A3(()=>{A._isLeaving&&(mc(A,d),Hl(A,f),T3(w)||D3(A,r,v,E))}),vc(w,[A,E])},onEnterCancelled(A){_(A,!1),vc(b,[A])},onAppearCancelled(A){_(A,!0),vc(k,[A])},onLeaveCancelled(A){I(A),vc(x,[A])}})}function Jie(n){if(n==null)return null;if(En(n))return[Ak(n.enter),Ak(n.leave)];{const e=Ak(n);return[e,e]}}function Ak(n){return Xre(n)}function Hl(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[om]||(n[om]=new Set)).add(e)}function mc(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const t=n[om];t&&(t.delete(e),t.size||(n[om]=void 0))}function A3(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let Qie=0;function D3(n,e,t,r){const o=n._endId=++Qie,i=()=>{o===n._endId&&r()};if(t)return setTimeout(i,t);const{type:a,timeout:s,propCount:l}=eae(n,e);if(!a)return r();const u=a+"end";let c=0;const d=()=>{n.removeEventListener(u,h),i()},h=f=>{f.target===n&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},s+1),n.addEventListener(u,h)}function eae(n,e){const t=window.getComputedStyle(n),r=p=>(t[p]||"").split(", "),o=r(`${Wl}Delay`),i=r(`${Wl}Duration`),a=R3(o,i),s=r(`${mg}Delay`),l=r(`${mg}Duration`),u=R3(s,l);let c=null,d=0,h=0;e===Wl?a>0&&(c=Wl,d=a,h=i.length):e===mg?u>0&&(c=mg,d=u,h=l.length):(d=Math.max(a,u),c=d>0?a>u?Wl:mg:null,h=c?c===Wl?i.length:l.length:0);const f=c===Wl&&/\b(transform|all)(,|$)/.test(r(`${Wl}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function R3(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,r)=>E3(t)+E3(n[r])))}function E3(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function tae(){return document.body.offsetHeight}function nae(n,e,t){const r=n[om];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Ew=Symbol("_vod"),eG=Symbol("_vsh"),rae={beforeMount(n,{value:e},{transition:t}){n[Ew]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):yg(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:r}){!e!=!t&&(r?e?(r.beforeEnter(n),yg(n,!0),r.enter(n)):r.leave(n,()=>{yg(n,!1)}):yg(n,e))},beforeUnmount(n,{value:e}){yg(n,e)}};function yg(n,e){n.style.display=e?n[Ew]:"none",n[eG]=!e}const oae=Symbol(""),iae=/(^|;)\s*display\s*:/;function aae(n,e,t){const r=n.style,o=Nn(t);let i=!1;if(t&&!o){if(e)if(Nn(e))for(const a of e.split(";")){const s=a.slice(0,a.indexOf(":")).trim();t[s]==null&&tw(r,s,"")}else for(const a in e)t[a]==null&&tw(r,a,"");for(const a in t)a==="display"&&(i=!0),tw(r,a,t[a])}else if(o){if(e!==t){const a=r[oae];a&&(t+=";"+a),r.cssText=t,i=iae.test(t)}}else e&&n.removeAttribute("style");Ew in n&&(n[Ew]=i?r.display:"",n[eG]&&(r.display="none"))}const $3=/\s*!important$/;function tw(n,e,t){if(gt(t))t.forEach(r=>tw(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=sae(n,e);$3.test(t)?n.setProperty(Pl(r),t.replace($3,""),"important"):n[r]=t}}const P3=["Webkit","Moz","ms"],Dk={};function sae(n,e){const t=Dk[e];if(t)return t;let r=ta(e);if(r!=="filter"&&r in n)return Dk[e]=r;r=TS(r);for(let o=0;o<P3.length;o++){const i=P3[o]+r;if(i in n)return Dk[e]=i}return e}const M3="http://www.w3.org/1999/xlink";function L3(n,e,t,r,o,i=eoe(e)){r&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(M3,e.slice(6,e.length)):n.setAttributeNS(M3,e,t):t==null||i&&!X8(t)?n.removeAttribute(e):n.setAttribute(e,i?"":Xu(t)?String(t):t)}function lae(n,e,t,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?J9(t):t);return}const o=n.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?n.getAttribute("value")||"":n.value,s=t==null?n.type==="checkbox"?"on":"":String(t);(a!==s||!("_value"in n))&&(n.value=s),t==null&&n.removeAttribute(e),n._value=t;return}let i=!1;if(t===""||t==null){const a=typeof n[e];a==="boolean"?t=X8(t):t==null&&a==="string"?(t="",i=!0):a==="number"&&(t=0,i=!0)}try{n[e]=t}catch{}i&&n.removeAttribute(e)}function uae(n,e,t,r){n.addEventListener(e,t,r)}function cae(n,e,t,r){n.removeEventListener(e,t,r)}const N3=Symbol("_vei");function dae(n,e,t,r,o=null){const i=n[N3]||(n[N3]={}),a=i[e];if(r&&a)a.value=r;else{const[s,l]=hae(e);if(r){const u=i[e]=gae(r,o);uae(n,s,u,l)}else a&&(cae(n,s,a,l),i[e]=void 0)}}const O3=/(?:Once|Passive|Capture)$/;function hae(n){let e;if(O3.test(n)){e={};let r;for(;r=n.match(O3);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Pl(n.slice(2)),e]}let Rk=0;const fae=Promise.resolve(),pae=()=>Rk||(fae.then(()=>Rk=0),Rk=Date.now());function gae(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;Ba(vae(r,t.value),e,5,[r])};return t.value=n,t.attached=pae(),t}function vae(n,e){if(gt(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const F3=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,mae=(n,e,t,r,o,i)=>{const a=o==="svg";e==="class"?nae(n,r,a):e==="style"?aae(n,t,r):kS(e)?PR(e)||dae(n,e,t,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):yae(n,e,r,a))?(lae(n,e,r),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&L3(n,e,r,a,i,e!=="value")):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),L3(n,e,r,a))};function yae(n,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in n&&F3(e)&&wt(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=n.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return F3(e)&&Nn(t)?!1:!!(e in n||n._isVueCE&&(/[A-Z]/.test(e)||!Nn(t)))}const bae=["ctrl","shift","alt","meta"],wae={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>bae.some(t=>n[`${t}Key`]&&!e.includes(t))},tG=(n,e)=>{const t=n._withMods||(n._withMods={}),r=e.join(".");return t[r]||(t[r]=(o,...i)=>{for(let a=0;a<e.length;a++){const s=wae[e[a]];if(s&&s(o,e))return}return n(o,...i)})},xae={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ek=(n,e)=>{const t=n._withKeys||(n._withKeys={}),r=e.join(".");return t[r]||(t[r]=o=>{if(!("key"in o))return;const i=Pl(o.key);if(e.some(a=>a===i||xae[a]===i))return n(o)})},Sae=Sr({patchProp:mae},Xie);let B3;function Cae(){return B3||(B3=yie(Sae))}const kae=(...n)=>{const e=Cae().createApp(...n),{mount:t}=e;return e.mount=r=>{const o=Iae(r);if(!o)return;const i=e._component;!wt(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=t(o,!1,_ae(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function _ae(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Iae(n){return Nn(n)?document.querySelector(n):n}var Tae=Object.defineProperty,z3=Object.getOwnPropertySymbols,Aae=Object.prototype.hasOwnProperty,Dae=Object.prototype.propertyIsEnumerable,V3=(n,e,t)=>e in n?Tae(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Rae=(n,e)=>{for(var t in e||(e={}))Aae.call(e,t)&&V3(n,t,e[t]);if(z3)for(var t of z3(e))Dae.call(e,t)&&V3(n,t,e[t]);return n};function Qo(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&typeof n=="object"&&Object.keys(n).length===0}function Eae(n,e,t,r=1){let o=-1;const i=Qo(n),a=Qo(e);return i&&a?o=0:i?o=r:a?o=-r:typeof n=="string"&&typeof e=="string"?o=t(n,e):o=n<e?-1:n>e?1:0,o}function VT(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var t=Array.isArray(n),r=Array.isArray(e),o,i,a;if(t&&r){if(i=n.length,i!=e.length)return!1;for(o=i;o--!==0;)if(!VT(n[o],e[o]))return!1;return!0}if(t!=r)return!1;var s=n instanceof Date,l=e instanceof Date;if(s!=l)return!1;if(s&&l)return n.getTime()==e.getTime();var u=n instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return n.toString()==e.toString();var d=Object.keys(n);if(i=d.length,i!==Object.keys(e).length)return!1;for(o=i;o--!==0;)if(!Object.prototype.hasOwnProperty.call(e,d[o]))return!1;for(o=i;o--!==0;)if(a=d[o],!VT(n[a],e[a]))return!1;return!0}return n!==n&&e!==e}function zS(n){return!!(n&&n.constructor&&n.call&&n.apply)}function Bt(n){return!Qo(n)}function Et(n,e){if(!n||!e)return null;try{const t=n[e];if(Bt(t))return t}catch{}if(Object.keys(n).length){if(zS(e))return e(n);if(e.indexOf(".")===-1)return n[e];{let t=e.split("."),r=n;for(let o=0,i=t.length;o<i;++o){if(r==null)return null;r=r[t[o]]}return r}}return null}function _s(n,e,t){return t?Et(n,t)===Et(e,t):VT(n,e)}function $ae(n,e){if(n!=null&&e&&e.length){for(let t of e)if(_s(n,t))return!0}return!1}function $k(n,e){let t=-1;if(e){for(let r=0;r<e.length;r++)if(e[r]===n){t=r;break}}return t}function G3(n,e){let t=-1;if(Bt(n))try{t=n.findLastIndex(e)}catch{t=n.lastIndexOf([...n].reverse().find(e))}return t}function Ns(n,e=!0){return n instanceof Object&&n.constructor===Object&&(e||Object.keys(n).length!==0)}function Is(n,...e){return zS(n)?n(...e):n}function Yo(n,e=!0){return typeof n=="string"&&(e||n!=="")}function _a(n){return Yo(n)?n.replace(/(-|_)/g,"").toLowerCase():n}function nE(n,e="",t={}){const r=_a(e).split("."),o=r.shift();return o?Ns(n)?nE(Is(n[Object.keys(n).find(i=>_a(i)===o)||""],t),r.join("."),t):void 0:Is(n,t)}function rE(n,e=!0){return Array.isArray(n)&&(e||n.length!==0)}function nG(n){return Bt(n)&&!isNaN(n)}function Pae(n=""){return Bt(n)&&n.length===1&&!!n.match(/\S| /)}function W3(){return new Intl.Collator(void 0,{numeric:!0}).compare}function ul(n,e){if(e){const t=e.test(n);return e.lastIndex=0,t}return!1}function rG(...n){const e=(t={},r={})=>{const o=Rae({},t);return Object.keys(r).forEach(i=>{Ns(r[i])&&i in t&&Ns(t[i])?o[i]=e(t[i],r[i]):o[i]=r[i]}),o};return n.reduce((t,r,o)=>o===0?r:e(t,r),{})}function Ev(n){return n&&n.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function Di(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}function H3(n,e,t){n&&e!==t&&(t>=n.length&&(t%=n.length,e%=n.length),n.splice(t,0,n.splice(e,1)[0]))}function U3(n,e,t=1,r,o=1){const i=Eae(n,e,r,t);let a=t;return(Qo(n)||Qo(e))&&(a=o===1?t:o),a*i}function Mae(n){return Yo(n,!1)?n[0].toUpperCase()+n.slice(1):n}function oG(n){return Yo(n)?n.replace(/(_)/g,"-").replace(/[A-Z]/g,(e,t)=>t===0?e:"-"+e.toLowerCase()).toLowerCase():n}function j3(n){return Yo(n)?n.replace(/[A-Z]/g,(e,t)=>t===0?e:"."+e.toLowerCase()).toLowerCase():n}function oE(){const n=new Map;return{on(e,t){let r=n.get(e);return r?r.push(t):r=[t],n.set(e,r),this},off(e,t){let r=n.get(e);return r&&r.splice(r.indexOf(t)>>>0,1),this},emit(e,t){let r=n.get(e);r&&r.slice().map(o=>{o(t)})},clear(){n.clear()}}}var Lae=Object.defineProperty,Nae=Object.defineProperties,Oae=Object.getOwnPropertyDescriptors,$w=Object.getOwnPropertySymbols,iG=Object.prototype.hasOwnProperty,aG=Object.prototype.propertyIsEnumerable,K3=(n,e,t)=>e in n?Lae(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,bg=(n,e)=>{for(var t in e||(e={}))iG.call(e,t)&&K3(n,t,e[t]);if($w)for(var t of $w(e))aG.call(e,t)&&K3(n,t,e[t]);return n},Pk=(n,e)=>Nae(n,Oae(e)),wg=(n,e)=>{var t={};for(var r in n)iG.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&$w)for(var r of $w(n))e.indexOf(r)<0&&aG.call(n,r)&&(t[r]=n[r]);return t};function Fae(...n){return rG(...n)}var Bae=oE(),ka=Bae;function X3(n,e){rE(n)?n.push(...e||[]):Ns(n)&&Object.assign(n,e)}function zae(n){return Ns(n)&&n.hasOwnProperty("value")&&n.hasOwnProperty("type")?n.value:n}function q3(n,e=""){return["opacity","z-index","line-height","font-weight","flex","flex-grow","flex-shrink","order"].some(r=>e.endsWith(r))?n:`${n}`.trim().split(" ").map(i=>nG(i)?`${i}px`:i).join(" ")}function Vae(n){return n.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function GT(n="",e=""){return Vae(`${Yo(n,!1)&&Yo(e,!1)?`${n}-`:n}${e}`)}function sG(n="",e=""){return`--${GT(n,e)}`}function lG(n,e="",t="",r=[],o){if(Yo(n)){const i=/{([^}]*)}/g,a=n.trim();if(ul(a,i)){const s=a.replaceAll(i,c=>{const h=c.replace(/{|}/g,"").split(".").filter(f=>!r.some(p=>ul(f,p)));return`var(${sG(t,oG(h.join("-")))}${Bt(o)?`, ${o}`:""})`}),l=/(\d+\s+[\+\-\*\/]\s+\d+)/g,u=/var\([^)]+\)/g;return ul(s.replace(u,"0"),l)?`calc(${s})`:s}return q3(a,e)}else if(nG(n))return q3(n,e)}function Gae(n,e,t){Yo(e,!1)&&n.push(`${e}:${t};`)}function ov(n,e){return n?`${n}{${e}}`:""}var Mk=(...n)=>Wae(mn.getTheme(),...n),Wae=(n={},e,t,r="variable")=>{if(e){const{variable:o,options:i}=mn.defaults||{},{prefix:a,transform:s}=(n==null?void 0:n.options)||i||{},u=ul(e,/{([^}]*)}/g)?e:`{${e}}`;return r==="value"||s==="strict"?mn.getTokenValue(e):lG(u,void 0,a,[o.excludedKeyRegex],t)}return""};function Hae(n,e={}){const t=mn.defaults.variable,{prefix:r=t.prefix,selector:o=t.selector,excludedKeyRegex:i=t.excludedKeyRegex}=e,a=(u,c="")=>Object.entries(u).reduce((d,[h,f])=>{const p=ul(h,i)?GT(c):GT(c,oG(h)),g=zae(f);if(Ns(g)){const{variables:v,tokens:m}=a(g,p);X3(d.tokens,m),X3(d.variables,v)}else d.tokens.push((r?p.replace(`${r}-`,""):p).replaceAll("-",".")),Gae(d.variables,sG(p),lG(g,p,r,[i]));return d},{variables:[],tokens:[]}),{variables:s,tokens:l}=a(n,r);return{value:s,tokens:l,declarations:s.join(""),css:ov(o,s.join(""))}}var ga={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(n){return{type:"class",selector:n,matched:this.pattern.test(n.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(n){return{type:"attr",selector:`:root${n}`,matched:this.pattern.test(n.trim())}}},media:{pattern:/^@media (.*)$/,resolve(n){return{type:"media",selector:`${n}{:root{[CSS]}}`,matched:this.pattern.test(n.trim())}}},system:{pattern:/^system$/,resolve(n){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(n.trim())}}},custom:{resolve(n){return{type:"custom",selector:n,matched:!0}}}},resolve(n){const e=Object.keys(this.rules).filter(t=>t!=="custom").map(t=>this.rules[t]);return[n].flat().map(t=>{var r;return(r=e.map(o=>o.resolve(t)).find(o=>o.matched))!=null?r:this.rules.custom.resolve(t)})}},_toVariables(n,e){return Hae(n,{prefix:e==null?void 0:e.prefix})},getCommon({name:n="",theme:e={},params:t,set:r,defaults:o}){var i,a,s,l;const{preset:u,options:c}=e;let d,h,f,p;if(Bt(u)){const{primitive:g,semantic:v}=u,m=v||{},{colorScheme:y}=m,b=wg(m,["colorScheme"]),w=y||{},{dark:x}=w,S=wg(w,["dark"]),C=Bt(g)?this._toVariables({primitive:g},c):{},k=Bt(b)?this._toVariables({semantic:b},c):{},_=Bt(S)?this._toVariables({light:S},c):{},I=Bt(x)?this._toVariables({dark:x},c):{},[T,A]=[(i=C.declarations)!=null?i:"",C.tokens],[D,E]=[(a=k.declarations)!=null?a:"",k.tokens||[]],[$,P]=[(s=_.declarations)!=null?s:"",_.tokens||[]],[N,M]=[(l=I.declarations)!=null?l:"",I.tokens||[]];d=this.transformCSS(n,T,"light","variable",c,r,o),h=A;const L=this.transformCSS(n,`${D}${$}color-scheme:light`,"light","variable",c,r,o),V=this.transformCSS(n,`${N}color-scheme:dark`,"dark","variable",c,r,o);f=`${L}${V}`,p=[...new Set([...E,...P,...M])]}return{primitive:{css:d,tokens:h},semantic:{css:f,tokens:p}}},getPreset({name:n="",preset:e={},options:t,params:r,set:o,defaults:i,selector:a}){var s,l,u;const c=n.replace("-directive",""),d=e,{colorScheme:h}=d,f=wg(d,["colorScheme"]),p=h||{},{dark:g}=p,v=wg(p,["dark"]),m=Bt(f)?this._toVariables({[c]:f},t):{},y=Bt(v)?this._toVariables({[c]:v},t):{},b=Bt(g)?this._toVariables({[c]:g},t):{},[w,x]=[(s=m.declarations)!=null?s:"",m.tokens||[]],[S,C]=[(l=y.declarations)!=null?l:"",y.tokens||[]],[k,_]=[(u=b.declarations)!=null?u:"",b.tokens||[]],I=[...new Set([...x,...C,..._])],T=this.transformCSS(c,`${w}${S}`,"light","variable",t,o,i,a),A=this.transformCSS(c,k,"dark","variable",t,o,i,a);return{css:`${T}${A}`,tokens:I}},getPresetC({name:n="",theme:e={},params:t,set:r,defaults:o}){var i;const{preset:a,options:s}=e,l=(i=a==null?void 0:a.components)==null?void 0:i[n];return this.getPreset({name:n,preset:l,options:s,params:t,set:r,defaults:o})},getPresetD({name:n="",theme:e={},params:t,set:r,defaults:o}){var i;const a=n.replace("-directive",""),{preset:s,options:l}=e,u=(i=s==null?void 0:s.directives)==null?void 0:i[a];return this.getPreset({name:a,preset:u,options:l,params:t,set:r,defaults:o})},getColorSchemeOption(n,e){var t;return this.regex.resolve((t=n.darkModeSelector)!=null?t:e.options.darkModeSelector)},getLayerOrder(n,e={},t,r){const{cssLayer:o}=e;return o?`@layer ${Is(o.order||"primeui",t)}`:""},getCommonStyleSheet({name:n="",theme:e={},params:t,props:r={},set:o,defaults:i}){const a=this.getCommon({name:n,theme:e,params:t,set:o,defaults:i}),s=Object.entries(r).reduce((l,[u,c])=>l.push(`${u}="${c}"`)&&l,[]).join(" ");return Object.entries(a||{}).reduce((l,[u,c])=>{if(c!=null&&c.css){const d=Ev(c==null?void 0:c.css),h=`${u}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${h}" ${s}>${d}</style>`)}return l},[]).join("")},getStyleSheet({name:n="",theme:e={},params:t,props:r={},set:o,defaults:i}){var a;const s={name:n,theme:e,params:t,set:o,defaults:i},l=(a=n.includes("-directive")?this.getPresetD(s):this.getPresetC(s))==null?void 0:a.css,u=Object.entries(r).reduce((c,[d,h])=>c.push(`${d}="${h}"`)&&c,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${n}-variables" ${u}>${Ev(l)}</style>`:""},createTokens(n={},e,t="",r="",o={}){return Object.entries(n).forEach(([i,a])=>{const s=ul(i,e.variable.excludedKeyRegex)?t:t?`${t}.${j3(i)}`:j3(i),l=r?`${r}.${i}`:i;Ns(a)?this.createTokens(a,e,s,l,o):(o[s]||(o[s]={paths:[],computed(u,c={}){if(u){const d=this.paths.find(h=>h.scheme===u)||this.paths.find(h=>h.scheme==="none");return d==null?void 0:d.computed(u,c.binding)}return this.paths.map(d=>d.computed(d.scheme,c[d.scheme]))}}),o[s].paths.push({path:l,value:a,scheme:l.includes("colorScheme.light")?"light":l.includes("colorScheme.dark")?"dark":"none",computed(u,c={}){const d=/{([^}]*)}/g;let h=a;if(c.name=this.path,c.binding||(c.binding={}),ul(a,d)){const p=a.trim().replaceAll(d,m=>{var y,b;const w=m.replace(/{|}/g,"");return(b=(y=o[w])==null?void 0:y.computed(u,c))==null?void 0:b.value}),g=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,v=/var\([^)]+\)/g;h=ul(p.replace(v,"0"),g)?`calc(${p})`:p}return Qo(c.binding)&&delete c.binding,{colorScheme:u,path:this.path,paths:c,value:h.includes("undefined")?void 0:h}}}))}),o},getTokenValue(n,e,t){var r;const i=(l=>l.split(".").filter(c=>!ul(c.toLowerCase(),t.variable.excludedKeyRegex)).join("."))(e),a=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,s=[(r=n[i])==null?void 0:r.computed(a)].flat().filter(l=>l);return s.length===1?s[0].value:s.reduce((l={},u)=>{const c=u,{colorScheme:d}=c,h=wg(c,["colorScheme"]);return l[d]=h,l},void 0)},transformCSS(n,e,t,r,o={},i,a,s){if(Bt(e)){const{cssLayer:l}=o;if(r!=="style"){const u=this.getColorSchemeOption(o,a),c=s?ov(s,e):e;e=t==="dark"?u.reduce((d,{selector:h})=>(Bt(h)&&(d+=h.includes("[CSS]")?h.replace("[CSS]",c):ov(h,c)),d),""):ov(s??":root",e)}if(l){const u={name:"primeui",order:"primeui"};Ns(l)&&(u.name=Is(l.name,{name:n,type:r})),Bt(u.name)&&(e=ov(`@layer ${u.name}`,e),i==null||i.layerNames(u.name))}return e}return""}},mn={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(n={}){const{theme:e}=n;e&&(this._theme=Pk(bg({},e),{options:bg(bg({},this.defaults.options),e.options)}),this._tokens=ga.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var n;return((n=this.theme)==null?void 0:n.preset)||{}},get options(){var n;return((n=this.theme)==null?void 0:n.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(n){this.update({theme:n}),ka.emit("theme:change",n)},getPreset(){return this.preset},setPreset(n){this._theme=Pk(bg({},this.theme),{preset:n}),this._tokens=ga.createTokens(n,this.defaults),this.clearLoadedStyleNames(),ka.emit("preset:change",n),ka.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(n){this._theme=Pk(bg({},this.theme),{options:n}),this.clearLoadedStyleNames(),ka.emit("options:change",n),ka.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(n){this._layerNames.add(n)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(n){return ga.getTokenValue(this.tokens,n,this.defaults)},getCommon(n="",e){return ga.getCommon({name:n,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(n="",e){const t={name:n,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return ga.getPresetC(t)},getDirective(n="",e){const t={name:n,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return ga.getPresetD(t)},getCustomPreset(n="",e,t,r){const o={name:n,preset:e,options:this.options,selector:t,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return ga.getPreset(o)},getLayerOrderCSS(n=""){return ga.getLayerOrder(n,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(n="",e,t="style",r){return ga.transformCSS(n,e,r,t,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(n="",e,t={}){return ga.getCommonStyleSheet({name:n,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(n,e,t={}){return ga.getStyleSheet({name:n,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(n){this._loadingStyles.add(n)},onStyleUpdated(n){this._loadingStyles.add(n)},onStyleLoaded(n,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),ka.emit(`theme:${e}:load`,n),!this._loadingStyles.size&&ka.emit("theme:load"))}},Tr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},Pw={AND:"and",OR:"or"};function Y3(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Uae(n))||e){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){s=!0,i=u},f:function(){try{a||t.return==null||t.return()}finally{if(s)throw i}}}}function Uae(n,e){if(n){if(typeof n=="string")return Z3(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z3(n,e):void 0}}function Z3(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var WT={filter:function(e,t,r,o,i){var a=[];if(!e)return a;var s=Y3(e),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[o](u,r,i)){a.push(u);continue}}else{var c=Y3(t),d;try{for(c.s();!(d=c.n()).done;){var h=d.value,f=Et(u,h);if(this.filters[o](f,r,i)){a.push(u);break}}}catch(p){c.e(p)}finally{c.f()}}}}catch(p){s.e(p)}finally{s.f()}return a},filters:{startsWith:function(e,t,r){if(t==null||t==="")return!0;if(e==null)return!1;var o=Di(t.toString()).toLocaleLowerCase(r),i=Di(e.toString()).toLocaleLowerCase(r);return i.slice(0,o.length)===o},contains:function(e,t,r){if(t==null||t==="")return!0;if(e==null)return!1;var o=Di(t.toString()).toLocaleLowerCase(r),i=Di(e.toString()).toLocaleLowerCase(r);return i.indexOf(o)!==-1},notContains:function(e,t,r){if(t==null||t==="")return!0;if(e==null)return!1;var o=Di(t.toString()).toLocaleLowerCase(r),i=Di(e.toString()).toLocaleLowerCase(r);return i.indexOf(o)===-1},endsWith:function(e,t,r){if(t==null||t==="")return!0;if(e==null)return!1;var o=Di(t.toString()).toLocaleLowerCase(r),i=Di(e.toString()).toLocaleLowerCase(r);return i.indexOf(o,i.length-o.length)!==-1},equals:function(e,t,r){return t==null||t===""?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()===t.getTime():Di(e.toString()).toLocaleLowerCase(r)==Di(t.toString()).toLocaleLowerCase(r)},notEquals:function(e,t,r){return t==null||t===""?!1:e==null?!0:e.getTime&&t.getTime?e.getTime()!==t.getTime():Di(e.toString()).toLocaleLowerCase(r)!=Di(t.toString()).toLocaleLowerCase(r)},in:function(e,t){if(t==null||t.length===0)return!0;for(var r=0;r<t.length;r++)if(_s(e,t[r]))return!0;return!1},between:function(e,t){return t==null||t[0]==null||t[1]==null?!0:e==null?!1:e.getTime?t[0].getTime()<=e.getTime()&&e.getTime()<=t[1].getTime():t[0]<=e&&e<=t[1]},lt:function(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<t.getTime():e<t},lte:function(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t},gt:function(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>t.getTime():e>t},gte:function(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t},dateIs:function(e,t){return t==null?!0:e==null?!1:e.toDateString()===t.toDateString()},dateIsNot:function(e,t){return t==null?!0:e==null?!1:e.toDateString()!==t.toDateString()},dateBefore:function(e,t){return t==null?!0:e==null?!1:e.getTime()<t.getTime()},dateAfter:function(e,t){return t==null?!0:e==null?!1:e.getTime()>t.getTime()}},register:function(e,t){this.filters[e]=t}};function jae(n,e){return n?n.classList?n.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(n.className):!1}function iv(n,e){if(n&&e){const t=r=>{jae(n,r)||(n.classList?n.classList.add(r):n.className+=" "+r)};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(t))}}function Mw(n){for(const e of document==null?void 0:document.styleSheets)try{for(const t of e==null?void 0:e.cssRules)for(const r of t==null?void 0:t.style)if(n.test(r))return{name:r,value:t.style.getPropertyValue(r).trim()}}catch{}return null}function Kae(n){if(n){let e=document.createElement("a");if(e.download!==void 0){const{name:t,src:r}=n;return e.setAttribute("href",r),e.setAttribute("download",t),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),!0}}return!1}function Xae(n,e){let t=new Blob([n],{type:"application/csv;charset=utf-8;"});window.navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(t,e+".csv"):Kae({name:e+".csv",src:URL.createObjectURL(t)})||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}function lu(n,e){if(n&&e){const t=r=>{n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(t))}}function uG(n){let e={width:0,height:0};return n&&(n.style.visibility="hidden",n.style.display="block",e.width=n.offsetWidth,e.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),e}function cG(){let n=window,e=document,t=e.documentElement,r=e.getElementsByTagName("body")[0],o=n.innerWidth||t.clientWidth||r.clientWidth,i=n.innerHeight||t.clientHeight||r.clientHeight;return{width:o,height:i}}function qae(){let n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}function dG(){let n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}function hG(n,e,t=!0){var r,o,i,a;if(n){const s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:uG(n),l=s.height,u=s.width,c=e.offsetHeight,d=e.offsetWidth,h=e.getBoundingClientRect(),f=dG(),p=qae(),g=cG();let v,m,y="top";h.top+c+l>g.height?(v=h.top+f-l,y="bottom",v<0&&(v=f)):v=c+h.top+f,h.left+u>g.width?m=Math.max(0,h.left+p+d-u):m=h.left+p,n.style.top=v+"px",n.style.left=m+"px",n.style.transformOrigin=y,t&&(n.style.marginTop=y==="bottom"?`calc(${(o=(r=Mw(/-anchor-gutter$/))==null?void 0:r.value)!=null?o:"2px"} * -1)`:(a=(i=Mw(/-anchor-gutter$/))==null?void 0:i.value)!=null?a:"")}}function Lw(n,e){n&&(typeof e=="string"?n.style.cssText=e:Object.entries(e||{}).forEach(([t,r])=>n.style[t]=r))}function ji(n,e){return n instanceof HTMLElement?n.offsetWidth:0}function Yae(n,e,t=!0){var r,o,i,a;if(n){const s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:uG(n),l=e.offsetHeight,u=e.getBoundingClientRect(),c=cG();let d,h,f="top";u.top+l+s.height>c.height?(d=-1*s.height,f="bottom",u.top+d<0&&(d=-1*u.top)):d=l,s.width>c.width?h=u.left*-1:u.left+s.width>c.width?h=(u.left+s.width-c.width)*-1:h=0,n.style.top=d+"px",n.style.left=h+"px",n.style.transformOrigin=f,t&&(n.style.marginTop=f==="bottom"?`calc(${(o=(r=Mw(/-anchor-gutter$/))==null?void 0:r.value)!=null?o:"2px"} * -1)`:(a=(i=Mw(/-anchor-gutter$/))==null?void 0:i.value)!=null?a:"")}}function _p(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}function nw(){if(window.getSelection){const n=window.getSelection()||{};n.empty?n.empty():n.removeAllRanges&&n.rangeCount>0&&n.getRangeAt(0).getClientRects().length>0&&n.removeAllRanges()}}function Nw(n,e={}){if(_p(n)){const t=(r,o)=>{var i,a;const s=(i=n==null?void 0:n.$attrs)!=null&&i[r]?[(a=n==null?void 0:n.$attrs)==null?void 0:a[r]]:[];return[o].flat().reduce((l,u)=>{if(u!=null){const c=typeof u;if(c==="string"||c==="number")l.push(u);else if(c==="object"){const d=Array.isArray(u)?t(r,u):Object.entries(u).map(([h,f])=>r==="style"&&(f||f===0)?`${h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`:f?h:void 0);l=d.length?l.concat(d.filter(h=>!!h)):l}}return l},s)};Object.entries(e).forEach(([r,o])=>{if(o!=null){const i=r.match(/^on(.+)/);i?n.addEventListener(i[1].toLowerCase(),o):r==="p-bind"?Nw(n,o):(o=r==="class"?[...new Set(t("class",o))].join(" ").trim():r==="style"?t("style",o).join(";").trim():o,(n.$attrs=n.$attrs||{})&&(n.$attrs[r]=o),n.setAttribute(r,o))}})}}function fG(n,e={},...t){{const r=document.createElement(n);return Nw(r,e),r.append(...t),r}}function df(n,e){return _p(n)?Array.from(n.querySelectorAll(e)):[]}function cu(n,e){return _p(n)?n.matches(e)?n:n.querySelector(e):null}function Go(n,e){n&&document.activeElement!==n&&n.focus(e)}function Ar(n,e){if(_p(n)){const t=n.getAttribute(e);return isNaN(t)?t==="true"||t==="false"?t==="true":t:+t}}function iE(n,e=""){let t=df(n,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`),r=[];for(let o of t)getComputedStyle(o).display!="none"&&getComputedStyle(o).visibility!="hidden"&&r.push(o);return r}function rd(n,e){const t=iE(n,e);return t.length>0?t[0]:null}function od(n){if(n){let e=n.offsetHeight,t=getComputedStyle(n);return e-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),e}return 0}function Zae(n){if(n){n.style.visibility="hidden",n.style.display="block";let e=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",e}return 0}function Jae(n){if(n){n.style.visibility="hidden",n.style.display="block";let e=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",e}return 0}function aE(n){if(n){let e=n.parentNode;return e&&e instanceof ShadowRoot&&e.host&&(e=e.host),e}return null}function rw(n){var e;if(n){let t=(e=aE(n))==null?void 0:e.childNodes,r=0;if(t)for(let o=0;o<t.length;o++){if(t[o]===n)return r;t[o].nodeType===1&&r++}}return-1}function pG(n,e){const t=iE(n,e);return t.length>0?t[t.length-1]:null}function sE(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}return null}function hf(n){if(n){let e=n.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function Ow(n,e){return n?n.offsetHeight:0}function gG(n,e=[]){const t=aE(n);return t===null?e:gG(t,e.concat([t]))}function lE(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}return null}function Qae(n){let e=[];if(n){let t=gG(n);const r=/(auto|scroll)/,o=i=>{try{let a=window.getComputedStyle(i,null);return r.test(a.getPropertyValue("overflow"))||r.test(a.getPropertyValue("overflowX"))||r.test(a.getPropertyValue("overflowY"))}catch{return!1}};for(let i of t){let a=i.nodeType===1&&i.dataset.scrollselectors;if(a){let s=a.split(",");for(let l of s){let u=cu(i,l);u&&o(u)&&e.push(u)}}i.nodeType!==9&&o(i)&&e.push(i)}}return e}function J3(){if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString()}function ese(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&aE(n))}function id(n){if(n){let e=n.offsetWidth,t=getComputedStyle(n);return e-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),e}return 0}function Q3(n,e,t){n[e].apply(n,t)}function tse(){return/(android)/i.test(navigator.userAgent)}function Lk(n){if(n){const e=n.nodeName,t=n.parentElement&&n.parentElement.nodeName;return e==="INPUT"||e==="TEXTAREA"||e==="BUTTON"||e==="A"||t==="INPUT"||t==="TEXTAREA"||t==="BUTTON"||t==="A"||!!n.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1}function vG(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function eO(n,e=""){return _p(n)?n.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`):!1}function Fw(n){return!!(n&&n.offsetParent!=null)}function mG(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function uE(n,e="",t){_p(n)&&t!==null&&t!==void 0&&n.setAttribute(e,t)}function im(n){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(n)}function tO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function nO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(t),!0).forEach(function(r){nse(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tO(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nse(n,e,t){return(e=rse(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rse(n){var e=ose(n,"string");return im(e)=="symbol"?e:e+""}function ose(n,e){if(im(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ise(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;eE()?Sy(n):e?n():h9(n)}var ase=0;function sse(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Yt(!1),r=Yt(n),o=Yt(null),i=vG()?window.document:void 0,a=e.document,s=a===void 0?i:a,l=e.immediate,u=l===void 0?!0:l,c=e.manual,d=c===void 0?!1:c,h=e.name,f=h===void 0?"style_".concat(++ase):h,p=e.id,g=p===void 0?void 0:p,v=e.media,m=v===void 0?void 0:v,y=e.nonce,b=y===void 0?void 0:y,w=e.first,x=w===void 0?!1:w,S=e.onMounted,C=S===void 0?void 0:S,k=e.onUpdated,_=k===void 0?void 0:k,I=e.onLoad,T=I===void 0?void 0:I,A=e.props,D=A===void 0?{}:A,E=function(){},$=function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s){var V=nO(nO({},D),L),W=V.name||f,j=V.id||g,Q=V.nonce||b;o.value=s.querySelector('style[data-primevue-style-id="'.concat(W,'"]'))||s.getElementById(j)||s.createElement("style"),o.value.isConnected||(r.value=M||n,Nw(o.value,{type:"text/css",id:j,media:m,nonce:Q}),x?s.head.prepend(o.value):s.head.appendChild(o.value),uE(o.value,"data-primevue-style-id",W),Nw(o.value,V),o.value.onload=function(te){return T==null?void 0:T(te,{name:W})},C==null||C(W)),!t.value&&(E=bs(r,function(te){o.value.textContent=te,_==null||_(W)},{immediate:!0}),t.value=!0)}},P=function(){!s||!t.value||(E(),ese(o.value)&&s.head.removeChild(o.value),t.value=!1)};return u&&!d&&ise($),{id:g,name:f,el:o,css:r,unload:P,load:$,isLoaded:VR(t)}}function am(n){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(n)}function rO(n,e){return dse(n)||cse(n,e)||use(n,e)||lse()}function lse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function use(n,e){if(n){if(typeof n=="string")return oO(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oO(n,e):void 0}}function oO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function cse(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(t=t.call(n)).next,e!==0)for(;!(l=(r=i.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,o=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}function dse(n){if(Array.isArray(n))return n}function iO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Nk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(t),!0).forEach(function(r){hse(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iO(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hse(n,e,t){return(e=fse(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fse(n){var e=pse(n,"string");return am(e)=="symbol"?e:e+""}function pse(n,e){if(am(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var gse=function(e){var t=e.dt;return`
* {
    box-sizing: border-box;
}

/* Non vue overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* Vue based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: `.concat(t("disabled.opacity"),`;
}

.pi {
    font-size: `).concat(t("icon.size"),`;
}

.p-icon {
    width: `).concat(t("icon.size"),`;
    height: `).concat(t("icon.size"),`;
}

.p-overlay-mask {
    background: `).concat(t("mask.background"),`;
    color: `).concat(t("mask.color"),`;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation `).concat(t("mask.transition.duration"),` forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation `).concat(t("mask.transition.duration"),` forwards;
}

@keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: `).concat(t("mask.background"),`;
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: `).concat(t("mask.background"),`;
    }
    to {
        background: transparent;
    }
}
`)},vse=function(e){var t=e.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(t("scrollbar.width"),`;
}
`)},mse={},yse={},Ft={name:"base",css:vse,theme:gse,classes:mse,inlineStyles:yse,load:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(i){return i},o=r(Is(e,{dt:Mk}));return o?sse(Ev(o),Nk({name:this.name},t)):{}},loadCSS:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,e)},loadTheme:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.theme,t,function(r){return mn.transformCSS(t.name||e.name,r)})},getCommonTheme:function(e){return mn.getCommon(this.name,e)},getComponentTheme:function(e){return mn.getComponent(this.name,e)},getDirectiveTheme:function(e){return mn.getDirective(this.name,e)},getPresetTheme:function(e,t,r){return mn.getCustomPreset(this.name,e,t,r)},getLayerOrderThemeCSS:function(){return mn.getLayerOrderCSS(this.name)},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Is(this.css,{dt:Mk}),o=Ev("".concat(r).concat(e)),i=Object.entries(t).reduce(function(a,s){var l=rO(s,2),u=l[0],c=l[1];return a.push("".concat(u,'="').concat(c,'"'))&&a},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(i,">").concat(o,"</style>")}return""},getCommonThemeStyleSheet:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mn.getCommonStyleSheet(this.name,e,t)},getThemeStyleSheet:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[mn.getStyleSheet(this.name,e,t)];if(this.theme){var o=this.name==="base"?"global-style":"".concat(this.name,"-style"),i=Is(this.theme,{dt:Mk}),a=Ev(mn.transformCSS(o,i)),s=Object.entries(t).reduce(function(l,u){var c=rO(u,2),d=c[0],h=c[1];return l.push("".concat(d,'="').concat(h,'"'))&&l},[]).join(" ");r.push('<style type="text/css" data-primevue-style-id="'.concat(o,'" ').concat(s,">").concat(a,"</style>"))}return r.join("")},extend:function(e){return Nk(Nk({},this),{},{css:void 0,theme:void 0},e)}},xf=oE(),Db={};function bse(n="pui_id_"){return Db.hasOwnProperty(n)||(Db[n]=0),Db[n]++,`${n}${Db[n]}`}function wse(){let n=[];const e=(a,s,l=999)=>{const u=o(a,s,l),c=u.value+(u.key===a?0:l)+1;return n.push({key:a,value:c}),c},t=a=>{n=n.filter(s=>s.value!==a)},r=(a,s)=>o(a).value,o=(a,s,l=0)=>[...n].reverse().find(u=>!0)||{key:a,value:l},i=a=>a&&parseInt(a.style.zIndex,10)||0;return{get:i,set:(a,s,l)=>{s&&(s.style.zIndex=String(e(a,!0,l)))},clear:a=>{a&&(t(i(a)),a.style.zIndex="")},getCurrent:a=>r(a)}}var Mf=wse();function sm(n){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(n)}function aO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Ok(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(t),!0).forEach(function(r){xse(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aO(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xse(n,e,t){return(e=Sse(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Sse(n){var e=Cse(n,"string");return sm(e)=="symbol"?e:e+""}function Cse(n,e){if(sm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var kse={ripple:!1,inputStyle:null,inputVariant:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",fileChosenMessage:"{0} files",noFileChosenMessage:"No file chosen",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[Tr.STARTS_WITH,Tr.CONTAINS,Tr.NOT_CONTAINS,Tr.ENDS_WITH,Tr.EQUALS,Tr.NOT_EQUALS],numeric:[Tr.EQUALS,Tr.NOT_EQUALS,Tr.LESS_THAN,Tr.LESS_THAN_OR_EQUAL_TO,Tr.GREATER_THAN,Tr.GREATER_THAN_OR_EQUAL_TO],date:[Tr.DATE_IS,Tr.DATE_IS_NOT,Tr.DATE_BEFORE,Tr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},theme:void 0,unstyled:!1,pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},csp:{nonce:void 0}},_se=Symbol();function Ise(n,e){var t={config:$S(e)};return n.config.globalProperties.$primevue=t,n.provide(_se,t),Tse(),Ase(n,t),t}var Sf=[];function Tse(){ka.clear(),Sf.forEach(function(n){return n==null?void 0:n()}),Sf=[]}function Ase(n,e){var t=Yt(!1),r=function(){if(!mn.isStyleNameLoaded("common")){var u,c,d=((u=Ft.getCommonTheme)===null||u===void 0?void 0:u.call(Ft))||{},h=d.primitive,f=d.semantic,p={nonce:(c=e.config)===null||c===void 0||(c=c.csp)===null||c===void 0?void 0:c.nonce};Ft.load(h==null?void 0:h.css,Ok({name:"primitive-variables"},p)),Ft.load(f==null?void 0:f.css,Ok({name:"semantic-variables"},p)),Ft.loadTheme(Ok({name:"global-style"},p)),mn.setLoadedStyleName("common")}};ka.on("theme:change",function(l){t.value||(n.config.globalProperties.$primevue.config.theme=l,t.value=!0)});var o=bs(e.config,function(l,u){xf.emit("config:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0}),i=bs(function(){return e.config.ripple},function(l,u){xf.emit("config:ripple:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0}),a=bs(function(){return e.config.theme},function(l,u){t.value||mn.setTheme(l),e.config.unstyled||r(),t.value=!1,xf.emit("config:theme:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0}),s=bs(function(){return e.config.unstyled},function(l,u){!l&&e.config.theme&&r(),xf.emit("config:unstyled:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0});Sf.push(o),Sf.push(i),Sf.push(a),Sf.push(s)}var Dse={install:function(e,t){var r=rG(kse,t);Ise(e,r)}},Rse={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}},Ese={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}},$se={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.background}",offset:"-1rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem"},xl:{width:"4rem",height:"4rem",fontSize:"2rem"}},Pse={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},Mse={root:{borderRadius:"{content.border.radius}"}},Lse={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}},Nse={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}},Ose={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}},Fse={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}},Bse={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}}},zse={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}"}},Vse={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}},Gse={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}},Wse={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}},Hse={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}},Use={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},jse={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPointColor:"{primary.color}",columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},Kse={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}},Xse={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0",fontWeight:"500",gap:"0.5rem"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}},qse={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}},Yse={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}},Zse={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},Jse={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"}},Qse={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}},ele={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}},tle={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}},nle={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s"}},rle={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},mask:{background:"{mask.background}",color:"{mask.color}"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}},ole={icon:{color:"{form.field.icon.color}"}},ile={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},ale={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}},sle={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}},lle={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}},ule={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}"}},cle={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}},dle={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"}}},hle={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}},fle={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}},ple={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"0"},horizontalOrientation:{padding:"0.5rem 0.75rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.muted.hover.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},gle={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}},vle={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.muted.hover.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},mle={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem"},text:{fontSize:"1rem",fontWeight:"500"},icon:{size:"1.125rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}},yle={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}},ble={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}},wle={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},xle={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}},Sle={root:{outline:{width:"2px",color:"{content.background}"}}},Cle={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}},kle={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}},_le={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}},Ile={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}},Tle={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},Ale={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}},Dle={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}},Rle={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}},Ele={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}"}},$le={root:{gap:"0.25rem",transitionDuration:"{transition.duration}"},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},Ple={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}},Mle={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}},Lle={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}},Nle={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}},Ole={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}},Fle={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}},Ble={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}},zle={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}},Vle={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},Gle={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0 0 0 1rem"}},Wle={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},Hle={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}},Ule={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},jle={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},Kle={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},Xle={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}},qle={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"}},Yle={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},Zle={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}},Jle={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}},Qle={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}},eue={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s",disabledBackground:"{form.field.disabled.background}"},handle:{borderRadius:"50%",size:"1rem",disabledBackground:"{form.field.disabled.color}"},colorScheme:{light:{root:{background:"{surface.300}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}"}},dark:{root:{background:"{surface.700}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}"}}}},tue={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}},nue={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}},rue={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"}},oue={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}},iue={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},aue={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}},sue={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{surface.500}",floatLabelInvalidColor:"{red.400}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.700}",hoverBorderColor:"{surface.600}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{surface.400}",floatLabelInvalidColor:"{red.300}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}},components:{accordion:Rse,autocomplete:Ese,avatar:$se,badge:Pse,blockui:Mse,breadcrumb:Lse,button:Nse,datepicker:Xse,card:Ose,carousel:Fse,cascadeselect:Bse,checkbox:zse,chip:Vse,colorpicker:Gse,confirmdialog:Wse,confirmpopup:Hse,contextmenu:Use,dataview:Kse,datatable:jse,dialog:qse,divider:Yse,dock:Zse,drawer:Jse,editor:Qse,fieldset:ele,fileupload:tle,floatlabel:nle,galleria:rle,iconfield:ole,image:ile,inlinemessage:ale,inplace:sle,inputchips:lle,inputgroup:ule,inputnumber:cle,inputtext:dle,knob:hle,listbox:fle,megamenu:ple,menu:gle,menubar:vle,message:mle,metergroup:yle,multiselect:ble,orderlist:wle,organizationchart:xle,overlaybadge:Sle,popover:Ale,paginator:Cle,password:Ile,panel:kle,panelmenu:_le,picklist:Tle,progressbar:Dle,progressspinner:Rle,radiobutton:Ele,rating:$le,scrollpanel:Mle,select:Lle,selectbutton:Nle,skeleton:Ole,slider:Fle,speeddial:Ble,splitter:Vle,splitbutton:zle,stepper:Gle,steps:Wle,tabmenu:Hle,tabs:Ule,tabview:jle,textarea:qle,tieredmenu:Yle,tag:Kle,terminal:Xle,timeline:Zle,togglebutton:Qle,toggleswitch:eue,tree:rue,treeselect:oue,treetable:iue,toast:Jle,toolbar:tue,virtualscroller:aue},directives:{tooltip:nue,ripple:Ple}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var HT=function(n,e){return HT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},HT(n,e)};function K(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");HT(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var lue=function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n}(),uue=function(){function n(){this.browser=new lue,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n}(),Xc=new uue;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Xc.wxa=!0,Xc.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Xc.worker=!0:typeof navigator>"u"||navigator.userAgent.indexOf("Node.js")===0?(Xc.node=!0,Xc.svgSupported=!0):cue(navigator.userAgent,Xc);function cue(n,e){var t=e.browser,r=n.match(/Firefox\/([\d.]+)/),o=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),i=n.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(n);r&&(t.firefox=!0,t.version=r[1]),o&&(t.ie=!0,t.version=o[1]),i&&(t.edge=!0,t.version=i[1],t.newEdge=+i[1].split(".")[0]>18),a&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in s||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}const At=Xc;var cE=12,yG="sans-serif",Nu=cE+"px "+yG,due=20,hue=100,fue="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function pue(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var r=String.fromCharCode(t+32),o=(n.charCodeAt(t)-due)/hue;e[r]=o}return e}var gue=pue(fue),za={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var n,e;return function(t,r){if(!n){var o=za.createCanvas();n=o&&o.getContext("2d")}if(n)return e!==r&&(e=n.font=r||Nu),n.measureText(t);t=t||"",r=r||Nu;var i=/((?:\d+)?\.?\d*)px/.exec(r),a=i&&+i[1]||cE,s=0;if(r.indexOf("mono")>=0)s=a*t.length;else for(var l=0;l<t.length;l++){var u=gue[t[l]];s+=u==null?a:u*a}return{width:s}}}(),loadImage:function(n,e,t){var r=new Image;return r.onload=e,r.onerror=t,r.src=n,r}};function bG(n){for(var e in za)n[e]&&(za[e]=n[e])}var wG=na(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),xG=na(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),Ip=Object.prototype.toString,VS=Array.prototype,vue=VS.forEach,mue=VS.filter,dE=VS.slice,yue=VS.map,sO=(function(){}).constructor,Rb=sO?sO.prototype:null,hE="__proto__",bue=2311;function fE(){return bue++}function GS(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function We(n){if(n==null||typeof n!="object")return n;var e=n,t=Ip.call(n);if(t==="[object Array]"){if(!Lf(n)){e=[];for(var r=0,o=n.length;r<o;r++)e[r]=We(n[r])}}else if(xG[t]){if(!Lf(n)){var i=n.constructor;if(i.from)e=i.from(n);else{e=new i(n.length);for(var r=0,o=n.length;r<o;r++)e[r]=n[r]}}}else if(!wG[t]&&!Lf(n)&&!Od(n)){e={};for(var a in n)n.hasOwnProperty(a)&&a!==hE&&(e[a]=We(n[a]))}return e}function rt(n,e,t){if(!Ge(e)||!Ge(n))return t?We(e):n;for(var r in e)if(e.hasOwnProperty(r)&&r!==hE){var o=n[r],i=e[r];Ge(i)&&Ge(o)&&!ce(i)&&!ce(o)&&!Od(i)&&!Od(o)&&!UT(i)&&!UT(o)&&!Lf(i)&&!Lf(o)?rt(o,i,t):(t||!(r in n))&&(n[r]=We(e[r]))}return n}function WS(n,e){for(var t=n[0],r=1,o=n.length;r<o;r++)t=rt(t,n[r],e);return t}function oe(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==hE&&(n[t]=e[t]);return n}function Ve(n,e,t){for(var r=yt(e),o=0;o<r.length;o++){var i=r[o];(t?e[i]!=null:n[i]==null)&&(n[i]=e[i])}return n}var wue=za.createCanvas;function ct(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t}return-1}function pE(n,e){var t=n.prototype;function r(){}r.prototype=e.prototype,n.prototype=new r;for(var o in t)t.hasOwnProperty(o)&&(n.prototype[o]=t[o]);n.prototype.constructor=n,n.superClass=e}function Vn(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),o=0;o<r.length;o++){var i=r[o];i!=="constructor"&&(t?e[i]!=null:n[i]==null)&&(n[i]=e[i])}else Ve(n,e,t)}function Gr(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function R(n,e,t){if(n&&e)if(n.forEach&&n.forEach===vue)n.forEach(e,t);else if(n.length===+n.length)for(var r=0,o=n.length;r<o;r++)e.call(t,n[r],r,n);else for(var i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i,n)}function fe(n,e,t){if(!n)return[];if(!e)return HS(n);if(n.map&&n.map===yue)return n.map(e,t);for(var r=[],o=0,i=n.length;o<i;o++)r.push(e.call(t,n[o],o,n));return r}function na(n,e,t,r){if(n&&e){for(var o=0,i=n.length;o<i;o++)t=e.call(r,t,n[o],o,n);return t}}function Ht(n,e,t){if(!n)return[];if(!e)return HS(n);if(n.filter&&n.filter===mue)return n.filter(e,t);for(var r=[],o=0,i=n.length;o<i;o++)e.call(t,n[o],o,n)&&r.push(n[o]);return r}function SG(n,e,t){if(n&&e){for(var r=0,o=n.length;r<o;r++)if(e.call(t,n[r],r,n))return n[r]}}function yt(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}function xue(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return function(){return n.apply(e,t.concat(dE.call(arguments)))}}var Re=Rb&&ze(Rb.bind)?Rb.call.bind(Rb.bind):xue;function Qe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(dE.call(arguments)))}}function ce(n){return Array.isArray?Array.isArray(n):Ip.call(n)==="[object Array]"}function ze(n){return typeof n=="function"}function De(n){return typeof n=="string"}function Bw(n){return Ip.call(n)==="[object String]"}function Rt(n){return typeof n=="number"}function Ge(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function UT(n){return!!wG[Ip.call(n)]}function Ro(n){return!!xG[Ip.call(n)]}function Od(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function ky(n){return n.colorStops!=null}function CG(n){return n.image!=null}function kG(n){return Ip.call(n)==="[object RegExp]"}function Jf(n){return n!==n}function mr(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n.length;t<r;t++)if(n[t]!=null)return n[t]}function et(n,e){return n??e}function $a(n,e,t){return n??e??t}function HS(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return dE.apply(n,e)}function US(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function uo(n,e){if(!n)throw new Error(e)}function Ki(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var _G="__ec_primitive__";function lm(n){n[_G]=!0}function Lf(n){return n[_G]}var Sue=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return yt(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)},n}(),IG=typeof Map=="function";function Cue(){return IG?new Map:new Sue}var TG=function(){function n(e){var t=ce(e);this.data=Cue();var r=this;e instanceof n?e.each(o):e&&R(e,o);function o(i,a){t?r.set(i,a):r.set(a,i)}}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(r,o){e.call(t,r,o)})},n.prototype.keys=function(){var e=this.data.keys();return IG?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function Pe(n){return new TG(n)}function um(n,e){for(var t=new n.constructor(n.length+e.length),r=0;r<n.length;r++)t[r]=n[r];for(var o=n.length,r=0;r<e.length;r++)t[r+o]=e[r];return t}function _y(n,e){var t;if(Object.create)t=Object.create(n);else{var r=function(){};r.prototype=n,t=new r}return e&&oe(t,e),t}function gE(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function $e(n,e){return n.hasOwnProperty(e)}function zn(){}var $v=180/Math.PI;const kue=Object.freeze(Object.defineProperty({__proto__:null,HashMap:TG,RADIAN_TO_DEGREE:$v,assert:uo,bind:Re,clone:We,concatArray:um,createCanvas:wue,createHashMap:Pe,createObject:_y,curry:Qe,defaults:Ve,disableUserSelect:gE,each:R,eqNaN:Jf,extend:oe,filter:Ht,find:SG,guid:fE,hasOwn:$e,indexOf:ct,inherits:pE,isArray:ce,isArrayLike:Gr,isBuiltInObject:UT,isDom:Od,isFunction:ze,isGradientObject:ky,isImagePatternObject:CG,isNumber:Rt,isObject:Ge,isPrimitive:Lf,isRegExp:kG,isString:De,isStringSafe:Bw,isTypedArray:Ro,keys:yt,logError:GS,map:fe,merge:rt,mergeAll:WS,mixin:Vn,noop:zn,normalizeCssArray:US,reduce:na,retrieve:mr,retrieve2:et,retrieve3:$a,setAsPrimitive:lm,slice:HS,trim:Ki},Symbol.toStringTag,{value:"Module"}));function Zu(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function Qr(n,e){return n[0]=e[0],n[1]=e[1],n}function Ts(n){return[n[0],n[1]]}function AG(n,e,t){return n[0]=e,n[1]=t,n}function jT(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function zw(n,e,t,r){return n[0]=e[0]+t[0]*r,n[1]=e[1]+t[1]*r,n}function du(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function cm(n){return Math.sqrt(vE(n))}var _ue=cm;function vE(n){return n[0]*n[0]+n[1]*n[1]}var Iue=vE;function Tue(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n}function Aue(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n}function Due(n,e){return n[0]*e[0]+n[1]*e[1]}function Pv(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function uh(n,e){var t=cm(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function Vw(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var cl=Vw;function DG(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var ku=DG;function Rue(n,e){return n[0]=-e[0],n[1]=-e[1],n}function Mv(n,e,t,r){return n[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n}function $r(n,e,t){var r=e[0],o=e[1];return n[0]=t[0]*r+t[2]*o+t[4],n[1]=t[1]*r+t[3]*o+t[5],n}function dl(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function hl(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}const Eue=Object.freeze(Object.defineProperty({__proto__:null,add:jT,applyTransform:$r,clone:Ts,copy:Qr,create:Zu,dist:cl,distSquare:ku,distance:Vw,distanceSquare:DG,div:Aue,dot:Due,len:cm,lenSquare:vE,length:_ue,lengthSquare:Iue,lerp:Mv,max:hl,min:dl,mul:Tue,negate:Rue,normalize:uh,scale:Pv,scaleAndAdd:zw,set:AG,sub:du},Symbol.toStringTag,{value:"Module"}));var Lh=function(){function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}return n}(),$ue=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Lh(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,o=e.offsetY,i=r-this._x,a=o-this._y;this._x=r,this._y=o,t.drift(i,a,e),this.handler.dispatchToElement(new Lh(t,e),"drag",e.event);var s=this.handler.findHover(r,o,t).target,l=this._dropTarget;this._dropTarget=s,t!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Lh(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new Lh(s,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new Lh(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Lh(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}(),sa=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,r,o){this._$handlers||(this._$handlers={});var i=this._$handlers;if(typeof t=="function"&&(o=r,r=t,t=null),!r||!e)return this;var a=this._$eventProcessor;t!=null&&a&&a.normalizeQuery&&(t=a.normalizeQuery(t)),i[e]||(i[e]=[]);for(var s=0;s<i[e].length;s++)if(i[e][s].h===r)return this;var l={h:r,query:t,ctx:o||this,callAtLast:r.zrEventfulCallAtLast},u=i[e].length-1,c=i[e][u];return c&&c.callAtLast?i[e].splice(u,0,l):i[e].push(l),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var o=[],i=0,a=r[e].length;i<a;i++)r[e][i].h!==t&&o.push(r[e][i]);r[e]=o}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},n.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var o=this._$handlers[e],i=this._$eventProcessor;if(o)for(var a=t.length,s=o.length,l=0;l<s;l++){var u=o[l];if(!(i&&i.filter&&u.query!=null&&!i.filter(e,u.query)))switch(a){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t);break}}return i&&i.afterTrigger&&i.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var o=this._$handlers[e],i=this._$eventProcessor;if(o)for(var a=t.length,s=t[a-1],l=o.length,u=0;u<l;u++){var c=o[u];if(!(i&&i.filter&&c.query!=null&&!i.filter(e,c.query)))switch(a){case 0:c.h.call(s);break;case 1:c.h.call(s,t[0]);break;case 2:c.h.call(s,t[0],t[1]);break;default:c.h.apply(s,t.slice(1,a-1));break}}return i&&i.afterTrigger&&i.afterTrigger(e),this},n}(),Pue=Math.log(2);function KT(n,e,t,r,o,i){var a=r+"-"+o,s=n.length;if(i.hasOwnProperty(a))return i[a];if(e===1){var l=Math.round(Math.log((1<<s)-1&~o)/Pue);return n[t][l]}for(var u=r|1<<t,c=t+1;r&1<<c;)c++;for(var d=0,h=0,f=0;h<s;h++){var p=1<<h;p&o||(d+=(f%2?-1:1)*n[t][h]*KT(n,e-1,c,u,o|p,i),f++)}return i[a]=d,d}function lO(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],r={},o=KT(t,8,0,0,0,r);if(o!==0){for(var i=[],a=0;a<8;a++)for(var s=0;s<8;s++)i[s]==null&&(i[s]=0),i[s]+=((a+s)%2?-1:1)*KT(t,7,a===0?1:0,1<<a,1<<s,r)/o*e[a];return function(l,u,c){var d=u*i[6]+c*i[7]+1;l[0]=(u*i[0]+c*i[1]+i[2])/d,l[1]=(u*i[3]+c*i[4]+i[5])/d}}}var uO="___zrEVENTSAVED",Fk=[];function Mue(n,e,t,r,o){return XT(Fk,e,r,o,!0)&&XT(n,t,Fk[0],Fk[1])}function XT(n,e,t,r,o){if(e.getBoundingClientRect&&At.domSupported&&!RG(e)){var i=e[uO]||(e[uO]={}),a=Lue(e,i),s=Nue(a,i,o);if(s)return s(n,t,r),!0}return!1}function Lue(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var r=["left","right"],o=["top","bottom"],i=0;i<4;i++){var a=document.createElement("div"),s=a.style,l=i%2,u=(i>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",o[u]+":0",r[1-l]+":auto",o[1-u]+":auto",""].join("!important;"),n.appendChild(a),t.push(a)}return t}function Nue(n,e,t){for(var r=t?"invTrans":"trans",o=e[r],i=e.srcCoords,a=[],s=[],l=!0,u=0;u<4;u++){var c=n[u].getBoundingClientRect(),d=2*u,h=c.left,f=c.top;a.push(h,f),l=l&&i&&h===i[d]&&f===i[d+1],s.push(n[u].offsetLeft,n[u].offsetTop)}return l&&o?o:(e.srcCoords=a,e[r]=t?lO(s,a):lO(a,s))}function RG(n){return n.nodeName.toUpperCase()==="CANVAS"}var Oue=/([&<>"'])/g,Fue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Co(n){return n==null?"":(n+"").replace(Oue,function(e,t){return Fue[t]})}var Bue=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Bk=[],zue=At.browser.firefox&&+At.browser.version.split(".")[0]<39;function qT(n,e,t,r){return t=t||{},r?cO(n,e,t):zue&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):cO(n,e,t),t}function cO(n,e,t){if(At.domSupported&&n.getBoundingClientRect){var r=e.clientX,o=e.clientY;if(RG(n)){var i=n.getBoundingClientRect();t.zrX=r-i.left,t.zrY=o-i.top;return}else if(XT(Bk,n,r,o)){t.zrX=Bk[0],t.zrY=Bk[1];return}}t.zrX=t.zrY=0}function mE(n){return n||window.event}function Oi(n,e,t){if(e=mE(e),e.zrX!=null)return e;var r=e.type,o=r&&r.indexOf("touch")>=0;if(o){var a=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];a&&qT(n,a,e,t)}else{qT(n,e,e,t);var i=Vue(e);e.zrDelta=i?i/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&Bue.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function Vue(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,r=n.deltaY;if(t==null||r==null)return e;var o=Math.abs(r!==0?r:t),i=r>0?-1:r<0?1:t>0?-1:1;return 3*o*i}function YT(n,e,t,r){n.addEventListener(e,t,r)}function Gue(n,e,t,r){n.removeEventListener(e,t,r)}var xl=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function dO(n){return n.which===2||n.which===3}var Wue=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,r){var o=e.touches;if(o){for(var i={points:[],touches:[],target:t,event:e},a=0,s=o.length;a<s;a++){var l=o[a],u=qT(r,l,{});i.points.push([u.zrX,u.zrY]),i.touches.push(l)}this._track.push(i)}},n.prototype._recognize=function(e){for(var t in zk)if(zk.hasOwnProperty(t)){var r=zk[t](this._track,e);if(r)return r}},n}();function hO(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}function Hue(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var zk={pinch:function(n,e){var t=n.length;if(t){var r=(n[t-1]||{}).points,o=(n[t-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var i=hO(r)/hO(o);!isFinite(i)&&(i=1),e.pinchScale=i;var a=Hue(r);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:n[0].target,event:e}}}}};function Zo(){return[1,0,0,1,0,0]}function Iy(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function jS(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function As(n,e,t){var r=e[0]*t[0]+e[2]*t[1],o=e[1]*t[0]+e[3]*t[1],i=e[0]*t[2]+e[2]*t[3],a=e[1]*t[2]+e[3]*t[3],s=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=r,n[1]=o,n[2]=i,n[3]=a,n[4]=s,n[5]=l,n}function Va(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function Ju(n,e,t,r){r===void 0&&(r=[0,0]);var o=e[0],i=e[2],a=e[4],s=e[1],l=e[3],u=e[5],c=Math.sin(t),d=Math.cos(t);return n[0]=o*d+s*c,n[1]=-o*c+s*d,n[2]=i*d+l*c,n[3]=-i*c+d*l,n[4]=d*(a-r[0])+c*(u-r[1])+r[0],n[5]=d*(u-r[1])-c*(a-r[0])+r[1],n}function KS(n,e,t){var r=t[0],o=t[1];return n[0]=e[0]*r,n[1]=e[1]*o,n[2]=e[2]*r,n[3]=e[3]*o,n[4]=e[4]*r,n[5]=e[5]*o,n}function ch(n,e){var t=e[0],r=e[2],o=e[4],i=e[1],a=e[3],s=e[5],l=t*a-i*r;return l?(l=1/l,n[0]=a*l,n[1]=-i*l,n[2]=-r*l,n[3]=t*l,n[4]=(r*s-a*o)*l,n[5]=(i*o-t*s)*l,n):null}function EG(n){var e=Zo();return jS(e,n),e}const Uue=Object.freeze(Object.defineProperty({__proto__:null,clone:EG,copy:jS,create:Zo,identity:Iy,invert:ch,mul:As,rotate:Ju,scale:KS,translate:Va},Symbol.toStringTag,{value:"Module"}));var at=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,r=this.y;return this.x=e[0]*t+e[2]*r+e[4],this.y=e[1]*t+e[3]*r+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,r){e.x=t,e.y=r},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,r){e.x=t.x+r.x,e.y=t.y+r.y},n.sub=function(e,t,r){e.x=t.x-r.x,e.y=t.y-r.y},n.scale=function(e,t,r){e.x=t.x*r,e.y=t.y*r},n.scaleAndAdd=function(e,t,r,o){e.x=t.x+r.x*o,e.y=t.y+r.y*o},n.lerp=function(e,t,r,o){var i=1-o;e.x=i*t.x+o*r.x,e.y=i*t.y+o*r.y},n}(),Eb=Math.min,$b=Math.max,yc=new at,bc=new at,wc=new at,xc=new at,xg=new at,Sg=new at,jue=function(){function n(e,t,r,o){r<0&&(e=e+r,r=-r),o<0&&(t=t+o,o=-o),this.x=e,this.y=t,this.width=r,this.height=o}return n.prototype.union=function(e){var t=Eb(e.x,this.x),r=Eb(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=$b(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=$b(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=t,this.y=r},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,r=e.width/t.width,o=e.height/t.height,i=Zo();return Va(i,i,[-t.x,-t.y]),KS(i,i,[r,o]),Va(i,i,[e.x,e.y]),i},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var r=this,o=r.x,i=r.x+r.width,a=r.y,s=r.y+r.height,l=e.x,u=e.x+e.width,c=e.y,d=e.y+e.height,h=!(i<l||u<o||s<c||d<a);if(t){var f=1/0,p=0,g=Math.abs(i-l),v=Math.abs(u-o),m=Math.abs(s-c),y=Math.abs(d-a),b=Math.min(g,v),w=Math.min(m,y);i<l||u<o?b>p&&(p=b,g<v?at.set(Sg,-g,0):at.set(Sg,v,0)):b<f&&(f=b,g<v?at.set(xg,g,0):at.set(xg,-v,0)),s<c||d<a?w>p&&(p=w,m<y?at.set(Sg,0,-m):at.set(Sg,0,y)):b<f&&(f=b,m<y?at.set(xg,0,m):at.set(xg,0,-y))}return t&&at.copy(t,h?xg:Sg),h},n.prototype.contain=function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,r){if(!r){e!==t&&n.copy(e,t);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var o=r[0],i=r[3],a=r[4],s=r[5];e.x=t.x*o+a,e.y=t.y*i+s,e.width=t.width*o,e.height=t.height*i,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}yc.x=wc.x=t.x,yc.y=xc.y=t.y,bc.x=xc.x=t.x+t.width,bc.y=wc.y=t.y+t.height,yc.transform(r),xc.transform(r),bc.transform(r),wc.transform(r),e.x=Eb(yc.x,bc.x,wc.x,xc.x),e.y=Eb(yc.y,bc.y,wc.y,xc.y);var l=$b(yc.x,bc.x,wc.x,xc.x),u=$b(yc.y,bc.y,wc.y,xc.y);e.width=l-e.x,e.height=u-e.y},n}();const lt=jue;var $G="silent";function Kue(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:Xue}}function Xue(){xl(this.event)}var que=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(sa),Cg=function(){function n(e,t){this.x=e,this.y=t}return n}(),Yue=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Vk=new lt(0,0,0,0),PG=function(n){K(e,n);function e(t,r,o,i,a){var s=n.call(this)||this;return s._hovered=new Cg(0,0),s.storage=t,s.painter=r,s.painterRoot=i,s._pointerSize=a,o=o||new que,s.proxy=null,s.setHandlerProxy(o),s._draggingMgr=new $ue(s),s}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(R(Yue,function(r){t.on&&t.on(r,this[r],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var r=t.zrX,o=t.zrY,i=MG(this,r,o),a=this._hovered,s=a.target;s&&!s.__zr&&(a=this.findHover(a.x,a.y),s=a.target);var l=this._hovered=i?new Cg(r,o):this.findHover(r,o),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(a,"mouseout",t),this.dispatchToElement(l,"mousemove",t),u&&u!==s&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var r=t.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new Cg(0,0)},e.prototype.dispatch=function(t,r){var o=this[t];o&&o.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var r=this.proxy;r.setCursor&&r.setCursor(t)},e.prototype.dispatchToElement=function(t,r,o){t=t||{};var i=t.target;if(!(i&&i.silent)){for(var a="on"+r,s=Kue(r,t,o);i&&(i[a]&&(s.cancelBubble=!!i[a].call(i,s)),i.trigger(r,s),i=i.__hostTarget?i.__hostTarget:i.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[a]=="function"&&l[a].call(l,s),l.trigger&&l.trigger(r,s)}))}},e.prototype.findHover=function(t,r,o){var i=this.storage.getDisplayList(),a=new Cg(t,r);if(fO(i,a,t,r,o),this._pointerSize&&!a.target){for(var s=[],l=this._pointerSize,u=l/2,c=new lt(t-u,r-u,l,l),d=i.length-1;d>=0;d--){var h=i[d];h!==o&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(Vk.copy(h.getBoundingRect()),h.transform&&Vk.applyTransform(h.transform),Vk.intersect(c)&&s.push(h))}if(s.length)for(var f=4,p=Math.PI/12,g=Math.PI*2,v=0;v<u;v+=f)for(var m=0;m<g;m+=p){var y=t+v*Math.cos(m),b=r+v*Math.sin(m);if(fO(s,a,y,b,o),a.target)return a}}return a},e.prototype.processGesture=function(t,r){this._gestureMgr||(this._gestureMgr=new Wue);var o=this._gestureMgr;r==="start"&&o.clear();var i=o.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(r==="end"&&o.clear(),i){var a=i.type;t.gestureEvent=a;var s=new Cg;s.target=i.target,this.dispatchToElement(s,a,i.event)}},e}(sa);R(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){PG.prototype[n]=function(e){var t=e.zrX,r=e.zrY,o=MG(this,t,r),i,a;if((n!=="mouseup"||!o)&&(i=this.findHover(t,r),a=i.target),n==="mousedown")this._downEl=a,this._downPoint=[e.zrX,e.zrY],this._upEl=a;else if(n==="mouseup")this._upEl=a;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||cl(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,n,e)}});function Zue(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var r=n,o=void 0,i=!1;r;){if(r.ignoreClip&&(i=!0),!i){var a=r.getClipPath();if(a&&!a.contain(e,t))return!1}r.silent&&(o=!0);var s=r.__hostTarget;r=s||r.parent}return o?$G:!0}return!1}function fO(n,e,t,r,o){for(var i=n.length-1;i>=0;i--){var a=n[i],s=void 0;if(a!==o&&!a.ignore&&(s=Zue(a,t,r))&&(!e.topTarget&&(e.topTarget=a),s!==$G)){e.target=a;break}}}function MG(n,e,t){var r=n.painter;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}var LG=32,kg=7;function Jue(n){for(var e=0;n>=LG;)e|=n&1,n>>=1;return n+e}function pO(n,e,t,r){var o=e+1;if(o===t)return 1;if(r(n[o++],n[e])<0){for(;o<t&&r(n[o],n[o-1])<0;)o++;Que(n,e,o)}else for(;o<t&&r(n[o],n[o-1])>=0;)o++;return o-e}function Que(n,e,t){for(t--;e<t;){var r=n[e];n[e++]=n[t],n[t--]=r}}function gO(n,e,t,r,o){for(r===e&&r++;r<t;r++){for(var i=n[r],a=e,s=r,l;a<s;)l=a+s>>>1,o(i,n[l])<0?s=l:a=l+1;var u=r-a;switch(u){case 3:n[a+3]=n[a+2];case 2:n[a+2]=n[a+1];case 1:n[a+1]=n[a];break;default:for(;u>0;)n[a+u]=n[a+u-1],u--}n[a]=i}}function Gk(n,e,t,r,o,i){var a=0,s=0,l=1;if(i(n,e[t+o])>0){for(s=r-o;l<s&&i(n,e[t+o+l])>0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=o,l+=o}else{for(s=o+1;l<s&&i(n,e[t+o-l])<=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=a;a=o-l,l=o-u}for(a++;a<l;){var c=a+(l-a>>>1);i(n,e[t+c])>0?a=c+1:l=c}return l}function Wk(n,e,t,r,o,i){var a=0,s=0,l=1;if(i(n,e[t+o])<0){for(s=o+1;l<s&&i(n,e[t+o-l])<0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=a;a=o-l,l=o-u}else{for(s=r-o;l<s&&i(n,e[t+o+l])>=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=o,l+=o}for(a++;a<l;){var c=a+(l-a>>>1);i(n,e[t+c])<0?l=c:a=c+1}return l}function ece(n,e){var t=kg,r,o,i=0,a=[];r=[],o=[];function s(f,p){r[i]=f,o[i]=p,i+=1}function l(){for(;i>1;){var f=i-2;if(f>=1&&o[f-1]<=o[f]+o[f+1]||f>=2&&o[f-2]<=o[f]+o[f-1])o[f-1]<o[f+1]&&f--;else if(o[f]>o[f+1])break;c(f)}}function u(){for(;i>1;){var f=i-2;f>0&&o[f-1]<o[f+1]&&f--,c(f)}}function c(f){var p=r[f],g=o[f],v=r[f+1],m=o[f+1];o[f]=g+m,f===i-3&&(r[f+1]=r[f+2],o[f+1]=o[f+2]),i--;var y=Wk(n[v],n,p,g,0,e);p+=y,g-=y,g!==0&&(m=Gk(n[p+g-1],n,v,m,m-1,e),m!==0&&(g<=m?d(p,g,v,m):h(p,g,v,m)))}function d(f,p,g,v){var m=0;for(m=0;m<p;m++)a[m]=n[f+m];var y=0,b=g,w=f;if(n[w++]=n[b++],--v===0){for(m=0;m<p;m++)n[w+m]=a[y+m];return}if(p===1){for(m=0;m<v;m++)n[w+m]=n[b+m];n[w+v]=a[y];return}for(var x=t,S,C,k;;){S=0,C=0,k=!1;do if(e(n[b],a[y])<0){if(n[w++]=n[b++],C++,S=0,--v===0){k=!0;break}}else if(n[w++]=a[y++],S++,C=0,--p===1){k=!0;break}while((S|C)<x);if(k)break;do{if(S=Wk(n[b],a,y,p,0,e),S!==0){for(m=0;m<S;m++)n[w+m]=a[y+m];if(w+=S,y+=S,p-=S,p<=1){k=!0;break}}if(n[w++]=n[b++],--v===0){k=!0;break}if(C=Gk(a[y],n,b,v,0,e),C!==0){for(m=0;m<C;m++)n[w+m]=n[b+m];if(w+=C,b+=C,v-=C,v===0){k=!0;break}}if(n[w++]=a[y++],--p===1){k=!0;break}x--}while(S>=kg||C>=kg);if(k)break;x<0&&(x=0),x+=2}if(t=x,t<1&&(t=1),p===1){for(m=0;m<v;m++)n[w+m]=n[b+m];n[w+v]=a[y]}else{if(p===0)throw new Error;for(m=0;m<p;m++)n[w+m]=a[y+m]}}function h(f,p,g,v){var m=0;for(m=0;m<v;m++)a[m]=n[g+m];var y=f+p-1,b=v-1,w=g+v-1,x=0,S=0;if(n[w--]=n[y--],--p===0){for(x=w-(v-1),m=0;m<v;m++)n[x+m]=a[m];return}if(v===1){for(w-=p,y-=p,S=w+1,x=y+1,m=p-1;m>=0;m--)n[S+m]=n[x+m];n[w]=a[b];return}for(var C=t;;){var k=0,_=0,I=!1;do if(e(a[b],n[y])<0){if(n[w--]=n[y--],k++,_=0,--p===0){I=!0;break}}else if(n[w--]=a[b--],_++,k=0,--v===1){I=!0;break}while((k|_)<C);if(I)break;do{if(k=p-Wk(a[b],n,f,p,p-1,e),k!==0){for(w-=k,y-=k,p-=k,S=w+1,x=y+1,m=k-1;m>=0;m--)n[S+m]=n[x+m];if(p===0){I=!0;break}}if(n[w--]=a[b--],--v===1){I=!0;break}if(_=v-Gk(n[y],a,0,v,v-1,e),_!==0){for(w-=_,b-=_,v-=_,S=w+1,x=b+1,m=0;m<_;m++)n[S+m]=a[x+m];if(v<=1){I=!0;break}}if(n[w--]=n[y--],--p===0){I=!0;break}C--}while(k>=kg||_>=kg);if(I)break;C<0&&(C=0),C+=2}if(t=C,t<1&&(t=1),v===1){for(w-=p,y-=p,S=w+1,x=y+1,m=p-1;m>=0;m--)n[S+m]=n[x+m];n[w]=a[b]}else{if(v===0)throw new Error;for(x=w-(v-1),m=0;m<v;m++)n[x+m]=a[m]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function ow(n,e,t,r){t||(t=0),r||(r=n.length);var o=r-t;if(!(o<2)){var i=0;if(o<LG){i=pO(n,t,r,e),gO(n,t,r,t+i,e);return}var a=ece(n,e),s=Jue(o);do{if(i=pO(n,t,r,e),i<s){var l=o;l>s&&(l=s),gO(n,t,t+l,t+i,e),i=l}a.pushRun(t,i),a.mergeRuns(),o-=i,t+=i}while(o!==0);a.forceMergeRuns()}}var hi=1,av=2,ff=4,vO=!1;function Hk(){vO||(vO=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function mO(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var tce=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=mO}return n.prototype.traverse=function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(t),r},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,o=0,i=t.length;o<i;o++)this._updateAndAddDisplayable(t[o],null,e);r.length=this._displayListLen,ow(r,mO)},n.prototype._updateAndAddDisplayable=function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var o=e.getClipPath();if(e.ignoreClip)t=null;else if(o){t?t=t.slice():t=[];for(var i=o,a=e;i;)i.parent=a,i.updateTransform(),t.push(i),a=i,i=i.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),l=0;l<s.length;l++){var u=s[l];e.__dirty&&(u.__dirty|=hi),this._updateAndAddDisplayable(u,t,r)}e.__dirty=0}else{var c=e;t&&t.length?c.__clipPaths=t:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(Hk(),c.z=0),isNaN(c.z2)&&(Hk(),c.z2=0),isNaN(c.zlevel)&&(Hk(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var d=e.getDecalElement&&e.getDecalElement();d&&this._updateAndAddDisplayable(d,t,r);var h=e.getTextGuideLine();h&&this._updateAndAddDisplayable(h,t,r);var f=e.getTextContent();f&&this._updateAndAddDisplayable(f,t,r)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);return}var o=ct(this._roots,e);o>=0&&this._roots.splice(o,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),Gw;Gw=At.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};var Lv={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)))},elasticOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/r)+1)},elasticInOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-Lv.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?Lv.bounceIn(n*2)*.5:Lv.bounceOut(n*2-1)*.5+.5}},Pb=Math.pow,_u=Math.sqrt,Ww=1e-8,NG=1e-4,yO=_u(3),Mb=1/3,ms=Zu(),Gi=Zu(),Nf=Zu();function hu(n){return n>-Ww&&n<Ww}function OG(n){return n>Ww||n<-Ww}function fr(n,e,t,r,o){var i=1-o;return i*i*(i*n+3*o*e)+o*o*(o*r+3*i*t)}function bO(n,e,t,r,o){var i=1-o;return 3*(((e-n)*i+2*(t-e)*o)*i+(r-t)*o*o)}function Hw(n,e,t,r,o,i){var a=r+3*(e-t)-n,s=3*(t-e*2+n),l=3*(e-n),u=n-o,c=s*s-3*a*l,d=s*l-9*a*u,h=l*l-3*s*u,f=0;if(hu(c)&&hu(d))if(hu(s))i[0]=0;else{var p=-l/s;p>=0&&p<=1&&(i[f++]=p)}else{var g=d*d-4*c*h;if(hu(g)){var v=d/c,p=-s/a+v,m=-v/2;p>=0&&p<=1&&(i[f++]=p),m>=0&&m<=1&&(i[f++]=m)}else if(g>0){var y=_u(g),b=c*s+1.5*a*(-d+y),w=c*s+1.5*a*(-d-y);b<0?b=-Pb(-b,Mb):b=Pb(b,Mb),w<0?w=-Pb(-w,Mb):w=Pb(w,Mb);var p=(-s-(b+w))/(3*a);p>=0&&p<=1&&(i[f++]=p)}else{var x=(2*c*s-3*a*d)/(2*_u(c*c*c)),S=Math.acos(x)/3,C=_u(c),k=Math.cos(S),p=(-s-2*C*k)/(3*a),m=(-s+C*(k+yO*Math.sin(S)))/(3*a),_=(-s+C*(k-yO*Math.sin(S)))/(3*a);p>=0&&p<=1&&(i[f++]=p),m>=0&&m<=1&&(i[f++]=m),_>=0&&_<=1&&(i[f++]=_)}}return f}function FG(n,e,t,r,o){var i=6*t-12*e+6*n,a=9*e+3*r-3*n-9*t,s=3*e-3*n,l=0;if(hu(a)){if(OG(i)){var u=-s/i;u>=0&&u<=1&&(o[l++]=u)}}else{var c=i*i-4*a*s;if(hu(c))o[0]=-i/(2*a);else if(c>0){var d=_u(c),u=(-i+d)/(2*a),h=(-i-d)/(2*a);u>=0&&u<=1&&(o[l++]=u),h>=0&&h<=1&&(o[l++]=h)}}return l}function Ou(n,e,t,r,o,i){var a=(e-n)*o+n,s=(t-e)*o+e,l=(r-t)*o+t,u=(s-a)*o+a,c=(l-s)*o+s,d=(c-u)*o+u;i[0]=n,i[1]=a,i[2]=u,i[3]=d,i[4]=d,i[5]=c,i[6]=l,i[7]=r}function BG(n,e,t,r,o,i,a,s,l,u,c){var d,h=.005,f=1/0,p,g,v,m;ms[0]=l,ms[1]=u;for(var y=0;y<1;y+=.05)Gi[0]=fr(n,t,o,a,y),Gi[1]=fr(e,r,i,s,y),v=ku(ms,Gi),v<f&&(d=y,f=v);f=1/0;for(var b=0;b<32&&!(h<NG);b++)p=d-h,g=d+h,Gi[0]=fr(n,t,o,a,p),Gi[1]=fr(e,r,i,s,p),v=ku(Gi,ms),p>=0&&v<f?(d=p,f=v):(Nf[0]=fr(n,t,o,a,g),Nf[1]=fr(e,r,i,s,g),m=ku(Nf,ms),g<=1&&m<f?(d=g,f=m):h*=.5);return c&&(c[0]=fr(n,t,o,a,d),c[1]=fr(e,r,i,s,d)),_u(f)}function nce(n,e,t,r,o,i,a,s,l){for(var u=n,c=e,d=0,h=1/l,f=1;f<=l;f++){var p=f*h,g=fr(n,t,o,a,p),v=fr(e,r,i,s,p),m=g-u,y=v-c;d+=Math.sqrt(m*m+y*y),u=g,c=v}return d}function Dr(n,e,t,r){var o=1-r;return o*(o*n+2*r*e)+r*r*t}function ZT(n,e,t,r){return 2*((1-r)*(e-n)+r*(t-e))}function rce(n,e,t,r,o){var i=n-2*e+t,a=2*(e-n),s=n-r,l=0;if(hu(i)){if(OG(a)){var u=-s/a;u>=0&&u<=1&&(o[l++]=u)}}else{var c=a*a-4*i*s;if(hu(c)){var u=-a/(2*i);u>=0&&u<=1&&(o[l++]=u)}else if(c>0){var d=_u(c),u=(-a+d)/(2*i),h=(-a-d)/(2*i);u>=0&&u<=1&&(o[l++]=u),h>=0&&h<=1&&(o[l++]=h)}}return l}function zG(n,e,t){var r=n+t-2*e;return r===0?.5:(n-e)/r}function dm(n,e,t,r,o){var i=(e-n)*r+n,a=(t-e)*r+e,s=(a-i)*r+i;o[0]=n,o[1]=i,o[2]=s,o[3]=s,o[4]=a,o[5]=t}function VG(n,e,t,r,o,i,a,s,l){var u,c=.005,d=1/0;ms[0]=a,ms[1]=s;for(var h=0;h<1;h+=.05){Gi[0]=Dr(n,t,o,h),Gi[1]=Dr(e,r,i,h);var f=ku(ms,Gi);f<d&&(u=h,d=f)}d=1/0;for(var p=0;p<32&&!(c<NG);p++){var g=u-c,v=u+c;Gi[0]=Dr(n,t,o,g),Gi[1]=Dr(e,r,i,g);var f=ku(Gi,ms);if(g>=0&&f<d)u=g,d=f;else{Nf[0]=Dr(n,t,o,v),Nf[1]=Dr(e,r,i,v);var m=ku(Nf,ms);v<=1&&m<d?(u=v,d=m):c*=.5}}return l&&(l[0]=Dr(n,t,o,u),l[1]=Dr(e,r,i,u)),_u(d)}function oce(n,e,t,r,o,i,a){for(var s=n,l=e,u=0,c=1/a,d=1;d<=a;d++){var h=d*c,f=Dr(n,t,o,h),p=Dr(e,r,i,h),g=f-s,v=p-l;u+=Math.sqrt(g*g+v*v),s=f,l=p}return u}var ice=/cubic-bezier\(([0-9,\.e ]+)\)/;function yE(n){var e=n&&ice.exec(n);if(e){var t=e[1].split(","),r=+Ki(t[0]),o=+Ki(t[1]),i=+Ki(t[2]),a=+Ki(t[3]);if(isNaN(r+o+i+a))return;var s=[];return function(l){return l<=0?0:l>=1?1:Hw(0,r,i,1,l,s)&&fr(0,o,a,1,s[0])}}}var ace=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||zn,this.ondestroy=e.ondestroy||zn,this.onrestart=e.onrestart||zn,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var r=this._life,o=e-this._startTime-this._pausedTime,i=o/r;i<0&&(i=0),i=Math.min(i,1);var a=this.easingFunc,s=a?a(i):i;if(this.onframe(s),i===1)if(this.loop){var l=o%r;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=ze(e)?e:Lv[e]||yE(e)},n}(),GG=function(){function n(e){this.value=e}return n}(),sce=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new GG(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),Ty=function(){function n(e){this._list=new sce,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var r=this._list,o=this._map,i=null;if(o[e]==null){var a=r.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=r.head;r.remove(l),delete o[l.key],i=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new GG(t),s.key=e,r.insertEntry(s),o[e]=s}return i},n.prototype.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),wO={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Pa(n){return n=Math.round(n),n<0?0:n>255?255:n}function lce(n){return n=Math.round(n),n<0?0:n>360?360:n}function hm(n){return n<0?0:n>1?1:n}function Uk(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?Pa(parseFloat(e)/100*255):Pa(parseInt(e,10))}function _d(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?hm(parseFloat(e)/100):hm(parseFloat(e))}function jk(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function fu(n,e,t){return n+(e-n)*t}function Ni(n,e,t,r,o){return n[0]=e,n[1]=t,n[2]=r,n[3]=o,n}function JT(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var WG=new Ty(20),Lb=null;function Nh(n,e){Lb&&JT(Lb,e),Lb=WG.put(n,Lb||e.slice())}function To(n,e){if(n){e=e||[];var t=WG.get(n);if(t)return JT(e,t);n=n+"";var r=n.replace(/ /g,"").toLowerCase();if(r in wO)return JT(e,wO[r]),Nh(n,e),e;var o=r.length;if(r.charAt(0)==="#"){if(o===4||o===5){var i=parseInt(r.slice(1,4),16);if(!(i>=0&&i<=4095)){Ni(e,0,0,0,1);return}return Ni(e,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,o===5?parseInt(r.slice(4),16)/15:1),Nh(n,e),e}else if(o===7||o===9){var i=parseInt(r.slice(1,7),16);if(!(i>=0&&i<=16777215)){Ni(e,0,0,0,1);return}return Ni(e,(i&16711680)>>16,(i&65280)>>8,i&255,o===9?parseInt(r.slice(7),16)/255:1),Nh(n,e),e}return}var a=r.indexOf("("),s=r.indexOf(")");if(a!==-1&&s+1===o){var l=r.substr(0,a),u=r.substr(a+1,s-(a+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Ni(e,+u[0],+u[1],+u[2],1):Ni(e,0,0,0,1);c=_d(u.pop());case"rgb":if(u.length>=3)return Ni(e,Uk(u[0]),Uk(u[1]),Uk(u[2]),u.length===3?c:_d(u[3])),Nh(n,e),e;Ni(e,0,0,0,1);return;case"hsla":if(u.length!==4){Ni(e,0,0,0,1);return}return u[3]=_d(u[3]),QT(u,e),Nh(n,e),e;case"hsl":if(u.length!==3){Ni(e,0,0,0,1);return}return QT(u,e),Nh(n,e),e;default:return}}Ni(e,0,0,0,1)}}function QT(n,e){var t=(parseFloat(n[0])%360+360)%360/360,r=_d(n[1]),o=_d(n[2]),i=o<=.5?o*(r+1):o+r-o*r,a=o*2-i;return e=e||[],Ni(e,Pa(jk(a,i,t+1/3)*255),Pa(jk(a,i,t)*255),Pa(jk(a,i,t-1/3)*255),1),n.length===4&&(e[3]=n[3]),e}function uce(n){if(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,o=Math.min(e,t,r),i=Math.max(e,t,r),a=i-o,s=(i+o)/2,l,u;if(a===0)l=0,u=0;else{s<.5?u=a/(i+o):u=a/(2-i-o);var c=((i-e)/6+a/2)/a,d=((i-t)/6+a/2)/a,h=((i-r)/6+a/2)/a;e===i?l=h-d:t===i?l=1/3+c-h:r===i&&(l=2/3+d-c),l<0&&(l+=1),l>1&&(l-=1)}var f=[l*360,u,s];return n[3]!=null&&f.push(n[3]),f}}function Uw(n,e){var t=To(n);if(t){for(var r=0;r<3;r++)e<0?t[r]=t[r]*(1-e)|0:t[r]=(255-t[r])*e+t[r]|0,t[r]>255?t[r]=255:t[r]<0&&(t[r]=0);return Ma(t,t.length===4?"rgba":"rgb")}}function cce(n){var e=To(n);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Nv(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){t=t||[];var r=n*(e.length-1),o=Math.floor(r),i=Math.ceil(r),a=e[o],s=e[i],l=r-o;return t[0]=Pa(fu(a[0],s[0],l)),t[1]=Pa(fu(a[1],s[1],l)),t[2]=Pa(fu(a[2],s[2],l)),t[3]=hm(fu(a[3],s[3],l)),t}}var dce=Nv;function bE(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){var r=n*(e.length-1),o=Math.floor(r),i=Math.ceil(r),a=To(e[o]),s=To(e[i]),l=r-o,u=Ma([Pa(fu(a[0],s[0],l)),Pa(fu(a[1],s[1],l)),Pa(fu(a[2],s[2],l)),hm(fu(a[3],s[3],l))],"rgba");return t?{color:u,leftIndex:o,rightIndex:i,value:r}:u}}var hce=bE;function Of(n,e,t,r){var o=To(n);if(n)return o=uce(o),e!=null&&(o[0]=lce(e)),t!=null&&(o[1]=_d(t)),r!=null&&(o[2]=_d(r)),Ma(QT(o),"rgba")}function fm(n,e){var t=To(n);if(t&&e!=null)return t[3]=hm(e),Ma(t,"rgba")}function Ma(n,e){if(!(!n||!n.length)){var t=n[0]+","+n[1]+","+n[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+n[3]),e+"("+t+")"}}function pm(n,e){var t=To(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function fce(){return Ma([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var xO=new Ty(100);function jw(n){if(De(n)){var e=xO.get(n);return e||(e=Uw(n,-.1),xO.put(n,e)),e}else if(ky(n)){var t=oe({},n);return t.colorStops=fe(n.colorStops,function(r){return{offset:r.offset,color:Uw(r.color,-.1)}}),t}return n}const pce=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:Nv,fastMapToColor:dce,lerp:bE,lift:Uw,liftColor:jw,lum:pm,mapToColor:hce,modifyAlpha:fm,modifyHSL:Of,parse:To,random:fce,stringify:Ma,toHex:cce},Symbol.toStringTag,{value:"Module"}));var Kw=Math.round;function gm(n){var e;if(!n||n==="transparent")n="none";else if(typeof n=="string"&&n.indexOf("rgba")>-1){var t=To(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}return{color:n,opacity:e??1}}var SO=1e-4;function pu(n){return n<SO&&n>-SO}function Nb(n){return Kw(n*1e3)/1e3}function eA(n){return Kw(n*1e4)/1e4}function gce(n){return"matrix("+Nb(n[0])+","+Nb(n[1])+","+Nb(n[2])+","+Nb(n[3])+","+eA(n[4])+","+eA(n[5])+")"}var vce={left:"start",right:"end",center:"middle",middle:"middle"};function mce(n,e,t){return t==="top"?n+=e/2:t==="bottom"&&(n-=e/2),n}function yce(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}function bce(n){var e=n.style,t=n.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}function HG(n){return n&&!!n.image}function wce(n){return n&&!!n.svgElement}function wE(n){return HG(n)||wce(n)}function UG(n){return n.type==="linear"}function jG(n){return n.type==="radial"}function KG(n){return n&&(n.type==="linear"||n.type==="radial")}function XS(n){return"url(#"+n+")"}function XG(n){var e=n.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function qG(n){var e=n.x||0,t=n.y||0,r=(n.rotation||0)*$v,o=et(n.scaleX,1),i=et(n.scaleY,1),a=n.skewX||0,s=n.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),r&&l.push("rotate("+r+")"),(o!==1||i!==1)&&l.push("scale("+o+","+i+")"),(a||s)&&l.push("skew("+Kw(a*$v)+"deg, "+Kw(s*$v)+"deg)"),l.join(" ")}var xce=function(){return At.hasGlobalWindow&&ze(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}}(),tA=Array.prototype.slice;function ol(n,e,t){return(e-n)*t+n}function Kk(n,e,t,r){for(var o=e.length,i=0;i<o;i++)n[i]=ol(e[i],t[i],r);return n}function Sce(n,e,t,r){for(var o=e.length,i=o&&e[0].length,a=0;a<o;a++){n[a]||(n[a]=[]);for(var s=0;s<i;s++)n[a][s]=ol(e[a][s],t[a][s],r)}return n}function Ob(n,e,t,r){for(var o=e.length,i=0;i<o;i++)n[i]=e[i]+t[i]*r;return n}function CO(n,e,t,r){for(var o=e.length,i=o&&e[0].length,a=0;a<o;a++){n[a]||(n[a]=[]);for(var s=0;s<i;s++)n[a][s]=e[a][s]+t[a][s]*r}return n}function Cce(n,e){for(var t=n.length,r=e.length,o=t>r?e:n,i=Math.min(t,r),a=o[i-1]||{color:[0,0,0,0],offset:0},s=i;s<Math.max(t,r);s++)o.push({offset:a.offset,color:a.color.slice()})}function kce(n,e,t){var r=n,o=e;if(!(!r.push||!o.push)){var i=r.length,a=o.length;if(i!==a){var s=i>a;if(s)r.length=a;else for(var l=i;l<a;l++)r.push(t===1?o[l]:tA.call(o[l]))}for(var u=r[0]&&r[0].length,l=0;l<r.length;l++)if(t===1)isNaN(r[l])&&(r[l]=o[l]);else for(var c=0;c<u;c++)isNaN(r[l][c])&&(r[l][c]=o[l][c])}}function Ov(n){if(Gr(n)){var e=n.length;if(Gr(n[0])){for(var t=[],r=0;r<e;r++)t.push(tA.call(n[r]));return t}return tA.call(n)}return n}function iw(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function _ce(n){return Gr(n&&n[0])?2:1}var Fb=0,aw=1,YG=2,sv=3,nA=4,rA=5,kO=6;function _O(n){return n===nA||n===rA}function Bb(n){return n===aw||n===YG}var _g=[0,0,0,0],Ice=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,r){this._needsSort=!0;var o=this.keyframes,i=o.length,a=!1,s=kO,l=t;if(Gr(t)){var u=_ce(t);s=u,(u===1&&!Rt(t[0])||u===2&&!Rt(t[0][0]))&&(a=!0)}else if(Rt(t)&&!Jf(t))s=Fb;else if(De(t))if(!isNaN(+t))s=Fb;else{var c=To(t);c&&(l=c,s=sv)}else if(ky(t)){var d=oe({},l);d.colorStops=fe(t.colorStops,function(f){return{offset:f.offset,color:To(f.color)}}),UG(t)?s=nA:jG(t)&&(s=rA),l=d}i===0?this.valType=s:(s!==this.valType||s===kO)&&(a=!0),this.discrete=this.discrete||a;var h={time:e,value:l,rawValue:t,percent:0};return r&&(h.easing=r,h.easingFunc=ze(r)?r:Lv[r]||yE(r)),o.push(h),h},n.prototype.prepare=function(e,t){var r=this.keyframes;this._needsSort&&r.sort(function(g,v){return g.time-v.time});for(var o=this.valType,i=r.length,a=r[i-1],s=this.discrete,l=Bb(o),u=_O(o),c=0;c<i;c++){var d=r[c],h=d.value,f=a.value;d.percent=d.time/e,s||(l&&c!==i-1?kce(h,f,o):u&&Cce(h.colorStops,f.colorStops))}if(!s&&o!==rA&&t&&this.needsAnimate()&&t.needsAnimate()&&o===t.valType&&!t._finished){this._additiveTrack=t;for(var p=r[0].value,c=0;c<i;c++)o===Fb?r[c].additiveValue=r[c].value-p:o===sv?r[c].additiveValue=Ob([],r[c].value,p,-1):Bb(o)&&(r[c].additiveValue=o===aw?Ob([],r[c].value,p,-1):CO([],r[c].value,p,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,o=r?"additiveValue":"value",i=this.valType,a=this.keyframes,s=a.length,l=this.propName,u=i===sv,c,d=this._lastFr,h=Math.min,f,p;if(s===1)f=p=a[0];else{if(t<0)c=0;else if(t<this._lastFrP){var g=h(d+1,s-1);for(c=g;c>=0&&!(a[c].percent<=t);c--);c=h(c,s-2)}else{for(c=d;c<s&&!(a[c].percent>t);c++);c=h(c-1,s-2)}p=a[c+1],f=a[c]}if(f&&p){this._lastFr=c,this._lastFrP=t;var v=p.percent-f.percent,m=v===0?1:h((t-f.percent)/v,1);p.easingFunc&&(m=p.easingFunc(m));var y=r?this._additiveValue:u?_g:e[l];if((Bb(i)||u)&&!y&&(y=this._additiveValue=[]),this.discrete)e[l]=m<1?f.rawValue:p.rawValue;else if(Bb(i))i===aw?Kk(y,f[o],p[o],m):Sce(y,f[o],p[o],m);else if(_O(i)){var b=f[o],w=p[o],x=i===nA;e[l]={type:x?"linear":"radial",x:ol(b.x,w.x,m),y:ol(b.y,w.y,m),colorStops:fe(b.colorStops,function(C,k){var _=w.colorStops[k];return{offset:ol(C.offset,_.offset,m),color:iw(Kk([],C.color,_.color,m))}}),global:w.global},x?(e[l].x2=ol(b.x2,w.x2,m),e[l].y2=ol(b.y2,w.y2,m)):e[l].r=ol(b.r,w.r,m)}else if(u)Kk(y,f[o],p[o],m),r||(e[l]=iw(y));else{var S=ol(f[o],p[o],m);r?this._additiveValue=S:e[l]=S}r&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,r=this.propName,o=this._additiveValue;t===Fb?e[r]=e[r]+o:t===sv?(To(e[r],_g),Ob(_g,_g,o,1),e[r]=iw(_g)):t===aw?Ob(e[r],e[r],o,1):t===YG&&CO(e[r],e[r],o,1)},n}(),xE=function(){function n(e,t,r,o){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&o){GS("Can' use additive animation on looped animation.");return}this._additiveAnimators=o,this._allowDiscrete=r}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,r){return this.whenWithKeys(e,t,yt(t),r)},n.prototype.whenWithKeys=function(e,t,r,o){for(var i=this._tracks,a=0;a<r.length;a++){var s=r[a],l=i[s];if(!l){l=i[s]=new Ice(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var d=c.keyframes,h=d[d.length-1];u=h&&h.value,c.valType===sv&&u&&(u=iw(u))}else u=this._target[s];if(u==null)continue;e>0&&l.addKeyframe(0,Ov(u),o),this._trackKeys.push(s)}l.addKeyframe(e,Ov(t[s]),o)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,r=0;r<t;r++)e[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var r=0;r<t.length;r++)t[r].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,r=0;r<t.length;r++)e[t[r]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,r=this._additiveAnimators;if(r)for(var o=0;o<r.length;o++){var i=r[o].getTrack(e);i&&(t=i)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,r=[],o=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var a=this._trackKeys[i],s=this._tracks[a],l=this._getAdditiveTrack(a),u=s.keyframes,c=u.length;if(s.prepare(o,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var d=u[c-1];d&&(t._target[s.propName]=d.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var h=new ace({life:o,loop:this._loop,delay:this._delay||0,onframe:function(f){t._started=2;var p=t._additiveAnimators;if(p){for(var g=!1,v=0;v<p.length;v++)if(p[v]._clip){g=!0;break}g||(t._additiveAnimators=null)}for(var v=0;v<r.length;v++)r[v].step(t._target,f);var m=t._onframeCbs;if(m)for(var v=0;v<m.length;v++)m[v](t._target,f)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return fe(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var r=this._tracks,o=this._trackKeys,i=0;i<e.length;i++){var a=r[e[i]];a&&!a.isFinished()&&(t?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}for(var s=!0,i=0;i<o.length;i++)if(!r[o[i]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveTo=function(e,t,r){if(e){t=t||this._trackKeys;for(var o=0;o<t.length;o++){var i=t[o],a=this._tracks[i];if(!(!a||a.isFinished())){var s=a.keyframes,l=s[r?0:s.length-1];l&&(e[i]=Ov(l.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||yt(e);for(var r=0;r<t.length;r++){var o=t[r],i=this._tracks[o];if(i){var a=i.keyframes;if(a.length>1){var s=a.pop();i.addKeyframe(s.time,e[o]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},n}();function Cf(){return new Date().getTime()}var Tce=function(n){K(e,n);function e(t){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,t=t||{},r.stage=t.stage||{},r}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var r=t.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(t){if(t.animation){var r=t.prev,o=t.next;r?r.next=o:this._head=o,o?o.prev=r:this._tail=r,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var r=t.getClip();r&&this.removeClip(r),t.animation=null},e.prototype.update=function(t){for(var r=Cf()-this._pausedTime,o=r-this._time,i=this._head;i;){var a=i.next,s=i.step(r,o);s&&(i.ondestroy(),this.removeClip(i)),i=a}this._time=r,t||(this.trigger("frame",o),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function r(){t._running&&(Gw(r),!t._paused&&t.update())}Gw(r)},e.prototype.start=function(){this._running||(this._time=Cf(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Cf(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Cf()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var r=t.next;t.prev=t.next=t.animation=null,t=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,r){r=r||{},this.start();var o=new xE(t,r.loop);return this.addAnimator(o),o},e}(sa),Ace=300,Xk=At.domSupported,qk=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=fe(n,function(o){var i=o.replace("mouse","pointer");return t.hasOwnProperty(i)?i:o});return{mouse:n,touch:e,pointer:r}}(),IO={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},TO=!1;function oA(n){var e=n.pointerType;return e==="pen"||e==="touch"}function Dce(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function Yk(n){n&&(n.zrByTouch=!0)}function Rce(n,e){return Oi(n.dom,new Ece(n,e),!0)}function ZG(n,e){for(var t=e,r=!1;t&&t.nodeType!==9&&!(r=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return r}var Ece=function(){function n(e,t){this.stopPropagation=zn,this.stopImmediatePropagation=zn,this.preventDefault=zn,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return n}(),wa={mousedown:function(n){n=Oi(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Oi(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Oi(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=Oi(this.dom,n);var e=n.toElement||n.relatedTarget;ZG(this,e)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){TO=!0,n=Oi(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){TO||(n=Oi(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=Oi(this.dom,n),Yk(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),wa.mousemove.call(this,n),wa.mousedown.call(this,n)},touchmove:function(n){n=Oi(this.dom,n),Yk(n),this.handler.processGesture(n,"change"),wa.mousemove.call(this,n)},touchend:function(n){n=Oi(this.dom,n),Yk(n),this.handler.processGesture(n,"end"),wa.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<Ace&&wa.click.call(this,n)},pointerdown:function(n){wa.mousedown.call(this,n)},pointermove:function(n){oA(n)||wa.mousemove.call(this,n)},pointerup:function(n){wa.mouseup.call(this,n)},pointerout:function(n){oA(n)||wa.mouseout.call(this,n)}};R(["click","dblclick","contextmenu"],function(n){wa[n]=function(e){e=Oi(this.dom,e),this.trigger(n,e)}});var iA={pointermove:function(n){oA(n)||iA.mousemove.call(this,n)},pointerup:function(n){iA.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function $ce(n,e){var t=e.domHandlers;At.pointerEventsSupported?R(qk.pointer,function(r){sw(e,r,function(o){t[r].call(n,o)})}):(At.touchEventsSupported&&R(qk.touch,function(r){sw(e,r,function(o){t[r].call(n,o),Dce(e)})}),R(qk.mouse,function(r){sw(e,r,function(o){o=mE(o),e.touching||t[r].call(n,o)})}))}function Pce(n,e){At.pointerEventsSupported?R(IO.pointer,t):At.touchEventsSupported||R(IO.mouse,t);function t(r){function o(i){i=mE(i),ZG(n,i.target)||(i=Rce(n,i),e.domHandlers[r].call(n,i))}sw(e,r,o,{capture:!0})}}function sw(n,e,t,r){n.mounted[e]=t,n.listenerOpts[e]=r,YT(n.domTarget,e,t,r)}function Zk(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&Gue(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var AO=function(){function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return n}(),Mce=function(n){K(e,n);function e(t,r){var o=n.call(this)||this;return o.__pointerCapturing=!1,o.dom=t,o.painterRoot=r,o._localHandlerScope=new AO(t,wa),Xk&&(o._globalHandlerScope=new AO(document,iA)),$ce(o,o._localHandlerScope),o}return e.prototype.dispose=function(){Zk(this._localHandlerScope),Xk&&Zk(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,Xk&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var r=this._globalHandlerScope;t?Pce(this,r):Zk(r)}},e}(sa),JG=1;At.hasGlobalWindow&&(JG=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Xw=JG,aA=.4,sA="#333",lA="#ccc",Lce="#eee",DO=Iy,RO=5e-5;function Sc(n){return n>RO||n<-RO}var Cc=[],Oh=[],Jk=Zo(),Qk=Math.abs,Nce=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return Sc(this.rotation)||Sc(this.x)||Sc(this.y)||Sc(this.scaleX-1)||Sc(this.scaleY-1)||Sc(this.skewX)||Sc(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),r=this.transform;if(!(t||e)){r&&(DO(r),this.invTransform=null);return}r=r||Zo(),t?this.getLocalTransform(r):DO(r),e&&(t?As(r,e,r):jS(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(Cc);var r=Cc[0]<0?-1:1,o=Cc[1]<0?-1:1,i=((Cc[0]-r)*t+r)/Cc[0]||0,a=((Cc[1]-o)*t+o)/Cc[1]||0;e[0]*=i,e[1]*=i,e[2]*=a,e[3]*=a}this.invTransform=this.invTransform||Zo(),ch(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],o=Math.atan2(e[1],e[0]),i=Math.PI/2+o-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(i),t=Math.sqrt(t),this.skewX=i,this.skewY=0,this.rotation=-o,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Zo(),As(Oh,e.invTransform,t),t=Oh);var r=this.originX,o=this.originY;(r||o)&&(Jk[4]=r,Jk[5]=o,As(Oh,t,Jk),Oh[4]-=r,Oh[5]-=o,t=Oh),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var r=[e,t],o=this.invTransform;return o&&$r(r,r,o),r},n.prototype.transformCoordToGlobal=function(e,t){var r=[e,t],o=this.transform;return o&&$r(r,r,o),r},n.prototype.getLineScale=function(){var e=this.transform;return e&&Qk(e[0]-1)>1e-10&&Qk(e[3]-1)>1e-10?Math.sqrt(Qk(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){QG(this,e)},n.getLocalTransform=function(e,t){t=t||[];var r=e.originX||0,o=e.originY||0,i=e.scaleX,a=e.scaleY,s=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,d=e.y,h=e.skewX?Math.tan(e.skewX):0,f=e.skewY?Math.tan(-e.skewY):0;if(r||o||s||l){var p=r+s,g=o+l;t[4]=-p*i-h*g*a,t[5]=-g*a-f*p*i}else t[4]=t[5]=0;return t[0]=i,t[3]=a,t[1]=f*i,t[2]=h*a,u&&Ju(t,t,u),t[4]+=r+c,t[5]+=o+d,t},n.initDefaultProps=function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),n}(),Os=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function QG(n,e){for(var t=0;t<Os.length;t++){var r=Os[t];n[r]=e[r]}}const fl=Nce;var EO={};function bi(n,e){e=e||Nu;var t=EO[e];t||(t=EO[e]=new Ty(500));var r=t.get(n);return r==null&&(r=za.measureText(n,e).width,t.put(n,r)),r}function $O(n,e,t,r){var o=bi(n,e),i=qS(e),a=lv(0,o,t),s=pf(0,i,r),l=new lt(a,s,o,i);return l}function Ay(n,e,t,r){var o=((n||"")+"").split(`
`),i=o.length;if(i===1)return $O(o[0],e,t,r);for(var a=new lt(0,0,0,0),s=0;s<o.length;s++){var l=$O(o[s],e,t,r);s===0?a.copy(l):a.union(l)}return a}function lv(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function pf(n,e,t){return t==="middle"?n-=e/2:t==="bottom"&&(n-=e),n}function qS(n){return bi("",n)}function Ga(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function qw(n,e,t){var r=e.position||"inside",o=e.distance!=null?e.distance:5,i=t.height,a=t.width,s=i/2,l=t.x,u=t.y,c="left",d="top";if(r instanceof Array)l+=Ga(r[0],t.width),u+=Ga(r[1],t.height),c=null,d=null;else switch(r){case"left":l-=o,u+=s,c="right",d="middle";break;case"right":l+=o+a,u+=s,d="middle";break;case"top":l+=a/2,u-=o,c="center",d="bottom";break;case"bottom":l+=a/2,u+=i+o,c="center";break;case"inside":l+=a/2,u+=s,c="center",d="middle";break;case"insideLeft":l+=o,u+=s,d="middle";break;case"insideRight":l+=a-o,u+=s,c="right",d="middle";break;case"insideTop":l+=a/2,u+=o,c="center";break;case"insideBottom":l+=a/2,u+=i-o,c="center",d="bottom";break;case"insideTopLeft":l+=o,u+=o;break;case"insideTopRight":l+=a-o,u+=o,c="right";break;case"insideBottomLeft":l+=o,u+=i-o,d="bottom";break;case"insideBottomRight":l+=a-o,u+=i-o,c="right",d="bottom";break}return n=n||{},n.x=l,n.y=u,n.align=c,n.verticalAlign=d,n}var e_="__zr_normal__",t_=Os.concat(["ignore"]),Oce=na(Os,function(n,e){return n[e]=!0,n},{ignore:!1}),Fh={},Fce=new lt(0,0,0,0),YS=function(){function n(e){this.id=fE(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,r){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var o=this.transform;o||(o=this.transform=[1,0,0,1,0,0]),o[4]+=e,o[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,o=r.local,i=t.innerTransformable,a=void 0,s=void 0,l=!1;i.parent=o?this:null;var u=!1;if(i.copyTransform(t),r.position!=null){var c=Fce;r.layoutRect?c.copy(r.layoutRect):c.copy(this.getBoundingRect()),o||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Fh,r,c):qw(Fh,r,c),i.x=Fh.x,i.y=Fh.y,a=Fh.align,s=Fh.verticalAlign;var d=r.origin;if(d&&r.rotation!=null){var h=void 0,f=void 0;d==="center"?(h=c.width*.5,f=c.height*.5):(h=Ga(d[0],c.width),f=Ga(d[1],c.height)),u=!0,i.originX=-i.x+h+(o?0:c.x),i.originY=-i.y+f+(o?0:c.y)}}r.rotation!=null&&(i.rotation=r.rotation);var p=r.offset;p&&(i.x+=p[0],i.y+=p[1],u||(i.originX=-p[0],i.originY=-p[1]));var g=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,y=void 0,b=void 0;g&&this.canBeInsideText()?(m=r.insideFill,y=r.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(m),b=!0)):(m=r.outsideFill,y=r.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(m),b=!0)),m=m||"#000",(m!==v.fill||y!==v.stroke||b!==v.autoStroke||a!==v.align||s!==v.verticalAlign)&&(l=!0,v.fill=m,v.stroke=y,v.autoStroke=b,v.align=a,v.verticalAlign=s,t.setDefaultTextStyle(v)),t.__dirty|=hi,l&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?lA:sA},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),r=typeof t=="string"&&To(t);r||(r=[255,255,255,1]);for(var o=r[3],i=this.__zr.isDarkMode(),a=0;a<3;a++)r[a]=r[a]*o+(i?0:255)*(1-o);return r[3]=1,Ma(r,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},oe(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(Ge(e))for(var r=e,o=yt(r),i=0;i<o.length;i++){var a=o[i];this.attrKV(a,e[a])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,r=0;r<this.animators.length;r++){var o=this.animators[r],i=o.__fromStateTransition;if(!(o.getLoop()||i&&i!==e_)){var a=o.targetName,s=a?t[a]:t;o.saveTo(s)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,t_)},n.prototype._savePrimaryToNormal=function(e,t,r){for(var o=0;o<r.length;o++){var i=r[o];e[i]!=null&&!(i in t)&&(t[i]=this[i])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(e_,!1,e)},n.prototype.useState=function(e,t,r,o){var i=e===e_,a=this.hasState();if(!(!a&&i)){var s=this.currentStates,l=this.stateTransition;if(!(ct(s,e)>=0&&(t||s.length===1))){var u;if(this.stateProxy&&!i&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!i){GS("State "+e+" not exists.");return}i||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||o);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!r&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,h=this._textGuide;return d&&d.useState(e,t,r,c),h&&h.useState(e,t,r,c),i?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~hi),u}}},n.prototype.useStates=function(e,t,r){if(!e.length)this.clearStates();else{var o=[],i=this.currentStates,a=e.length,s=a===i.length;if(s){for(var l=0;l<a;l++)if(e[l]!==i[l]){s=!1;break}}if(s)return;for(var l=0;l<a;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&o.push(c)}var d=o[a-1],h=!!(d&&d.hoverLayer||r);h&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(o),p=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(e.join(","),f,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,v=this._textGuide;g&&g.useStates(e,t,h),v&&v.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~hi)}},n.prototype.isSilent=function(){for(var e=this.silent,t=this.parent;!e&&t;){if(t.silent){e=!0;break}t=t.parent}return e},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=ct(this.currentStates,e);if(t>=0){var r=this.currentStates.slice();r.splice(t,1),this.useStates(r)}},n.prototype.replaceState=function(e,t,r){var o=this.currentStates.slice(),i=ct(o,e),a=ct(o,t)>=0;i>=0?a?o.splice(i,1):o[i]=t:r&&!a&&o.push(t),this.useStates(o)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t={},r,o=0;o<e.length;o++){var i=e[o];oe(t,i),i.textConfig&&(r=r||{},oe(r,i.textConfig))}return r&&(t.textConfig=r),t},n.prototype._applyStateObj=function(e,t,r,o,i,a){var s=!(t&&o);t&&t.textConfig?(this.textConfig=oe({},o?this.textConfig:r.textConfig),oe(this.textConfig,t.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},u=!1,c=0;c<t_.length;c++){var d=t_[c],h=i&&Oce[d];t&&t[d]!=null?h?(u=!0,l[d]=t[d]):this[d]=t[d]:s&&r[d]!=null&&(h?(u=!0,l[d]=r[d]):this[d]=r[d])}if(!i)for(var c=0;c<this.animators.length;c++){var f=this.animators[c],p=f.targetName;f.getLoop()||f.__changeFinalValue(p?(t||r)[p]:t||r)}u&&this._transitionState(e,l,a)},n.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new fl,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),oe(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=hi;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,r=this._textGuide;t&&(t.__inHover=e),r&&(r.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,r){var o=e?this[e]:this,i=new xE(o,t,r);return e&&(i.targetName=e),this.addAnimator(i,e),i},n.prototype.addAnimator=function(e,t){var r=this.__zr,o=this;e.during(function(){o.updateDuringAnimation(t)}).done(function(){var i=o.animators,a=ct(i,e);a>=0&&i.splice(a,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var r=this.animators,o=r.length,i=[],a=0;a<o;a++){var s=r[a];!e||e===s.scope?s.stop(t):i.push(s)}return this.animators=i,this},n.prototype.animateTo=function(e,t,r){n_(this,e,t,r)},n.prototype.animateFrom=function(e,t,r){n_(this,e,t,r,!0)},n.prototype._transitionState=function(e,t,r,o){for(var i=n_(this,t,r,o),a=0;a<i.length;a++)i[a].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=hi;function t(r,o,i,a){Object.defineProperty(e,r,{get:function(){if(!this[o]){var l=this[o]=[];s(this,l)}return this[o]},set:function(l){this[i]=l[0],this[a]=l[1],this[o]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[i]},set:function(c){l[i]=c}}),Object.defineProperty(u,1,{get:function(){return l[a]},set:function(c){l[a]=c}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),n}();Vn(YS,sa);Vn(YS,fl);function n_(n,e,t,r,o){t=t||{};var i=[];eW(n,"",n,e,t,r,i,o);var a=i.length,s=!1,l=t.done,u=t.aborted,c=function(){s=!0,a--,a<=0&&(s?l&&l():u&&u())},d=function(){a--,a<=0&&(s?l&&l():u&&u())};a||l&&l(),i.length>0&&t.during&&i[0].during(function(p,g){t.during(g)});for(var h=0;h<i.length;h++){var f=i[h];c&&f.done(c),d&&f.aborted(d),t.force&&f.duration(t.duration),f.start(t.easing)}return i}function r_(n,e,t){for(var r=0;r<t;r++)n[r]=e[r]}function Bce(n){return Gr(n[0])}function zce(n,e,t){if(Gr(e[t]))if(Gr(n[t])||(n[t]=[]),Ro(e[t])){var r=e[t].length;n[t].length!==r&&(n[t]=new e[t].constructor(r),r_(n[t],e[t],r))}else{var o=e[t],i=n[t],a=o.length;if(Bce(o))for(var s=o[0].length,l=0;l<a;l++)i[l]?r_(i[l],o[l],s):i[l]=Array.prototype.slice.call(o[l]);else r_(i,o,a);i.length=o.length}else n[t]=e[t]}function Vce(n,e){return n===e||Gr(n)&&Gr(e)&&Gce(n,e)}function Gce(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function eW(n,e,t,r,o,i,a,s){for(var l=yt(r),u=o.duration,c=o.delay,d=o.additive,h=o.setToFinal,f=!Ge(i),p=n.animators,g=[],v=0;v<l.length;v++){var m=l[v],y=r[m];if(y!=null&&t[m]!=null&&(f||i[m]))if(Ge(y)&&!Gr(y)&&!ky(y)){if(e){s||(t[m]=y,n.updateDuringAnimation(e));continue}eW(n,m,t[m],y,o,i&&i[m],a,s)}else g.push(m);else s||(t[m]=y,n.updateDuringAnimation(e),g.push(m))}var b=g.length;if(!d&&b)for(var w=0;w<p.length;w++){var x=p[w];if(x.targetName===e){var S=x.stopTracks(g);if(S){var C=ct(p,x);p.splice(C,1)}}}if(o.force||(g=Ht(g,function(T){return!Vce(r[T],t[T])}),b=g.length),b>0||o.force&&!a.length){var k=void 0,_=void 0,I=void 0;if(s){_={},h&&(k={});for(var w=0;w<b;w++){var m=g[w];_[m]=t[m],h?k[m]=r[m]:t[m]=r[m]}}else if(h){I={};for(var w=0;w<b;w++){var m=g[w];I[m]=Ov(t[m]),zce(t,r,m)}}var x=new xE(t,!1,!1,d?Ht(p,function(A){return A.targetName===e}):null);x.targetName=e,o.scope&&(x.scope=o.scope),h&&k&&x.whenWithKeys(0,k,g),I&&x.whenWithKeys(0,I,g),x.whenWithKeys(u??500,s?_:r,g).delay(c||0),n.addAnimator(x,e),a.push(x)}}var tW=function(n){K(e,n);function e(t){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var r=this._children,o=0;o<r.length;o++)if(r[o].name===t)return r[o]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,r){if(t&&t!==this&&t.parent!==this&&r&&r.parent===this){var o=this._children,i=o.indexOf(r);i>=0&&(o.splice(i,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,r){var o=ct(this._children,t);return o>=0&&this.replaceAt(r,o),this},e.prototype.replaceAt=function(t,r){var o=this._children,i=o[r];if(t&&t!==this&&t.parent!==this&&t!==i){o[r]=t,i.parent=null;var a=this.__zr;a&&i.removeSelfFromZr(a),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var r=this.__zr;r&&r!==t.__zr&&t.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(t){var r=this.__zr,o=this._children,i=ct(o,t);return i<0?this:(o.splice(i,1),t.parent=null,r&&t.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,r=this.__zr,o=0;o<t.length;o++){var i=t[o];r&&i.removeSelfFromZr(r),i.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,r){for(var o=this._children,i=0;i<o.length;i++){var a=o[i];t.call(r,a,i)}return this},e.prototype.traverse=function(t,r){for(var o=0;o<this._children.length;o++){var i=this._children[o],a=t.call(r,i);i.isGroup&&!a&&i.traverse(t,r)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++){var o=this._children[r];o.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++){var o=this._children[r];o.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var r=new lt(0,0,0,0),o=t||this._children,i=[],a=null,s=0;s<o.length;s++){var l=o[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(i);c?(lt.applyTransform(r,u,c),a=a||r.clone(),a.union(r)):(a=a||u.clone(),a.union(u))}}return a||r},e}(YS);tW.prototype.type="group";const Xe=tW;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var lw={},fd={};function Wce(n){delete fd[n]}function Hce(n){if(!n)return!1;if(typeof n=="string")return pm(n,1)<aA;if(n.colorStops){for(var e=n.colorStops,t=0,r=e.length,o=0;o<r;o++)t+=pm(e[o].color,1);return t/=r,t<aA}return!1}var Uce=function(){function n(e,t,r){var o=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=t,this.id=e;var i=new tce,a=r.renderer||"canvas";lw[a]||(a=yt(lw)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var s=new lw[a](t,i,r,e),l=r.ssr||s.ssrOnly;this.storage=i,this.painter=s;var u=!At.node&&!At.worker&&!l?new Mce(s.getViewportRoot(),s.root):null,c=r.useCoarsePointer,d=c==null||c==="auto"?At.touchEventsSupported:!!c,h=44,f;d&&(f=et(r.pointerSize,h)),this.handler=new PG(i,s,u,s.root,f),this.animation=new Tce({stage:{update:l?null:function(){return o._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},n.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=Hce(e))},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},n.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},n.prototype.flush=function(){this._disposed||this._flush(!1)},n.prototype._flush=function(e){var t,r=Cf();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var o=Cf();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:o-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},n.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},n.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},n.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},n.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},n.prototype.on=function(e,t,r){return this._disposed||this.handler.on(e,t,r),this},n.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},n.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},n.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof Xe&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},n.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,Wce(this.id))},n}();function uA(n,e){var t=new Uce(fE(),n,e);return fd[t.id]=t,t}function jce(n){n.dispose()}function Kce(){for(var n in fd)fd.hasOwnProperty(n)&&fd[n].dispose();fd={}}function Xce(n){return fd[n]}function nW(n,e){lw[n]=e}var cA;function rW(n){if(typeof cA=="function")return cA(n)}function oW(n){cA=n}var qce="5.6.0";const Yce=Object.freeze(Object.defineProperty({__proto__:null,dispose:jce,disposeAll:Kce,getElementSSRData:rW,getInstance:Xce,init:uA,registerPainter:nW,registerSSRDataGetter:oW,version:qce},Symbol.toStringTag,{value:"Module"}));var PO=1e-4,iW=20;function Zce(n){return n.replace(/^\s+|\s+$/g,"")}function Wt(n,e,t,r){var o=e[0],i=e[1],a=t[0],s=t[1],l=i-o,u=s-a;if(l===0)return u===0?a:(a+s)/2;if(r)if(l>0){if(n<=o)return a;if(n>=i)return s}else{if(n>=o)return a;if(n<=i)return s}else{if(n===o)return a;if(n===i)return s}return(n-o)/l*u+a}function _e(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return De(n)?Zce(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):n==null?NaN:+n}function Mn(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),iW),n=(+n).toFixed(e),t?n:+n}function vi(n){return n.sort(function(e,t){return e-t}),n}function Aa(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return aW(n)}function aW(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),r=t>0?+e.slice(t+1):0,o=t>0?t:e.length,i=e.indexOf("."),a=i<0?0:o-1-i;return Math.max(0,a-r)}function SE(n,e){var t=Math.log,r=Math.LN10,o=Math.floor(t(n[1]-n[0])/r),i=Math.round(t(Math.abs(e[1]-e[0]))/r),a=Math.min(Math.max(-o+i,0),20);return isFinite(a)?a:20}function Jce(n,e,t){if(!n[e])return 0;var r=sW(n,t);return r[e]||0}function sW(n,e){var t=na(n,function(f,p){return f+(isNaN(p)?0:p)},0);if(t===0)return[];for(var r=Math.pow(10,e),o=fe(n,function(f){return(isNaN(f)?0:f)/t*r*100}),i=r*100,a=fe(o,function(f){return Math.floor(f)}),s=na(a,function(f,p){return f+p},0),l=fe(o,function(f,p){return f-a[p]});s<i;){for(var u=Number.NEGATIVE_INFINITY,c=null,d=0,h=l.length;d<h;++d)l[d]>u&&(u=l[d],c=d);++a[c],l[c]=0,++s}return fe(a,function(f){return f/r})}function Qce(n,e){var t=Math.max(Aa(n),Aa(e)),r=n+e;return t>iW?r:Mn(r,t)}var dA=9007199254740991;function CE(n){var e=Math.PI*2;return(n%e+e)%e}function Qf(n){return n>-PO&&n<PO}var ede=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function xi(n){if(n instanceof Date)return n;if(De(n)){var e=ede.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function lW(n){return Math.pow(10,ZS(n))}function ZS(n){if(n===0)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function kE(n,e){var t=ZS(n),r=Math.pow(10,t),o=n/r,i;return e?o<1.5?i=1:o<2.5?i=2:o<4?i=3:o<7?i=5:i=10:o<1?i=1:o<2?i=2:o<3?i=3:o<5?i=5:i=10,n=i*r,t>=-20?+n.toFixed(t<0?-t:0):n}function uw(n,e){var t=(n.length-1)*e+1,r=Math.floor(t),o=+n[r-1],i=t-r;return i?o+i*(n[r]-o):o}function hA(n){n.sort(function(l,u){return s(l,u,0)?-1:1});for(var e=-1/0,t=1,r=0;r<n.length;){for(var o=n[r].interval,i=n[r].close,a=0;a<2;a++)o[a]<=e&&(o[a]=e,i[a]=a?1:1-t),e=o[a],t=i[a];o[0]===o[1]&&i[0]*i[1]!==1?n.splice(r,1):r++}return n;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function Fs(n){var e=parseFloat(n);return e==n&&(e!==0||!De(n)||n.indexOf("x")<=0)?e:NaN}function _E(n){return!isNaN(Fs(n))}function uW(){return Math.round(Math.random()*9)}function cW(n,e){return e===0?n:cW(e,n%e)}function MO(n,e){return n==null?e:e==null?n:n*e/cW(n,e)}function zt(n){throw new Error(n)}function LO(n,e,t){return(e-n)*t+n}var dW="series\0",hW="\0_ec_\0";function rn(n){return n instanceof Array?n:n==null?[]:[n]}function Fd(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var r=0,o=t.length;r<o;r++){var i=t[r];!n.emphasis[e].hasOwnProperty(i)&&n[e].hasOwnProperty(i)&&(n.emphasis[e][i]=n[e][i])}}}var NO=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Tp(n){return Ge(n)&&!ce(n)&&!(n instanceof Date)?n.value:n}function tde(n){return Ge(n)&&!(n instanceof Array)}function fW(n,e,t){var r=t==="normalMerge",o=t==="replaceMerge",i=t==="replaceAll";n=n||[],e=(e||[]).slice();var a=Pe();R(e,function(l,u){if(!Ge(l)){e[u]=null;return}});var s=nde(n,a,t);return(r||o)&&rde(s,n,a,e),r&&ode(s,e),r||o?ide(s,e,o):i&&ade(s,e),sde(s),s}function nde(n,e,t){var r=[];if(t==="replaceAll")return r;for(var o=0;o<n.length;o++){var i=n[o];i&&i.id!=null&&e.set(i.id,o),r.push({existing:t==="replaceMerge"||vm(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return r}function rde(n,e,t,r){R(r,function(o,i){if(!(!o||o.id==null)){var a=Fv(o.id),s=t.get(a);if(s!=null){var l=n[s];uo(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=o,l.existing=e[s],r[i]=null}}})}function ode(n,e){R(e,function(t,r){if(!(!t||t.name==null))for(var o=0;o<n.length;o++){var i=n[o].existing;if(!n[o].newOption&&i&&(i.id==null||t.id==null)&&!vm(t)&&!vm(i)&&pW("name",i,t)){n[o].newOption=t,e[r]=null;return}}})}function ide(n,e,t){R(e,function(r){if(r){for(var o,i=0;(o=n[i])&&(o.newOption||vm(o.existing)||o.existing&&r.id!=null&&!pW("id",r,o.existing));)i++;o?(o.newOption=r,o.brandNew=t):n.push({newOption:r,brandNew:t,existing:null,keyInfo:null}),i++}})}function ade(n,e){R(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function sde(n){var e=Pe();R(n,function(t){var r=t.existing;r&&e.set(r.id,t)}),R(n,function(t){var r=t.newOption;uo(!r||r.id==null||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),R(n,function(t,r){var o=t.existing,i=t.newOption,a=t.keyInfo;if(Ge(i)){if(a.name=i.name!=null?Fv(i.name):o?o.name:dW+r,o)a.id=Fv(o.id);else if(i.id!=null)a.id=Fv(i.id);else{var s=0;do a.id="\0"+a.name+"\0"+s++;while(e.get(a.id))}e.set(a.id,t)}})}function pW(n,e,t){var r=ir(e[n],null),o=ir(t[n],null);return r!=null&&o!=null&&r===o}function Fv(n){return ir(n,"")}function ir(n,e){return n==null?e:De(n)?n:Rt(n)||Bw(n)?n+"":e}function IE(n){var e=n.name;return!!(e&&e.indexOf(dW))}function vm(n){return n&&n.id!=null&&Fv(n.id).indexOf(hW)===0}function lde(n){return hW+n}function ude(n,e,t){R(n,function(r){var o=r.newOption;Ge(o)&&(r.keyInfo.mainType=e,r.keyInfo.subType=cde(e,o,r.existing,t))})}function cde(n,e,t,r){var o=e.type?e.type:t?t.subType:r.determineSubType(n,e);return o}function dde(n,e){var t={},r={};return o(n||[],t),o(e||[],r,t),[i(t),i(r)];function o(a,s,l){for(var u=0,c=a.length;u<c;u++){var d=ir(a[u].seriesId,null);if(d==null)return;for(var h=rn(a[u].dataIndex),f=l&&l[d],p=0,g=h.length;p<g;p++){var v=h[p];f&&f[v]?f[v]=null:(s[d]||(s[d]={}))[v]=1}}}function i(a,s){var l=[];for(var u in a)if(a.hasOwnProperty(u)&&a[u]!=null)if(s)l.push(+u);else{var c=i(a[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Bd(n,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return ce(e.dataIndex)?fe(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex);if(e.name!=null)return ce(e.name)?fe(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name)}function Tt(){var n="__ec_inner_"+hde++;return function(e){return e[n]||(e[n]={})}}var hde=uW();function Bv(n,e,t){var r=TE(e,t),o=r.mainTypeSpecified,i=r.queryOptionMap,a=r.others,s=a,l=t?t.defaultMainType:null;return!o&&l&&i.set(l,{}),i.each(function(u,c){var d=Dy(n,c,u,{useDefault:l===c,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});s[c+"Models"]=d.models,s[c+"Model"]=d.models[0]}),s}function TE(n,e){var t;if(De(n)){var r={};r[n+"Index"]=0,t=r}else t=n;var o=Pe(),i={},a=!1;return R(t,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){i[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],d=(u[2]||"").toLowerCase();if(!(!c||!d||e&&e.includeMainTypes&&ct(e.includeMainTypes,c)<0)){a=a||!!c;var h=o.get(c)||o.set(c,{});h[d]=s}}),{mainTypeSpecified:a,queryOptionMap:o,others:i}}var Qn={useDefault:!0,enableAll:!1,enableNone:!1},fde={useDefault:!1,enableAll:!0,enableNone:!0};function Dy(n,e,t,r){r=r||Qn;var o=t.index,i=t.id,a=t.name,s={models:null,specified:o!=null||i!=null||a!=null};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=n.getComponent(e))?[l]:[],s}return o==="none"||o===!1?(uo(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(o==="all"&&(uo(r.enableAll,'`"all"` is not a valid value on index option.'),o=i=a=null),s.models=n.queryComponents({mainType:e,index:o,id:i,name:a}),s)}function gW(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function pde(n,e){return n.getAttribute?n.getAttribute(e):n[e]}function gde(n){return n==="auto"?At.domSupported?"html":"richText":n||"html"}function fA(n,e){var t=Pe(),r=[];return R(n,function(o){var i=e(o);(t.get(i)||(r.push(i),t.set(i,[]))).push(o)}),{keys:r,buckets:t}}function vW(n,e,t,r,o){var i=e==null||e==="auto";if(r==null)return r;if(Rt(r)){var a=LO(t||0,r,o);return Mn(a,i?Math.max(Aa(t||0),Aa(r)):e)}else{if(De(r))return o<1?t:r;for(var s=[],l=t,u=r,c=Math.max(l?l.length:0,u.length),d=0;d<c;++d){var h=n.getDimensionInfo(d);if(h&&h.type==="ordinal")s[d]=(o<1&&l?l:u)[d];else{var f=l&&l[d]?l[d]:0,p=u[d],a=LO(f,p,o);s[d]=Mn(a,i?Math.max(Aa(f),Aa(p)):e)}}return s}}var vde=".",kc="___EC__COMPONENT__CONTAINER___",mW="___EC__EXTENDED_CLASS___";function ws(n){var e={main:"",sub:""};if(n){var t=n.split(vde);e.main=t[0]||"",e.sub=t[1]||""}return e}function mde(n){uo(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function yde(n){return!!(n&&n[mW])}function AE(n,e){n.$constructor=n,n.extend=function(t){var r=this,o;return bde(r)?o=function(i){K(a,i);function a(){return i.apply(this,arguments)||this}return a}(r):(o=function(){(t.$constructor||r).apply(this,arguments)},pE(o,this)),oe(o.prototype,t),o[mW]=!0,o.extend=this.extend,o.superCall=Sde,o.superApply=Cde,o.superClass=r,o}}function bde(n){return ze(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function yW(n,e){n.extend=e.extend}var wde=Math.round(Math.random()*10);function xde(n){var e=["__\0is_clz",wde++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!!(t&&t[e])}}function Sde(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return this.superClass.prototype[e].apply(n,t)}function Cde(n,e,t){return this.superClass.prototype[e].apply(n,t)}function JS(n){var e={};n.registerClass=function(r){var o=r.type||r.prototype.type;if(o){mde(o),r.prototype.type=o;var i=ws(o);if(!i.sub)e[i.main]=r;else if(i.sub!==kc){var a=t(i);a[i.sub]=r}}return r},n.getClass=function(r,o,i){var a=e[r];if(a&&a[kc]&&(a=o?a[o]:null),i&&!a)throw new Error(o?"Component "+r+"."+(o||"")+" is used but not imported.":r+".type should be specified.");return a},n.getClassesByMainType=function(r){var o=ws(r),i=[],a=e[o.main];return a&&a[kc]?R(a,function(s,l){l!==kc&&i.push(s)}):i.push(a),i},n.hasClass=function(r){var o=ws(r);return!!e[o.main]},n.getAllClassMainTypes=function(){var r=[];return R(e,function(o,i){r.push(i)}),r},n.hasSubTypes=function(r){var o=ws(r),i=e[o.main];return i&&i[kc]};function t(r){var o=e[r.main];return(!o||!o[kc])&&(o=e[r.main]={},o[kc]=!0),o}}function zd(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(r,o,i){for(var a={},s=0;s<n.length;s++){var l=n[s][1];if(!(o&&ct(o,l)>=0||i&&ct(i,l)<0)){var u=r.getShallow(l,e);u!=null&&(a[n[s][0]]=u)}}return a}}var kde=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],_de=zd(kde),Ide=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return _de(this,e,t)},n}(),pA=new Ty(50);function Tde(n){if(typeof n=="string"){var e=pA.get(n);return e&&e.image}else return n}function DE(n,e,t,r,o){if(n)if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var i=pA.get(n),a={hostEl:t,cb:r,cbPayload:o};return i?(e=i.image,!QS(e)&&i.pending.push(a)):(e=za.loadImage(n,OO,OO),e.__zrImageSrc=n,pA.put(n,e.__cachedImgObj={image:e,pending:[a]})),e}else return n;else return e}function OO(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],r=t.cb;r&&r(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function QS(n){return n&&n.width&&n.height}var o_=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function bW(n,e,t,r,o){if(!e)return"";var i=(n+"").split(`
`);o=wW(e,t,r,o);for(var a=0,s=i.length;a<s;a++)i[a]=xW(i[a],o);return i.join(`
`)}function wW(n,e,t,r){r=r||{};var o=oe({},r);o.font=e,t=et(t,"..."),o.maxIterations=et(r.maxIterations,2);var i=o.minChar=et(r.minChar,0);o.cnCharWidth=bi("",e);var a=o.ascCharWidth=bi("a",e);o.placeholder=et(r.placeholder,"");for(var s=n=Math.max(0,n-1),l=0;l<i&&s>=a;l++)s-=a;var u=bi(t,e);return u>s&&(t="",u=0),s=n-u,o.ellipsis=t,o.ellipsisWidth=u,o.contentWidth=s,o.containerWidth=n,o}function xW(n,e){var t=e.containerWidth,r=e.font,o=e.contentWidth;if(!t)return"";var i=bi(n,r);if(i<=t)return n;for(var a=0;;a++){if(i<=o||a>=e.maxIterations){n+=e.ellipsis;break}var s=a===0?Ade(n,o,e.ascCharWidth,e.cnCharWidth):i>0?Math.floor(n.length*o/i):0;n=n.substr(0,s),i=bi(n,r)}return n===""&&(n=e.placeholder),n}function Ade(n,e,t,r){for(var o=0,i=0,a=n.length;i<a&&o<e;i++){var s=n.charCodeAt(i);o+=0<=s&&s<=127?t:r}return i}function Dde(n,e){n!=null&&(n+="");var t=e.overflow,r=e.padding,o=e.font,i=t==="truncate",a=qS(o),s=et(e.lineHeight,a),l=!!e.backgroundColor,u=e.lineOverflow==="truncate",c=e.width,d;c!=null&&(t==="break"||t==="breakAll")?d=n?SW(n,e.font,c,t==="breakAll",0).lines:[]:d=n?n.split(`
`):[];var h=d.length*s,f=et(e.height,h);if(h>f&&u){var p=Math.floor(f/s);d=d.slice(0,p)}if(n&&i&&c!=null)for(var g=wW(c,o,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),v=0;v<d.length;v++)d[v]=xW(d[v],g);for(var m=f,y=0,v=0;v<d.length;v++)y=Math.max(bi(d[v],o),y);c==null&&(c=y);var b=y;return r&&(m+=r[0]+r[2],b+=r[1]+r[3],c+=r[1]+r[3]),l&&(b=c),{lines:d,height:f,outerWidth:b,outerHeight:m,lineHeight:s,calculatedLineHeight:a,contentWidth:y,contentHeight:h,width:c}}var Rde=function(){function n(){}return n}(),FO=function(){function n(e){this.tokens=[],e&&(this.tokens=e)}return n}(),Ede=function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return n}();function $de(n,e){var t=new Ede;if(n!=null&&(n+=""),!n)return t;for(var r=e.width,o=e.height,i=e.overflow,a=(i==="break"||i==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:i==="breakAll"}:null,s=o_.lastIndex=0,l;(l=o_.exec(n))!=null;){var u=l.index;u>s&&i_(t,n.substring(s,u),e,a),i_(t,l[2],e,a,l[1]),s=o_.lastIndex}s<n.length&&i_(t,n.substring(s,n.length),e,a);var c=[],d=0,h=0,f=e.padding,p=i==="truncate",g=e.lineOverflow==="truncate";function v(M,L,V){M.width=L,M.lineHeight=V,d+=V,h=Math.max(h,L)}e:for(var m=0;m<t.lines.length;m++){for(var y=t.lines[m],b=0,w=0,x=0;x<y.tokens.length;x++){var S=y.tokens[x],C=S.styleName&&e.rich[S.styleName]||{},k=S.textPadding=C.padding,_=k?k[1]+k[3]:0,I=S.font=C.font||e.font;S.contentHeight=qS(I);var T=et(C.height,S.contentHeight);if(S.innerHeight=T,k&&(T+=k[0]+k[2]),S.height=T,S.lineHeight=$a(C.lineHeight,e.lineHeight,T),S.align=C&&C.align||e.align,S.verticalAlign=C&&C.verticalAlign||"middle",g&&o!=null&&d+S.lineHeight>o){x>0?(y.tokens=y.tokens.slice(0,x),v(y,w,b),t.lines=t.lines.slice(0,m+1)):t.lines=t.lines.slice(0,m);break e}var A=C.width,D=A==null||A==="auto";if(typeof A=="string"&&A.charAt(A.length-1)==="%")S.percentWidth=A,c.push(S),S.contentWidth=bi(S.text,I);else{if(D){var E=C.backgroundColor,$=E&&E.image;$&&($=Tde($),QS($)&&(S.width=Math.max(S.width,$.width*T/$.height)))}var P=p&&r!=null?r-w:null;P!=null&&P<S.width?!D||P<_?(S.text="",S.width=S.contentWidth=0):(S.text=bW(S.text,P-_,I,e.ellipsis,{minChar:e.truncateMinChar}),S.width=S.contentWidth=bi(S.text,I)):S.contentWidth=bi(S.text,I)}S.width+=_,w+=S.width,C&&(b=Math.max(b,S.lineHeight))}v(y,w,b)}t.outerWidth=t.width=et(r,h),t.outerHeight=t.height=et(o,d),t.contentHeight=d,t.contentWidth=h,f&&(t.outerWidth+=f[1]+f[3],t.outerHeight+=f[0]+f[2]);for(var m=0;m<c.length;m++){var S=c[m],N=S.percentWidth;S.width=parseInt(N,10)/100*t.width}return t}function i_(n,e,t,r,o){var i=e==="",a=o&&t.rich[o]||{},s=n.lines,l=a.font||t.font,u=!1,c,d;if(r){var h=a.padding,f=h?h[1]+h[3]:0;if(a.width!=null&&a.width!=="auto"){var p=Ga(a.width,r.width)+f;s.length>0&&p+r.accumWidth>r.width&&(c=e.split(`
`),u=!0),r.accumWidth=p}else{var g=SW(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=g.accumWidth+f,d=g.linesWidths,c=g.lines}}else c=e.split(`
`);for(var v=0;v<c.length;v++){var m=c[v],y=new Rde;if(y.styleName=o,y.text=m,y.isLineHolder=!m&&!i,typeof a.width=="number"?y.width=a.width:y.width=d?d[v]:bi(m,l),!v&&!u){var b=(s[s.length-1]||(s[0]=new FO)).tokens,w=b.length;w===1&&b[0].isLineHolder?b[0]=y:(m||!w||i)&&b.push(y)}else s.push(new FO([y]))}}function Pde(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var Mde=na(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function Lde(n){return Pde(n)?!!Mde[n]:!0}function SW(n,e,t,r,o){for(var i=[],a=[],s="",l="",u=0,c=0,d=0;d<n.length;d++){var h=n.charAt(d);if(h===`
`){l&&(s+=l,c+=u),i.push(s),a.push(c),s="",l="",u=0,c=0;continue}var f=bi(h,e),p=r?!1:!Lde(h);if(i.length?c+f>t:o+c+f>t){c?(s||l)&&(p?(s||(s=l,l="",u=0,c=u),i.push(s),a.push(c-u),l+=h,u+=f,s="",c=u):(l&&(s+=l,l="",u=0),i.push(s),a.push(c),s=h,c=f)):p?(i.push(l),a.push(u),l=h,u=f):(i.push(h),a.push(f));continue}c+=f,p?(l+=h,u+=f):(l&&(s+=l,l="",u=0),s+=h)}return!i.length&&!s&&(s=n,l="",u=0),l&&(s+=l),s&&(i.push(s),a.push(c)),i.length===1&&(c+=o),{accumWidth:c,lines:i,linesWidths:a}}var gA="__zr_style_"+Math.round(Math.random()*10),Id={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},eC={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Id[gA]=!0;var BO=["z","z2","invisible"],Nde=["invisible"],Ode=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype._init=function(t){for(var r=yt(t),o=0;o<r.length;o++){var i=r[o];i==="style"?this.useStyle(t[i]):n.prototype.attrKV.call(this,i,t[i])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,r,o,i){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Fde(this,t,r)||a&&!a[0]&&!a[3])return!1;if(o&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(i&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,r){return this.rectContain(t,r)},e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.rectContain=function(t,r){var o=this.transformCoordToLocal(t,r),i=this.getBoundingRect();return i.contain(o[0],o[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,o=this.getBoundingRect(),i=this.style,a=i.shadowBlur||0,s=i.shadowOffsetX||0,l=i.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new lt(0,0,0,0)),r?lt.applyTransform(t,o,r):t.copy(o),(a||s||l)&&(t.width+=a*2+Math.abs(s),t.height+=a*2+Math.abs(l),t.x=Math.min(t.x,t.x+s-a),t.y=Math.min(t.y,t.y+l-a));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+u*2),t.height=Math.ceil(t.height+1+u*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new lt(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,r){t!=="style"?n.prototype.attrKV.call(this,t,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(t,r){return typeof t=="string"?this.style[t]=r:oe(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=av,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&av)},e.prototype.styleUpdated=function(){this.__dirty&=~av},e.prototype.createStyle=function(t){return _y(Id,t)},e.prototype.useStyle=function(t){t[gA]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[gA]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,r,BO)},e.prototype._applyStateObj=function(t,r,o,i,a,s){n.prototype._applyStateObj.call(this,t,r,o,i,a,s);var l=!(r&&i),u;if(r&&r.style?a?i?u=r.style:(u=this._mergeStyle(this.createStyle(),o.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),i?this.style:o.style),this._mergeStyle(u,r.style)):l&&(u=o.style),u)if(a){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var d=yt(c),h=0;h<d.length;h++){var f=d[h];f in u&&(u[f]=u[f],this.style[f]=c[f])}for(var p=yt(u),h=0;h<p.length;h++){var f=p[h];this.style[f]=this.style[f]}this._transitionState(t,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var g=this.__inHover?Nde:BO,h=0;h<g.length;h++){var f=g[h];r&&r[f]!=null?this[f]=r[f]:l&&o[f]!=null&&(this[f]=o[f])}},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),o,i=0;i<t.length;i++){var a=t[i];a.style&&(o=o||{},this._mergeStyle(o,a.style))}return o&&(r.style=o),r},e.prototype._mergeStyle=function(t,r){return oe(t,r),t},e.prototype.getAnimationStyleProps=function(){return eC},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=hi|av}(),e}(YS),a_=new lt(0,0,0,0),s_=new lt(0,0,0,0);function Fde(n,e,t){return a_.copy(n.getBoundingRect()),n.transform&&a_.applyTransform(n.transform),s_.width=e,s_.height=t,!a_.intersect(s_)}const ra=Ode;var Ho=Math.min,Uo=Math.max,l_=Math.sin,u_=Math.cos,_c=Math.PI*2,zb=Zu(),Vb=Zu(),Gb=Zu();function tC(n,e,t){if(n.length!==0){for(var r=n[0],o=r[0],i=r[0],a=r[1],s=r[1],l=1;l<n.length;l++)r=n[l],o=Ho(o,r[0]),i=Uo(i,r[0]),a=Ho(a,r[1]),s=Uo(s,r[1]);e[0]=o,e[1]=a,t[0]=i,t[1]=s}}function zO(n,e,t,r,o,i){o[0]=Ho(n,t),o[1]=Ho(e,r),i[0]=Uo(n,t),i[1]=Uo(e,r)}var VO=[],GO=[];function Bde(n,e,t,r,o,i,a,s,l,u){var c=FG,d=fr,h=c(n,t,o,a,VO);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var f=0;f<h;f++){var p=d(n,t,o,a,VO[f]);l[0]=Ho(p,l[0]),u[0]=Uo(p,u[0])}h=c(e,r,i,s,GO);for(var f=0;f<h;f++){var g=d(e,r,i,s,GO[f]);l[1]=Ho(g,l[1]),u[1]=Uo(g,u[1])}l[0]=Ho(n,l[0]),u[0]=Uo(n,u[0]),l[0]=Ho(a,l[0]),u[0]=Uo(a,u[0]),l[1]=Ho(e,l[1]),u[1]=Uo(e,u[1]),l[1]=Ho(s,l[1]),u[1]=Uo(s,u[1])}function zde(n,e,t,r,o,i,a,s){var l=zG,u=Dr,c=Uo(Ho(l(n,t,o),1),0),d=Uo(Ho(l(e,r,i),1),0),h=u(n,t,o,c),f=u(e,r,i,d);a[0]=Ho(n,o,h),a[1]=Ho(e,i,f),s[0]=Uo(n,o,h),s[1]=Uo(e,i,f)}function Vde(n,e,t,r,o,i,a,s,l){var u=dl,c=hl,d=Math.abs(o-i);if(d%_c<1e-4&&d>1e-4){s[0]=n-t,s[1]=e-r,l[0]=n+t,l[1]=e+r;return}if(zb[0]=u_(o)*t+n,zb[1]=l_(o)*r+e,Vb[0]=u_(i)*t+n,Vb[1]=l_(i)*r+e,u(s,zb,Vb),c(l,zb,Vb),o=o%_c,o<0&&(o=o+_c),i=i%_c,i<0&&(i=i+_c),o>i&&!a?i+=_c:o<i&&a&&(o+=_c),a){var h=i;i=o,o=h}for(var f=0;f<i;f+=Math.PI/2)f>o&&(Gb[0]=u_(f)*t+n,Gb[1]=l_(f)*r+e,u(s,Gb,s),c(l,Gb,l))}var ln={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ic=[],Tc=[],es=[],Ul=[],ts=[],ns=[],c_=Math.min,d_=Math.max,Ac=Math.cos,Dc=Math.sin,Qs=Math.abs,vA=Math.PI,eu=vA*2,h_=typeof Float32Array<"u",Ig=[];function f_(n){var e=Math.round(n/vA*1e8)/1e8;return e%2*vA}function RE(n,e){var t=f_(n[0]);t<0&&(t+=eu);var r=t-n[0],o=n[1];o+=r,!e&&o-t>=eu?o=t+eu:e&&t-o>=eu?o=t-eu:!e&&t>o?o=t+(eu-f_(t-o)):e&&t<o&&(o=t-(eu-f_(o-t))),n[0]=t,n[1]=o}var Bs=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,r){r=r||0,r>0&&(this._ux=Qs(r/Xw/e)||0,this._uy=Qs(r/Xw/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(ln.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var r=Qs(e-this._xi),o=Qs(t-this._yi),i=r>this._ux||o>this._uy;if(this.addData(ln.L,e,t),this._ctx&&i&&this._ctx.lineTo(e,t),i)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var a=r*r+o*o;a>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=a)}return this},n.prototype.bezierCurveTo=function(e,t,r,o,i,a){return this._drawPendingPt(),this.addData(ln.C,e,t,r,o,i,a),this._ctx&&this._ctx.bezierCurveTo(e,t,r,o,i,a),this._xi=i,this._yi=a,this},n.prototype.quadraticCurveTo=function(e,t,r,o){return this._drawPendingPt(),this.addData(ln.Q,e,t,r,o),this._ctx&&this._ctx.quadraticCurveTo(e,t,r,o),this._xi=r,this._yi=o,this},n.prototype.arc=function(e,t,r,o,i,a){this._drawPendingPt(),Ig[0]=o,Ig[1]=i,RE(Ig,a),o=Ig[0],i=Ig[1];var s=i-o;return this.addData(ln.A,e,t,r,r,o,s,0,a?0:1),this._ctx&&this._ctx.arc(e,t,r,o,i,a),this._xi=Ac(i)*r+e,this._yi=Dc(i)*r+t,this},n.prototype.arcTo=function(e,t,r,o,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,r,o,i),this},n.prototype.rect=function(e,t,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,r,o),this.addData(ln.R,e,t,r,o),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(ln.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&e.closePath(),this._xi=t,this._yi=r,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;!(this.data&&this.data.length===t)&&h_&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,o=this._len,i=0;i<t;i++)r+=e[i].len();h_&&this.data instanceof Float32Array&&(this.data=new Float32Array(o+r));for(var i=0;i<t;i++)for(var a=e[i].data,s=0;s<a.length;s++)this.data[o++]=a[s];this._len=o},n.prototype.addData=function(e,t,r,o,i,a,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var d=0;d<arguments.length;d++)c[this._len++]=arguments[d]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,h_&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){es[0]=es[1]=ts[0]=ts[1]=Number.MAX_VALUE,Ul[0]=Ul[1]=ns[0]=ns[1]=-Number.MAX_VALUE;var e=this.data,t=0,r=0,o=0,i=0,a;for(a=0;a<this._len;){var s=e[a++],l=a===1;switch(l&&(t=e[a],r=e[a+1],o=t,i=r),s){case ln.M:t=o=e[a++],r=i=e[a++],ts[0]=o,ts[1]=i,ns[0]=o,ns[1]=i;break;case ln.L:zO(t,r,e[a],e[a+1],ts,ns),t=e[a++],r=e[a++];break;case ln.C:Bde(t,r,e[a++],e[a++],e[a++],e[a++],e[a],e[a+1],ts,ns),t=e[a++],r=e[a++];break;case ln.Q:zde(t,r,e[a++],e[a++],e[a],e[a+1],ts,ns),t=e[a++],r=e[a++];break;case ln.A:var u=e[a++],c=e[a++],d=e[a++],h=e[a++],f=e[a++],p=e[a++]+f;a+=1;var g=!e[a++];l&&(o=Ac(f)*d+u,i=Dc(f)*h+c),Vde(u,c,d,h,f,p,g,ts,ns),t=Ac(p)*d+u,r=Dc(p)*h+c;break;case ln.R:o=t=e[a++],i=r=e[a++];var v=e[a++],m=e[a++];zO(o,i,o+v,i+m,ts,ns);break;case ln.Z:t=o,r=i;break}dl(es,es,ts),hl(Ul,Ul,ns)}return a===0&&(es[0]=es[1]=Ul[0]=Ul[1]=0),new lt(es[0],es[1],Ul[0]-es[0],Ul[1]-es[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,r=this._ux,o=this._uy,i=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,d=0,h=0;h<t;){var f=e[h++],p=h===1;p&&(i=e[h],a=e[h+1],s=i,l=a);var g=-1;switch(f){case ln.M:i=s=e[h++],a=l=e[h++];break;case ln.L:{var v=e[h++],m=e[h++],y=v-i,b=m-a;(Qs(y)>r||Qs(b)>o||h===t-1)&&(g=Math.sqrt(y*y+b*b),i=v,a=m);break}case ln.C:{var w=e[h++],x=e[h++],v=e[h++],m=e[h++],S=e[h++],C=e[h++];g=nce(i,a,w,x,v,m,S,C,10),i=S,a=C;break}case ln.Q:{var w=e[h++],x=e[h++],v=e[h++],m=e[h++];g=oce(i,a,w,x,v,m,10),i=v,a=m;break}case ln.A:var k=e[h++],_=e[h++],I=e[h++],T=e[h++],A=e[h++],D=e[h++],E=D+A;h+=1,p&&(s=Ac(A)*I+k,l=Dc(A)*T+_),g=d_(I,T)*c_(eu,Math.abs(D)),i=Ac(E)*I+k,a=Dc(E)*T+_;break;case ln.R:{s=i=e[h++],l=a=e[h++];var $=e[h++],P=e[h++];g=$*2+P*2;break}case ln.Z:{var y=s-i,b=l-a;g=Math.sqrt(y*y+b*b),i=s,a=l;break}}g>=0&&(u[d++]=g,c+=g)}return this._pathLen=c,c},n.prototype.rebuildPath=function(e,t){var r=this.data,o=this._ux,i=this._uy,a=this._len,s,l,u,c,d,h,f=t<1,p,g,v=0,m=0,y,b=0,w,x;if(!(f&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,g=this._pathLen,y=t*g,!y)))e:for(var S=0;S<a;){var C=r[S++],k=S===1;switch(k&&(u=r[S],c=r[S+1],s=u,l=c),C!==ln.L&&b>0&&(e.lineTo(w,x),b=0),C){case ln.M:s=u=r[S++],l=c=r[S++],e.moveTo(u,c);break;case ln.L:{d=r[S++],h=r[S++];var _=Qs(d-u),I=Qs(h-c);if(_>o||I>i){if(f){var T=p[m++];if(v+T>y){var A=(y-v)/T;e.lineTo(u*(1-A)+d*A,c*(1-A)+h*A);break e}v+=T}e.lineTo(d,h),u=d,c=h,b=0}else{var D=_*_+I*I;D>b&&(w=d,x=h,b=D)}break}case ln.C:{var E=r[S++],$=r[S++],P=r[S++],N=r[S++],M=r[S++],L=r[S++];if(f){var T=p[m++];if(v+T>y){var A=(y-v)/T;Ou(u,E,P,M,A,Ic),Ou(c,$,N,L,A,Tc),e.bezierCurveTo(Ic[1],Tc[1],Ic[2],Tc[2],Ic[3],Tc[3]);break e}v+=T}e.bezierCurveTo(E,$,P,N,M,L),u=M,c=L;break}case ln.Q:{var E=r[S++],$=r[S++],P=r[S++],N=r[S++];if(f){var T=p[m++];if(v+T>y){var A=(y-v)/T;dm(u,E,P,A,Ic),dm(c,$,N,A,Tc),e.quadraticCurveTo(Ic[1],Tc[1],Ic[2],Tc[2]);break e}v+=T}e.quadraticCurveTo(E,$,P,N),u=P,c=N;break}case ln.A:var V=r[S++],W=r[S++],j=r[S++],Q=r[S++],te=r[S++],se=r[S++],ge=r[S++],ye=!r[S++],ve=j>Q?j:Q,de=Qs(j-Q)>.001,Se=te+se,me=!1;if(f){var T=p[m++];v+T>y&&(Se=te+se*(y-v)/T,me=!0),v+=T}if(de&&e.ellipse?e.ellipse(V,W,j,Q,ge,te,Se,ye):e.arc(V,W,ve,te,Se,ye),me)break e;k&&(s=Ac(te)*j+V,l=Dc(te)*Q+W),u=Ac(Se)*j+V,c=Dc(Se)*Q+W;break;case ln.R:s=u=r[S],l=c=r[S+1],d=r[S++],h=r[S++];var Ee=r[S++],F=r[S++];if(f){var T=p[m++];if(v+T>y){var z=y-v;e.moveTo(d,h),e.lineTo(d+c_(z,Ee),h),z-=Ee,z>0&&e.lineTo(d+Ee,h+c_(z,F)),z-=F,z>0&&e.lineTo(d+d_(Ee-z,0),h+F),z-=Ee,z>0&&e.lineTo(d,h+d_(F-z,0));break e}v+=T}e.rect(d,h,Ee,F);break;case ln.Z:if(f){var T=p[m++];if(v+T>y){var A=(y-v)/T;e.lineTo(u*(1-A)+s*A,c*(1-A)+l*A);break e}v+=T}e.closePath(),u=s,c=l}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=ln,n.initDefaultProps=function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),n}();function iu(n,e,t,r,o,i,a){if(o===0)return!1;var s=o,l=0,u=n;if(a>e+s&&a>r+s||a<e-s&&a<r-s||i>n+s&&i>t+s||i<n-s&&i<t-s)return!1;if(n!==t)l=(e-r)/(n-t),u=(n*r-t*e)/(n-t);else return Math.abs(i-n)<=s/2;var c=l*i-a+u,d=c*c/(l*l+1);return d<=s/2*s/2}function Gde(n,e,t,r,o,i,a,s,l,u,c){if(l===0)return!1;var d=l;if(c>e+d&&c>r+d&&c>i+d&&c>s+d||c<e-d&&c<r-d&&c<i-d&&c<s-d||u>n+d&&u>t+d&&u>o+d&&u>a+d||u<n-d&&u<t-d&&u<o-d&&u<a-d)return!1;var h=BG(n,e,t,r,o,i,a,s,u,c,null);return h<=d/2}function CW(n,e,t,r,o,i,a,s,l){if(a===0)return!1;var u=a;if(l>e+u&&l>r+u&&l>i+u||l<e-u&&l<r-u&&l<i-u||s>n+u&&s>t+u&&s>o+u||s<n-u&&s<t-u&&s<o-u)return!1;var c=VG(n,e,t,r,o,i,s,l,null);return c<=u/2}var WO=Math.PI*2;function mi(n){return n%=WO,n<0&&(n+=WO),n}var Tg=Math.PI*2;function Wde(n,e,t,r,o,i,a,s,l){if(a===0)return!1;var u=a;s-=n,l-=e;var c=Math.sqrt(s*s+l*l);if(c-u>t||c+u<t)return!1;if(Math.abs(r-o)%Tg<1e-4)return!0;if(i){var d=r;r=mi(o),o=mi(d)}else r=mi(r),o=mi(o);r>o&&(o+=Tg);var h=Math.atan2(l,s);return h<0&&(h+=Tg),h>=r&&h<=o||h+Tg>=r&&h+Tg<=o}function il(n,e,t,r,o,i){if(i>e&&i>r||i<e&&i<r||r===e)return 0;var a=(i-e)/(r-e),s=r<e?1:-1;(a===1||a===0)&&(s=r<e?.5:-.5);var l=a*(t-n)+n;return l===o?1/0:l>o?s:0}var jl=Bs.CMD,Rc=Math.PI*2,Hde=1e-4;function Ude(n,e){return Math.abs(n-e)<Hde}var yo=[-1,-1,-1],zi=[-1,-1];function jde(){var n=zi[0];zi[0]=zi[1],zi[1]=n}function Kde(n,e,t,r,o,i,a,s,l,u){if(u>e&&u>r&&u>i&&u>s||u<e&&u<r&&u<i&&u<s)return 0;var c=Hw(e,r,i,s,u,yo);if(c===0)return 0;for(var d=0,h=-1,f=void 0,p=void 0,g=0;g<c;g++){var v=yo[g],m=v===0||v===1?.5:1,y=fr(n,t,o,a,v);y<l||(h<0&&(h=FG(e,r,i,s,zi),zi[1]<zi[0]&&h>1&&jde(),f=fr(e,r,i,s,zi[0]),h>1&&(p=fr(e,r,i,s,zi[1]))),h===2?v<zi[0]?d+=f<e?m:-m:v<zi[1]?d+=p<f?m:-m:d+=s<p?m:-m:v<zi[0]?d+=f<e?m:-m:d+=s<f?m:-m)}return d}function Xde(n,e,t,r,o,i,a,s){if(s>e&&s>r&&s>i||s<e&&s<r&&s<i)return 0;var l=rce(e,r,i,s,yo);if(l===0)return 0;var u=zG(e,r,i);if(u>=0&&u<=1){for(var c=0,d=Dr(e,r,i,u),h=0;h<l;h++){var f=yo[h]===0||yo[h]===1?.5:1,p=Dr(n,t,o,yo[h]);p<a||(yo[h]<u?c+=d<e?f:-f:c+=i<d?f:-f)}return c}else{var f=yo[0]===0||yo[0]===1?.5:1,p=Dr(n,t,o,yo[0]);return p<a?0:i<e?f:-f}}function qde(n,e,t,r,o,i,a,s){if(s-=e,s>t||s<-t)return 0;var l=Math.sqrt(t*t-s*s);yo[0]=-l,yo[1]=l;var u=Math.abs(r-o);if(u<1e-4)return 0;if(u>=Rc-1e-4){r=0,o=Rc;var c=i?1:-1;return a>=yo[0]+n&&a<=yo[1]+n?c:0}if(r>o){var d=r;r=o,o=d}r<0&&(r+=Rc,o+=Rc);for(var h=0,f=0;f<2;f++){var p=yo[f];if(p+n>a){var g=Math.atan2(s,p),c=i?1:-1;g<0&&(g=Rc+g),(g>=r&&g<=o||g+Rc>=r&&g+Rc<=o)&&(g>Math.PI/2&&g<Math.PI*1.5&&(c=-c),h+=c)}}return h}function kW(n,e,t,r,o){for(var i=n.data,a=n.len(),s=0,l=0,u=0,c=0,d=0,h,f,p=0;p<a;){var g=i[p++],v=p===1;switch(g===jl.M&&p>1&&(t||(s+=il(l,u,c,d,r,o))),v&&(l=i[p],u=i[p+1],c=l,d=u),g){case jl.M:c=i[p++],d=i[p++],l=c,u=d;break;case jl.L:if(t){if(iu(l,u,i[p],i[p+1],e,r,o))return!0}else s+=il(l,u,i[p],i[p+1],r,o)||0;l=i[p++],u=i[p++];break;case jl.C:if(t){if(Gde(l,u,i[p++],i[p++],i[p++],i[p++],i[p],i[p+1],e,r,o))return!0}else s+=Kde(l,u,i[p++],i[p++],i[p++],i[p++],i[p],i[p+1],r,o)||0;l=i[p++],u=i[p++];break;case jl.Q:if(t){if(CW(l,u,i[p++],i[p++],i[p],i[p+1],e,r,o))return!0}else s+=Xde(l,u,i[p++],i[p++],i[p],i[p+1],r,o)||0;l=i[p++],u=i[p++];break;case jl.A:var m=i[p++],y=i[p++],b=i[p++],w=i[p++],x=i[p++],S=i[p++];p+=1;var C=!!(1-i[p++]);h=Math.cos(x)*b+m,f=Math.sin(x)*w+y,v?(c=h,d=f):s+=il(l,u,h,f,r,o);var k=(r-m)*w/b+m;if(t){if(Wde(m,y,w,x,x+S,C,e,k,o))return!0}else s+=qde(m,y,w,x,x+S,C,k,o);l=Math.cos(x+S)*b+m,u=Math.sin(x+S)*w+y;break;case jl.R:c=l=i[p++],d=u=i[p++];var _=i[p++],I=i[p++];if(h=c+_,f=d+I,t){if(iu(c,d,h,d,e,r,o)||iu(h,d,h,f,e,r,o)||iu(h,f,c,f,e,r,o)||iu(c,f,c,d,e,r,o))return!0}else s+=il(h,d,h,f,r,o),s+=il(c,f,c,d,r,o);break;case jl.Z:if(t){if(iu(l,u,c,d,e,r,o))return!0}else s+=il(l,u,c,d,r,o);l=c,u=d;break}}return!t&&!Ude(u,d)&&(s+=il(l,u,c,d,r,o)||0),s!==0}function Yde(n,e,t){return kW(n,0,!1,e,t)}function Zde(n,e,t,r){return kW(n,e,!0,t,r)}var Yw=Ve({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Id),Jde={style:Ve({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},eC.style)},p_=Os.concat(["invisible","culling","z","z2","zlevel","parent"]),vt=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.update=function(){var t=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new e;o.buildPath===e.prototype.buildPath&&(o.buildPath=function(l){t.buildPath(l,t.shape)}),o.silent=!0;var i=o.style;for(var a in r)i[a]!==r[a]&&(i[a]=r[a]);i.fill=r.fill?r.decal:null,i.decal=null,i.shadowColor=null,r.strokeFirst&&(i.stroke=null);for(var s=0;s<p_.length;++s)o[p_[s]]=this[p_[s]];o.__dirty|=hi}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var r=yt(t);this.shape=this.getDefaultShape();var o=this.getDefaultStyle();o&&this.useStyle(o);for(var i=0;i<r.length;i++){var a=r[i],s=t[a];a==="style"?this.style?oe(this.style,s):this.useStyle(s):a==="shape"?oe(this.shape,s):n.prototype.attrKV.call(this,a,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(De(t)){var r=pm(t,0);return r>.5?sA:r>.2?Lce:lA}else if(t)return lA}return sA},e.prototype.getInsideTextStroke=function(t){var r=this.style.fill;if(De(r)){var o=this.__zr,i=!!(o&&o.isDarkMode()),a=pm(t,0)<aA;if(i===a)return r}},e.prototype.buildPath=function(t,r,o){},e.prototype.pathUpdated=function(){this.__dirty&=~ff},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Bs(!1)},e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return!(r==null||r==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,r=this.style,o=!t;if(o){var i=!1;this.path||(i=!0,this.createPathProxy());var a=this.path;(i||this.__dirty&ff)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),t=a.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||o){s.copy(t);var l=r.strokeNoScale?this.getLineScale():1,u=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return t},e.prototype.contain=function(t,r){var o=this.transformCoordToLocal(t,r),i=this.getBoundingRect(),a=this.style;if(t=o[0],r=o[1],i.contain(t,r)){var s=this.path;if(this.hasStroke()){var l=a.lineWidth,u=a.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),Zde(s,l/u,t,r)))return!0}if(this.hasFill())return Yde(s,t,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=ff,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,r){t==="shape"?this.setShape(r):n.prototype.attrKV.call(this,t,r)},e.prototype.setShape=function(t,r){var o=this.shape;return o||(o=this.shape={}),typeof t=="string"?o[t]=r:oe(o,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&ff)},e.prototype.createStyle=function(t){return _y(Yw,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.shape&&!r.shape&&(r.shape=oe({},this.shape))},e.prototype._applyStateObj=function(t,r,o,i,a,s){n.prototype._applyStateObj.call(this,t,r,o,i,a,s);var l=!(r&&i),u;if(r&&r.shape?a?i?u=r.shape:(u=oe({},o.shape),oe(u,r.shape)):(u=oe({},i?this.shape:o.shape),oe(u,r.shape)):l&&(u=o.shape),u)if(a){this.shape=oe({},this.shape);for(var c={},d=yt(u),h=0;h<d.length;h++){var f=d[h];typeof u[f]=="object"?this.shape[f]=u[f]:c[f]=u[f]}this._transitionState(t,{shape:c},s)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),o,i=0;i<t.length;i++){var a=t[i];a.shape&&(o=o||{},this._mergeStyle(o,a.shape))}return o&&(r.shape=o),r},e.prototype.getAnimationStyleProps=function(){return Jde},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var r=function(i){K(a,i);function a(s){var l=i.call(this,s)||this;return t.init&&t.init.call(l,s),l}return a.prototype.getDefaultStyle=function(){return We(t.style)},a.prototype.getDefaultShape=function(){return We(t.shape)},a}(e);for(var o in t)typeof t[o]=="function"&&(r.prototype[o]=t[o]);return r},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=hi|av|ff}(),e}(ra),Qde=Ve({strokeFirst:!0,font:Nu,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Yw),ep=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return r!=null&&r!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(t){return _y(Qde,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var r=t.text;r!=null?r+="":r="";var o=Ay(r,t.font,t.textAlign,t.textBaseline);if(o.x+=t.x||0,o.y+=t.y||0,this.hasStroke()){var i=t.lineWidth;o.x-=i/2,o.y-=i/2,o.width+=i,o.height+=i}this._rect=o}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(ra);ep.prototype.type="tspan";var ehe=Ve({x:0,y:0},Id),the={style:Ve({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},eC.style)};function nhe(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var _W=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return _y(ehe,t)},e.prototype._getSize=function(t){var r=this.style,o=r[t];if(o!=null)return o;var i=nhe(r.image)?r.image:this.__image;if(!i)return 0;var a=t==="width"?"height":"width",s=r[a];return s==null?i[t]:i[t]/i[a]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return the},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new lt(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(ra);_W.prototype.type="image";const Lr=_W;function rhe(n,e){var t=e.x,r=e.y,o=e.width,i=e.height,a=e.r,s,l,u,c;o<0&&(t=t+o,o=-o),i<0&&(r=r+i,i=-i),typeof a=="number"?s=l=u=c=a:a instanceof Array?a.length===1?s=l=u=c=a[0]:a.length===2?(s=u=a[0],l=c=a[1]):a.length===3?(s=a[0],l=c=a[1],u=a[2]):(s=a[0],l=a[1],u=a[2],c=a[3]):s=l=u=c=0;var d;s+l>o&&(d=s+l,s*=o/d,l*=o/d),u+c>o&&(d=u+c,u*=o/d,c*=o/d),l+u>i&&(d=l+u,l*=i/d,u*=i/d),s+c>i&&(d=s+c,s*=i/d,c*=i/d),n.moveTo(t+s,r),n.lineTo(t+o-l,r),l!==0&&n.arc(t+o-l,r+l,l,-Math.PI/2,0),n.lineTo(t+o,r+i-u),u!==0&&n.arc(t+o-u,r+i-u,u,0,Math.PI/2),n.lineTo(t+c,r+i),c!==0&&n.arc(t+c,r+i-c,c,Math.PI/2,Math.PI),n.lineTo(t,r+s),s!==0&&n.arc(t+s,r+s,s,Math.PI,Math.PI*1.5)}var kf=Math.round;function IW(n,e,t){if(e){var r=e.x1,o=e.x2,i=e.y1,a=e.y2;n.x1=r,n.x2=o,n.y1=i,n.y2=a;var s=t&&t.lineWidth;return s&&(kf(r*2)===kf(o*2)&&(n.x1=n.x2=pd(r,s,!0)),kf(i*2)===kf(a*2)&&(n.y1=n.y2=pd(i,s,!0))),n}}function TW(n,e,t){if(e){var r=e.x,o=e.y,i=e.width,a=e.height;n.x=r,n.y=o,n.width=i,n.height=a;var s=t&&t.lineWidth;return s&&(n.x=pd(r,s,!0),n.y=pd(o,s,!0),n.width=Math.max(pd(r+i,s,!1)-n.x,i===0?0:1),n.height=Math.max(pd(o+a,s,!1)-n.y,a===0?0:1)),n}}function pd(n,e,t){if(!e)return n;var r=kf(n*2);return(r+kf(e))%2===0?r/2:(r+(t?1:-1))/2}var ohe=function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n}(),ihe={},AW=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new ohe},e.prototype.buildPath=function(t,r){var o,i,a,s;if(this.subPixelOptimize){var l=TW(ihe,r,this.style);o=l.x,i=l.y,a=l.width,s=l.height,l.r=r.r,r=l}else o=r.x,i=r.y,a=r.width,s=r.height;r.r?rhe(t,r):t.rect(o,i,a,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(vt);AW.prototype.type="rect";const It=AW;var HO={fill:"#000"},UO=2,ahe={style:Ve({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},eC.style)},DW=function(n){K(e,n);function e(t){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=HO,r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var r=this._children[t];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var r=this.innerTransformable;return r?r.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,uhe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new lt(0,0,0,0),r=this._children,o=[],i=null,a=0;a<r.length;a++){var s=r[a],l=s.getBoundingRect(),u=s.getLocalTransform(o);u?(t.copy(l),t.applyTransform(u),i=i||t.clone(),i.union(t)):(i=i||l.clone(),i.union(l))}this._rect=i||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||HO},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,r){if(!r)return t;var o=r.rich,i=t.rich||o&&{};return oe(t,r),o&&i?(this._mergeRich(i,o),t.rich=i):i&&(t.rich=i),t},e.prototype._mergeRich=function(t,r){for(var o=yt(r),i=0;i<o.length;i++){var a=o[i];t[a]=t[a]||{},oe(t[a],r[a])}},e.prototype.getAnimationStyleProps=function(){return ahe},e.prototype._getOrCreateChild=function(t){var r=this._children[this._childCursor];return(!r||!(r instanceof t))&&(r=new t),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var t=this.style,r=t.font||Nu,o=t.padding,i=JO(t),a=Dde(i,t),s=g_(t),l=!!t.backgroundColor,u=a.outerHeight,c=a.outerWidth,d=a.contentWidth,h=a.lines,f=a.lineHeight,p=this._defaultStyle,g=t.x||0,v=t.y||0,m=t.align||p.align||"left",y=t.verticalAlign||p.verticalAlign||"top",b=g,w=pf(v,a.contentHeight,y);if(s||o){var x=lv(g,c,m),S=pf(v,u,y);s&&this._renderBackground(t,t,x,S,c,u)}w+=f/2,o&&(b=ZO(g,m,o),y==="top"?w+=o[0]:y==="bottom"&&(w-=o[2]));for(var C=0,k=!1,_=YO("fill"in t?t.fill:(k=!0,p.fill)),I=qO("stroke"in t?t.stroke:!l&&(!p.autoStroke||k)?(C=UO,p.stroke):null),T=t.textShadowBlur>0,A=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),D=a.calculatedLineHeight,E=0;E<h.length;E++){var $=this._getOrCreateChild(ep),P=$.createStyle();$.useStyle(P),P.text=h[E],P.x=b,P.y=w,m&&(P.textAlign=m),P.textBaseline="middle",P.opacity=t.opacity,P.strokeFirst=!0,T&&(P.shadowBlur=t.textShadowBlur||0,P.shadowColor=t.textShadowColor||"transparent",P.shadowOffsetX=t.textShadowOffsetX||0,P.shadowOffsetY=t.textShadowOffsetY||0),P.stroke=I,P.fill=_,I&&(P.lineWidth=t.lineWidth||C,P.lineDash=t.lineDash,P.lineDashOffset=t.lineDashOffset||0),P.font=r,KO(P,t),w+=f,A&&$.setBoundingRect(new lt(lv(P.x,t.width,P.textAlign),pf(P.y,D,P.textBaseline),d,D))}},e.prototype._updateRichTexts=function(){var t=this.style,r=JO(t),o=$de(r,t),i=o.width,a=o.outerWidth,s=o.outerHeight,l=t.padding,u=t.x||0,c=t.y||0,d=this._defaultStyle,h=t.align||d.align,f=t.verticalAlign||d.verticalAlign,p=lv(u,a,h),g=pf(c,s,f),v=p,m=g;l&&(v+=l[3],m+=l[0]);var y=v+i;g_(t)&&this._renderBackground(t,t,p,g,a,s);for(var b=!!t.backgroundColor,w=0;w<o.lines.length;w++){for(var x=o.lines[w],S=x.tokens,C=S.length,k=x.lineHeight,_=x.width,I=0,T=v,A=y,D=C-1,E=void 0;I<C&&(E=S[I],!E.align||E.align==="left");)this._placeToken(E,t,k,m,T,"left",b),_-=E.width,T+=E.width,I++;for(;D>=0&&(E=S[D],E.align==="right");)this._placeToken(E,t,k,m,A,"right",b),_-=E.width,A-=E.width,D--;for(T+=(i-(T-v)-(y-A)-_)/2;I<=D;)E=S[I],this._placeToken(E,t,k,m,T+E.width/2,"center",b),T+=E.width,I++;m+=k}},e.prototype._placeToken=function(t,r,o,i,a,s,l){var u=r.rich[t.styleName]||{};u.text=t.text;var c=t.verticalAlign,d=i+o/2;c==="top"?d=i+t.height/2:c==="bottom"&&(d=i+o-t.height/2);var h=!t.isLineHolder&&g_(u);h&&this._renderBackground(u,r,s==="right"?a-t.width:s==="center"?a-t.width/2:a,d-t.height/2,t.width,t.height);var f=!!u.backgroundColor,p=t.textPadding;p&&(a=ZO(a,s,p),d-=t.height/2-p[0]-t.innerHeight/2);var g=this._getOrCreateChild(ep),v=g.createStyle();g.useStyle(v);var m=this._defaultStyle,y=!1,b=0,w=YO("fill"in u?u.fill:"fill"in r?r.fill:(y=!0,m.fill)),x=qO("stroke"in u?u.stroke:"stroke"in r?r.stroke:!f&&!l&&(!m.autoStroke||y)?(b=UO,m.stroke):null),S=u.textShadowBlur>0||r.textShadowBlur>0;v.text=t.text,v.x=a,v.y=d,S&&(v.shadowBlur=u.textShadowBlur||r.textShadowBlur||0,v.shadowColor=u.textShadowColor||r.textShadowColor||"transparent",v.shadowOffsetX=u.textShadowOffsetX||r.textShadowOffsetX||0,v.shadowOffsetY=u.textShadowOffsetY||r.textShadowOffsetY||0),v.textAlign=s,v.textBaseline="middle",v.font=t.font||Nu,v.opacity=$a(u.opacity,r.opacity,1),KO(v,u),x&&(v.lineWidth=$a(u.lineWidth,r.lineWidth,b),v.lineDash=et(u.lineDash,r.lineDash),v.lineDashOffset=r.lineDashOffset||0,v.stroke=x),w&&(v.fill=w);var C=t.contentWidth,k=t.contentHeight;g.setBoundingRect(new lt(lv(v.x,C,v.textAlign),pf(v.y,k,v.textBaseline),C,k))},e.prototype._renderBackground=function(t,r,o,i,a,s){var l=t.backgroundColor,u=t.borderWidth,c=t.borderColor,d=l&&l.image,h=l&&!d,f=t.borderRadius,p=this,g,v;if(h||t.lineHeight||u&&c){g=this._getOrCreateChild(It),g.useStyle(g.createStyle()),g.style.fill=null;var m=g.shape;m.x=o,m.y=i,m.width=a,m.height=s,m.r=f,g.dirtyShape()}if(h){var y=g.style;y.fill=l||null,y.fillOpacity=et(t.fillOpacity,1)}else if(d){v=this._getOrCreateChild(Lr),v.onload=function(){p.dirtyStyle()};var b=v.style;b.image=l.image,b.x=o,b.y=i,b.width=a,b.height=s}if(u&&c){var y=g.style;y.lineWidth=u,y.stroke=c,y.strokeOpacity=et(t.strokeOpacity,1),y.lineDash=t.borderDash,y.lineDashOffset=t.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var w=(g||v).style;w.shadowBlur=t.shadowBlur||0,w.shadowColor=t.shadowColor||"transparent",w.shadowOffsetX=t.shadowOffsetX||0,w.shadowOffsetY=t.shadowOffsetY||0,w.opacity=$a(t.opacity,r.opacity,1)},e.makeFont=function(t){var r="";return EW(t)&&(r=[t.fontStyle,t.fontWeight,RW(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),r&&Ki(r)||t.textFont||t.font},e}(ra),she={left:!0,right:1,center:1},lhe={top:1,bottom:1,middle:1},jO=["fontStyle","fontWeight","fontSize","fontFamily"];function RW(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?cE+"px":n+"px"}function KO(n,e){for(var t=0;t<jO.length;t++){var r=jO[t],o=e[r];o!=null&&(n[r]=o)}}function EW(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function uhe(n){return XO(n),R(n.rich,XO),n}function XO(n){if(n){n.font=DW.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||she[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||lhe[t]?t:"top";var r=n.padding;r&&(n.padding=US(n.padding))}}function qO(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function YO(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function ZO(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function JO(n){var e=n.text;return e!=null&&(e+=""),e}function g_(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const _t=DW;var Ye=Tt(),mA=function(n,e,t,r){if(r){var o=Ye(r);o.dataIndex=t,o.dataType=e,o.seriesIndex=n,o.ssrType="chart",r.type==="group"&&r.traverse(function(i){var a=Ye(i);a.seriesIndex=n,a.dataIndex=t,a.dataType=e,a.ssrType="chart"})}},QO=1,e5={},$W=Tt(),EE=Tt(),$E=0,Ry=1,nC=2,Eo=["emphasis","blur","select"],mm=["normal","emphasis","blur","select"],Ap=10,che=9,Td="highlight",cw="downplay",zv="select",dw="unselect",Vv="toggleSelect";function Bh(n){return n!=null&&n!=="none"}function rC(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function PW(n){rC(n,"emphasis",nC)}function MW(n){n.hoverState===nC&&rC(n,"normal",$E)}function PE(n){rC(n,"blur",Ry)}function LW(n){n.hoverState===Ry&&rC(n,"normal",$E)}function dhe(n){n.selected=!0}function hhe(n){n.selected=!1}function t5(n,e,t){e(n,t)}function Ll(n,e,t){t5(n,e,t),n.isGroup&&n.traverse(function(r){t5(r,e,t)})}function Zw(n,e){switch(e){case"emphasis":n.hoverState=nC;break;case"normal":n.hoverState=$E;break;case"blur":n.hoverState=Ry;break;case"select":n.selected=!0}}function fhe(n,e,t,r){for(var o=n.style,i={},a=0;a<e.length;a++){var s=e[a],l=o[s];i[s]=l??(r&&r[s])}for(var a=0;a<n.animators.length;a++){var u=n.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(t)<0&&u.targetName==="style"&&u.saveTo(i,e)}return i}function phe(n,e,t,r){var o=t&&ct(t,"select")>=0,i=!1;if(n instanceof vt){var a=$W(n),s=o&&a.selectFill||a.normalFill,l=o&&a.selectStroke||a.normalStroke;if(Bh(s)||Bh(l)){r=r||{};var u=r.style||{};u.fill==="inherit"?(i=!0,r=oe({},r),u=oe({},u),u.fill=s):!Bh(u.fill)&&Bh(s)?(i=!0,r=oe({},r),u=oe({},u),u.fill=jw(s)):!Bh(u.stroke)&&Bh(l)&&(i||(r=oe({},r),u=oe({},u)),u.stroke=jw(l)),r.style=u}}if(r&&r.z2==null){i||(r=oe({},r));var c=n.z2EmphasisLift;r.z2=n.z2+(c??Ap)}return r}function ghe(n,e,t){if(t&&t.z2==null){t=oe({},t);var r=n.z2SelectLift;t.z2=n.z2+(r??che)}return t}function vhe(n,e,t){var r=ct(n.currentStates,e)>=0,o=n.style.opacity,i=r?null:fhe(n,["opacity"],e,{opacity:1});t=t||{};var a=t.style||{};return a.opacity==null&&(t=oe({},t),a=oe({opacity:r?o:i.opacity*.1},a),t.style=a),t}function v_(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return phe(this,n,e,t);if(n==="blur")return vhe(this,n,t);if(n==="select")return ghe(this,n,t)}return t}function Vd(n){n.stateProxy=v_;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=v_),t&&(t.stateProxy=v_)}function n5(n,e){!BW(n,e)&&!n.__highByOuter&&Ll(n,PW)}function r5(n,e){!BW(n,e)&&!n.__highByOuter&&Ll(n,MW)}function Sl(n,e){n.__highByOuter|=1<<(e||0),Ll(n,PW)}function Cl(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Ll(n,MW)}function NW(n){Ll(n,PE)}function ME(n){Ll(n,LW)}function OW(n){Ll(n,dhe)}function FW(n){Ll(n,hhe)}function BW(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function zW(n){var e=n.getModel(),t=[],r=[];e.eachComponent(function(o,i){var a=EE(i),s=o==="series",l=s?n.getViewOfSeriesModel(i):n.getViewOfComponentModel(i);!s&&r.push(l),a.isBlured&&(l.group.traverse(function(u){LW(u)}),s&&t.push(i)),a.isBlured=!1}),R(r,function(o){o&&o.toggleBlurSeries&&o.toggleBlurSeries(t,!1,e)})}function yA(n,e,t,r){var o=r.getModel();t=t||"coordinateSystem";function i(u,c){for(var d=0;d<c.length;d++){var h=u.getItemGraphicEl(c[d]);h&&ME(h)}}if(n!=null&&!(!e||e==="none")){var a=o.getSeriesByIndex(n),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];o.eachSeries(function(u){var c=a===u,d=u.coordinateSystem;d&&d.master&&(d=d.master);var h=d&&s?d===s:c;if(!(t==="series"&&!c||t==="coordinateSystem"&&!h||e==="series"&&c)){var f=r.getViewOfSeriesModel(u);if(f.group.traverse(function(v){v.__highByOuter&&c&&e==="self"||PE(v)}),Gr(e))i(u.getData(),e);else if(Ge(e))for(var p=yt(e),g=0;g<p.length;g++)i(u.getData(p[g]),e[p[g]]);l.push(u),EE(u).isBlured=!0}}),o.eachComponent(function(u,c){if(u!=="series"){var d=r.getViewOfComponentModel(c);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,o)}})}}function bA(n,e,t){if(!(n==null||e==null)){var r=t.getModel().getComponent(n,e);if(r){EE(r).isBlured=!0;var o=t.getViewOfComponentModel(r);!o||!o.focusBlurEnabled||o.group.traverse(function(i){PE(i)})}}}function mhe(n,e,t){var r=n.seriesIndex,o=n.getData(e.dataType);if(o){var i=Bd(o,e);i=(ce(i)?i[0]:i)||0;var a=o.getItemGraphicEl(i);if(!a)for(var s=o.count(),l=0;!a&&l<s;)a=o.getItemGraphicEl(l++);if(a){var u=Ye(a);yA(r,u.focus,u.blurScope,t)}else{var c=n.get(["emphasis","focus"]),d=n.get(["emphasis","blurScope"]);c!=null&&yA(r,c,d,t)}}}function LE(n,e,t,r){var o={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return o;var i=r.getModel().getComponent(n,e);if(!i)return o;var a=r.getViewOfComponentModel(i);if(!a||!a.findHighDownDispatchers)return o;for(var s=a.findHighDownDispatchers(t),l,u=0;u<s.length;u++)if(Ye(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function yhe(n,e,t){var r=Ye(n),o=LE(r.componentMainType,r.componentIndex,r.componentHighDownName,t),i=o.dispatchers,a=o.focusSelf;i?(a&&bA(r.componentMainType,r.componentIndex,t),R(i,function(s){return n5(s,e)})):(yA(r.seriesIndex,r.focus,r.blurScope,t),r.focus==="self"&&bA(r.componentMainType,r.componentIndex,t),n5(n,e))}function bhe(n,e,t){zW(t);var r=Ye(n),o=LE(r.componentMainType,r.componentIndex,r.componentHighDownName,t).dispatchers;o?R(o,function(i){return r5(i,e)}):r5(n,e)}function whe(n,e,t){if(xA(e)){var r=e.dataType,o=n.getData(r),i=Bd(o,e);ce(i)||(i=[i]),n[e.type===Vv?"toggleSelect":e.type===zv?"select":"unselect"](i,r)}}function o5(n){var e=n.getAllData();R(e,function(t){var r=t.data,o=t.type;r.eachItemGraphicEl(function(i,a){n.isSelected(a,o)?OW(i):FW(i)})})}function xhe(n){var e=[];return n.eachSeries(function(t){var r=t.getAllData();R(r,function(o){o.data;var i=o.type,a=t.getSelectedDataIndices();if(a.length>0){var s={dataIndex:a,seriesIndex:t.seriesIndex};i!=null&&(s.dataType=i),e.push(s)}})}),e}function Iu(n,e,t){gd(n,!0),Ll(n,Vd),wA(n,e,t)}function She(n){gd(n,!1)}function On(n,e,t,r){r?She(n):Iu(n,e,t)}function wA(n,e,t){var r=Ye(n);e!=null?(r.focus=e,r.blurScope=t):r.focus&&(r.focus=null)}var i5=["emphasis","blur","select"],Che={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Wr(n,e,t,r){t=t||"itemStyle";for(var o=0;o<i5.length;o++){var i=i5[o],a=e.getModel([i,t]),s=n.ensureState(i);s.style=r?r(a):a[Che[t]]()}}function gd(n,e){var t=e===!1,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!t)}function ym(n){return!!(n&&n.__highDownDispatcher)}function khe(n,e,t){var r=Ye(n);r.componentMainType=e.mainType,r.componentIndex=e.componentIndex,r.componentHighDownName=t}function _he(n){var e=e5[n];return e==null&&QO<=32&&(e=e5[n]=QO++),e}function xA(n){var e=n.type;return e===zv||e===dw||e===Vv}function a5(n){var e=n.type;return e===Td||e===cw}function Ihe(n){var e=$W(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var zh=Bs.CMD,The=[[],[],[]],s5=Math.sqrt,Ahe=Math.atan2;function VW(n,e){if(e){var t=n.data,r=n.len(),o,i,a,s,l,u,c=zh.M,d=zh.C,h=zh.L,f=zh.R,p=zh.A,g=zh.Q;for(a=0,s=0;a<r;){switch(o=t[a++],s=a,i=0,o){case c:i=1;break;case h:i=1;break;case d:i=3;break;case g:i=2;break;case p:var v=e[4],m=e[5],y=s5(e[0]*e[0]+e[1]*e[1]),b=s5(e[2]*e[2]+e[3]*e[3]),w=Ahe(-e[1]/b,e[0]/y);t[a]*=y,t[a++]+=v,t[a]*=b,t[a++]+=m,t[a++]*=y,t[a++]*=b,t[a++]+=w,t[a++]+=w,a+=2,s=a;break;case f:u[0]=t[a++],u[1]=t[a++],$r(u,u,e),t[s++]=u[0],t[s++]=u[1],u[0]+=t[a++],u[1]+=t[a++],$r(u,u,e),t[s++]=u[0],t[s++]=u[1]}for(l=0;l<i;l++){var x=The[l];x[0]=t[a++],x[1]=t[a++],$r(x,x,e),t[s++]=x[0],t[s++]=x[1]}}n.increaseVersion()}}var m_=Math.sqrt,Wb=Math.sin,Hb=Math.cos,Ag=Math.PI;function l5(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function SA(n,e){return(n[0]*e[0]+n[1]*e[1])/(l5(n)*l5(e))}function u5(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(SA(n,e))}function c5(n,e,t,r,o,i,a,s,l,u,c){var d=l*(Ag/180),h=Hb(d)*(n-t)/2+Wb(d)*(e-r)/2,f=-1*Wb(d)*(n-t)/2+Hb(d)*(e-r)/2,p=h*h/(a*a)+f*f/(s*s);p>1&&(a*=m_(p),s*=m_(p));var g=(o===i?-1:1)*m_((a*a*(s*s)-a*a*(f*f)-s*s*(h*h))/(a*a*(f*f)+s*s*(h*h)))||0,v=g*a*f/s,m=g*-s*h/a,y=(n+t)/2+Hb(d)*v-Wb(d)*m,b=(e+r)/2+Wb(d)*v+Hb(d)*m,w=u5([1,0],[(h-v)/a,(f-m)/s]),x=[(h-v)/a,(f-m)/s],S=[(-1*h-v)/a,(-1*f-m)/s],C=u5(x,S);if(SA(x,S)<=-1&&(C=Ag),SA(x,S)>=1&&(C=0),C<0){var k=Math.round(C/Ag*1e6)/1e6;C=Ag*2+k%2*Ag}c.addData(u,y,b,a,s,w,C,d,i)}var Dhe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Rhe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Ehe(n){var e=new Bs;if(!n)return e;var t=0,r=0,o=t,i=r,a,s=Bs.CMD,l=n.match(Dhe);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],d=c.charAt(0),h=void 0,f=c.match(Rhe)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var v=0;v<p;){var m=void 0,y=void 0,b=void 0,w=void 0,x=void 0,S=void 0,C=void 0,k=t,_=r,I=void 0,T=void 0;switch(d){case"l":t+=f[v++],r+=f[v++],h=s.L,e.addData(h,t,r);break;case"L":t=f[v++],r=f[v++],h=s.L,e.addData(h,t,r);break;case"m":t+=f[v++],r+=f[v++],h=s.M,e.addData(h,t,r),o=t,i=r,d="l";break;case"M":t=f[v++],r=f[v++],h=s.M,e.addData(h,t,r),o=t,i=r,d="L";break;case"h":t+=f[v++],h=s.L,e.addData(h,t,r);break;case"H":t=f[v++],h=s.L,e.addData(h,t,r);break;case"v":r+=f[v++],h=s.L,e.addData(h,t,r);break;case"V":r=f[v++],h=s.L,e.addData(h,t,r);break;case"C":h=s.C,e.addData(h,f[v++],f[v++],f[v++],f[v++],f[v++],f[v++]),t=f[v-2],r=f[v-1];break;case"c":h=s.C,e.addData(h,f[v++]+t,f[v++]+r,f[v++]+t,f[v++]+r,f[v++]+t,f[v++]+r),t+=f[v-2],r+=f[v-1];break;case"S":m=t,y=r,I=e.len(),T=e.data,a===s.C&&(m+=t-T[I-4],y+=r-T[I-3]),h=s.C,k=f[v++],_=f[v++],t=f[v++],r=f[v++],e.addData(h,m,y,k,_,t,r);break;case"s":m=t,y=r,I=e.len(),T=e.data,a===s.C&&(m+=t-T[I-4],y+=r-T[I-3]),h=s.C,k=t+f[v++],_=r+f[v++],t+=f[v++],r+=f[v++],e.addData(h,m,y,k,_,t,r);break;case"Q":k=f[v++],_=f[v++],t=f[v++],r=f[v++],h=s.Q,e.addData(h,k,_,t,r);break;case"q":k=f[v++]+t,_=f[v++]+r,t+=f[v++],r+=f[v++],h=s.Q,e.addData(h,k,_,t,r);break;case"T":m=t,y=r,I=e.len(),T=e.data,a===s.Q&&(m+=t-T[I-4],y+=r-T[I-3]),t=f[v++],r=f[v++],h=s.Q,e.addData(h,m,y,t,r);break;case"t":m=t,y=r,I=e.len(),T=e.data,a===s.Q&&(m+=t-T[I-4],y+=r-T[I-3]),t+=f[v++],r+=f[v++],h=s.Q,e.addData(h,m,y,t,r);break;case"A":b=f[v++],w=f[v++],x=f[v++],S=f[v++],C=f[v++],k=t,_=r,t=f[v++],r=f[v++],h=s.A,c5(k,_,t,r,S,C,b,w,x,h,e);break;case"a":b=f[v++],w=f[v++],x=f[v++],S=f[v++],C=f[v++],k=t,_=r,t+=f[v++],r+=f[v++],h=s.A,c5(k,_,t,r,S,C,b,w,x,h,e);break}}(d==="z"||d==="Z")&&(h=s.Z,e.addData(h),t=o,r=i),a=h}return e.toStatic(),e}var GW=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e}(vt);function WW(n){return n.setData!=null}function HW(n,e){var t=Ehe(n),r=oe({},e);return r.buildPath=function(o){if(WW(o)){o.setData(t.data);var i=o.getContext();i&&o.rebuildPath(i,1)}else{var i=o;t.rebuildPath(i,1)}},r.applyTransform=function(o){VW(t,o),this.dirtyShape()},r}function UW(n,e){return new GW(HW(n,e))}function $he(n,e){var t=HW(n,e),r=function(o){K(i,o);function i(a){var s=o.call(this,a)||this;return s.applyTransform=t.applyTransform,s.buildPath=t.buildPath,s}return i}(GW);return r}function Phe(n,e){for(var t=[],r=n.length,o=0;o<r;o++){var i=n[o];t.push(i.getUpdatedPathProxy(!0))}var a=new vt(e);return a.createPathProxy(),a.buildPath=function(s){if(WW(s)){s.appendPath(t);var l=s.getContext();l&&s.rebuildPath(l,1)}},a}function NE(n,e){e=e||{};var t=new vt;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?VW(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var Mhe=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),jW=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Mhe},e.prototype.buildPath=function(t,r){t.moveTo(r.cx+r.r,r.cy),t.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e}(vt);jW.prototype.type="circle";const Nl=jW;var Lhe=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),KW=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Lhe},e.prototype.buildPath=function(t,r){var o=.5522848,i=r.cx,a=r.cy,s=r.rx,l=r.ry,u=s*o,c=l*o;t.moveTo(i-s,a),t.bezierCurveTo(i-s,a-c,i-u,a-l,i,a-l),t.bezierCurveTo(i+u,a-l,i+s,a-c,i+s,a),t.bezierCurveTo(i+s,a+c,i+u,a+l,i,a+l),t.bezierCurveTo(i-u,a+l,i-s,a+c,i-s,a),t.closePath()},e}(vt);KW.prototype.type="ellipse";const oC=KW;var XW=Math.PI,y_=XW*2,Ec=Math.sin,Vh=Math.cos,Nhe=Math.acos,Zr=Math.atan2,d5=Math.abs,Gv=Math.sqrt,uv=Math.max,rs=Math.min,ba=1e-4;function Ohe(n,e,t,r,o,i,a,s){var l=t-n,u=r-e,c=a-o,d=s-i,h=d*l-c*u;if(!(h*h<ba))return h=(c*(e-i)-d*(n-o))/h,[n+h*l,e+h*u]}function Ub(n,e,t,r,o,i,a){var s=n-t,l=e-r,u=(a?i:-i)/Gv(s*s+l*l),c=u*l,d=-u*s,h=n+c,f=e+d,p=t+c,g=r+d,v=(h+p)/2,m=(f+g)/2,y=p-h,b=g-f,w=y*y+b*b,x=o-i,S=h*g-p*f,C=(b<0?-1:1)*Gv(uv(0,x*x*w-S*S)),k=(S*b-y*C)/w,_=(-S*y-b*C)/w,I=(S*b+y*C)/w,T=(-S*y+b*C)/w,A=k-v,D=_-m,E=I-v,$=T-m;return A*A+D*D>E*E+$*$&&(k=I,_=T),{cx:k,cy:_,x0:-c,y0:-d,x1:k*(o/x-1),y1:_*(o/x-1)}}function Fhe(n){var e;if(ce(n)){var t=n.length;if(!t)return n;t===1?e=[n[0],n[0],0,0]:t===2?e=[n[0],n[0],n[1],n[1]]:t===3?e=n.concat(n[2]):e=n}else e=[n,n,n,n];return e}function Bhe(n,e){var t,r=uv(e.r,0),o=uv(e.r0||0,0),i=r>0,a=o>0;if(!(!i&&!a)){if(i||(r=o,o=0),o>r){var s=r;r=o,o=s}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,d=e.cy,h=!!e.clockwise,f=d5(u-l),p=f>y_&&f%y_;if(p>ba&&(f=p),!(r>ba))n.moveTo(c,d);else if(f>y_-ba)n.moveTo(c+r*Vh(l),d+r*Ec(l)),n.arc(c,d,r,l,u,!h),o>ba&&(n.moveTo(c+o*Vh(u),d+o*Ec(u)),n.arc(c,d,o,u,l,h));else{var g=void 0,v=void 0,m=void 0,y=void 0,b=void 0,w=void 0,x=void 0,S=void 0,C=void 0,k=void 0,_=void 0,I=void 0,T=void 0,A=void 0,D=void 0,E=void 0,$=r*Vh(l),P=r*Ec(l),N=o*Vh(u),M=o*Ec(u),L=f>ba;if(L){var V=e.cornerRadius;V&&(t=Fhe(V),g=t[0],v=t[1],m=t[2],y=t[3]);var W=d5(r-o)/2;if(b=rs(W,m),w=rs(W,y),x=rs(W,g),S=rs(W,v),_=C=uv(b,w),I=k=uv(x,S),(C>ba||k>ba)&&(T=r*Vh(u),A=r*Ec(u),D=o*Vh(l),E=o*Ec(l),f<XW)){var j=Ohe($,P,D,E,T,A,N,M);if(j){var Q=$-j[0],te=P-j[1],se=T-j[0],ge=A-j[1],ye=1/Ec(Nhe((Q*se+te*ge)/(Gv(Q*Q+te*te)*Gv(se*se+ge*ge)))/2),ve=Gv(j[0]*j[0]+j[1]*j[1]);_=rs(C,(r-ve)/(ye+1)),I=rs(k,(o-ve)/(ye-1))}}}if(!L)n.moveTo(c+$,d+P);else if(_>ba){var de=rs(m,_),Se=rs(y,_),me=Ub(D,E,$,P,r,de,h),Ee=Ub(T,A,N,M,r,Se,h);n.moveTo(c+me.cx+me.x0,d+me.cy+me.y0),_<C&&de===Se?n.arc(c+me.cx,d+me.cy,_,Zr(me.y0,me.x0),Zr(Ee.y0,Ee.x0),!h):(de>0&&n.arc(c+me.cx,d+me.cy,de,Zr(me.y0,me.x0),Zr(me.y1,me.x1),!h),n.arc(c,d,r,Zr(me.cy+me.y1,me.cx+me.x1),Zr(Ee.cy+Ee.y1,Ee.cx+Ee.x1),!h),Se>0&&n.arc(c+Ee.cx,d+Ee.cy,Se,Zr(Ee.y1,Ee.x1),Zr(Ee.y0,Ee.x0),!h))}else n.moveTo(c+$,d+P),n.arc(c,d,r,l,u,!h);if(!(o>ba)||!L)n.lineTo(c+N,d+M);else if(I>ba){var de=rs(g,I),Se=rs(v,I),me=Ub(N,M,T,A,o,-Se,h),Ee=Ub($,P,D,E,o,-de,h);n.lineTo(c+me.cx+me.x0,d+me.cy+me.y0),I<k&&de===Se?n.arc(c+me.cx,d+me.cy,I,Zr(me.y0,me.x0),Zr(Ee.y0,Ee.x0),!h):(Se>0&&n.arc(c+me.cx,d+me.cy,Se,Zr(me.y0,me.x0),Zr(me.y1,me.x1),!h),n.arc(c,d,o,Zr(me.cy+me.y1,me.cx+me.x1),Zr(Ee.cy+Ee.y1,Ee.cx+Ee.x1),h),de>0&&n.arc(c+Ee.cx,d+Ee.cy,de,Zr(Ee.y1,Ee.x1),Zr(Ee.y0,Ee.x0),!h))}else n.lineTo(c+N,d+M),n.arc(c,d,o,u,l,h)}n.closePath()}}}var zhe=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n}(),qW=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new zhe},e.prototype.buildPath=function(t,r){Bhe(t,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(vt);qW.prototype.type="sector";const $o=qW;var Vhe=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),YW=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Vhe},e.prototype.buildPath=function(t,r){var o=r.cx,i=r.cy,a=Math.PI*2;t.moveTo(o+r.r,i),t.arc(o,i,r.r,0,a,!1),t.moveTo(o+r.r0,i),t.arc(o,i,r.r0,0,a,!0)},e}(vt);YW.prototype.type="ring";const Ey=YW;function Ghe(n,e,t,r){var o=[],i=[],a=[],s=[],l,u,c,d;if(r){c=[1/0,1/0],d=[-1/0,-1/0];for(var h=0,f=n.length;h<f;h++)dl(c,c,n[h]),hl(d,d,n[h]);dl(c,c,r[0]),hl(d,d,r[1])}for(var h=0,f=n.length;h<f;h++){var p=n[h];if(t)l=n[h?h-1:f-1],u=n[(h+1)%f];else if(h===0||h===f-1){o.push(Ts(n[h]));continue}else l=n[h-1],u=n[h+1];du(i,u,l),Pv(i,i,e);var g=Vw(p,l),v=Vw(p,u),m=g+v;m!==0&&(g/=m,v/=m),Pv(a,i,-g),Pv(s,i,v);var y=jT([],p,a),b=jT([],p,s);r&&(hl(y,y,c),dl(y,y,d),hl(b,b,c),dl(b,b,d)),o.push(y),o.push(b)}return t&&o.push(o.shift()),o}function ZW(n,e,t){var r=e.smooth,o=e.points;if(o&&o.length>=2){if(r){var i=Ghe(o,r,t,e.smoothConstraint);n.moveTo(o[0][0],o[0][1]);for(var a=o.length,s=0;s<(t?a:a-1);s++){var l=i[s*2],u=i[s*2+1],c=o[(s+1)%a];n.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{n.moveTo(o[0][0],o[0][1]);for(var s=1,d=o.length;s<d;s++)n.lineTo(o[s][0],o[s][1])}t&&n.closePath()}}var Whe=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),JW=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Whe},e.prototype.buildPath=function(t,r){ZW(t,r,!0)},e}(vt);JW.prototype.type="polygon";const Po=JW;var Hhe=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),QW=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Hhe},e.prototype.buildPath=function(t,r){ZW(t,r,!1)},e}(vt);QW.prototype.type="polyline";const No=QW;var Uhe={},jhe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),eH=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new jhe},e.prototype.buildPath=function(t,r){var o,i,a,s;if(this.subPixelOptimize){var l=IW(Uhe,r,this.style);o=l.x1,i=l.y1,a=l.x2,s=l.y2}else o=r.x1,i=r.y1,a=r.x2,s=r.y2;var u=r.percent;u!==0&&(t.moveTo(o,i),u<1&&(a=o*(1-u)+a*u,s=i*(1-u)+s*u),t.lineTo(a,s))},e.prototype.pointAt=function(t){var r=this.shape;return[r.x1*(1-t)+r.x2*t,r.y1*(1-t)+r.y2*t]},e}(vt);eH.prototype.type="line";const yr=eH;var Fo=[],Khe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n}();function h5(n,e,t){var r=n.cpx2,o=n.cpy2;return r!=null||o!=null?[(t?bO:fr)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?bO:fr)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?ZT:Dr)(n.x1,n.cpx1,n.x2,e),(t?ZT:Dr)(n.y1,n.cpy1,n.y2,e)]}var tH=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Khe},e.prototype.buildPath=function(t,r){var o=r.x1,i=r.y1,a=r.x2,s=r.y2,l=r.cpx1,u=r.cpy1,c=r.cpx2,d=r.cpy2,h=r.percent;h!==0&&(t.moveTo(o,i),c==null||d==null?(h<1&&(dm(o,l,a,h,Fo),l=Fo[1],a=Fo[2],dm(i,u,s,h,Fo),u=Fo[1],s=Fo[2]),t.quadraticCurveTo(l,u,a,s)):(h<1&&(Ou(o,l,c,a,h,Fo),l=Fo[1],c=Fo[2],a=Fo[3],Ou(i,u,d,s,h,Fo),u=Fo[1],d=Fo[2],s=Fo[3]),t.bezierCurveTo(l,u,c,d,a,s)))},e.prototype.pointAt=function(t){return h5(this.shape,t,!1)},e.prototype.tangentAt=function(t){var r=h5(this.shape,t,!0);return uh(r,r)},e}(vt);tH.prototype.type="bezier-curve";const $y=tH;var Xhe=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),nH=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Xhe},e.prototype.buildPath=function(t,r){var o=r.cx,i=r.cy,a=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,u=r.clockwise,c=Math.cos(s),d=Math.sin(s);t.moveTo(c*a+o,d*a+i),t.arc(o,i,a,s,l,!u)},e}(vt);nH.prototype.type="arc";const iC=nH;var qhe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,r=this.shapeChanged(),o=0;o<t.length;o++)r=r||t[o].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],r=this.getGlobalScale(),o=0;o<t.length;o++)t[o].path||t[o].createPathProxy(),t[o].path.setScale(r[0],r[1],t[o].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,r){for(var o=r.paths||[],i=0;i<o.length;i++)o[i].buildPath(t,o[i].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],r=0;r<t.length;r++)t[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),vt.prototype.getBoundingRect.call(this)},e}(vt);const aC=qhe;var rH=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}(),Yhe=function(n){K(e,n);function e(t,r,o,i,a,s){var l=n.call(this,a)||this;return l.x=t??0,l.y=r??0,l.x2=o??1,l.y2=i??0,l.type="linear",l.global=s||!1,l}return e}(rH);const Dp=Yhe;var Zhe=function(n){K(e,n);function e(t,r,o,i,a){var s=n.call(this,i)||this;return s.x=t??.5,s.y=r??.5,s.r=o??.5,s.type="radial",s.global=a||!1,s}return e}(rH);const OE=Zhe;var $c=[0,0],Pc=[0,0],jb=new at,Kb=new at,Jhe=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new at;for(var r=0;r<2;r++)this._axes[r]=new at;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var r=this._corners,o=this._axes,i=e.x,a=e.y,s=i+e.width,l=a+e.height;if(r[0].set(i,a),r[1].set(s,a),r[2].set(s,l),r[3].set(i,l),t)for(var u=0;u<4;u++)r[u].transform(t);at.sub(o[0],r[1],r[0]),at.sub(o[1],r[3],r[0]),o[0].normalize(),o[1].normalize();for(var u=0;u<2;u++)this._origin[u]=o[u].dot(r[0])},n.prototype.intersect=function(e,t){var r=!0,o=!t;return jb.set(1/0,1/0),Kb.set(0,0),!this._intersectCheckOneSide(this,e,jb,Kb,o,1)&&(r=!1,o)||!this._intersectCheckOneSide(e,this,jb,Kb,o,-1)&&(r=!1,o)||o||at.copy(t,r?jb:Kb),r},n.prototype._intersectCheckOneSide=function(e,t,r,o,i,a){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,$c),this._getProjMinMaxOnAxis(l,t._corners,Pc),$c[1]<Pc[0]||$c[0]>Pc[1]){if(s=!1,i)return s;var c=Math.abs(Pc[0]-$c[1]),d=Math.abs($c[0]-Pc[1]);Math.min(c,d)>o.len()&&(c<d?at.scale(o,u,-c*a):at.scale(o,u,d*a))}else if(r){var c=Math.abs(Pc[0]-$c[1]),d=Math.abs($c[0]-Pc[1]);Math.min(c,d)<r.len()&&(c<d?at.scale(r,u,c*a):at.scale(r,u,-d*a))}}return s},n.prototype._getProjMinMaxOnAxis=function(e,t,r){for(var o=this._axes[e],i=this._origin,a=t[0].dot(o)+i[e],s=a,l=a,u=1;u<t.length;u++){var c=t[u].dot(o)+i[e];s=Math.min(c,s),l=Math.max(c,l)}r[0]=s,r[1]=l},n}();const Jw=Jhe;var Qhe=[],efe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,r){r?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,r){r=r||!1;for(var o=0;o<t.length;o++)this.addDisplayable(t[o],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var r=this._cursor;r<this._displayables.length;r++)t&&t(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)t&&t(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var r=this._displayables[t];r.parent=this,r.update(),r.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var r=this._temporaryDisplayables[t];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new lt(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var o=this._displayables[r],i=o.getBoundingRect().clone();o.needLocalTransform()&&i.applyTransform(o.getLocalTransform(Qhe)),t.union(i)}this._rect=t}return this._rect},e.prototype.contain=function(t,r){var o=this.transformCoordToLocal(t,r),i=this.getBoundingRect();if(i.contain(o[0],o[1]))for(var a=0;a<this._displayables.length;a++){var s=this._displayables[a];if(s.contain(t,r))return!0}return!1},e}(ra);const oH=efe;var iH=Tt();function Rp(n,e,t,r,o){var i;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();i=a&&a.animation}var s=e&&e.isAnimationEnabled(),l=n==="update";if(s){var u=void 0,c=void 0,d=void 0;r?(u=et(r.duration,200),c=et(r.easing,"cubicOut"),d=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),d=e.getShallow(l?"animationDelayUpdate":"animationDelay")),i&&(i.duration!=null&&(u=i.duration),i.easing!=null&&(c=i.easing),i.delay!=null&&(d=i.delay)),ze(d)&&(d=d(t,o)),ze(u)&&(u=u(t));var h={duration:u||0,delay:d,easing:c};return h}else return null}function FE(n,e,t,r,o,i,a){var s=!1,l;ze(o)?(a=i,i=o,o=null):Ge(o)&&(i=o.cb,a=o.during,s=o.isFrom,l=o.removeOpt,o=o.dataIndex);var u=n==="leave";u||e.stopAnimation("leave");var c=Rp(n,r,o,u?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,o):null);if(c&&c.duration>0){var d=c.duration,h=c.delay,f=c.easing,p={duration:d,delay:h||0,easing:f,done:i,force:!!i||!!a,setToFinal:!u,scope:n,during:a};s?e.animateFrom(t,p):e.animateTo(t,p)}else e.stopAnimation(),!s&&e.attr(t),a&&a(1),i&&i()}function Pt(n,e,t,r,o,i){FE("update",n,e,t,r,o,i)}function bn(n,e,t,r,o,i){FE("enter",n,e,t,r,o,i)}function Ff(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++){var t=n.animators[e];if(t.scope==="leave")return!0}return!1}function Fu(n,e,t,r,o,i){Ff(n)||FE("leave",n,e,t,r,o,i)}function f5(n,e,t,r){n.removeTextContent(),n.removeTextGuideLine(),Fu(n,{style:{opacity:0}},e,t,r)}function bm(n,e,t){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(o){o.isGroup||f5(o,e,t,r)}):f5(n,e,t,r)}function Wa(n){iH(n).oldStyle=n.style}function tfe(n){return iH(n).oldStyle}var Qw=Math.max,ex=Math.min,CA={};function aH(n){return vt.extend(n)}var nfe=$he;function sH(n,e){return nfe(n,e)}function la(n,e){CA[n]=e}function sC(n){if(CA.hasOwnProperty(n))return CA[n]}function Py(n,e,t,r){var o=UW(n,e);return t&&(r==="center"&&(t=lH(t,o.getBoundingRect())),zE(o,t)),o}function BE(n,e,t){var r=new Lr({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(o){if(t==="center"){var i={width:o.width,height:o.height};r.setStyle(lH(e,i))}}});return r}function lH(n,e){var t=e.width/e.height,r=n.height*t,o;r<=n.width?o=n.height:(r=n.width,o=r/t);var i=n.x+n.width/2,a=n.y+n.height/2;return{x:i-r/2,y:a-o/2,width:r,height:o}}var fi=Phe;function zE(n,e){if(n.applyTransform){var t=n.getBoundingRect(),r=t.calculateTransform(e);n.applyTransform(r)}}function tp(n,e){return IW(n,n,{lineWidth:e}),n}function rfe(n){return TW(n.shape,n.shape,n.style),n}var hw=pd;function Tu(n,e){for(var t=Iy([]);n&&n!==e;)As(t,n.getLocalTransform(),t),n=n.parent;return t}function La(n,e,t){return e&&!Gr(e)&&(e=fl.getLocalTransform(e)),t&&(e=ch([],e)),$r([],n,e)}function lC(n,e,t){var r=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),o=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),i=[n==="left"?-r:n==="right"?r:0,n==="top"?-o:n==="bottom"?o:0];return i=La(i,e,t),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function p5(n){return!n.isGroup}function ofe(n){return n.shape!=null}function My(n,e,t){if(!n||!e)return;function r(a){var s={};return a.traverse(function(l){p5(l)&&l.anid&&(s[l.anid]=l)}),s}function o(a){var s={x:a.x,y:a.y,rotation:a.rotation};return ofe(a)&&(s.shape=oe({},a.shape)),s}var i=r(n);e.traverse(function(a){if(p5(a)&&a.anid){var s=i[a.anid];if(s){var l=o(a);a.attr(o(s)),Pt(a,l,t,Ye(a).dataIndex)}}})}function VE(n,e){return fe(n,function(t){var r=t[0];r=Qw(r,e.x),r=ex(r,e.x+e.width);var o=t[1];return o=Qw(o,e.y),o=ex(o,e.y+e.height),[r,o]})}function uH(n,e){var t=Qw(n.x,e.x),r=ex(n.x+n.width,e.x+e.width),o=Qw(n.y,e.y),i=ex(n.y+n.height,e.y+e.height);if(r>=t&&i>=o)return{x:t,y:o,width:r-t,height:i-o}}function Ep(n,e,t){var r=oe({rectHover:!0},e),o=r.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(o.image=n.slice(8),Ve(o,t),new Lr(r)):Py(n.replace("path://",""),r,t,"center")}function cv(n,e,t,r,o){for(var i=0,a=o[o.length-1];i<o.length;i++){var s=o[i];if(cH(n,e,t,r,s[0],s[1],a[0],a[1]))return!0;a=s}}function cH(n,e,t,r,o,i,a,s){var l=t-n,u=r-e,c=a-o,d=s-i,h=b_(c,d,l,u);if(ife(h))return!1;var f=n-o,p=e-i,g=b_(f,p,l,u)/h;if(g<0||g>1)return!1;var v=b_(f,p,c,d)/h;return!(v<0||v>1)}function b_(n,e,t,r){return n*r-t*e}function ife(n){return n<=1e-6&&n>=-1e-6}function $p(n){var e=n.itemTooltipOption,t=n.componentModel,r=n.itemName,o=De(e)?{formatter:e}:e,i=t.mainType,a=t.componentIndex,s={componentType:i,name:r,$vars:["name"]};s[i+"Index"]=a;var l=n.formatterParamsExtra;l&&R(yt(l),function(c){$e(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=Ye(n.el);u.componentMainType=i,u.componentIndex=a,u.tooltipConfig={name:r,option:Ve({content:r,encodeHTMLContent:!0,formatterParams:s},o)}}function g5(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function Qu(n,e){if(n)if(ce(n))for(var t=0;t<n.length;t++)g5(n[t],e);else g5(n,e)}la("circle",Nl);la("ellipse",oC);la("sector",$o);la("ring",Ey);la("polygon",Po);la("polyline",No);la("rect",It);la("line",yr);la("bezierCurve",$y);la("arc",iC);const dh=Object.freeze(Object.defineProperty({__proto__:null,Arc:iC,BezierCurve:$y,BoundingRect:lt,Circle:Nl,CompoundPath:aC,Ellipse:oC,Group:Xe,Image:Lr,IncrementalDisplayable:oH,Line:yr,LinearGradient:Dp,OrientedBoundingRect:Jw,Path:vt,Point:at,Polygon:Po,Polyline:No,RadialGradient:OE,Rect:It,Ring:Ey,Sector:$o,Text:_t,applyTransform:La,clipPointsByRect:VE,clipRectByRect:uH,createIcon:Ep,extendPath:sH,extendShape:aH,getShapeClass:sC,getTransform:Tu,groupTransition:My,initProps:bn,isElementRemoved:Ff,lineLineIntersect:cH,linePolygonIntersect:cv,makeImage:BE,makePath:Py,mergePath:fi,registerShape:la,removeElement:Fu,removeElementWithFadeOut:bm,resizePath:zE,setTooltipConfig:$p,subPixelOptimize:hw,subPixelOptimizeLine:tp,subPixelOptimizeRect:rfe,transformDirection:lC,traverseElements:Qu,updateProps:Pt},Symbol.toStringTag,{value:"Module"}));var uC={};function dH(n,e){for(var t=0;t<Eo.length;t++){var r=Eo[t],o=e[r],i=n.ensureState(r);i.style=i.style||{},i.style.text=o}var a=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(a,!0)}function kA(n,e,t){var r=n.labelFetcher,o=n.labelDataIndex,i=n.labelDimIndex,a=e.normal,s;r&&(s=r.getFormattedLabel(o,"normal",null,i,a&&a.get("formatter"),t!=null?{interpolatedValue:t}:null)),s==null&&(s=ze(n.defaultText)?n.defaultText(o,n,t):n.defaultText);for(var l={normal:s},u=0;u<Eo.length;u++){var c=Eo[u],d=e[c];l[c]=et(r?r.getFormattedLabel(o,c,null,i,d&&d.get("formatter")):null,s)}return l}function Hr(n,e,t,r){t=t||uC;for(var o=n instanceof _t,i=!1,a=0;a<mm.length;a++){var s=e[mm[a]];if(s&&s.getShallow("show")){i=!0;break}}var l=o?n:n.getTextContent();if(i){o||(l||(l=new _t,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var u=kA(t,e),c=e.normal,d=!!c.getShallow("show"),h=dn(c,r&&r.normal,t,!1,!o);h.text=u.normal,o||n.setTextConfig(tx(c,t,!1));for(var a=0;a<Eo.length;a++){var f=Eo[a],s=e[f];if(s){var p=l.ensureState(f),g=!!et(s.getShallow("show"),d);if(g!==d&&(p.ignore=!g),p.style=dn(s,r&&r[f],t,!0,!o),p.style.text=u[f],!o){var v=n.ensureState(f);v.textConfig=tx(s,t,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!d,l.useStyle(h),l.dirty(),t.enableTextSetter&&(Pp(l).setLabelText=function(m){var y=kA(t,e,m);dH(l,y)})}else l&&(l.ignore=!0);n.dirty()}function Cr(n,e){e=e||"label";for(var t={normal:n.getModel(e)},r=0;r<Eo.length;r++){var o=Eo[r];t[o]=n.getModel([o,e])}return t}function dn(n,e,t,r,o){var i={};return afe(i,n,t,r,o),e&&oe(i,e),i}function tx(n,e,t){e=e||{};var r={},o,i=n.getShallow("rotate"),a=et(n.getShallow("distance"),t?null:5),s=n.getShallow("offset");return o=n.getShallow("position")||(t?null:"inside"),o==="outside"&&(o=e.defaultOutsidePosition||"top"),o!=null&&(r.position=o),s!=null&&(r.offset=s),i!=null&&(i*=Math.PI/180,r.rotation=i),a!=null&&(r.distance=a),r.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",r}function afe(n,e,t,r,o){t=t||uC;var i=e.ecModel,a=i&&i.option.textStyle,s=sfe(e),l;if(s){l={};for(var u in s)if(s.hasOwnProperty(u)){var c=e.getModel(["rich",u]);b5(l[u]={},c,a,t,r,o,!1,!0)}}l&&(n.rich=l);var d=e.get("overflow");d&&(n.overflow=d);var h=e.get("minMargin");h!=null&&(n.margin=h),b5(n,e,a,t,r,o,!0,!1)}function sfe(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||uC).rich;if(t){e=e||{};for(var r=yt(t),o=0;o<r.length;o++){var i=r[o];e[i]=1}}n=n.parentModel}return e}var v5=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],m5=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],y5=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function b5(n,e,t,r,o,i,a,s){t=!o&&t||uC;var l=r&&r.inheritColor,u=e.getShallow("color"),c=e.getShallow("textBorderColor"),d=et(e.getShallow("opacity"),t.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),i||(u=u||t.color,c=c||t.textBorderColor),u!=null&&(n.fill=u),c!=null&&(n.stroke=c);var h=et(e.getShallow("textBorderWidth"),t.textBorderWidth);h!=null&&(n.lineWidth=h);var f=et(e.getShallow("textBorderType"),t.textBorderType);f!=null&&(n.lineDash=f);var p=et(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);p!=null&&(n.lineDashOffset=p),!o&&d==null&&!s&&(d=r&&r.defaultOpacity),d!=null&&(n.opacity=d),!o&&!i&&n.fill==null&&r.inheritColor&&(n.fill=r.inheritColor);for(var g=0;g<v5.length;g++){var v=v5[g],m=et(e.getShallow(v),t[v]);m!=null&&(n[v]=m)}for(var g=0;g<m5.length;g++){var v=m5[g],m=e.getShallow(v);m!=null&&(n[v]=m)}if(n.verticalAlign==null){var y=e.getShallow("baseline");y!=null&&(n.verticalAlign=y)}if(!a||!r.disableBox){for(var g=0;g<y5.length;g++){var v=y5[g],m=e.getShallow(v);m!=null&&(n[v]=m)}var b=e.getShallow("borderType");b!=null&&(n.borderDash=b),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&l&&(n.backgroundColor=l),(n.borderColor==="auto"||n.borderColor==="inherit")&&l&&(n.borderColor=l)}}function GE(n,e){var t=e&&e.getModel("textStyle");return Ki([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var Pp=Tt();function hH(n,e,t,r){if(n){var o=Pp(n);o.prevValue=o.value,o.value=t;var i=e.normal;o.valueAnimation=i.get("valueAnimation"),o.valueAnimation&&(o.precision=i.get("precision"),o.defaultInterpolatedText=r,o.statesModels=e)}}function fH(n,e,t,r,o){var i=Pp(n);if(!i.valueAnimation||i.prevValue===i.value)return;var a=i.defaultInterpolatedText,s=et(i.interpolatedValue,i.prevValue),l=i.value;function u(c){var d=vW(t,i.precision,s,l,c);i.interpolatedValue=c===1?null:d;var h=kA({labelDataIndex:e,labelFetcher:o,defaultText:a?a(d):d+""},i.statesModels,d);dH(n,h)}n.percent=0,(i.prevValue==null?bn:Pt)(n,{percent:1},r,e,null,u)}var lfe=["textStyle","color"],w_=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],x_=new _t,ufe=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(lfe):null)},n.prototype.getFont=function(){return GE({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<w_.length;r++)t[w_[r]]=this.getShallow(w_[r]);return x_.useStyle(t),x_.update(),x_.getBoundingRect()},n}(),pH=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],cfe=zd(pH),dfe=function(){function n(){}return n.prototype.getLineStyle=function(e){return cfe(this,e)},n}(),gH=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],hfe=zd(gH),ffe=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return hfe(this,e,t)},n}(),hh=function(){function n(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}return n.prototype.init=function(e,t,r){},n.prototype.mergeOption=function(e,t){rt(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var r=this.option,o=r==null?r:r[e];if(o==null&&!t){var i=this.parentModel;i&&(o=i.getShallow(e))}return o},n.prototype.getModel=function(e,t){var r=e!=null,o=r?this.parsePath(e):null,i=r?this._doGet(o):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(o)),new n(i,t,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var e=this.constructor;return new e(We(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!At.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var r=this.option;if(!e)return r;for(var o=0;o<e.length&&!(e[o]&&(r=r&&typeof r=="object"?r[e[o]]:null,r==null));o++);return r==null&&t&&(r=t._doGet(this.resolveParentPath(e),t.parentModel)),r},n}();AE(hh);xde(hh);Vn(hh,dfe);Vn(hh,ffe);Vn(hh,Ide);Vn(hh,ufe);const tn=hh;var pfe=Math.round(Math.random()*10);function Mp(n){return[n||"",pfe++].join("_")}function gfe(n){var e={};n.registerSubTypeDefaulter=function(t,r){var o=ws(t);e[o.main]=r},n.determineSubType=function(t,r){var o=r.type;if(!o){var i=ws(t).main;n.hasSubTypes(t)&&e[i]&&(o=e[i](r))}return o}}function vfe(n,e){n.topologicalTravel=function(i,a,s,l){if(!i.length)return;var u=t(a),c=u.graph,d=u.noEntryList,h={};for(R(i,function(y){h[y]=!0});d.length;){var f=d.pop(),p=c[f],g=!!h[f];g&&(s.call(l,f,p.originalDeps.slice()),delete h[f]),R(p.successor,g?m:v)}R(h,function(){var y="";throw new Error(y)});function v(y){c[y].entryCount--,c[y].entryCount===0&&d.push(y)}function m(y){h[y]=!0,v(y)}};function t(i){var a={},s=[];return R(i,function(l){var u=r(a,l),c=u.originalDeps=e(l),d=o(c,i);u.entryCount=d.length,u.entryCount===0&&s.push(l),R(d,function(h){ct(u.predecessor,h)<0&&u.predecessor.push(h);var f=r(a,h);ct(f.successor,h)<0&&f.successor.push(l)})}),{graph:a,noEntryList:s}}function r(i,a){return i[a]||(i[a]={predecessor:[],successor:[]}),i[a]}function o(i,a){var s=[];return R(i,function(l){ct(a,l)>=0&&s.push(l)}),s}}function ec(n,e){return rt(rt({},n,!0),e,!0)}const mfe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},yfe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var nx="ZH",WE="EN",Bf=WE,fw={},HE={},vH=At.domSupported?function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Bf).toUpperCase();return n.indexOf(nx)>-1?nx:Bf}():Bf;function UE(n,e){n=n.toUpperCase(),HE[n]=new tn(e),fw[n]=e}function bfe(n){if(De(n)){var e=fw[n.toUpperCase()]||{};return n===nx||n===WE?We(e):rt(We(e),We(fw[Bf]),!1)}else return rt(We(n),We(fw[Bf]),!1)}function _A(n){return HE[n]}function wfe(){return HE[Bf]}UE(WE,mfe);UE(nx,yfe);var jE=1e3,KE=jE*60,Wv=KE*60,Hi=Wv*24,w5=Hi*365,dv={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Xb="{yyyy}-{MM}-{dd}",x5={year:"{yyyy}",month:"{yyyy}-{MM}",day:Xb,hour:Xb+" "+dv.hour,minute:Xb+" "+dv.minute,second:Xb+" "+dv.second,millisecond:dv.none},S_=["year","month","day","hour","minute","second","millisecond"],mH=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function bo(n,e){return n+="","0000".substr(0,e-n.length)+n}function zf(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function xfe(n){return n===zf(n)}function Sfe(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Ly(n,e,t,r){var o=xi(n),i=o[XE(t)](),a=o[Vf(t)]()+1,s=Math.floor((a-1)/3)+1,l=o[cC(t)](),u=o["get"+(t?"UTC":"")+"Day"](),c=o[wm(t)](),d=(c-1)%12+1,h=o[dC(t)](),f=o[hC(t)](),p=o[fC(t)](),g=c>=12?"pm":"am",v=g.toUpperCase(),m=r instanceof tn?r:_A(r||vH)||wfe(),y=m.getModel("time"),b=y.get("month"),w=y.get("monthAbbr"),x=y.get("dayOfWeek"),S=y.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,g+"").replace(/{A}/g,v+"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,bo(i%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,b[a-1]).replace(/{MMM}/g,w[a-1]).replace(/{MM}/g,bo(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,bo(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,x[u]).replace(/{ee}/g,S[u]).replace(/{e}/g,u+"").replace(/{HH}/g,bo(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,bo(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,bo(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,bo(f,2)).replace(/{s}/g,f+"").replace(/{SSS}/g,bo(p,3)).replace(/{S}/g,p+"")}function Cfe(n,e,t,r,o){var i=null;if(De(t))i=t;else if(ze(t))i=t(n.value,e,{level:n.level});else{var a=oe({},dv);if(n.level>0)for(var s=0;s<S_.length;++s)a[S_[s]]="{primary|"+a[S_[s]]+"}";var l=t?t.inherit===!1?t:Ve(t,a):a,u=yH(n.value,o);if(l[u])i=l[u];else if(l.inherit){for(var c=mH.indexOf(u),s=c-1;s>=0;--s)if(l[u]){i=l[u];break}i=i||a.none}if(ce(i)){var d=n.level==null?0:n.level>=0?n.level:i.length+n.level;d=Math.min(d,i.length-1),i=i[d]}}return Ly(new Date(n.value),i,o,r)}function yH(n,e){var t=xi(n),r=t[Vf(e)]()+1,o=t[cC(e)](),i=t[wm(e)](),a=t[dC(e)](),s=t[hC(e)](),l=t[fC(e)](),u=l===0,c=u&&s===0,d=c&&a===0,h=d&&i===0,f=h&&o===1,p=f&&r===1;return p?"year":f?"month":h?"day":d?"hour":c?"minute":u?"second":"millisecond"}function S5(n,e,t){var r=Rt(n)?xi(n):n;switch(e=e||yH(n,t),e){case"year":return r[XE(t)]();case"half-year":return r[Vf(t)]()>=6?1:0;case"quarter":return Math.floor((r[Vf(t)]()+1)/4);case"month":return r[Vf(t)]();case"day":return r[cC(t)]();case"half-day":return r[wm(t)]()/24;case"hour":return r[wm(t)]();case"minute":return r[dC(t)]();case"second":return r[hC(t)]();case"millisecond":return r[fC(t)]()}}function XE(n){return n?"getUTCFullYear":"getFullYear"}function Vf(n){return n?"getUTCMonth":"getMonth"}function cC(n){return n?"getUTCDate":"getDate"}function wm(n){return n?"getUTCHours":"getHours"}function dC(n){return n?"getUTCMinutes":"getMinutes"}function hC(n){return n?"getUTCSeconds":"getSeconds"}function fC(n){return n?"getUTCMilliseconds":"getMilliseconds"}function kfe(n){return n?"setUTCFullYear":"setFullYear"}function bH(n){return n?"setUTCMonth":"setMonth"}function wH(n){return n?"setUTCDate":"setDate"}function xH(n){return n?"setUTCHours":"setHours"}function SH(n){return n?"setUTCMinutes":"setMinutes"}function CH(n){return n?"setUTCSeconds":"setSeconds"}function kH(n){return n?"setUTCMilliseconds":"setMilliseconds"}function _fe(n,e,t,r,o,i,a,s){var l=new _t({style:{text:n,font:e,align:t,verticalAlign:r,padding:o,rich:i,overflow:a?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function qE(n){if(!_E(n))return De(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function YE(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,r){return r.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var fh=US;function IA(n,e,t){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function o(c){return c&&Ki(c)?c:"-"}function i(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var a=e==="time",s=n instanceof Date;if(a||s){var l=a?xi(n):n;if(isNaN(+l)){if(s)return"-"}else return Ly(l,r,t)}if(e==="ordinal")return Bw(n)?o(n):Rt(n)&&i(n)?n+"":"-";var u=Fs(n);return i(u)?qE(u):Bw(n)?o(n):typeof n=="boolean"?n+"":"-"}var C5=["a","b","c","d","e","f","g"],C_=function(n,e){return"{"+n+(e??"")+"}"};function ZE(n,e,t){ce(e)||(e=[e]);var r=e.length;if(!r)return"";for(var o=e[0].$vars||[],i=0;i<o.length;i++){var a=C5[i];n=n.replace(C_(a),C_(a,0))}for(var s=0;s<r;s++)for(var l=0;l<o.length;l++){var u=e[s][o[l]];n=n.replace(C_(C5[l],s),t?Co(u):u)}return n}function Ife(n,e,t){return R(e,function(r,o){n=n.replace("{"+o+"}",r)}),n}function _H(n,e){var t=De(n)?{color:n,extraCssText:e}:n||{},r=t.color,o=t.type;e=t.extraCssText;var i=t.renderMode||"html";if(!r)return"";if(i==="html")return o==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Co(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Co(r)+";"+(e||"")+'"></span>';var a=t.markerId||"markerX";return{renderMode:i,content:"{"+a+"|}  ",style:o==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function Tfe(n,e,t){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var r=xi(e),o=t?"getUTC":"get",i=r[o+"FullYear"](),a=r[o+"Month"]()+1,s=r[o+"Date"](),l=r[o+"Hours"](),u=r[o+"Minutes"](),c=r[o+"Seconds"](),d=r[o+"Milliseconds"]();return n=n.replace("MM",bo(a,2)).replace("M",a).replace("yyyy",i).replace("yy",bo(i%100+"",2)).replace("dd",bo(s,2)).replace("d",s).replace("hh",bo(l,2)).replace("h",l).replace("mm",bo(u,2)).replace("m",u).replace("ss",bo(c,2)).replace("s",c).replace("SSS",bo(d,3)),n}function Afe(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function Gd(n,e){return e=e||"transparent",De(n)?n:Ge(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function rx(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var pw=R,IH=["left","right","top","bottom","width","height"],vd=[["width","left","right"],["height","top","bottom"]];function JE(n,e,t,r,o){var i=0,a=0;r==null&&(r=1/0),o==null&&(o=1/0);var s=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),d=e.childAt(u+1),h=d&&d.getBoundingRect(),f,p;if(n==="horizontal"){var g=c.width+(h?-h.x+c.x:0);f=i+g,f>r||l.newline?(i=0,f=g,a+=s+t,s=c.height):s=Math.max(s,c.height)}else{var v=c.height+(h?-h.y+c.y:0);p=a+v,p>o||l.newline?(i+=s+t,a=0,p=v,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=i,l.y=a,l.markRedraw(),n==="horizontal"?i=f+t:a=p+t)})}var Ad=JE;Qe(JE,"vertical");Qe(JE,"horizontal");function Dfe(n,e,t){var r=e.width,o=e.height,i=_e(n.left,r),a=_e(n.top,o),s=_e(n.right,r),l=_e(n.bottom,o);return(isNaN(i)||isNaN(parseFloat(n.left)))&&(i=0),(isNaN(s)||isNaN(parseFloat(n.right)))&&(s=r),(isNaN(a)||isNaN(parseFloat(n.top)))&&(a=0),(isNaN(l)||isNaN(parseFloat(n.bottom)))&&(l=o),t=fh(t||0),{width:Math.max(s-i-t[1]-t[3],0),height:Math.max(l-a-t[0]-t[2],0)}}function er(n,e,t){t=fh(t||0);var r=e.width,o=e.height,i=_e(n.left,r),a=_e(n.top,o),s=_e(n.right,r),l=_e(n.bottom,o),u=_e(n.width,r),c=_e(n.height,o),d=t[2]+t[0],h=t[1]+t[3],f=n.aspect;switch(isNaN(u)&&(u=r-s-h-i),isNaN(c)&&(c=o-l-d-a),f!=null&&(isNaN(u)&&isNaN(c)&&(f>r/o?u=r*.8:c=o*.8),isNaN(u)&&(u=f*c),isNaN(c)&&(c=u/f)),isNaN(i)&&(i=r-s-u-h),isNaN(a)&&(a=o-l-c-d),n.left||n.right){case"center":i=r/2-u/2-t[3];break;case"right":i=r-u-h;break}switch(n.top||n.bottom){case"middle":case"center":a=o/2-c/2-t[0];break;case"bottom":a=o-c-d;break}i=i||0,a=a||0,isNaN(u)&&(u=r-h-i-(s||0)),isNaN(c)&&(c=o-d-a-(l||0));var p=new lt(i+t[3],a+t[0],u,c);return p.margin=t,p}function pC(n,e,t,r,o,i){var a=!o||!o.hv||o.hv[0],s=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";if(i=i||n,i.x=n.x,i.y=n.y,!a&&!s)return!1;var u;if(l==="raw")u=n.type==="group"?new lt(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(u=n.getBoundingRect(),n.needLocalTransform()){var c=n.getLocalTransform();u=u.clone(),u.applyTransform(c)}var d=er(Ve({width:u.width,height:u.height},e),t,r),h=a?d.x-u.x:0,f=s?d.y-u.y:0;return l==="raw"?(i.x=h,i.y=f):(i.x+=h,i.y+=f),i===n&&n.markRedraw(),!0}function Rfe(n,e){return n[vd[e][0]]!=null||n[vd[e][1]]!=null&&n[vd[e][2]]!=null}function xm(n){var e=n.layoutMode||n.constructor.layoutMode;return Ge(e)?e:e?{type:e}:null}function Bu(n,e,t){var r=t&&t.ignoreSize;!ce(r)&&(r=[r,r]);var o=a(vd[0],0),i=a(vd[1],1);u(vd[0],n,o),u(vd[1],n,i);function a(c,d){var h={},f=0,p={},g=0,v=2;if(pw(c,function(b){p[b]=n[b]}),pw(c,function(b){s(e,b)&&(h[b]=p[b]=e[b]),l(h,b)&&f++,l(p,b)&&g++}),r[d])return l(e,c[1])?p[c[2]]=null:l(e,c[2])&&(p[c[1]]=null),p;if(g===v||!f)return p;if(f>=v)return h;for(var m=0;m<c.length;m++){var y=c[m];if(!s(h,y)&&s(n,y)){h[y]=n[y];break}}return h}function s(c,d){return c.hasOwnProperty(d)}function l(c,d){return c[d]!=null&&c[d]!=="auto"}function u(c,d,h){pw(c,function(f){d[f]=h[f]})}}function Lp(n){return TH({},n)}function TH(n,e){return e&&n&&pw(IH,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}var Efe=Tt(),Np=function(n){K(e,n);function e(t,r,o){var i=n.call(this,t,r,o)||this;return i.uid=Mp("ec_cpt_model"),i}return e.prototype.init=function(t,r,o){this.mergeDefaultAndTheme(t,o)},e.prototype.mergeDefaultAndTheme=function(t,r){var o=xm(this),i=o?Lp(t):{},a=r.getTheme();rt(t,a.get(this.mainType)),rt(t,this.getDefaultOption()),o&&Bu(t,i,o)},e.prototype.mergeOption=function(t,r){rt(this.option,t,!0);var o=xm(this);o&&Bu(this.option,t,o)},e.prototype.optionUpdated=function(t,r){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!yde(t))return t.defaultOption;var r=Efe(this);if(!r.defaultOption){for(var o=[],i=t;i;){var a=i.prototype.defaultOption;a&&o.push(a),i=i.superClass}for(var s={},l=o.length-1;l>=0;l--)s=rt(s,o[l],!0);r.defaultOption=s}return r.defaultOption},e.prototype.getReferringComponents=function(t,r){var o=t+"Index",i=t+"Id";return Dy(this.ecModel,t,{index:this.get(o,!0),id:this.get(i,!0)},r)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(tn);yW(Np,tn);JS(Np);gfe(Np);vfe(Np,$fe);function $fe(n){var e=[];return R(Np.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=fe(e,function(t){return ws(t).main}),n!=="dataset"&&ct(e,"dataset")<=0&&e.unshift("dataset"),e}const Ct=Np;var AH="";typeof navigator<"u"&&(AH=navigator.platform||"");var Gh="rgba(0, 0, 0, 0.2)";const Pfe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Gh,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Gh,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Gh,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Gh,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Gh,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Gh,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:AH.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var DH=Pe(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),ua="original",co="arrayRows",ca="objectRows",Xs="keyedColumns",Au="typedArray",RH="unknown",Ds="column",Op="row",zr={Must:1,Might:2,Not:3},EH=Tt();function Mfe(n){EH(n).datasetMap=Pe()}function $H(n,e,t){var r={},o=e$(e);if(!o||!n)return r;var i=[],a=[],s=e.ecModel,l=EH(s).datasetMap,u=o.uid+"_"+t.seriesLayoutBy,c,d;n=n.slice(),R(n,function(g,v){var m=Ge(g)?g:n[v]={name:g};m.type==="ordinal"&&c==null&&(c=v,d=p(m)),r[m.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:d,valueWayDim:0});R(n,function(g,v){var m=g.name,y=p(g);if(c==null){var b=h.valueWayDim;f(r[m],b,y),f(a,b,y),h.valueWayDim+=y}else if(c===v)f(r[m],0,y),f(i,0,y);else{var b=h.categoryWayDim;f(r[m],b,y),f(a,b,y),h.categoryWayDim+=y}});function f(g,v,m){for(var y=0;y<m;y++)g.push(v+y)}function p(g){var v=g.dimsDef;return v?v.length:1}return i.length&&(r.itemName=i),a.length&&(r.seriesName=a),r}function QE(n,e,t){var r={},o=e$(n);if(!o)return r;var i=e.sourceFormat,a=e.dimensionsDefine,s;(i===ca||i===Xs)&&R(a,function(c,d){(Ge(c)?c.name:c)==="name"&&(s=d)});var l=function(){for(var c={},d={},h=[],f=0,p=Math.min(5,t);f<p;f++){var g=MH(e.data,i,e.seriesLayoutBy,a,e.startIndex,f);h.push(g);var v=g===zr.Not;if(v&&c.v==null&&f!==s&&(c.v=f),(c.n==null||c.n===c.v||!v&&h[c.n]===zr.Not)&&(c.n=f),m(c)&&h[c.n]!==zr.Not)return c;v||(g===zr.Might&&d.v==null&&f!==s&&(d.v=f),(d.n==null||d.n===d.v)&&(d.n=f))}function m(y){return y.v!=null&&y.n!=null}return m(c)?c:m(d)?d:null}();if(l){r.value=[l.v];var u=s??l.n;r.itemName=[u],r.seriesName=[u]}return r}function e$(n){var e=n.get("data",!0);if(!e)return Dy(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},Qn).models[0]}function Lfe(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:Dy(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},Qn).models}function PH(n,e){return MH(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function MH(n,e,t,r,o,i){var a,s=5;if(Ro(n))return zr.Not;var l,u;if(r){var c=r[i];Ge(c)?(l=c.name,u=c.type):De(c)&&(l=c)}if(u!=null)return u==="ordinal"?zr.Must:zr.Not;if(e===co){var d=n;if(t===Op){for(var h=d[i],f=0;f<(h||[]).length&&f<s;f++)if((a=w(h[o+f]))!=null)return a}else for(var f=0;f<d.length&&f<s;f++){var p=d[o+f];if(p&&(a=w(p[i]))!=null)return a}}else if(e===ca){var g=n;if(!l)return zr.Not;for(var f=0;f<g.length&&f<s;f++){var v=g[f];if(v&&(a=w(v[l]))!=null)return a}}else if(e===Xs){var m=n;if(!l)return zr.Not;var h=m[l];if(!h||Ro(h))return zr.Not;for(var f=0;f<h.length&&f<s;f++)if((a=w(h[f]))!=null)return a}else if(e===ua)for(var y=n,f=0;f<y.length&&f<s;f++){var v=y[f],b=Tp(v);if(!ce(b))return zr.Not;if((a=w(b[i]))!=null)return a}function w(x){var S=De(x);if(x!=null&&Number.isFinite(Number(x))&&x!=="")return S?zr.Might:zr.Not;if(S&&x!=="-")return zr.Must}return zr.Not}var TA=Pe();function Nfe(n,e){uo(TA.get(n)==null&&e),TA.set(n,e)}function Ofe(n,e,t){var r=TA.get(e);if(!r)return t;var o=r(n);return o?t.concat(o):t}var k5=Tt(),Ffe=Tt(),t$=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,r){var o=rn(this.get("color",!0)),i=this.get("colorLayer",!0);return LH(this,k5,o,i,e,t,r)},n.prototype.clearColorPalette=function(){zfe(this,k5)},n}();function AA(n,e,t,r){var o=rn(n.get(["aria","decal","decals"]));return LH(n,Ffe,o,null,e,t,r)}function Bfe(n,e){for(var t=n.length,r=0;r<t;r++)if(n[r].length>e)return n[r];return n[t-1]}function LH(n,e,t,r,o,i,a){i=i||n;var s=e(i),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(o))return u[o];var c=a==null||!r?t:Bfe(r,a);if(c=c||t,!(!c||!c.length)){var d=c[l];return o&&(u[o]=d),s.paletteIdx=(l+1)%c.length,d}}function zfe(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}var qb,Dg,_5,I5="\0_ec_inner",Vfe=1,n$=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,r,o,i,a,s){i=i||{},this.option=null,this._theme=new tn(i),this._locale=new tn(a),this._optionManager=s},e.prototype.setOption=function(t,r,o){var i=D5(r);this._optionManager.setOption(t,o,i),this._resetOption(null,i)},e.prototype.resetOption=function(t,r){return this._resetOption(t,D5(r))},e.prototype._resetOption=function(t,r){var o=!1,i=this._optionManager;if(!t||t==="recreate"){var a=i.mountOption(t==="recreate");!this.option||t==="recreate"?_5(this,a):(this.restoreData(),this._mergeOption(a,r)),o=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var s=i.getTimelineOption(this);s&&(o=!0,this._mergeOption(s,r))}if(!t||t==="recreate"||t==="media"){var l=i.getMediaOption(this);l.length&&R(l,function(u){o=!0,this._mergeOption(u,r)},this)}return o},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,r){var o=this.option,i=this._componentsMap,a=this._componentsCount,s=[],l=Pe(),u=r&&r.replaceMergeMainTypeMap;Mfe(this),R(t,function(d,h){d!=null&&(Ct.hasClass(h)?h&&(s.push(h),l.set(h,!0)):o[h]=o[h]==null?We(d):rt(o[h],d,!0))}),u&&u.each(function(d,h){Ct.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),Ct.topologicalTravel(s,Ct.getAllClassMainTypes(),c,this);function c(d){var h=Ofe(this,d,rn(t[d])),f=i.get(d),p=f?u&&u.get(d)?"replaceMerge":"normalMerge":"replaceAll",g=fW(f,h,p);ude(g,d,Ct),o[d]=null,i.set(d,null),a.set(d,0);var v=[],m=[],y=0,b;R(g,function(w,x){var S=w.existing,C=w.newOption;if(!C)S&&(S.mergeOption({},this),S.optionUpdated({},!1));else{var k=d==="series",_=Ct.getClass(d,w.keyInfo.subType,!k);if(!_)return;if(d==="tooltip"){if(b)return;b=!0}if(S&&S.constructor===_)S.name=w.keyInfo.name,S.mergeOption(C,this),S.optionUpdated(C,!1);else{var I=oe({componentIndex:x},w.keyInfo);S=new _(C,this,this,I),oe(S,I),w.brandNew&&(S.__requireNewView=!0),S.init(C,this,this),S.optionUpdated(null,!0)}}S?(v.push(S.option),m.push(S),y++):(v.push(void 0),m.push(void 0))},this),o[d]=v,i.set(d,m),a.set(d,y),d==="series"&&qb(this)}this._seriesIndices||qb(this)},e.prototype.getOption=function(){var t=We(this.option);return R(t,function(r,o){if(Ct.hasClass(o)){for(var i=rn(r),a=i.length,s=!1,l=a-1;l>=0;l--)i[l]&&!vm(i[l])?s=!0:(i[l]=null,!s&&a--);i.length=a,t[o]=i}}),delete t[I5],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,r){var o=this._componentsMap.get(t);if(o){var i=o[r||0];if(i)return i;if(r==null){for(var a=0;a<o.length;a++)if(o[a])return o[a]}}},e.prototype.queryComponents=function(t){var r=t.mainType;if(!r)return[];var o=t.index,i=t.id,a=t.name,s=this._componentsMap.get(r);if(!s||!s.length)return[];var l;return o!=null?(l=[],R(rn(o),function(u){s[u]&&l.push(s[u])})):i!=null?l=T5("id",i,s):a!=null?l=T5("name",a,s):l=Ht(s,function(u){return!!u}),A5(l,t)},e.prototype.findComponents=function(t){var r=t.query,o=t.mainType,i=s(r),a=i?this.queryComponents(i):Ht(this._componentsMap.get(o),function(u){return!!u});return l(A5(a,t));function s(u){var c=o+"Index",d=o+"Id",h=o+"Name";return u&&(u[c]!=null||u[d]!=null||u[h]!=null)?{mainType:o,index:u[c],id:u[d],name:u[h]}:null}function l(u){return t.filter?Ht(u,t.filter):u}},e.prototype.eachComponent=function(t,r,o){var i=this._componentsMap;if(ze(t)){var a=r,s=t;i.each(function(d,h){for(var f=0;d&&f<d.length;f++){var p=d[f];p&&s.call(a,h,p,p.componentIndex)}})}else for(var l=De(t)?i.get(t):Ge(t)?this.findComponents(t):null,u=0;l&&u<l.length;u++){var c=l[u];c&&r.call(o,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var r=ir(t,null);return Ht(this._componentsMap.get("series"),function(o){return!!o&&r!=null&&o.name===r})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Ht(this._componentsMap.get("series"),function(r){return!!r&&r.subType===t})},e.prototype.getSeries=function(){return Ht(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,r){Dg(this),R(this._seriesIndices,function(o){var i=this._componentsMap.get("series")[o];t.call(r,i,o)},this)},e.prototype.eachRawSeries=function(t,r){R(this._componentsMap.get("series"),function(o){o&&t.call(r,o,o.componentIndex)})},e.prototype.eachSeriesByType=function(t,r,o){Dg(this),R(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];a.subType===t&&r.call(o,a,i)},this)},e.prototype.eachRawSeriesByType=function(t,r,o){return R(this.getSeriesByType(t),r,o)},e.prototype.isSeriesFiltered=function(t){return Dg(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,r){Dg(this);var o=[];R(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(r,a,i)&&o.push(i)},this),this._seriesIndices=o,this._seriesIndicesMap=Pe(o)},e.prototype.restoreData=function(t){qb(this);var r=this._componentsMap,o=[];r.each(function(i,a){Ct.hasClass(a)&&o.push(a)}),Ct.topologicalTravel(o,Ct.getAllClassMainTypes(),function(i){R(r.get(i),function(a){a&&(i!=="series"||!Gfe(a,t))&&a.restoreData()})})},e.internalField=function(){qb=function(t){var r=t._seriesIndices=[];R(t._componentsMap.get("series"),function(o){o&&r.push(o.componentIndex)}),t._seriesIndicesMap=Pe(r)},Dg=function(t){},_5=function(t,r){t.option={},t.option[I5]=Vfe,t._componentsMap=Pe({series:[]}),t._componentsCount=Pe();var o=r.aria;Ge(o)&&o.enabled==null&&(o.enabled=!0),Wfe(r,t._theme.option),rt(r,Pfe,!1),t._mergeOption(r,null)}}(),e}(tn);function Gfe(n,e){if(e){var t=e.seriesIndex,r=e.seriesId,o=e.seriesName;return t!=null&&n.componentIndex!==t||r!=null&&n.id!==r||o!=null&&n.name!==o}}function Wfe(n,e){var t=n.color&&!n.colorLayer;R(e,function(r,o){o==="colorLayer"&&t||Ct.hasClass(o)||(typeof r=="object"?n[o]=n[o]?rt(n[o],r,!1):We(r):n[o]==null&&(n[o]=r))})}function T5(n,e,t){if(ce(e)){var r=Pe();return R(e,function(i){if(i!=null){var a=ir(i,null);a!=null&&r.set(i,!0)}}),Ht(t,function(i){return i&&r.get(i[n])})}else{var o=ir(e,null);return Ht(t,function(i){return i&&o!=null&&i[n]===o})}}function A5(n,e){return e.hasOwnProperty("subType")?Ht(n,function(t){return t&&t.subType===e.subType}):n}function D5(n){var e=Pe();return n&&R(rn(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Vn(n$,t$);var Hfe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],NH=function(){function n(e){R(Hfe,function(t){this[t]=Re(e[t],e)},this)}return n}(),k_={},Fp=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var r=[];R(k_,function(o,i){var a=o.create(e,t);r=r.concat(a||[])}),this._coordinateSystems=r},n.prototype.update=function(e,t){R(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){k_[e]=t},n.get=function(e){return k_[e]},n}(),Ufe=/^(min|max)?(.+)$/,jfe=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,r){e&&(R(rn(e.series),function(a){a&&a.data&&Ro(a.data)&&lm(a.data)}),R(rn(e.dataset),function(a){a&&a.source&&Ro(a.source)&&lm(a.source)})),e=We(e);var o=this._optionBackup,i=Kfe(e,t,!o);this._newBaseOption=i.baseOption,o?(i.timelineOptions.length&&(o.timelineOptions=i.timelineOptions),i.mediaList.length&&(o.mediaList=i.mediaList),i.mediaDefault&&(o.mediaDefault=i.mediaDefault)):this._optionBackup=i},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],We(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,r=this._timelineOptions;if(r.length){var o=e.getComponent("timeline");o&&(t=We(r[o.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),r=this._api.getHeight(),o=this._mediaList,i=this._mediaDefault,a=[],s=[];if(!o.length&&!i)return s;for(var l=0,u=o.length;l<u;l++)Xfe(o[l].query,t,r)&&a.push(l);return!a.length&&i&&(a=[-1]),a.length&&!Yfe(a,this._currentMediaIndices)&&(s=fe(a,function(c){return We(c===-1?i.option:o[c].option)})),this._currentMediaIndices=a,s},n}();function Kfe(n,e,t){var r=[],o,i,a=n.baseOption,s=n.timeline,l=n.options,u=n.media,c=!!n.media,d=!!(l||s||a&&a.timeline);a?(i=a,i.timeline||(i.timeline=s)):((d||c)&&(n.options=n.media=null),i=n),c&&ce(u)&&R(u,function(f){f&&f.option&&(f.query?r.push(f):o||(o=f))}),h(i),R(l,function(f){return h(f)}),R(r,function(f){return h(f.option)});function h(f){R(e,function(p){p(f,t)})}return{baseOption:i,timelineOptions:l||[],mediaDefault:o,mediaList:r}}function Xfe(n,e,t){var r={width:e,height:t,aspectratio:e/t},o=!0;return R(n,function(i,a){var s=a.match(Ufe);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();qfe(r[u],i,l)||(o=!1)}}),o}function qfe(n,e,t){return t==="min"?n>=e:t==="max"?n<=e:n===e}function Yfe(n,e){return n.join(",")===e.join(",")}var va=R,Sm=Ge,R5=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function __(n){var e=n&&n.itemStyle;if(e)for(var t=0,r=R5.length;t<r;t++){var o=R5[t],i=e.normal,a=e.emphasis;i&&i[o]&&(n[o]=n[o]||{},n[o].normal?rt(n[o].normal,i[o]):n[o].normal=i[o],i[o]=null),a&&a[o]&&(n[o]=n[o]||{},n[o].emphasis?rt(n[o].emphasis,a[o]):n[o].emphasis=a[o],a[o]=null)}}function eo(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var r=n[e].normal,o=n[e].emphasis;r&&(t?(n[e].normal=n[e].emphasis=null,Ve(n[e],r)):n[e]=r),o&&(n.emphasis=n.emphasis||{},n.emphasis[e]=o,o.focus&&(n.emphasis.focus=o.focus),o.blurScope&&(n.emphasis.blurScope=o.blurScope))}}function hv(n){eo(n,"itemStyle"),eo(n,"lineStyle"),eo(n,"areaStyle"),eo(n,"label"),eo(n,"labelLine"),eo(n,"upperLabel"),eo(n,"edgeLabel")}function Zn(n,e){var t=Sm(n)&&n[e],r=Sm(t)&&t.textStyle;if(r)for(var o=0,i=NO.length;o<i;o++){var a=NO[o];r.hasOwnProperty(a)&&(t[a]=r[a])}}function Fi(n){n&&(hv(n),Zn(n,"label"),n.emphasis&&Zn(n.emphasis,"label"))}function Zfe(n){if(Sm(n)){__(n),hv(n),Zn(n,"label"),Zn(n,"upperLabel"),Zn(n,"edgeLabel"),n.emphasis&&(Zn(n.emphasis,"label"),Zn(n.emphasis,"upperLabel"),Zn(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(__(e),Fi(e));var t=n.markLine;t&&(__(t),Fi(t));var r=n.markArea;r&&Fi(r);var o=n.data;if(n.type==="graph"){o=o||n.nodes;var i=n.links||n.edges;if(i&&!Ro(i))for(var a=0;a<i.length;a++)Fi(i[a]);R(n.categories,function(u){hv(u)})}if(o&&!Ro(o))for(var a=0;a<o.length;a++)Fi(o[a]);if(e=n.markPoint,e&&e.data)for(var s=e.data,a=0;a<s.length;a++)Fi(s[a]);if(t=n.markLine,t&&t.data)for(var l=t.data,a=0;a<l.length;a++)ce(l[a])?(Fi(l[a][0]),Fi(l[a][1])):Fi(l[a]);n.type==="gauge"?(Zn(n,"axisLabel"),Zn(n,"title"),Zn(n,"detail")):n.type==="treemap"?(eo(n.breadcrumb,"itemStyle"),R(n.levels,function(u){hv(u)})):n.type==="tree"&&hv(n.leaves)}}function el(n){return ce(n)?n:n?[n]:[]}function E5(n){return(ce(n)?n[0]:n)||{}}function Jfe(n,e){va(el(n.series),function(r){Sm(r)&&Zfe(r)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),va(t,function(r){va(el(n[r]),function(o){o&&(Zn(o,"axisLabel"),Zn(o.axisPointer,"label"))})}),va(el(n.parallel),function(r){var o=r&&r.parallelAxisDefault;Zn(o,"axisLabel"),Zn(o&&o.axisPointer,"label")}),va(el(n.calendar),function(r){eo(r,"itemStyle"),Zn(r,"dayLabel"),Zn(r,"monthLabel"),Zn(r,"yearLabel")}),va(el(n.radar),function(r){Zn(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),va(el(n.geo),function(r){Sm(r)&&(Fi(r),va(el(r.regions),function(o){Fi(o)}))}),va(el(n.timeline),function(r){Fi(r),eo(r,"label"),eo(r,"itemStyle"),eo(r,"controlStyle",!0);var o=r.data;ce(o)&&R(o,function(i){Ge(i)&&(eo(i,"label"),eo(i,"itemStyle"))})}),va(el(n.toolbox),function(r){eo(r,"iconStyle"),va(r.feature,function(o){eo(o,"iconStyle")})}),Zn(E5(n.axisPointer),"label"),Zn(E5(n.tooltip).axisPointer,"label")}function Qfe(n,e){for(var t=e.split(","),r=n,o=0;o<t.length&&(r=r&&r[t[o]],r!=null);o++);return r}function epe(n,e,t,r){for(var o=e.split(","),i=n,a,s=0;s<o.length-1;s++)a=o[s],i[a]==null&&(i[a]={}),i=i[a];i[o[s]]==null&&(i[o[s]]=t)}function $5(n){n&&R(tpe,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var tpe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],npe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],I_=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Rg(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<I_.length;t++){var r=I_[t][1],o=I_[t][0];e[r]!=null&&(e[o]=e[r])}}function P5(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function M5(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function rpe(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function OH(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&OH(n[t].children,e)}function FH(n,e){Jfe(n,e),n.series=rn(n.series),R(n.series,function(t){if(Ge(t)){var r=t.type;if(r==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(r==="pie"||r==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),P5(t.label);var o=t.data;if(o&&!Ro(o))for(var i=0;i<o.length;i++)P5(o[i]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(r==="gauge"){var a=Qfe(t,"pointer.color");a!=null&&epe(t,"itemStyle.color",a)}else if(r==="bar"){Rg(t),Rg(t.backgroundStyle),Rg(t.emphasis);var o=t.data;if(o&&!Ro(o))for(var i=0;i<o.length;i++)typeof o[i]=="object"&&(Rg(o[i]),Rg(o[i]&&o[i].emphasis))}else if(r==="sunburst"){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s)),M5(t),OH(t.data,M5)}else r==="graph"||r==="sankey"?rpe(t):r==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Ve(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),$5(t)}}),n.dataRange&&(n.visualMap=n.dataRange),R(npe,function(t){var r=n[t];r&&(ce(r)||(r=[r]),R(r,function(o){$5(o)}))})}function ope(n){var e=Pe();n.eachSeries(function(t){var r=t.get("stack");if(r){var o=e.get(r)||e.set(r,[]),i=t.getData(),a={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:t};if(!a.stackedDimension||!(a.isStackedByIndex||a.stackedByDimension))return;o.length&&i.setCalculationInfo("stackedOnSeries",o[o.length-1].seriesModel),o.push(a)}}),e.each(ipe)}function ipe(n){R(n,function(e,t){var r=[],o=[NaN,NaN],i=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";a.modify(i,function(u,c,d){var h=a.get(e.stackedDimension,d);if(isNaN(h))return o;var f,p;s?p=a.getRawIndex(d):f=a.get(e.stackedByDimension,d);for(var g=NaN,v=t-1;v>=0;v--){var m=n[v];if(s||(p=m.data.rawIndexOf(m.stackedByDimension,f)),p>=0){var y=m.data.getByRawIndex(m.stackResultDimension,p);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&h>=0&&y>0||l==="samesign"&&h<=0&&y<0){h=Qce(h,y),g=y;break}}}return r[0]=h,r[1]=g,r})})}var gC=function(){function n(e){this.data=e.data||(e.sourceFormat===Xs?{}:[]),this.sourceFormat=e.sourceFormat||RH,this.seriesLayoutBy=e.seriesLayoutBy||Ds,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var r=0;r<t.length;r++){var o=t[r];o.type==null&&PH(this,r)===zr.Must&&(o.type="ordinal")}}return n}();function r$(n){return n instanceof gC}function DA(n,e,t){t=t||BH(n);var r=e.seriesLayoutBy,o=spe(n,t,r,e.sourceHeader,e.dimensions),i=new gC({data:n,sourceFormat:t,seriesLayoutBy:r,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,metaRawOption:We(e)});return i}function o$(n){return new gC({data:n,sourceFormat:Ro(n)?Au:ua})}function ape(n){return new gC({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:We(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function BH(n){var e=RH;if(Ro(n))e=Au;else if(ce(n)){n.length===0&&(e=co);for(var t=0,r=n.length;t<r;t++){var o=n[t];if(o!=null){if(ce(o)||Ro(o)){e=co;break}else if(Ge(o)){e=ca;break}}}}else if(Ge(n)){for(var i in n)if($e(n,i)&&Gr(n[i])){e=Xs;break}}return e}function spe(n,e,t,r,o){var i,a;if(!n)return{dimensionsDefine:L5(o),startIndex:a,dimensionsDetectedCount:i};if(e===co){var s=n;r==="auto"||r==null?N5(function(u){u!=null&&u!=="-"&&(De(u)?a==null&&(a=1):a=0)},t,s,10):a=Rt(r)?r:r?1:0,!o&&a===1&&(o=[],N5(function(u,c){o[c]=u!=null?u+"":""},t,s,1/0)),i=o?o.length:t===Op?s.length:s[0]?s[0].length:null}else if(e===ca)o||(o=lpe(n));else if(e===Xs)o||(o=[],R(n,function(u,c){o.push(c)}));else if(e===ua){var l=Tp(n[0]);i=ce(l)&&l.length||1}return{startIndex:a,dimensionsDefine:L5(o),dimensionsDetectedCount:i}}function lpe(n){for(var e=0,t;e<n.length&&!(t=n[e++]););if(t)return yt(t)}function L5(n){if(n){var e=Pe();return fe(n,function(t,r){t=Ge(t)?t:{name:t};var o={name:t.name,displayName:t.displayName,type:t.type};if(o.name==null)return o;o.name+="",o.displayName==null&&(o.displayName=o.name);var i=e.get(o.name);return i?o.name+="-"+i.count++:e.set(o.name,{count:1}),o})}}function N5(n,e,t,r){if(e===Op)for(var o=0;o<t.length&&o<r;o++)n(t[o]?t[o][0]:null,o);else for(var i=t[0]||[],o=0;o<i.length&&o<r;o++)n(i[o],o)}function zH(n){var e=n.sourceFormat;return e===ca||e===Xs}var Mc,Lc,Nc,O5,F5,VH=function(){function n(e,t){var r=r$(e)?e:o$(e);this._source=r;var o=this._data=r.data;r.sourceFormat===Au&&(this._offset=0,this._dimSize=t,this._data=o),F5(this,o,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;F5=function(a,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,d=l.startIndex,h=l.dimensionsDefine,f=O5[i$(u,c)];if(oe(a,f),u===Au)a.getItem=t,a.count=o,a.fillStorage=r;else{var p=GH(u,c);a.getItem=Re(p,null,s,d,h);var g=WH(u,c);a.count=Re(g,null,s,d,h)}};var t=function(a,s){a=a-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*a,d=0;d<u;d++)s[d]=l[c+d];return s},r=function(a,s,l,u){for(var c=this._data,d=this._dimSize,h=0;h<d;h++){for(var f=u[h],p=f[0]==null?1/0:f[0],g=f[1]==null?-1/0:f[1],v=s-a,m=l[h],y=0;y<v;y++){var b=c[y*d+h];m[a+y]=b,b<p&&(p=b),b>g&&(g=b)}f[0]=p,f[1]=g}},o=function(){return this._data?this._data.length/this._dimSize:0};O5=(e={},e[co+"_"+Ds]={pure:!0,appendData:i},e[co+"_"+Op]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[ca]={pure:!0,appendData:i},e[Xs]={pure:!0,appendData:function(a){var s=this._data;R(a,function(l,u){for(var c=s[u]||(s[u]=[]),d=0;d<(l||[]).length;d++)c.push(l[d])})}},e[ua]={appendData:i},e[Au]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},e);function i(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}}(),n}(),B5=function(n,e,t,r){return n[r]},upe=(Mc={},Mc[co+"_"+Ds]=function(n,e,t,r){return n[r+e]},Mc[co+"_"+Op]=function(n,e,t,r,o){r+=e;for(var i=o||[],a=n,s=0;s<a.length;s++){var l=a[s];i[s]=l?l[r]:null}return i},Mc[ca]=B5,Mc[Xs]=function(n,e,t,r,o){for(var i=o||[],a=0;a<t.length;a++){var s=t[a].name,l=n[s];i[a]=l?l[r]:null}return i},Mc[ua]=B5,Mc);function GH(n,e){var t=upe[i$(n,e)];return t}var z5=function(n,e,t){return n.length},cpe=(Lc={},Lc[co+"_"+Ds]=function(n,e,t){return Math.max(0,n.length-e)},Lc[co+"_"+Op]=function(n,e,t){var r=n[0];return r?Math.max(0,r.length-e):0},Lc[ca]=z5,Lc[Xs]=function(n,e,t){var r=t[0].name,o=n[r];return o?o.length:0},Lc[ua]=z5,Lc);function WH(n,e){var t=cpe[i$(n,e)];return t}var T_=function(n,e,t){return n[e]},dpe=(Nc={},Nc[co]=T_,Nc[ca]=function(n,e,t){return n[t]},Nc[Xs]=T_,Nc[ua]=function(n,e,t){var r=Tp(n);return r instanceof Array?r[e]:r},Nc[Au]=T_,Nc);function HH(n){var e=dpe[n];return e}function i$(n,e){return n===co?n+"_"+e:n}function np(n,e,t){if(n){var r=n.getRawDataItem(e);if(r!=null){var o=n.getStore(),i=o.getSource().sourceFormat;if(t!=null){var a=n.getDimensionIndex(t),s=o.getDimensionProperty(a);return HH(i)(r,a,s)}else{var l=r;return i===ua&&(l=Tp(r)),l}}}}var hpe=/\{@(.+?)\}/g,vC=function(){function n(){}return n.prototype.getDataParams=function(e,t){var r=this.getData(t),o=this.getRawValue(e,t),i=r.getRawIndex(e),a=r.getName(e),s=r.getRawDataItem(e),l=r.getItemVisual(e,"style"),u=l&&l[r.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,d=this.mainType,h=d==="series",f=r.userOutput&&r.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:a,dataIndex:i,data:s,dataType:t,value:o,color:u,borderColor:c,dimensionNames:f?f.fullDimensions:null,encode:f?f.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,r,o,i,a){t=t||"normal";var s=this.getData(r),l=this.getDataParams(e,r);if(a&&(l.value=a.interpolatedValue),o!=null&&ce(l.value)&&(l.value=l.value[o]),!i){var u=s.getItemModel(e);i=u.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(ze(i))return l.status=t,l.dimensionIndex=o,i(l);if(De(i)){var c=ZE(i,l);return c.replace(hpe,function(d,h){var f=h.length,p=h;p.charAt(0)==="["&&p.charAt(f-1)==="]"&&(p=+p.slice(1,f-1));var g=np(s,e,p);if(a&&ce(a.interpolatedValue)){var v=s.getDimensionIndex(p);v>=0&&(g=a.interpolatedValue[v])}return g!=null?g+"":""})}},n.prototype.getRawValue=function(e,t){return np(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,r){},n}();function V5(n){var e,t;return Ge(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function Hv(n){return new fpe(n)}var fpe=function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var o=this.context;o.data=o.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!r&&(i=this._plan(this.context));var a=c(this._modBy),s=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(a!==l||s!==u)&&(i="reset");function c(y){return!(y>=1)&&(y=1),y}var d;(this._dirty||i==="reset")&&(this._dirty=!1,d=this._doReset(r)),this._modBy=l,this._modDataCount=u;var h=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,p=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!r&&(d||f<p)){var g=this._progress;if(ce(g))for(var v=0;v<g.length;v++)this._doProgress(g[v],f,p,l,u);else this._doProgress(g,f,p,l,u)}this._dueIndex=p;var m=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,r,o,i){G5.reset(t,r,o,i),this._callingProgress=e,this._callingProgress({start:t,end:r,count:r-t,next:G5.next},this.context)},n.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,r;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(r=t.forceFirstProgress,t=t.progress),ce(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var o=this._downstream;return o&&o.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),G5=function(){var n,e,t,r,o,i={reset:function(l,u,c,d){e=l,n=u,t=c,r=d,o=Math.ceil(r/t),i.next=t>1&&r>0?s:a}};return i;function a(){return e<n?e++:null}function s(){var l=e%o*t+Math.ceil(e/o),u=e>=n?null:l<r?l:e;return e++,u}}();function Du(n,e){var t=e&&e.type;return t==="ordinal"?n:(t==="time"&&!Rt(n)&&n!=null&&n!=="-"&&(n=+xi(n)),n==null||n===""?NaN:Number(n))}var ppe=Pe({number:function(n){return parseFloat(n)},time:function(n){return+xi(n)},trim:function(n){return De(n)?Ki(n):n}});function UH(n){return ppe.get(n)}var jH={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},gpe=function(){function n(e,t){if(!Rt(t)){var r="";zt(r)}this._opFn=jH[e],this._rvalFloat=Fs(t)}return n.prototype.evaluate=function(e){return Rt(e)?this._opFn(e,this._rvalFloat):this._opFn(Fs(e),this._rvalFloat)},n}(),KH=function(){function n(e,t){var r=e==="desc";this._resultLT=r?1:-1,t==null&&(t=r?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var r=Rt(e)?e:Fs(e),o=Rt(t)?t:Fs(t),i=isNaN(r),a=isNaN(o);if(i&&(r=this._incomparable),a&&(o=this._incomparable),i&&a){var s=De(e),l=De(t);s&&(r=l?e:0),l&&(o=s?t:0)}return r<o?this._resultLT:r>o?-this._resultLT:0},n}(),vpe=function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Fs(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var r=typeof e;r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")&&(t=Fs(e)===this._rvalFloat)}return this._isEQ?t:!t},n}();function mpe(n,e){return n==="eq"||n==="ne"?new vpe(n==="eq",e):$e(jH,n)?new gpe(n,e):null}var ype=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return Du(e,t)},n}();function bpe(n,e){var t=new ype,r=n.data,o=t.sourceFormat=n.sourceFormat,i=n.startIndex,a="";n.seriesLayoutBy!==Ds&&zt(a);var s=[],l={},u=n.dimensionsDefine;if(u)R(u,function(g,v){var m=g.name,y={index:v,name:m,displayName:g.displayName};if(s.push(y),m!=null){var b="";$e(l,m)&&zt(b),l[m]=y}});else for(var c=0;c<n.dimensionsDetectedCount;c++)s.push({index:c});var d=GH(o,Ds);e.__isBuiltIn&&(t.getRawDataItem=function(g){return d(r,i,s,g)},t.getRawData=Re(wpe,null,n)),t.cloneRawData=Re(xpe,null,n);var h=WH(o,Ds);t.count=Re(h,null,r,i,s);var f=HH(o);t.retrieveValue=function(g,v){var m=d(r,i,s,g);return p(m,v)};var p=t.retrieveValueFromItem=function(g,v){if(g!=null){var m=s[v];if(m)return f(g,v,m.name)}};return t.getDimensionInfo=Re(Spe,null,s,l),t.cloneAllDimensionInfo=Re(Cpe,null,s),t}function wpe(n){var e=n.sourceFormat;if(!a$(e)){var t="";zt(t)}return n.data}function xpe(n){var e=n.sourceFormat,t=n.data;if(!a$(e)){var r="";zt(r)}if(e===co){for(var o=[],i=0,a=t.length;i<a;i++)o.push(t[i].slice());return o}else if(e===ca){for(var o=[],i=0,a=t.length;i<a;i++)o.push(oe({},t[i]));return o}}function Spe(n,e,t){if(t!=null){if(Rt(t)||!isNaN(t)&&!$e(e,t))return n[t];if($e(e,t))return e[t]}}function Cpe(n){return We(n)}var XH=Pe();function kpe(n){n=We(n);var e=n.type,t="";e||zt(t);var r=e.split(":");r.length!==2&&zt(t);var o=!1;r[0]==="echarts"&&(e=r[1],o=!0),n.__isBuiltIn=o,XH.set(e,n)}function _pe(n,e,t){var r=rn(n),o=r.length,i="";o||zt(i);for(var a=0,s=o;a<s;a++){var l=r[a];e=Ipe(l,e),a!==s-1&&(e.length=Math.max(e.length,1))}return e}function Ipe(n,e,t,r){var o="";e.length||zt(o),Ge(n)||zt(o);var i=n.type,a=XH.get(i);a||zt(o);var s=fe(e,function(u){return bpe(u,a)}),l=rn(a.transform({upstream:s[0],upstreamList:s,config:We(n.config)}));return fe(l,function(u,c){var d="";Ge(u)||zt(d),u.data||zt(d);var h=BH(u.data);a$(h)||zt(d);var f,p=e[0];if(p&&c===0&&!u.dimensions){var g=p.startIndex;g&&(u.data=p.data.slice(0,g).concat(u.data)),f={seriesLayoutBy:Ds,sourceHeader:g,dimensions:p.metaRawOption.dimensions}}else f={seriesLayoutBy:Ds,sourceHeader:0,dimensions:u.dimensions};return DA(u.data,f,null)})}function a$(n){return n===co||n===ca}var mC="undefined",Tpe=typeof Uint32Array===mC?Array:Uint32Array,Ape=typeof Uint16Array===mC?Array:Uint16Array,qH=typeof Int32Array===mC?Array:Int32Array,W5=typeof Float64Array===mC?Array:Float64Array,YH={float:W5,int:qH,ordinal:Array,number:Array,time:W5},A_;function Eg(n){return n>65535?Tpe:Ape}function Wh(){return[1/0,-1/0]}function Dpe(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function H5(n,e,t,r,o){var i=YH[t||"float"];if(o){var a=n[e],s=a&&a.length;if(s!==r){for(var l=new i(r),u=0;u<s;u++)l[u]=a[u];n[e]=l}}else n[e]=new i(r)}var RA=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Pe()}return n.prototype.initData=function(e,t,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var o=e.getSource(),i=this.defaultDimValueGetter=A_[o.sourceFormat];this._dimValueGetter=r||i,this._rawExtent=[],zH(o),this._dimensions=fe(t,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var r=this._calcDimNameToIdx,o=this._dimensions,i=r.get(e);if(i!=null){if(o[i].type===t)return i}else i=o.length;return o[i]={type:t},r.set(e,i),this._chunks[i]=new YH[t||"float"](this._rawCount),this._rawExtent[i]=Wh(),i},n.prototype.collectOrdinalMeta=function(e,t){var r=this._chunks[e],o=this._dimensions[e],i=this._rawExtent,a=o.ordinalOffset||0,s=r.length;a===0&&(i[e]=Wh());for(var l=i[e],u=a;u<s;u++){var c=r[u]=t.parseAndCollect(r[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}o.ordinalMeta=t,o.ordinalOffset=s,o.type="ordinal"},n.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],r=t.ordinalMeta;return r},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,r=this.count();t.appendData(e);var o=t.count();return t.persistent||(o+=r),r<o&&this._initDataFromProvider(r,o,!0),[r,o]},n.prototype.appendValues=function(e,t){for(var r=this._chunks,o=this._dimensions,i=o.length,a=this._rawExtent,s=this.count(),l=s+Math.max(e.length,t||0),u=0;u<i;u++){var c=o[u];H5(r,u,c.type,l,!0)}for(var d=[],h=s;h<l;h++)for(var f=h-s,p=0;p<i;p++){var c=o[p],g=A_.arrayRows.call(this,e[f]||d,c.property,f,p);r[p][h]=g;var v=a[p];g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}return this._rawCount=this._count=l,{start:s,end:l}},n.prototype._initDataFromProvider=function(e,t,r){for(var o=this._provider,i=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,u=fe(a,function(y){return y.property}),c=0;c<s;c++){var d=a[c];l[c]||(l[c]=Wh()),H5(i,c,d.type,t,r)}if(o.fillStorage)o.fillStorage(e,t,i,l);else for(var h=[],f=e;f<t;f++){h=o.getItem(f,h);for(var p=0;p<s;p++){var g=i[p],v=this._dimValueGetter(h,u[p],f,p);g[f]=v;var m=l[p];v<m[0]&&(m[0]=v),v>m[1]&&(m[1]=v)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var r=[],o=[];if(t==null){t=e,e=[];for(var i=0;i<this._dimensions.length;i++)o.push(i)}else o=e;for(var i=0,a=o.length;i<a;i++)r.push(this.get(o[i],t));return r},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var r=this._chunks[e];return r?r[t]:NaN},n.prototype.getSum=function(e){var t=this._chunks[e],r=0;if(t)for(var o=0,i=this.count();o<i;o++){var a=this.get(e,o);isNaN(a)||(r+=a)}return r},n.prototype.getMedian=function(e){var t=[];this.each([e],function(i){isNaN(i)||t.push(i)});var r=t.sort(function(i,a){return i-a}),o=this.count();return o===0?0:o%2===1?r[(o-1)/2]:(r[o/2]+r[o/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,r=t[e];if(r!=null&&r<this._count&&r===e)return e;for(var o=0,i=this._count-1;o<=i;){var a=(o+i)/2|0;if(t[a]<e)o=a+1;else if(t[a]>e)i=a-1;else return a}return-1},n.prototype.indicesOfNearest=function(e,t,r){var o=this._chunks,i=o[e],a=[];if(!i)return a;r==null&&(r=1/0);for(var s=1/0,l=-1,u=0,c=0,d=this.count();c<d;c++){var h=this.getRawIndex(c),f=t-i[h],p=Math.abs(f);p<=r&&((p<s||p===s&&f>=0&&l<0)&&(s=p,l=f,u=0),f===l&&(a[u++]=c))}return a.length=u,a},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var r=t.constructor,o=this._count;if(r===Array){e=new r(o);for(var i=0;i<o;i++)e[i]=t[i]}else e=new r(t.buffer,0,o)}else{var r=Eg(this._rawCount);e=new r(this.count());for(var i=0;i<e.length;i++)e[i]=i}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var r=this.clone(),o=r.count(),i=Eg(r._rawCount),a=new i(o),s=[],l=e.length,u=0,c=e[0],d=r._chunks,h=0;h<o;h++){var f=void 0,p=r.getRawIndex(h);if(l===0)f=t(h);else if(l===1){var g=d[c][p];f=t(g,h)}else{for(var v=0;v<l;v++)s[v]=d[e[v]][p];s[v]=h,f=t.apply(null,s)}f&&(a[u++]=p)}return u<o&&(r._indices=a),r._count=u,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(e){var t=this.clone(),r=t._count;if(!r)return this;var o=yt(e),i=o.length;if(!i)return this;var a=t.count(),s=Eg(t._rawCount),l=new s(a),u=0,c=o[0],d=e[c][0],h=e[c][1],f=t._chunks,p=!1;if(!t._indices){var g=0;if(i===1){for(var v=f[o[0]],m=0;m<r;m++){var y=v[m];(y>=d&&y<=h||isNaN(y))&&(l[u++]=g),g++}p=!0}else if(i===2){for(var v=f[o[0]],b=f[o[1]],w=e[o[1]][0],x=e[o[1]][1],m=0;m<r;m++){var y=v[m],S=b[m];(y>=d&&y<=h||isNaN(y))&&(S>=w&&S<=x||isNaN(S))&&(l[u++]=g),g++}p=!0}}if(!p)if(i===1)for(var m=0;m<a;m++){var C=t.getRawIndex(m),y=f[o[0]][C];(y>=d&&y<=h||isNaN(y))&&(l[u++]=C)}else for(var m=0;m<a;m++){for(var k=!0,C=t.getRawIndex(m),_=0;_<i;_++){var I=o[_],y=f[I][C];(y<e[I][0]||y>e[I][1])&&(k=!1)}k&&(l[u++]=t.getRawIndex(m))}return u<a&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var r=this.clone(e);return this._updateDims(r,e,t),r},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,r){for(var o=e._chunks,i=[],a=t.length,s=e.count(),l=[],u=e._rawExtent,c=0;c<t.length;c++)u[t[c]]=Wh();for(var d=0;d<s;d++){for(var h=e.getRawIndex(d),f=0;f<a;f++)l[f]=o[t[f]][h];l[a]=d;var p=r&&r.apply(null,l);if(p!=null){typeof p!="object"&&(i[0]=p,p=i);for(var c=0;c<p.length;c++){var g=t[c],v=p[c],m=u[g],y=o[g];y&&(y[h]=v),v<m[0]&&(m[0]=v),v>m[1]&&(m[1]=v)}}}},n.prototype.lttbDownSample=function(e,t){var r=this.clone([e],!0),o=r._chunks,i=o[e],a=this.count(),s=0,l=Math.floor(1/t),u=this.getRawIndex(0),c,d,h,f=new(Eg(this._rawCount))(Math.min((Math.ceil(a/l)+2)*2,a));f[s++]=u;for(var p=1;p<a-1;p+=l){for(var g=Math.min(p+l,a-1),v=Math.min(p+l*2,a),m=(v+g)/2,y=0,b=g;b<v;b++){var w=this.getRawIndex(b),x=i[w];isNaN(x)||(y+=x)}y/=v-g;var S=p,C=Math.min(p+l,a),k=p-1,_=i[u];c=-1,h=S;for(var I=-1,T=0,b=S;b<C;b++){var w=this.getRawIndex(b),x=i[w];if(isNaN(x)){T++,I<0&&(I=w);continue}d=Math.abs((k-m)*(x-_)-(k-b)*(y-_)),d>c&&(c=d,h=w)}T>0&&T<C-S&&(f[s++]=Math.min(I,h),h=Math.max(I,h)),f[s++]=h,u=h}return f[s++]=this.getRawIndex(a-1),r._count=s,r._indices=f,r.getRawIndex=this._getRawIdx,r},n.prototype.downSample=function(e,t,r,o){for(var i=this.clone([e],!0),a=i._chunks,s=[],l=Math.floor(1/t),u=a[e],c=this.count(),d=i._rawExtent[e]=Wh(),h=new(Eg(this._rawCount))(Math.ceil(c/l)),f=0,p=0;p<c;p+=l){l>c-p&&(l=c-p,s.length=l);for(var g=0;g<l;g++){var v=this.getRawIndex(p+g);s[g]=u[v]}var m=r(s),y=this.getRawIndex(Math.min(p+o(s,m)||0,c-1));u[y]=m,m<d[0]&&(d[0]=m),m>d[1]&&(d[1]=m),h[f++]=y}return i._count=f,i._indices=h,i._updateGetRawIdx(),i},n.prototype.each=function(e,t){if(this._count)for(var r=e.length,o=this._chunks,i=0,a=this.count();i<a;i++){var s=this.getRawIndex(i);switch(r){case 0:t(i);break;case 1:t(o[e[0]][s],i);break;case 2:t(o[e[0]][s],o[e[1]][s],i);break;default:for(var l=0,u=[];l<r;l++)u[l]=o[e[l]][s];u[l]=i,t.apply(null,u)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],r=Wh();if(!t)return r;var o=this.count(),i=!this._indices,a;if(i)return this._rawExtent[e].slice();if(a=this._extent[e],a)return a.slice();a=r;for(var s=a[0],l=a[1],u=0;u<o;u++){var c=this.getRawIndex(u),d=t[c];d<s&&(s=d),d>l&&(l=d)}return a=[s,l],this._extent[e]=a,a},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var r=[],o=this._chunks,i=0;i<o.length;i++)r.push(o[i][t]);return r},n.prototype.clone=function(e,t){var r=new n,o=this._chunks,i=e&&na(e,function(s,l){return s[l]=!0,s},{});if(i)for(var a=0;a<o.length;a++)r._chunks[a]=i[a]?Dpe(o[a]):o[a];else r._chunks=o;return this._copyCommonProps(r),t||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=We(this._extent),e._rawExtent=We(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var r=this._indices.length;t=new e(r);for(var o=0;o<r;o++)t[o]=this._indices[o]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,r,o,i){return Du(t[i],this._dimensions[i])}A_={arrayRows:e,objectRows:function(t,r,o,i){return Du(t[r],this._dimensions[i])},keyedColumns:e,original:function(t,r,o,i){var a=t&&(t.value==null?t:t.value);return Du(a instanceof Array?a[i]:a,this._dimensions[i])},typedArray:function(t,r,o,i){return t[i]}}}(),n}(),ZH=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),r=!!t.length,o,i;if(Yb(e)){var a=e,s=void 0,l=void 0,u=void 0;if(r){var c=t[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,i=[c._getVersionSign()]}else s=a.get("data",!0),l=Ro(s)?Au:ua,i=[];var d=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},f=et(d.seriesLayoutBy,h.seriesLayoutBy)||null,p=et(d.sourceHeader,h.sourceHeader),g=et(d.dimensions,h.dimensions),v=f!==h.seriesLayoutBy||!!p!=!!h.sourceHeader||g;o=v?[DA(s,{seriesLayoutBy:f,sourceHeader:p,dimensions:g},l)]:[]}else{var m=e;if(r){var y=this._applyTransform(t);o=y.sourceList,i=y.upstreamSignList}else{var b=m.get("source",!0);o=[DA(b,this._getSourceMetaRawOption(),null)],i=[]}}this._setLocalSource(o,i)},n.prototype._applyTransform=function(e){var t=this._sourceHost,r=t.get("transform",!0),o=t.get("fromTransformResult",!0);if(o!=null){var i="";e.length!==1&&j5(i)}var a,s=[],l=[];return R(e,function(u){u.prepareSource();var c=u.getSource(o||0),d="";o!=null&&!c&&j5(d),s.push(c),l.push(u._getVersionSign())}),r?a=_pe(r,s,{datasetIndex:t.componentIndex}):o!=null&&(a=[ape(s[0])]),{sourceList:a,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var r=e[t];if(r._isDirty()||this._upstreamSignList[t]!==r._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,r){var o=0,i=this._storeList,a=i[o];a||(a=i[o]={});var s=a[r];if(!s){var l=this._getUpstreamSourceManagers()[0];Yb(this._sourceHost)&&l?s=l._innerGetDataStore(e,t,r):(s=new RA,s.initData(new VH(t,e.length),e)),a[r]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Yb(e)){var t=e$(e);return t?[t.getSourceManager()]:[]}else return fe(Lfe(e),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,r,o;if(Yb(e))t=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),o=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=e;t=i.get("seriesLayoutBy",!0),r=i.get("sourceHeader",!0),o=i.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:r,dimensions:o}},n}();function U5(n){var e=n.option.transform;e&&lm(n.option.transform)}function Yb(n){return n.mainType==="series"}function j5(n){throw new Error(n)}var JH="line-height:1";function QH(n,e){var t=n.color||"#6e7079",r=n.fontSize||12,o=n.fontWeight||"400",i=n.color||"#464646",a=n.fontSize||14,s=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Co(r+"")+"px;color:"+Co(t)+";font-weight:"+Co(o+""),valueStyle:"font-size:"+Co(a+"")+"px;color:"+Co(i)+";font-weight:"+Co(s+"")}:{nameStyle:{fontSize:r,fill:t,fontWeight:o},valueStyle:{fontSize:a,fill:i,fontWeight:s}}}var Rpe=[0,10,20,30],Epe=["",`
`,`

`,`


`];function kr(n,e){return e.type=n,e}function EA(n){return n.type==="section"}function eU(n){return EA(n)?$pe:Ppe}function tU(n){if(EA(n)){var e=0,t=n.blocks.length,r=t>1||t>0&&!n.noHeader;return R(n.blocks,function(o){var i=tU(o);i>=e&&(e=i+ +(r&&(!i||EA(o)&&!o.noHeader)))}),e}return 0}function $pe(n,e,t,r){var o=e.noHeader,i=Mpe(tU(e)),a=[],s=e.blocks||[];uo(!s||ce(s)),s=s||[];var l=n.orderMode;if(e.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if($e(u,l)){var c=new KH(u[l],null);s.sort(function(p,g){return c.evaluate(p.sortParam,g.sortParam)})}else l==="seriesDesc"&&s.reverse()}R(s,function(p,g){var v=e.valueFormatter,m=eU(p)(v?oe(oe({},n),{valueFormatter:v}):n,p,g>0?i.html:0,r);m!=null&&a.push(m)});var d=n.renderMode==="richText"?a.join(i.richText):$A(a.join(""),o?t:i.html);if(o)return d;var h=IA(e.header,"ordinal",n.useUTC),f=QH(r,n.renderMode).nameStyle;return n.renderMode==="richText"?nU(n,h,f)+i.richText+d:$A('<div style="'+f+";"+JH+';">'+Co(h)+"</div>"+d,t)}function Ppe(n,e,t,r){var o=n.renderMode,i=e.noName,a=e.noValue,s=!e.markerType,l=e.name,u=n.useUTC,c=e.valueFormatter||n.valueFormatter||function(w){return w=ce(w)?w:[w],fe(w,function(x,S){return IA(x,ce(f)?f[S]:f,u)})};if(!(i&&a)){var d=s?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",o),h=i?"":IA(l,"ordinal",u),f=e.valueType,p=a?[]:c(e.value,e.dataIndex),g=!s||!i,v=!s&&i,m=QH(r,o),y=m.nameStyle,b=m.valueStyle;return o==="richText"?(s?"":d)+(i?"":nU(n,h,y))+(a?"":Ope(n,p,g,v,b)):$A((s?"":d)+(i?"":Lpe(h,!s,y))+(a?"":Npe(p,g,v,b)),t)}}function K5(n,e,t,r,o,i){if(n){var a=eU(n),s={useUTC:o,renderMode:t,orderMode:r,markupStyleCreator:e,valueFormatter:n.valueFormatter};return a(s,n,0,i)}}function Mpe(n){return{html:Rpe[n],richText:Epe[n]}}function $A(n,e){var t='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+JH+';">'+n+t+"</div>"}function Lpe(n,e,t){var r=e?"margin-left:2px":"";return'<span style="'+t+";"+r+'">'+Co(n)+"</span>"}function Npe(n,e,t,r){var o=t?"10px":"20px",i=e?"float:right;margin-left:"+o:"";return n=ce(n)?n:[n],'<span style="'+i+";"+r+'">'+fe(n,function(a){return Co(a)}).join("&nbsp;&nbsp;")+"</span>"}function nU(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function Ope(n,e,t,r,o){var i=[o],a=r?10:20;return t&&i.push({padding:[0,0,0,a],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(ce(e)?e.join("  "):e,i)}function rU(n,e){var t=n.getData().getItemVisual(e,"style"),r=t[n.visualDrawType];return Gd(r)}function oU(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var D_=function(){function n(){this.richTextStyles={},this._nextStyleNameId=uW()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,r){var o=r==="richText"?this._generateStyleName():null,i=_H({color:t,type:e,renderMode:r,markerId:o});return De(i)?i:(this.richTextStyles[o]=i.style,i.content)},n.prototype.wrapRichTextStyle=function(e,t){var r={};ce(t)?R(t,function(i){return oe(r,i)}):oe(r,t);var o=this._generateStyleName();return this.richTextStyles[o]=r,"{"+o+"|"+e+"}"},n}();function iU(n){var e=n.series,t=n.dataIndex,r=n.multipleSeries,o=e.getData(),i=o.mapDimensionsAll("defaultedTooltip"),a=i.length,s=e.getRawValue(t),l=ce(s),u=rU(e,t),c,d,h,f;if(a>1||l&&!a){var p=Fpe(s,e,t,i,u);c=p.inlineValues,d=p.inlineValueTypes,h=p.blocks,f=p.inlineValues[0]}else if(a){var g=o.getDimensionInfo(i[0]);f=c=np(o,t,i[0]),d=g.type}else f=c=l?s[0]:s;var v=IE(e),m=v&&e.name||"",y=o.getName(t),b=r?m:y;return kr("section",{header:m,noHeader:r||!v,sortParam:f,blocks:[kr("nameValue",{markerType:"item",markerColor:u,name:b,noName:!Ki(b),value:c,valueType:d,dataIndex:t})].concat(h||[])})}function Fpe(n,e,t,r,o){var i=e.getData(),a=na(n,function(d,h,f){var p=i.getDimensionInfo(f);return d=d||p&&p.tooltip!==!1&&p.displayName!=null},!1),s=[],l=[],u=[];r.length?R(r,function(d){c(np(i,t,d),d)}):R(n,c);function c(d,h){var f=i.getDimensionInfo(h);!f||f.otherDims.tooltip===!1||(a?u.push(kr("nameValue",{markerType:"subItem",markerColor:o,name:f.displayName,value:d,valueType:f.type})):(s.push(d),l.push(f.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Kl=Tt();function Zb(n,e){return n.getName(e)||n.getId(e)}var gw="__universalTransitionEnabled",yC=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,r,o){this.seriesIndex=this.componentIndex,this.dataTask=Hv({count:zpe,reset:Vpe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,o);var i=Kl(this).sourceManager=new ZH(this);i.prepareSource();var a=this.getInitialData(t,o);q5(a,this),this.dataTask.context.data=a,Kl(this).dataBeforeProcessed=a,X5(this),this._initSelectedMapFromData(a)},e.prototype.mergeDefaultAndTheme=function(t,r){var o=xm(this),i=o?Lp(t):{},a=this.subType;Ct.hasClass(a)&&(a+="Series"),rt(t,r.getTheme().get(this.subType)),rt(t,this.getDefaultOption()),Fd(t,"label",["show"]),this.fillDataTextStyle(t.data),o&&Bu(t,i,o)},e.prototype.mergeOption=function(t,r){t=rt(this.option,t,!0),this.fillDataTextStyle(t.data);var o=xm(this);o&&Bu(this.option,t,o);var i=Kl(this).sourceManager;i.dirty(),i.prepareSource();var a=this.getInitialData(t,r);q5(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,Kl(this).dataBeforeProcessed=a,X5(this),this._initSelectedMapFromData(a)},e.prototype.fillDataTextStyle=function(t){if(t&&!Ro(t))for(var r=["show"],o=0;o<t.length;o++)t[o]&&t[o].label&&Fd(t[o],"label",r)},e.prototype.getInitialData=function(t,r){},e.prototype.appendData=function(t){var r=this.getRawData();r.appendData(t.data)},e.prototype.getData=function(t){var r=PA(this);if(r){var o=r.context.data;return t==null||!o.getLinkedData?o:o.getLinkedData(t)}else return Kl(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var r=PA(this);if(r){var o=r.context;o.outputData=t,r!==this.dataTask&&(o.data=t)}Kl(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Pe(t)},e.prototype.getSourceManager=function(){return Kl(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Kl(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,r,o){return iU({series:this,dataIndex:t,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(At.node&&!(t&&t.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,r,o){var i=this.ecModel,a=t$.prototype.getColorFromPalette.call(this,t,r,o);return a||(a=i.getColorFromPalette(t,r,o)),a},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,r){this._innerSelect(this.getData(r),t)},e.prototype.unselect=function(t,r){var o=this.option.selectedMap;if(o){var i=this.option.selectedMode,a=this.getData(r);if(i==="series"||o==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<t.length;s++){var l=t[s],u=Zb(a,l);o[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,r){for(var o=[],i=0;i<t.length;i++)o[0]=t[i],this.isSelected(t[i],r)?this.unselect(o,r):this.select(o,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,r=yt(t),o=[],i=0;i<r.length;i++){var a=t[r[i]];a>=0&&o.push(a)}return o},e.prototype.isSelected=function(t,r){var o=this.option.selectedMap;if(!o)return!1;var i=this.getData(r);return(o==="all"||o[Zb(i,t)])&&!i.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[gw])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,r){var o,i,a=this.option,s=a.selectedMode,l=r.length;if(!(!s||!l)){if(s==="series")a.selectedMap="all";else if(s==="multiple"){Ge(a.selectedMap)||(a.selectedMap={});for(var u=a.selectedMap,c=0;c<l;c++){var d=r[c],h=Zb(t,d);u[h]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(d)}}else if(s==="single"||s===!0){var f=r[l-1],h=Zb(t,f);a.selectedMap=(o={},o[h]=!0,o),this._selectedDataIndicesMap=(i={},i[h]=t.getRawIndex(f),i)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var r=[];t.hasItemOption&&t.each(function(o){var i=t.getRawDataItem(o);i&&i.selected&&r.push(o)}),r.length>0&&this._innerSelect(t,r)}},e.registerClass=function(t){return Ct.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(Ct);Vn(yC,vC);Vn(yC,t$);yW(yC,Ct);function X5(n){var e=n.name;IE(n)||(n.name=Bpe(n)||e)}function Bpe(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),r=[];return R(t,function(o){var i=e.getDimensionInfo(o);i.displayName&&r.push(i.displayName)}),r.join(" ")}function zpe(n){return n.model.getRawData().count()}function Vpe(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),Gpe}function Gpe(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function q5(n,e){R(um(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,Qe(Wpe,e))})}function Wpe(n,e){var t=PA(n);return t&&t.setOutputEnd((e||this).count()),e}function PA(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var r=t.currentTask;if(r){var o=r.agentStubMap;o&&(r=o.get(n.uid))}return r}}const gn=yC;var s$=function(){function n(){this.group=new Xe,this.uid=Mp("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,o){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,o){},n.prototype.updateLayout=function(e,t,r,o){},n.prototype.updateVisual=function(e,t,r,o){},n.prototype.toggleBlurSeries=function(e,t,r){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();AE(s$);JS(s$);const Cn=s$;function Bp(){var n=Tt();return function(e){var t=n(e),r=e.pipelineContext,o=!!t.large,i=!!t.progressiveRender,a=t.large=!!(r&&r.large),s=t.progressiveRender=!!(r&&r.progressiveRender);return(o!==a||i!==s)&&"reset"}}var aU=Tt(),Hpe=Bp(),l$=function(){function n(){this.group=new Xe,this.uid=Mp("viewChart"),this.renderTask=Hv({plan:Upe,reset:jpe}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,o){},n.prototype.highlight=function(e,t,r,o){var i=e.getData(o&&o.dataType);i&&Z5(i,o,"emphasis")},n.prototype.downplay=function(e,t,r,o){var i=e.getData(o&&o.dataType);i&&Z5(i,o,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,o){this.render(e,t,r,o)},n.prototype.updateLayout=function(e,t,r,o){this.render(e,t,r,o)},n.prototype.updateVisual=function(e,t,r,o){this.render(e,t,r,o)},n.prototype.eachRendered=function(e){Qu(this.group,e)},n.markUpdateMethod=function(e,t){aU(e).updateMethod=t},n.protoInitialize=function(){var e=n.prototype;e.type="chart"}(),n}();function Y5(n,e,t){n&&ym(n)&&(e==="emphasis"?Sl:Cl)(n,t)}function Z5(n,e,t){var r=Bd(n,e),o=e&&e.highlightKey!=null?_he(e.highlightKey):null;r!=null?R(rn(r),function(i){Y5(n.getItemGraphicEl(i),t,o)}):n.eachItemGraphicEl(function(i){Y5(i,t,o)})}AE(l$);JS(l$);function Upe(n){return Hpe(n.model)}function jpe(n){var e=n.model,t=n.ecModel,r=n.api,o=n.payload,i=e.pipelineContext.progressiveRender,a=n.view,s=o&&aU(o).updateMethod,l=i?"incrementalPrepareRender":s&&a[s]?s:"render";return l!=="render"&&a[l](e,t,r,o),Kpe[l]}var Kpe={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const on=l$;var ox="\0__throttleOriginMethod",J5="\0__throttleRate",Q5="\0__throttleType";function bC(n,e,t){var r,o=0,i=0,a=null,s,l,u,c;e=e||0;function d(){i=new Date().getTime(),a=null,n.apply(l,u||[])}var h=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];r=new Date().getTime(),l=this,u=f;var g=c||e,v=c||t;c=null,s=r-(v?o:i)-g,clearTimeout(a),v?a=setTimeout(d,g):s>=0?d():a=setTimeout(d,-s),o=r};return h.clear=function(){a&&(clearTimeout(a),a=null)},h.debounceNextCall=function(f){c=f},h}function zp(n,e,t,r){var o=n[e];if(o){var i=o[ox]||o,a=o[Q5],s=o[J5];if(s!==t||a!==r){if(t==null||!r)return n[e]=i;o=n[e]=bC(i,t,r==="debounce"),o[ox]=i,o[Q5]=r,o[J5]=t}return o}}function Cm(n,e){var t=n[e];t&&t[ox]&&(t.clear&&t.clear(),n[e]=t[ox])}var e4=Tt(),t4={itemStyle:zd(gH,!0),lineStyle:zd(pH,!0)},Xpe={lineStyle:"stroke",itemStyle:"fill"};function sU(n,e){var t=n.visualStyleMapper||t4[e];return t||(console.warn("Unknown style type '"+e+"'."),t4.itemStyle)}function lU(n,e){var t=n.visualDrawType||Xpe[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var qpe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",o=n.getModel(r),i=sU(n,r),a=i(o),s=o.getShallow("decal");s&&(t.setVisual("decal",s),s.dirty=!0);var l=lU(n,r),u=a[l],c=ze(u)?u:null,d=a.fill==="auto"||a.stroke==="auto";if(!a[l]||c||d){var h=n.getColorFromPalette(n.name,null,e.getSeriesCount());a[l]||(a[l]=h,t.setVisual("colorFromPalette",!0)),a.fill=a.fill==="auto"||ze(a.fill)?h:a.fill,a.stroke=a.stroke==="auto"||ze(a.stroke)?h:a.stroke}if(t.setVisual("style",a),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&c)return t.setVisual("colorFromPalette",!1),{dataEach:function(f,p){var g=n.getDataParams(p),v=oe({},a);v[l]=c(g),f.setItemVisual(p,"style",v)}}}},$g=new tn,Ype={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!(n.ignoreStyleOnData||e.isSeriesFiltered(n))){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",o=sU(n,r),i=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[r]){$g.option=l[r];var u=o($g),c=a.ensureUniqueItemVisual(s,"style");oe(c,u),$g.option.decal&&(a.setItemVisual(s,"decal",$g.option.decal),$g.option.decal.dirty=!0),i in u&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},Zpe={performRawSeries:!0,overallReset:function(n){var e=Pe();n.eachSeries(function(t){var r=t.getColorBy();if(!t.isColorBySeries()){var o=t.type+"-"+r,i=e.get(o);i||(i={},e.set(o,i)),e4(t).scope=i}}),n.eachSeries(function(t){if(!(t.isColorBySeries()||n.isSeriesFiltered(t))){var r=t.getRawData(),o={},i=t.getData(),a=e4(t).scope,s=t.visualStyleAccessPath||"itemStyle",l=lU(t,s);i.each(function(u){var c=i.getRawIndex(u);o[c]=u}),r.each(function(u){var c=o[u],d=i.getItemVisual(c,"colorFromPalette");if(d){var h=i.ensureUniqueItemVisual(c,"style"),f=r.getName(u)||u+"",p=r.count();h[l]=t.getColorFromPalette(f,a,p)}})}})}},Jb=Math.PI;function Jpe(n,e){e=e||{},Ve(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new Xe,r=new It({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(r);var o=new _t({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),i=new It({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(i);var a;return e.showSpinner&&(a=new iC({shape:{startAngle:-Jb/2,endAngle:-Jb/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),a.animateShape(!0).when(1e3,{endAngle:Jb*3/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:Jb*3/2}).delay(300).start("circularInOut"),t.add(a)),t.resize=function(){var s=o.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(n.getWidth()-l*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),c=n.getHeight()/2;e.showSpinner&&a.setShape({cx:u,cy:c}),i.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}var uU=function(){function n(e,t,r,o){this._stageTaskMap=Pe(),this.ecInstance=e,this.api=t,r=this._dataProcessorHandlers=r.slice(),o=this._visualHandlers=o.slice(),this._allHandlers=r.concat(o)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var o=r.overallTask;o&&o.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),o=r.context,i=!t&&r.progressiveEnabled&&(!o||o.progressiveRender)&&e.__idxInPipeline>r.blockIndex,a=i?r.step:null,s=o&&o.modDataCount,l=s!=null?Math.ceil(s/a):null;return{step:a,modBy:l,modDataCount:s}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),o=e.getData(),i=o.count(),a=r.progressiveEnabled&&t.incrementalPrepareRender&&i>=r.threshold,s=e.get("large")&&i>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=r.context={progressiveRender:a,modDataCount:l,large:s}},n.prototype.restorePipelines=function(e){var t=this,r=t._pipelineMap=Pe();e.eachSeries(function(o){var i=o.getProgressive(),a=o.uid;r.set(a,{id:a,head:null,tail:null,threshold:o.getProgressiveThreshold(),progressiveEnabled:i&&!(o.preventIncremental&&o.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),t._pipe(o,o.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),r=this.api;R(this._allHandlers,function(o){var i=e.get(o.uid)||e.set(o.uid,{}),a="";uo(!(o.reset&&o.overallReset),a),o.reset&&this._createSeriesStageTask(o,i,t,r),o.overallReset&&this._createOverallStageTask(o,i,t,r)},this)},n.prototype.prepareView=function(e,t,r,o){var i=e.renderTask,a=i.context;a.model=t,a.ecModel=r,a.api=o,i.__block=!e.incrementalPrepareRender,this._pipe(t,i)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,r){this._performStageTasks(this._visualHandlers,e,t,r)},n.prototype._performStageTasks=function(e,t,r,o){o=o||{};var i=!1,a=this;R(e,function(l,u){if(!(o.visualType&&o.visualType!==l.visualType)){var c=a._stageTaskMap.get(l.uid),d=c.seriesTaskMap,h=c.overallTask;if(h){var f,p=h.agentStubMap;p.each(function(v){s(o,v)&&(v.dirty(),f=!0)}),f&&h.dirty(),a.updatePayload(h,r);var g=a.getPerformArgs(h,o.block);p.each(function(v){v.perform(g)}),h.perform(g)&&(i=!0)}else d&&d.each(function(v,m){s(o,v)&&v.dirty();var y=a.getPerformArgs(v,o.block);y.skip=!l.performRawSeries&&t.isSeriesFiltered(v.context.model),a.updatePayload(v,r),v.perform(y)&&(i=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=i||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t=r.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,r,o){var i=this,a=t.seriesTaskMap,s=t.seriesTaskMap=Pe(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(c):l?r.eachRawSeriesByType(l,c):u&&u(r,o).each(c);function c(d){var h=d.uid,f=s.set(h,a&&a.get(h)||Hv({plan:rge,reset:oge,count:age}));f.context={model:d,ecModel:r,api:o,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:i},i._pipe(d,f)}},n.prototype._createOverallStageTask=function(e,t,r,o){var i=this,a=t.overallTask=t.overallTask||Hv({reset:Qpe});a.context={ecModel:r,api:o,overallReset:e.overallReset,scheduler:i};var s=a.agentStubMap,l=a.agentStubMap=Pe(),u=e.seriesType,c=e.getTargetSeries,d=!0,h=!1,f="";uo(!e.createOnAllSeries,f),u?r.eachRawSeriesByType(u,p):c?c(r,o).each(p):(d=!1,R(r.getSeries(),p));function p(g){var v=g.uid,m=l.set(v,s&&s.get(v)||(h=!0,Hv({reset:ege,onDirty:nge})));m.context={model:g,overallProgress:d},m.agent=a,m.__block=d,i._pipe(g,m)}h&&a.dirty()},n.prototype._pipe=function(e,t){var r=e.uid,o=this._pipelineMap.get(r);!o.head&&(o.head=t),o.tail&&o.tail.pipe(t),o.tail=t,t.__idxInPipeline=o.count++,t.__pipeline=o},n.wrapStageHandler=function(e,t){return ze(e)&&(e={overallReset:e,seriesType:sge(e)}),e.uid=Mp("stageHandler"),t&&(e.visualType=t),e},n}();function Qpe(n){n.overallReset(n.ecModel,n.api,n.payload)}function ege(n){return n.overallProgress&&tge}function tge(){this.agent.dirty(),this.getDownstream().dirty()}function nge(){this.agent&&this.agent.dirty()}function rge(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function oge(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=rn(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?fe(e,function(t,r){return cU(r)}):ige}var ige=cU(0);function cU(n){return function(e,t){var r=t.data,o=t.resetDefines[n];if(o&&o.dataEach)for(var i=e.start;i<e.end;i++)o.dataEach(r,i);else o&&o.progress&&o.progress(e,r)}}function age(n){return n.data.count()}function sge(n){ix=null;try{n(km,dU)}catch{}return ix}var km={},dU={},ix;hU(km,n$);hU(dU,NH);km.eachSeriesByType=km.eachRawSeriesByType=function(n){ix=n};km.eachComponent=function(n){n.mainType==="series"&&n.subType&&(ix=n.subType)};function hU(n,e){for(var t in e.prototype)n[t]=zn}var n4=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lge={color:n4,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],n4]};var mo="#B9B8CE",r4="#100C2A",Qb=function(){return{axisLine:{lineStyle:{color:mo}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},o4=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],fU={darkMode:!0,color:o4,backgroundColor:r4,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:mo}},textStyle:{color:mo},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:mo}},dataZoom:{borderColor:"#71708A",textStyle:{color:mo},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:mo}},timeline:{lineStyle:{color:mo},label:{color:mo},controlStyle:{color:mo,borderColor:mo}},calendar:{itemStyle:{color:r4},dayLabel:{color:mo},monthLabel:{color:mo},yearLabel:{color:mo}},timeAxis:Qb(),logAxis:Qb(),valueAxis:Qb(),categoryAxis:Qb(),line:{symbol:"circle"},graph:{color:o4},gauge:{title:{color:mo},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:mo},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};fU.categoryAxis.splitLine.show=!1;var uge=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},r={},o={};if(De(e)){var i=ws(e);t.mainType=i.main||null,t.subType=i.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};R(e,function(l,u){for(var c=!1,d=0;d<a.length;d++){var h=a[d],f=u.lastIndexOf(h);if(f>0&&f===u.length-h.length){var p=u.slice(0,f);p!=="data"&&(t.mainType=p,t[h.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(r[u]=l,c=!0),c||(o[u]=l)})}return{cptQuery:t,dataQuery:r,otherQuery:o}},n.prototype.filter=function(e,t){var r=this.eventInfo;if(!r)return!0;var o=r.targetEl,i=r.packedEvent,a=r.model,s=r.view;if(!a||!s)return!0;var l=t.cptQuery,u=t.dataQuery;return c(l,a,"mainType")&&c(l,a,"subType")&&c(l,a,"index","componentIndex")&&c(l,a,"name")&&c(l,a,"id")&&c(u,i,"name")&&c(u,i,"dataIndex")&&c(u,i,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,o,i));function c(d,h,f,p){return d[f]==null||h[p||f]===d[f]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),MA=["symbol","symbolSize","symbolRotate","symbolOffset"],i4=MA.concat(["symbolKeepAspect"]),cge={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var r={},o={},i=!1,a=0;a<MA.length;a++){var s=MA[a],l=n.get(s);ze(l)?(i=!0,o[s]=l):r[s]=l}if(r.symbol=r.symbol||n.defaultSymbol,t.setVisual(oe({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),e.isSeriesFiltered(n))return;var u=yt(o);function c(d,h){for(var f=n.getRawValue(h),p=n.getDataParams(h),g=0;g<u.length;g++){var v=u[g];d.setItemVisual(h,v,o[v](f,p))}}return{dataEach:i?c:null}}},dge={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.hasSymbolVisual||e.isSeriesFiltered(n))return;var t=n.getData();function r(o,i){for(var a=o.getItemModel(i),s=0;s<i4.length;s++){var l=i4[s],u=a.getShallow(l,!0);u!=null&&o.setItemVisual(i,l,u)}}return{dataEach:t.hasItemOption?r:null}}};function u$(n,e,t){switch(t){case"color":var r=n.getItemVisual(e,"style");return r[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function Ny(n,e){switch(e){case"color":var t=n.getVisual("style");return t[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function pU(n,e,t,r){switch(t){case"color":var o=n.ensureUniqueItemVisual(e,"style");o[n.getVisual("drawType")]=r,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,r);break}}function gU(n,e){function t(r,o){var i=[];return r.eachComponent({mainType:"series",subType:n,query:o},function(a){i.push(a.seriesIndex)}),i}R([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){e(r[0],function(o,i,a){o=oe({},o),a.dispatchAction(oe(o,{type:r[1],seriesIndex:t(i,o)}))})})}function Hh(n,e,t,r,o){var i=n+e;t.isSilent(i)||r.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=a.option.selectedMap,u=o.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var d=a.getData(),h=Bd(d,o.fromActionPayload);t.trigger(i,{type:i,seriesId:a.id,name:ce(h)?d.getName(h[0]):d.getName(h),selected:De(l)?l:oe({},l)})}})}function hge(n,e,t){n.on("selectchanged",function(r){var o=t.getModel();r.isFromClick?(Hh("map","selectchanged",e,o,r),Hh("pie","selectchanged",e,o,r)):r.fromAction==="select"?(Hh("map","selected",e,o,r),Hh("pie","selected",e,o,r)):r.fromAction==="unselect"&&(Hh("map","unselected",e,o,r),Hh("pie","unselected",e,o,r))})}function md(n,e,t){for(var r;n&&!(e(n)&&(r=n,t));)n=n.__hostTarget||n.parent;return r}var fge=Math.round(Math.random()*9),pge=typeof Object.defineProperty=="function",gge=function(){function n(){this._id="__ec_inner_"+fge++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var r=this._guard(e);return pge?Object.defineProperty(r,this._id,{value:t,enumerable:!1,configurable:!0}):r[this._id]=t,this},n.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}(),vge=vt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,o=e.width/2,i=e.height/2;n.moveTo(t,r-i),n.lineTo(t+o,r+i),n.lineTo(t-o,r+i),n.closePath()}}),mge=vt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,o=e.width/2,i=e.height/2;n.moveTo(t,r-i),n.lineTo(t+o,r),n.lineTo(t,r+i),n.lineTo(t-o,r),n.closePath()}}),yge=vt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,r=e.y,o=e.width/5*3,i=Math.max(o,e.height),a=o/2,s=a*a/(i-a),l=r-i+a+s,u=Math.asin(s/a),c=Math.cos(u)*a,d=Math.sin(u),h=Math.cos(u),f=a*.6,p=a*.7;n.moveTo(t-c,l+s),n.arc(t,l,a,Math.PI-u,Math.PI*2+u),n.bezierCurveTo(t+c-d*f,l+s+h*f,t,r-p,t,r),n.bezierCurveTo(t,r-p,t-c+d*f,l+s+h*f,t-c,l+s),n.closePath()}}),bge=vt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.width,o=e.x,i=e.y,a=r/3*2;n.moveTo(o,i),n.lineTo(o+a,i+t),n.lineTo(o,i+t/4*3),n.lineTo(o-a,i+t),n.lineTo(o,i),n.closePath()}}),wge={line:yr,rect:It,roundRect:It,square:It,circle:Nl,diamond:mge,pin:yge,arrow:bge,triangle:vge},xge={line:function(n,e,t,r,o){o.x1=n,o.y1=e+r/2,o.x2=n+t,o.y2=e+r/2},rect:function(n,e,t,r,o){o.x=n,o.y=e,o.width=t,o.height=r},roundRect:function(n,e,t,r,o){o.x=n,o.y=e,o.width=t,o.height=r,o.r=Math.min(t,r)/4},square:function(n,e,t,r,o){var i=Math.min(t,r);o.x=n,o.y=e,o.width=i,o.height=i},circle:function(n,e,t,r,o){o.cx=n+t/2,o.cy=e+r/2,o.r=Math.min(t,r)/2},diamond:function(n,e,t,r,o){o.cx=n+t/2,o.cy=e+r/2,o.width=t,o.height=r},pin:function(n,e,t,r,o){o.x=n+t/2,o.y=e+r/2,o.width=t,o.height=r},arrow:function(n,e,t,r,o){o.x=n+t/2,o.y=e+r/2,o.width=t,o.height=r},triangle:function(n,e,t,r,o){o.cx=n+t/2,o.cy=e+r/2,o.width=t,o.height=r}},ax={};R(wge,function(n,e){ax[e]=new n});var Sge=vt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var r=qw(n,e,t),o=this.shape;return o&&o.symbolType==="pin"&&e.position==="inside"&&(r.y=t.y+t.height*.4),r},buildPath:function(n,e,t){var r=e.symbolType;if(r!=="none"){var o=ax[r];o||(r="rect",o=ax[r]),xge[r](e.x,e.y,e.width,e.height,o.shape),o.buildPath(n,o.shape,t)}}});function Cge(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function Un(n,e,t,r,o,i,a){var s=n.indexOf("empty")===0;s&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var l;return n.indexOf("image://")===0?l=BE(n.slice(8),new lt(e,t,r,o),a?"center":"cover"):n.indexOf("path://")===0?l=Py(n.slice(7),{},new lt(e,t,r,o),a?"center":"cover"):l=new Sge({shape:{symbolType:n,x:e,y:t,width:r,height:o}}),l.__isEmptyBrush=s,l.setColor=Cge,i&&l.setColor(i),l}function Vp(n){return ce(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function ph(n,e){if(n!=null)return ce(n)||(n=[n,n]),[_e(n[0],e[0])||0,_e(et(n[1],n[0]),e[1])||0]}function yd(n){return isFinite(n)}function kge(n,e,t){var r=e.x==null?0:e.x,o=e.x2==null?1:e.x2,i=e.y==null?0:e.y,a=e.y2==null?0:e.y2;e.global||(r=r*t.width+t.x,o=o*t.width+t.x,i=i*t.height+t.y,a=a*t.height+t.y),r=yd(r)?r:0,o=yd(o)?o:1,i=yd(i)?i:0,a=yd(a)?a:0;var s=n.createLinearGradient(r,i,o,a);return s}function _ge(n,e,t){var r=t.width,o=t.height,i=Math.min(r,o),a=e.x==null?.5:e.x,s=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(a=a*r+t.x,s=s*o+t.y,l=l*i),a=yd(a)?a:.5,s=yd(s)?s:.5,l=l>=0&&yd(l)?l:.5;var u=n.createRadialGradient(a,s,0,a,s,l);return u}function LA(n,e,t){for(var r=e.type==="radial"?_ge(n,e,t):kge(n,e,t),o=e.colorStops,i=0;i<o.length;i++)r.addColorStop(o[i].offset,o[i].color);return r}function Ige(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}function e1(n){return parseInt(n,10)}function _f(n,e,t){var r=["width","height"][e],o=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var s=document.defaultView.getComputedStyle(n);return(n[o]||e1(s[r])||e1(n.style[r]))-(e1(s[i])||0)-(e1(s[a])||0)|0}function Tge(n,e){return!n||n==="solid"||!(e>0)?null:n==="dashed"?[4*e,2*e]:n==="dotted"?[e]:Rt(n)?[n]:ce(n)?n:null}function c$(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&Tge(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(t){var o=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;o&&o!==1&&(t=fe(t,function(i){return i/o}),r/=o)}return[t,r]}var Age=new Bs(!0);function sx(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function a4(n){return typeof n=="string"&&n!=="none"}function lx(n){var e=n.fill;return e!=null&&e!=="none"}function s4(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function l4(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function NA(n,e,t){var r=DE(e.image,e.__image,t);if(QS(r)){var o=n.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&o&&o.setTransform){var i=new DOMMatrix;i.translateSelf(e.x||0,e.y||0),i.rotateSelf(0,0,(e.rotation||0)*$v),i.scaleSelf(e.scaleX||1,e.scaleY||1),o.setTransform(i)}return o}}function Dge(n,e,t,r){var o,i=sx(t),a=lx(t),s=t.strokePercent,l=s<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||Age,d=e.__dirty;if(!r){var h=t.fill,f=t.stroke,p=a&&!!h.colorStops,g=i&&!!f.colorStops,v=a&&!!h.image,m=i&&!!f.image,y=void 0,b=void 0,w=void 0,x=void 0,S=void 0;(p||g)&&(S=e.getBoundingRect()),p&&(y=d?LA(n,h,S):e.__canvasFillGradient,e.__canvasFillGradient=y),g&&(b=d?LA(n,f,S):e.__canvasStrokeGradient,e.__canvasStrokeGradient=b),v&&(w=d||!e.__canvasFillPattern?NA(n,h,e):e.__canvasFillPattern,e.__canvasFillPattern=w),m&&(x=d||!e.__canvasStrokePattern?NA(n,f,e):e.__canvasStrokePattern,e.__canvasStrokePattern=w),p?n.fillStyle=y:v&&(w?n.fillStyle=w:a=!1),g?n.strokeStyle=b:m&&(x?n.strokeStyle=x:i=!1)}var C=e.getGlobalScale();c.setScale(C[0],C[1],e.segmentIgnoreThreshold);var k,_;n.setLineDash&&t.lineDash&&(o=c$(e),k=o[0],_=o[1]);var I=!0;(u||d&ff)&&(c.setDPR(n.dpr),l?c.setContext(null):(c.setContext(n),I=!1),c.reset(),e.buildPath(c,e.shape,r),c.toStatic(),e.pathUpdated()),I&&c.rebuildPath(n,l?s:1),k&&(n.setLineDash(k),n.lineDashOffset=_),r||(t.strokeFirst?(i&&l4(n,t),a&&s4(n,t)):(a&&s4(n,t),i&&l4(n,t))),k&&n.setLineDash([])}function Rge(n,e,t){var r=e.__image=DE(t.image,e.__image,e,e.onload);if(!(!r||!QS(r))){var o=t.x||0,i=t.y||0,a=e.getWidth(),s=e.getHeight(),l=r.width/r.height;if(a==null&&s!=null?a=s*l:s==null&&a!=null?s=a/l:a==null&&s==null&&(a=r.width,s=r.height),t.sWidth&&t.sHeight){var u=t.sx||0,c=t.sy||0;n.drawImage(r,u,c,t.sWidth,t.sHeight,o,i,a,s)}else if(t.sx&&t.sy){var u=t.sx,c=t.sy,d=a-u,h=s-c;n.drawImage(r,u,c,d,h,o,i,a,s)}else n.drawImage(r,o,i,a,s)}}function Ege(n,e,t){var r,o=t.text;if(o!=null&&(o+=""),o){n.font=t.font||Nu,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var i=void 0,a=void 0;n.setLineDash&&t.lineDash&&(r=c$(e),i=r[0],a=r[1]),i&&(n.setLineDash(i),n.lineDashOffset=a),t.strokeFirst?(sx(t)&&n.strokeText(o,t.x,t.y),lx(t)&&n.fillText(o,t.x,t.y)):(lx(t)&&n.fillText(o,t.x,t.y),sx(t)&&n.strokeText(o,t.x,t.y)),i&&n.setLineDash([])}}var u4=["shadowBlur","shadowOffsetX","shadowOffsetY"],c4=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function vU(n,e,t,r,o){var i=!1;if(!r&&(t=t||{},e===t))return!1;if(r||e.opacity!==t.opacity){jo(n,o),i=!0;var a=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(a)?Id.opacity:a}(r||e.blend!==t.blend)&&(i||(jo(n,o),i=!0),n.globalCompositeOperation=e.blend||Id.blend);for(var s=0;s<u4.length;s++){var l=u4[s];(r||e[l]!==t[l])&&(i||(jo(n,o),i=!0),n[l]=n.dpr*(e[l]||0))}return(r||e.shadowColor!==t.shadowColor)&&(i||(jo(n,o),i=!0),n.shadowColor=e.shadowColor||Id.shadowColor),i}function d4(n,e,t,r,o){var i=_m(e,o.inHover),a=r?null:t&&_m(t,o.inHover)||{};if(i===a)return!1;var s=vU(n,i,a,r,o);if((r||i.fill!==a.fill)&&(s||(jo(n,o),s=!0),a4(i.fill)&&(n.fillStyle=i.fill)),(r||i.stroke!==a.stroke)&&(s||(jo(n,o),s=!0),a4(i.stroke)&&(n.strokeStyle=i.stroke)),(r||i.opacity!==a.opacity)&&(s||(jo(n,o),s=!0),n.globalAlpha=i.opacity==null?1:i.opacity),e.hasStroke()){var l=i.lineWidth,u=l/(i.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==u&&(s||(jo(n,o),s=!0),n.lineWidth=u)}for(var c=0;c<c4.length;c++){var d=c4[c],h=d[0];(r||i[h]!==a[h])&&(s||(jo(n,o),s=!0),n[h]=i[h]||d[1])}return s}function $ge(n,e,t,r,o){return vU(n,_m(e,o.inHover),t&&_m(t,o.inHover),r,o)}function mU(n,e){var t=e.transform,r=n.dpr||1;t?n.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):n.setTransform(r,0,0,r,0,0)}function Pge(n,e,t){for(var r=!1,o=0;o<n.length;o++){var i=n[o];r=r||i.isZeroArea(),mU(e,i),e.beginPath(),i.buildPath(e,i.shape),e.clip()}t.allClipped=r}function Mge(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}var h4=1,f4=2,p4=3,g4=4;function Lge(n){var e=lx(n),t=sx(n);return!(n.lineDash||!(+e^+t)||e&&typeof n.fill!="string"||t&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function jo(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function _m(n,e){return e&&n.__hoverStyle||n.style}function d$(n,e){bd(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function bd(n,e,t,r){var o=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~hi,e.__isRendered=!1;return}var i=e.__clipPaths,a=t.prevElClipPaths,s=!1,l=!1;if((!a||Ige(i,a))&&(a&&a.length&&(jo(n,t),n.restore(),l=s=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),i&&i.length&&(jo(n,t),n.save(),Pge(i,n,t),s=!0),t.prevElClipPaths=i),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=t.prevEl;u||(l=s=!0);var c=e instanceof vt&&e.autoBatch&&Lge(e.style);s||Mge(o,u.transform)?(jo(n,t),mU(n,e)):c||jo(n,t);var d=_m(e,t.inHover);e instanceof vt?(t.lastDrawType!==h4&&(l=!0,t.lastDrawType=h4),d4(n,e,u,l,t),(!c||!t.batchFill&&!t.batchStroke)&&n.beginPath(),Dge(n,e,d,c),c&&(t.batchFill=d.fill||"",t.batchStroke=d.stroke||"")):e instanceof ep?(t.lastDrawType!==p4&&(l=!0,t.lastDrawType=p4),d4(n,e,u,l,t),Ege(n,e,d)):e instanceof Lr?(t.lastDrawType!==f4&&(l=!0,t.lastDrawType=f4),$ge(n,e,u,l,t),Rge(n,e,d)):e.getTemporalDisplayables&&(t.lastDrawType!==g4&&(l=!0,t.lastDrawType=g4),Nge(n,e,t)),c&&r&&jo(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function Nge(n,e,t){var r=e.getDisplayables(),o=e.getTemporalDisplayables();n.save();var i={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},a,s;for(a=e.getCursor(),s=r.length;a<s;a++){var l=r[a];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),bd(n,l,i,a===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}for(var u=0,c=o.length;u<c;u++){var l=o[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),bd(n,l,i,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}var R_=new gge,v4=new Ty(100),m4=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function rp(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),r=e.getZr(),o=r.painter.type==="svg";n.dirty&&R_.delete(n);var i=R_.get(n);if(i)return i;var a=Ve(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});a.backgroundColor==="none"&&(a.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=a.rotation,s.scaleX=s.scaleY=o?1:1/t,R_.set(n,s),n.dirty=!1,s;function l(u){for(var c=[t],d=!0,h=0;h<m4.length;++h){var f=a[m4[h]];if(f!=null&&!ce(f)&&!De(f)&&!Rt(f)&&typeof f!="boolean"){d=!1;break}c.push(f)}var p;if(d){p=c.join(",")+(o?"-svg":"");var g=v4.get(p);g&&(o?u.svgElement=g:u.image=g)}var v=bU(a.dashArrayX),m=Oge(a.dashArrayY),y=yU(a.symbol),b=Fge(v),w=wU(m),x=!o&&za.createCanvas(),S=o&&{tag:"g",attrs:{},key:"dcl",children:[]},C=_(),k;x&&(x.width=C.width*t,x.height=C.height*t,k=x.getContext("2d")),I(),d&&v4.put(p,x||S),u.image=x,u.svgElement=S,u.svgWidth=C.width,u.svgHeight=C.height;function _(){for(var T=1,A=0,D=b.length;A<D;++A)T=MO(T,b[A]);for(var E=1,A=0,D=y.length;A<D;++A)E=MO(E,y[A].length);T*=E;var $=w*b.length*y.length;return{width:Math.max(1,Math.min(T,a.maxTileWidth)),height:Math.max(1,Math.min($,a.maxTileHeight))}}function I(){k&&(k.clearRect(0,0,x.width,x.height),a.backgroundColor&&(k.fillStyle=a.backgroundColor,k.fillRect(0,0,x.width,x.height)));for(var T=0,A=0;A<m.length;++A)T+=m[A];if(T<=0)return;for(var D=-w,E=0,$=0,P=0;D<C.height;){if(E%2===0){for(var N=$/2%y.length,M=0,L=0,V=0;M<C.width*2;){for(var W=0,A=0;A<v[P].length;++A)W+=v[P][A];if(W<=0)break;if(L%2===0){var j=(1-a.symbolSize)*.5,Q=M+v[P][L]*j,te=D+m[E]*j,se=v[P][L]*a.symbolSize,ge=m[E]*a.symbolSize,ye=V/2%y[N].length;ve(Q,te,se,ge,y[N][ye])}M+=v[P][L],++V,++L,L===v[P].length&&(L=0)}++P,P===v.length&&(P=0)}D+=m[E],++$,++E,E===m.length&&(E=0)}function ve(de,Se,me,Ee,F){var z=o?1:t,J=Un(F,de*z,Se*z,me*z,Ee*z,a.color,a.symbolKeepAspect);if(o){var ie=r.painter.renderOneToVNode(J);ie&&S.children.push(ie)}else d$(k,J)}}}}function yU(n){if(!n||n.length===0)return[["rect"]];if(De(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!De(n[t])){e=!1;break}if(e)return yU([n]);for(var r=[],t=0;t<n.length;++t)De(n[t])?r.push([n[t]]):r.push(n[t]);return r}function bU(n){if(!n||n.length===0)return[[0,0]];if(Rt(n)){var e=Math.ceil(n);return[[e,e]]}for(var t=!0,r=0;r<n.length;++r)if(!Rt(n[r])){t=!1;break}if(t)return bU([n]);for(var o=[],r=0;r<n.length;++r)if(Rt(n[r])){var e=Math.ceil(n[r]);o.push([e,e])}else{var e=fe(n[r],function(s){return Math.ceil(s)});e.length%2===1?o.push(e.concat(e)):o.push(e)}return o}function Oge(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(Rt(n)){var e=Math.ceil(n);return[e,e]}var t=fe(n,function(r){return Math.ceil(r)});return n.length%2?t.concat(t):t}function Fge(n){return fe(n,function(e){return wU(e)})}function wU(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2===1?e*2:e}function Bge(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var r=t.getData();r.hasItemVisual()&&r.each(function(a){var s=r.getItemVisual(a,"decal");if(s){var l=r.ensureUniqueItemVisual(a,"style");l.decal=rp(s,e)}});var o=r.getVisual("decal");if(o){var i=r.getVisual("style");i.decal=rp(o,e)}}})}var xa=new sa,xU={};function zge(n,e){xU[n]=e}function SU(n){return xU[n]}var Vge="5.5.1",Gge={zrender:"5.6.0"},Wge=1,Hge=800,Uge=900,jge=1e3,Kge=2e3,Xge=5e3,CU=1e3,qge=1100,h$=2e3,kU=3e3,Yge=4e3,wC=4500,Zge=4600,Jge=5e3,Qge=6e3,_U=7e3,IU={PROCESSOR:{FILTER:jge,SERIES_FILTER:Hge,STATISTIC:Xge},VISUAL:{LAYOUT:CU,PROGRESSIVE_LAYOUT:qge,GLOBAL:h$,CHART:kU,POST_CHART_LAYOUT:Zge,COMPONENT:Yge,BRUSH:Jge,CHART_ITEM:wC,ARIA:Qge,DECAL:_U}},Jr="__flagInMainProcess",Bo="__pendingUpdate",E_="__needsUpdateStatus",y4=/^[a-zA-Z0-9_]+$/,$_="__connectUpdateStatus",b4=0,eve=1,tve=2;function TU(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return DU(this,n,e)}}function AU(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return DU(this,n,e)}}function DU(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),sa.prototype[e].apply(n,t)}var RU=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(sa),EU=RU.prototype;EU.on=AU("on");EU.off=AU("off");var Uh,P_,t1,Xl,M_,L_,N_,Pg,Mg,w4,x4,O_,S4,n1,C4,$U,Ri,k4,ux=function(n){K(e,n);function e(t,r,o){var i=n.call(this,new uge)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],o=o||{},De(r)&&(r=PU[r]),i._dom=t;var a="canvas",s="auto",l=!1;o.ssr&&oW(function(h){var f=Ye(h),p=f.dataIndex;if(p!=null){var g=Pe();return g.set("series_index",f.seriesIndex),g.set("data_index",p),f.ssrType&&g.set("ssr_type",f.ssrType),g}});var u=i._zr=uA(t,{renderer:o.renderer||a,devicePixelRatio:o.devicePixelRatio,width:o.width,height:o.height,ssr:o.ssr,useDirtyRect:et(o.useDirtyRect,l),useCoarsePointer:et(o.useCoarsePointer,s),pointerSize:o.pointerSize});i._ssr=o.ssr,i._throttledZrFlush=bC(Re(u.flush,u),17),r=We(r),r&&FH(r,!0),i._theme=r,i._locale=bfe(o.locale||vH),i._coordSysMgr=new Fp;var c=i._api=C4(i);function d(h,f){return h.__prio-f.__prio}return ow(dx,d),ow(OA,d),i._scheduler=new uU(i,c,OA,dx),i._messageCenter=new RU,i._initEvents(),i.resize=Re(i.resize,i),u.animation.on("frame",i._onframe,i),w4(u,i),x4(u,i),lm(i),i}return e.prototype._onframe=function(){if(!this._disposed){k4(this);var t=this._scheduler;if(this[Bo]){var r=this[Bo].silent;this[Jr]=!0;try{Uh(this),Xl.update.call(this,null,this[Bo].updateParams)}catch(l){throw this[Jr]=!1,this[Bo]=null,l}this._zr.flush(),this[Jr]=!1,this[Bo]=null,Pg.call(this,r),Mg.call(this,r)}else if(t.unfinished){var o=Wge,i=this._model,a=this._api;t.unfinished=!1;do{var s=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),L_(this,i),t.performVisualTasks(i),n1(this,this._model,a,"remain",{}),o-=+new Date-s}while(o>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,r,o){if(!this[Jr]){if(this._disposed){this.id;return}var i,a,s;if(Ge(r)&&(o=r.lazyUpdate,i=r.silent,a=r.replaceMerge,s=r.transition,r=r.notMerge),this[Jr]=!0,!this._model||r){var l=new jfe(this._api),u=this._theme,c=this._model=new n$;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(t,{replaceMerge:a},FA);var d={seriesTransition:s,optionChanged:!0};if(o)this[Bo]={silent:i,updateParams:d},this[Jr]=!1,this.getZr().wakeUp();else{try{Uh(this),Xl.update.call(this,null,d)}catch(h){throw this[Bo]=null,this[Jr]=!1,h}this._ssr||this._zr.flush(),this[Bo]=null,this[Jr]=!1,Pg.call(this,i),Mg.call(this,i)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||At.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var r=this._zr.painter;return r.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(At.svgSupported){var t=this._zr,r=t.storage.getDisplayList();return R(r,function(o){o.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var r=t.excludeComponents,o=this._model,i=[],a=this;R(r,function(l){o.eachComponent({mainType:l},function(u){var c=a._componentsMap[u.__viewId];c.group.ignore||(i.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return R(i,function(l){l.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var r=t.type==="svg",o=this.group,i=Math.min,a=Math.max,s=1/0;if(hx[o]){var l=s,u=s,c=-s,d=-s,h=[],f=t&&t.pixelRatio||this.getDevicePixelRatio();R(Dd,function(b,w){if(b.group===o){var x=r?b.getZr().painter.getSvgDom().innerHTML:b.renderToCanvas(We(t)),S=b.getDom().getBoundingClientRect();l=i(S.left,l),u=i(S.top,u),c=a(S.right,c),d=a(S.bottom,d),h.push({dom:x,left:S.left,top:S.top})}}),l*=f,u*=f,c*=f,d*=f;var p=c-l,g=d-u,v=za.createCanvas(),m=uA(v,{renderer:r?"svg":"canvas"});if(m.resize({width:p,height:g}),r){var y="";return R(h,function(b){var w=b.left-l,x=b.top-u;y+='<g transform="translate('+w+","+x+')">'+b.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&m.painter.setBackgroundColor(t.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return t.connectedBackgroundColor&&m.add(new It({shape:{x:0,y:0,width:p,height:g},style:{fill:t.connectedBackgroundColor}})),R(h,function(b){var w=new Lr({style:{x:b.left*f-l,y:b.top*f-u,image:b.dom}});m.add(w)}),m.refreshImmediately(),v.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,r){return M_(this,"convertToPixel",t,r)},e.prototype.convertFromPixel=function(t,r){return M_(this,"convertFromPixel",t,r)},e.prototype.containPixel=function(t,r){if(this._disposed){this.id;return}var o=this._model,i,a=Bv(o,t);return R(a,function(s,l){l.indexOf("Models")>=0&&R(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)i=i||!!c.containPoint(r);else if(l==="seriesModels"){var d=this._chartsMap[u.__viewId];d&&d.containPoint&&(i=i||d.containPoint(r,u))}},this)},this),!!i},e.prototype.getVisual=function(t,r){var o=this._model,i=Bv(o,t,{defaultMainType:"series"}),a=i.seriesModel,s=a.getData(),l=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?s.indexOfRawIndex(i.dataIndex):null;return l!=null?u$(s,l,r):Ny(s,r)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;R(nve,function(r){var o=function(i){var a=t.getModel(),s=i.target,l,u=r==="globalout";if(u?l={}:s&&md(s,function(p){var g=Ye(p);if(g&&g.dataIndex!=null){var v=g.dataModel||a.getSeriesByIndex(g.seriesIndex);return l=v&&v.getDataParams(g.dataIndex,g.dataType,s)||{},!0}else if(g.eventData)return l=oe({},g.eventData),!0},!0),l){var c=l.componentType,d=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",d=l.seriesIndex);var h=c&&d!=null&&a.getComponent(c,d),f=h&&t[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];l.event=i,l.type=r,t._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:h,view:f},t.trigger(r,l)}};o.zrEventfulCallAtLast=!0,t._zr.on(r,o,t)}),R(Uv,function(r,o){t._messageCenter.on(o,function(i){this.trigger(o,i)},t)}),R(["selectchanged"],function(r){t._messageCenter.on(r,function(o){this.trigger(r,o)},t)}),hge(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&gW(this.getDom(),p$,"");var r=this,o=r._api,i=r._model;R(r._componentsViews,function(a){a.dispose(i,o)}),R(r._chartsViews,function(a){a.dispose(i,o)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete Dd[r.id]},e.prototype.resize=function(t){if(!this[Jr]){if(this._disposed){this.id;return}this._zr.resize(t);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var o=r.resetOption("media"),i=t&&t.silent;this[Bo]&&(i==null&&(i=this[Bo].silent),o=!0,this[Bo]=null),this[Jr]=!0;try{o&&Uh(this),Xl.update.call(this,{type:"resize",animation:oe({duration:0},t&&t.animation)})}catch(a){throw this[Jr]=!1,a}this[Jr]=!1,Pg.call(this,i),Mg.call(this,i)}}},e.prototype.showLoading=function(t,r){if(this._disposed){this.id;return}if(Ge(t)&&(r=t,t=""),t=t||"default",this.hideLoading(),!!BA[t]){var o=BA[t](this._api,r),i=this._zr;this._loadingFX=o,i.add(o)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var r=oe({},t);return r.type=Uv[t.type],r},e.prototype.dispatchAction=function(t,r){if(this._disposed){this.id;return}if(Ge(r)||(r={silent:!!r}),!!cx[t.type]&&this._model){if(this[Jr]){this._pendingActions.push(t);return}var o=r.silent;N_.call(this,t,o);var i=r.flush;i?this._zr.flush():i!==!1&&At.browser.weChat&&this._throttledZrFlush(),Pg.call(this,o),Mg.call(this,o)}},e.prototype.updateLabelLayout=function(){xa.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var r=t.seriesIndex,o=this.getModel(),i=o.getSeriesByIndex(r);i.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){Uh=function(d){var h=d._scheduler;h.restorePipelines(d._model),h.prepareStageTasks(),P_(d,!0),P_(d,!1),h.plan()},P_=function(d,h){for(var f=d._model,p=d._scheduler,g=h?d._componentsViews:d._chartsViews,v=h?d._componentsMap:d._chartsMap,m=d._zr,y=d._api,b=0;b<g.length;b++)g[b].__alive=!1;h?f.eachComponent(function(S,C){S!=="series"&&w(C)}):f.eachSeries(w);function w(S){var C=S.__requireNewView;S.__requireNewView=!1;var k="_ec_"+S.id+"_"+S.type,_=!C&&v[k];if(!_){var I=ws(S.type),T=h?Cn.getClass(I.main,I.sub):on.getClass(I.sub);_=new T,_.init(f,y),v[k]=_,g.push(_),m.add(_.group)}S.__viewId=_.__id=k,_.__alive=!0,_.__model=S,_.group.__ecComponentInfo={mainType:S.mainType,index:S.componentIndex},!h&&p.prepareView(_,S,f,y)}for(var b=0;b<g.length;){var x=g[b];x.__alive?b++:(!h&&x.renderTask.dispose(),m.remove(x.group),x.dispose(f,y),g.splice(b,1),v[x.__id]===x&&delete v[x.__id],x.__id=x.group.__ecComponentInfo=null)}},t1=function(d,h,f,p,g){var v=d._model;if(v.setUpdatePayload(f),!p){R([].concat(d._componentsViews).concat(d._chartsViews),x);return}var m={};m[p+"Id"]=f[p+"Id"],m[p+"Index"]=f[p+"Index"],m[p+"Name"]=f[p+"Name"];var y={mainType:p,query:m};g&&(y.subType=g);var b=f.excludeSeriesId,w;b!=null&&(w=Pe(),R(rn(b),function(S){var C=ir(S,null);C!=null&&w.set(C,!0)})),v&&v.eachComponent(y,function(S){var C=w&&w.get(S.id)!=null;if(!C)if(a5(f))if(S instanceof gn)f.type===Td&&!f.notBlur&&!S.get(["emphasis","disabled"])&&mhe(S,f,d._api);else{var k=LE(S.mainType,S.componentIndex,f.name,d._api),_=k.focusSelf,I=k.dispatchers;f.type===Td&&_&&!f.notBlur&&bA(S.mainType,S.componentIndex,d._api),I&&R(I,function(T){f.type===Td?Sl(T):Cl(T)})}else xA(f)&&S instanceof gn&&(whe(S,f,d._api),o5(S),Ri(d))},d),v&&v.eachComponent(y,function(S){var C=w&&w.get(S.id)!=null;C||x(d[p==="series"?"_chartsMap":"_componentsMap"][S.__viewId])},d);function x(S){S&&S.__alive&&S[h]&&S[h](S.__model,v,d._api,f)}},Xl={prepareAndUpdate:function(d){Uh(this),Xl.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,h){var f=this._model,p=this._api,g=this._zr,v=this._coordSysMgr,m=this._scheduler;if(f){f.setUpdatePayload(d),m.restoreData(f,d),m.performSeriesTasks(f),v.create(f,p),m.performDataProcessorTasks(f,d),L_(this,f),v.update(f,p),t(f),m.performVisualTasks(f,d),O_(this,f,p,d,h);var y=f.get("backgroundColor")||"transparent",b=f.get("darkMode");g.setBackgroundColor(y),b!=null&&b!=="auto"&&g.setDarkMode(b),xa.trigger("afterupdate",f,p)}},updateTransform:function(d){var h=this,f=this._model,p=this._api;if(f){f.setUpdatePayload(d);var g=[];f.eachComponent(function(m,y){if(m!=="series"){var b=h.getViewOfComponentModel(y);if(b&&b.__alive)if(b.updateTransform){var w=b.updateTransform(y,f,p,d);w&&w.update&&g.push(b)}else g.push(b)}});var v=Pe();f.eachSeries(function(m){var y=h._chartsMap[m.__viewId];if(y.updateTransform){var b=y.updateTransform(m,f,p,d);b&&b.update&&v.set(m.uid,1)}else v.set(m.uid,1)}),t(f),this._scheduler.performVisualTasks(f,d,{setDirty:!0,dirtyMap:v}),n1(this,f,p,d,{},v),xa.trigger("afterupdate",f,p)}},updateView:function(d){var h=this._model;h&&(h.setUpdatePayload(d),on.markUpdateMethod(d,"updateView"),t(h),this._scheduler.performVisualTasks(h,d,{setDirty:!0}),O_(this,h,this._api,d,{}),xa.trigger("afterupdate",h,this._api))},updateVisual:function(d){var h=this,f=this._model;f&&(f.setUpdatePayload(d),f.eachSeries(function(p){p.getData().clearAllVisual()}),on.markUpdateMethod(d,"updateVisual"),t(f),this._scheduler.performVisualTasks(f,d,{visualType:"visual",setDirty:!0}),f.eachComponent(function(p,g){if(p!=="series"){var v=h.getViewOfComponentModel(g);v&&v.__alive&&v.updateVisual(g,f,h._api,d)}}),f.eachSeries(function(p){var g=h._chartsMap[p.__viewId];g.updateVisual(p,f,h._api,d)}),xa.trigger("afterupdate",f,this._api))},updateLayout:function(d){Xl.update.call(this,d)}},M_=function(d,h,f,p){if(d._disposed){d.id;return}for(var g=d._model,v=d._coordSysMgr.getCoordinateSystems(),m,y=Bv(g,f),b=0;b<v.length;b++){var w=v[b];if(w[h]&&(m=w[h](g,y,p))!=null)return m}},L_=function(d,h){var f=d._chartsMap,p=d._scheduler;h.eachSeries(function(g){p.updateStreamModes(g,f[g.__viewId])})},N_=function(d,h){var f=this,p=this.getModel(),g=d.type,v=d.escapeConnect,m=cx[g],y=m.actionInfo,b=(y.update||"update").split(":"),w=b.pop(),x=b[0]!=null&&ws(b[0]);this[Jr]=!0;var S=[d],C=!1;d.batch&&(C=!0,S=fe(d.batch,function(E){return E=Ve(oe({},E),d),E.batch=null,E}));var k=[],_,I=xA(d),T=a5(d);if(T&&zW(this._api),R(S,function(E){if(_=m.action(E,f._model,f._api),_=_||oe({},E),_.type=y.event||_.type,k.push(_),T){var $=TE(d),P=$.queryOptionMap,N=$.mainTypeSpecified,M=N?P.keys()[0]:"series";t1(f,w,E,M),Ri(f)}else I?(t1(f,w,E,"series"),Ri(f)):x&&t1(f,w,E,x.main,x.sub)}),w!=="none"&&!T&&!I&&!x)try{this[Bo]?(Uh(this),Xl.update.call(this,d),this[Bo]=null):Xl[w].call(this,d)}catch(E){throw this[Jr]=!1,E}if(C?_={type:y.event||g,escapeConnect:v,batch:k}:_=k[0],this[Jr]=!1,!h){var A=this._messageCenter;if(A.trigger(_.type,_),I){var D={type:"selectchanged",escapeConnect:v,selected:xhe(p),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};A.trigger(D.type,D)}}},Pg=function(d){for(var h=this._pendingActions;h.length;){var f=h.shift();N_.call(this,f,d)}},Mg=function(d){!d&&this.trigger("updated")},w4=function(d,h){d.on("rendered",function(f){h.trigger("rendered",f),d.animation.isFinished()&&!h[Bo]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},x4=function(d,h){d.on("mouseover",function(f){var p=f.target,g=md(p,ym);g&&(yhe(g,f,h._api),Ri(h))}).on("mouseout",function(f){var p=f.target,g=md(p,ym);g&&(bhe(g,f,h._api),Ri(h))}).on("click",function(f){var p=f.target,g=md(p,function(y){return Ye(y).dataIndex!=null},!0);if(g){var v=g.selected?"unselect":"select",m=Ye(g);h._api.dispatchAction({type:v,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function t(d){d.clearColorPalette(),d.eachSeries(function(h){h.clearColorPalette()})}function r(d){var h=[],f=[],p=!1;if(d.eachComponent(function(y,b){var w=b.get("zlevel")||0,x=b.get("z")||0,S=b.getZLevelKey();p=p||!!S,(y==="series"?f:h).push({zlevel:w,z:x,idx:b.componentIndex,type:y,key:S})}),p){var g=h.concat(f),v,m;ow(g,function(y,b){return y.zlevel===b.zlevel?y.z-b.z:y.zlevel-b.zlevel}),R(g,function(y){var b=d.getComponent(y.type,y.idx),w=y.zlevel,x=y.key;v!=null&&(w=Math.max(v,w)),x?(w===v&&x!==m&&w++,m=x):m&&(w===v&&w++,m=""),v=w,b.setZLevel(w)})}}O_=function(d,h,f,p,g){r(h),S4(d,h,f,p,g),R(d._chartsViews,function(v){v.__alive=!1}),n1(d,h,f,p,g),R(d._chartsViews,function(v){v.__alive||v.remove(h,f)})},S4=function(d,h,f,p,g,v){R(v||d._componentsViews,function(m){var y=m.__model;u(y,m),m.render(y,h,f,p),s(y,m),c(y,m)})},n1=function(d,h,f,p,g,v){var m=d._scheduler;g=oe(g||{},{updatedSeries:h.getSeries()}),xa.trigger("series:beforeupdate",h,f,g);var y=!1;h.eachSeries(function(b){var w=d._chartsMap[b.__viewId];w.__alive=!0;var x=w.renderTask;m.updatePayload(x,p),u(b,w),v&&v.get(b.uid)&&x.dirty(),x.perform(m.getPerformArgs(x))&&(y=!0),w.group.silent=!!b.get("silent"),a(b,w),o5(b)}),m.unfinished=y||m.unfinished,xa.trigger("series:layoutlabels",h,f,g),xa.trigger("series:transition",h,f,g),h.eachSeries(function(b){var w=d._chartsMap[b.__viewId];s(b,w),c(b,w)}),i(d,h),xa.trigger("series:afterupdate",h,f,g)},Ri=function(d){d[E_]=!0,d.getZr().wakeUp()},k4=function(d){d[E_]&&(d.getZr().storage.traverse(function(h){Ff(h)||o(h)}),d[E_]=!1)};function o(d){for(var h=[],f=d.currentStates,p=0;p<f.length;p++){var g=f[p];g==="emphasis"||g==="blur"||g==="select"||h.push(g)}d.selected&&d.states.select&&h.push("select"),d.hoverState===nC&&d.states.emphasis?h.push("emphasis"):d.hoverState===Ry&&d.states.blur&&h.push("blur"),d.useStates(h)}function i(d,h){var f=d._zr,p=f.storage,g=0;p.traverse(function(v){v.isGroup||g++}),g>h.get("hoverLayerThreshold")&&!At.node&&!At.worker&&h.eachSeries(function(v){if(!v.preventUsingHoverLayer){var m=d._chartsMap[v.__viewId];m.__alive&&m.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function a(d,h){var f=d.get("blendMode")||null;h.eachRendered(function(p){p.isGroup||(p.style.blend=f)})}function s(d,h){if(!d.preventAutoZ){var f=d.get("z")||0,p=d.get("zlevel")||0;h.eachRendered(function(g){return l(g,f,p,-1/0),!0})}}function l(d,h,f,p){var g=d.getTextContent(),v=d.getTextGuideLine(),m=d.isGroup;if(m)for(var y=d.childrenRef(),b=0;b<y.length;b++)p=Math.max(l(y[b],h,f,p),p);else d.z=h,d.zlevel=f,p=Math.max(d.z2,p);if(g&&(g.z=h,g.zlevel=f,isFinite(p)&&(g.z2=p+2)),v){var w=d.textGuideLineConfig;v.z=h,v.zlevel=f,isFinite(p)&&(v.z2=p+(w&&w.showAbove?1:-1))}return p}function u(d,h){h.eachRendered(function(f){if(!Ff(f)){var p=f.getTextContent(),g=f.getTextGuideLine();f.stateTransition&&(f.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),f.hasState()?(f.prevStates=f.currentStates,f.clearStates()):f.prevStates&&(f.prevStates=null)}})}function c(d,h){var f=d.getModel("stateAnimation"),p=d.isAnimationEnabled(),g=f.get("duration"),v=g>0?{duration:g,delay:f.get("delay"),easing:f.get("easing")}:null;h.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Ff(m))return;if(m instanceof vt&&Ihe(m),m.__dirty){var y=m.prevStates;y&&m.useStates(y)}if(p){m.stateTransition=v;var b=m.getTextContent(),w=m.getTextGuideLine();b&&(b.stateTransition=v),w&&(w.stateTransition=v)}m.__dirty&&o(m)}})}C4=function(d){return new(function(h){K(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},f.prototype.getComponentByElement=function(p){for(;p;){var g=p.__ecComponentInfo;if(g!=null)return d._model.getComponent(g.mainType,g.index);p=p.parent}},f.prototype.enterEmphasis=function(p,g){Sl(p,g),Ri(d)},f.prototype.leaveEmphasis=function(p,g){Cl(p,g),Ri(d)},f.prototype.enterBlur=function(p){NW(p),Ri(d)},f.prototype.leaveBlur=function(p){ME(p),Ri(d)},f.prototype.enterSelect=function(p){OW(p),Ri(d)},f.prototype.leaveSelect=function(p){FW(p),Ri(d)},f.prototype.getModel=function(){return d.getModel()},f.prototype.getViewOfComponentModel=function(p){return d.getViewOfComponentModel(p)},f.prototype.getViewOfSeriesModel=function(p){return d.getViewOfSeriesModel(p)},f}(NH))(d)},$U=function(d){function h(f,p){for(var g=0;g<f.length;g++){var v=f[g];v[$_]=p}}R(Uv,function(f,p){d._messageCenter.on(p,function(g){if(hx[d.group]&&d[$_]!==b4){if(g&&g.escapeConnect)return;var v=d.makeActionFromEvent(g),m=[];R(Dd,function(y){y!==d&&y.group===d.group&&m.push(y)}),h(m,b4),R(m,function(y){y[$_]!==eve&&y.dispatchAction(v)}),h(m,tve)}})})}}(),e}(sa),f$=ux.prototype;f$.on=TU("on");f$.off=TU("off");f$.one=function(n,e,t){var r=this;function o(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];e&&e.apply&&e.apply(this,i),r.off(n,o)}this.on.call(this,n,o,t)};var nve=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var cx={},Uv={},OA=[],FA=[],dx=[],PU={},BA={},Dd={},hx={},rve=+new Date-0,ove=+new Date-0,p$="_echarts_instance_";function ive(n,e,t){var r=!(t&&t.ssr);if(r){var o=g$(n);if(o)return o}var i=new ux(n,e,t);return i.id="ec_"+rve++,Dd[i.id]=i,r&&gW(n,p$,i.id),$U(i),xa.trigger("afterinit",i),i}function ave(n){if(ce(n)){var e=n;n=null,R(e,function(t){t.group!=null&&(n=t.group)}),n=n||"g_"+ove++,R(e,function(t){t.group=n})}return hx[n]=!0,n}function MU(n){hx[n]=!1}var sve=MU;function lve(n){De(n)?n=Dd[n]:n instanceof ux||(n=g$(n)),n instanceof ux&&!n.isDisposed()&&n.dispose()}function g$(n){return Dd[pde(n,p$)]}function uve(n){return Dd[n]}function v$(n,e){PU[n]=e}function m$(n){ct(FA,n)<0&&FA.push(n)}function y$(n,e){b$(OA,n,e,Kge)}function LU(n){xC("afterinit",n)}function NU(n){xC("afterupdate",n)}function xC(n,e){xa.on(n,e)}function Xa(n,e,t){ze(e)&&(t=e,e="");var r=Ge(n)?n.type:[n,n={event:e}][0];n.event=(n.event||r).toLowerCase(),e=n.event,!Uv[e]&&(uo(y4.test(r)&&y4.test(e)),cx[r]||(cx[r]={action:t,actionInfo:n}),Uv[e]=r)}function OU(n,e){Fp.register(n,e)}function cve(n){var e=Fp.get(n);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function FU(n,e){b$(dx,n,e,CU,"layout")}function tc(n,e){b$(dx,n,e,kU,"visual")}var _4=[];function b$(n,e,t,r,o){if((ze(e)||Ge(e))&&(t=e,e=r),!(ct(_4,t)>=0)){_4.push(t);var i=uU.wrapStageHandler(t,o);i.__prio=e,i.__raw=t,n.push(i)}}function w$(n,e){BA[n]=e}function dve(n){bG({createCanvas:n})}function BU(n,e,t){var r=SU("registerMap");r&&r(n,e,t)}function hve(n){var e=SU("getMap");return e&&e(n)}var zU=kpe;tc(h$,qpe);tc(wC,Ype);tc(wC,Zpe);tc(h$,cge);tc(wC,dge);tc(_U,Bge);m$(FH);y$(Uge,ope);w$("default",Jpe);Xa({type:Td,event:Td,update:Td},zn);Xa({type:cw,event:cw,update:cw},zn);Xa({type:zv,event:zv,update:zv},zn);Xa({type:dw,event:dw,update:dw},zn);Xa({type:Vv,event:Vv,update:Vv},zn);v$("light",lge);v$("dark",fU);var fve={},I4=[],pve={registerPreprocessor:m$,registerProcessor:y$,registerPostInit:LU,registerPostUpdate:NU,registerUpdateLifecycle:xC,registerAction:Xa,registerCoordinateSystem:OU,registerLayout:FU,registerVisual:tc,registerTransform:zU,registerLoading:w$,registerMap:BU,registerImpl:zge,PRIORITY:IU,ComponentModel:Ct,ComponentView:Cn,SeriesModel:gn,ChartView:on,registerComponentModel:function(n){Ct.registerClass(n)},registerComponentView:function(n){Cn.registerClass(n)},registerSeriesModel:function(n){gn.registerClass(n)},registerChartView:function(n){on.registerClass(n)},registerSubTypeDefaulter:function(n,e){Ct.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){nW(n,e)}};function pt(n){if(ce(n)){R(n,function(e){pt(e)});return}ct(I4,n)>=0||(I4.push(n),ze(n)&&(n={install:n}),n.install(pve))}function Lg(n){return n==null?0:n.length||1}function T4(n){return n}var kl=function(){function n(e,t,r,o,i,a){this._old=e,this._new=t,this._oldKeyGetter=r||T4,this._newKeyGetter=o||T4,this.context=i,this._diffModeMultiple=a==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},o=new Array(e.length),i=new Array(t.length);this._initIndexMap(e,null,o,"_oldKeyGetter"),this._initIndexMap(t,r,i,"_newKeyGetter");for(var a=0;a<e.length;a++){var s=o[a],l=r[s],u=Lg(l);if(u>1){var c=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(c,a)}else u===1?(r[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(i,r)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},o={},i=[],a=[];this._initIndexMap(e,r,i,"_oldKeyGetter"),this._initIndexMap(t,o,a,"_newKeyGetter");for(var s=0;s<i.length;s++){var l=i[s],u=r[l],c=o[l],d=Lg(u),h=Lg(c);if(d>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,u),o[l]=null;else if(d===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,u),o[l]=null;else if(d===1&&h===1)this._update&&this._update(c,u),o[l]=null;else if(d>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,u),o[l]=null;else if(d>1)for(var f=0;f<d;f++)this._remove&&this._remove(u[f]);else this._remove&&this._remove(u)}this._performRestAdd(a,o)},n.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var o=e[r],i=t[o],a=Lg(i);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(i[s]);else a===1&&this._add&&this._add(i);t[o]=null}},n.prototype._initIndexMap=function(e,t,r,o){for(var i=this._diffModeMultiple,a=0;a<e.length;a++){var s="_ec_"+this[o](e[a],a);if(i||(r[a]=s),!!t){var l=t[s],u=Lg(l);u===0?(t[s]=a,i&&r.push(s)):u===1?t[s]=[l,a]:l.push(a)}}},n}(),gve=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function vve(n,e){var t={},r=t.encode={},o=Pe(),i=[],a=[],s={};R(n.dimensions,function(h){var f=n.getDimensionInfo(h),p=f.coordDim;if(p){var g=f.coordDimIndex;F_(r,p)[g]=h,f.isExtraCoord||(o.set(p,1),mve(f.type)&&(i[0]=h),F_(s,p)[g]=n.getDimensionIndex(f.name)),f.defaultTooltip&&a.push(h)}DH.each(function(v,m){var y=F_(r,m),b=f.otherDims[m];b!=null&&b!==!1&&(y[b]=f.name)})});var l=[],u={};o.each(function(h,f){var p=r[f];u[f]=p[0],l=l.concat(p)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=fe(l,function(h){return n.getDimensionInfo(h).storeDimIndex}),t.encodeFirstDimNotExtra=u;var c=r.label;c&&c.length&&(i=c.slice());var d=r.tooltip;return d&&d.length?a=d.slice():a.length||(a=i.slice()),r.defaultedLabel=i,r.defaultedTooltip=a,t.userOutput=new gve(s,e),t}function F_(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function fx(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function mve(n){return!(n==="ordinal"||n==="time")}var vw=function(){function n(e){this.otherDims={},e!=null&&oe(this,e)}return n}(),yve=Tt(),bve={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},VU=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=HU(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return et(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=zH(this.source),r=!UU(e),o="",i=[],a=0,s=0;a<e;a++){var l=void 0,u=void 0,c=void 0,d=this.dimensions[s];if(d&&d.storeDimIndex===a)l=t?d.name:null,u=d.type,c=d.ordinalMeta,s++;else{var h=this.getSourceDimension(a);h&&(l=t?h.name:null,u=h.type)}i.push({property:l,type:u,ordinalMeta:c}),t&&l!=null&&(!d||!d.isCalculationCoord)&&(o+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),o+="$",o+=bve[u]||"f",c&&(o+=c.uid),o+="$"}var f=this.source,p=[f.seriesLayoutBy,f.startIndex,o].join("$$");return{dimensions:i,hash:p}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var o=void 0,i=this.dimensions[r];if(i&&i.storeDimIndex===t)i.isCalculationCoord||(o=i.name),r++;else{var a=this.getSourceDimension(t);a&&(o=a.name)}e.push(o)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function GU(n){return n instanceof VU}function WU(n){for(var e=Pe(),t=0;t<(n||[]).length;t++){var r=n[t],o=Ge(r)?r.name:r;o!=null&&e.get(o)==null&&e.set(o,t)}return e}function HU(n){var e=yve(n);return e.dimNameMap||(e.dimNameMap=WU(n.dimensionsDefine))}function UU(n){return n>30}var Ng=Ge,ql=fe,wve=typeof Int32Array>"u"?Array:Int32Array,xve="e\0\0",A4=-1,Sve=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Cve=["_approximateExtent"],D4,r1,Og,Fg,B_,o1,z_,kve=function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,o=!1;GU(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(o=!0,r=e),r=r||["x","y"];for(var i={},a=[],s={},l=!1,u={},c=0;c<r.length;c++){var d=r[c],h=De(d)?new vw({name:d}):d instanceof vw?d:new vw(d),f=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=f,h.coordDimIndex=0);var p=h.otherDims=h.otherDims||{};a.push(f),i[f]=h,u[f]!=null&&(l=!0),h.createInvertedIndices&&(s[f]=[]),p.itemName===0&&(this._nameDimIdx=c),p.itemId===0&&(this._idDimIdx=c),o&&(h.storeDimIndex=c)}if(this.dimensions=a,this._dimInfos=i,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=Pe();R(a,function(v){g.set(i[v].storeDimIndex,v)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var o=this._schema.getSourceDimension(t);if(o)return o.name},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(Rt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var o=r.encode[e];return o?o[t]:null},n.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,r){var o=this,i;if(e instanceof RA&&(i=e),!i){var a=this.dimensions,s=r$(e)||Gr(e)?new VH(e,a.length):e;i=new RA;var l=ql(a,function(u){return{type:o._dimInfos[u].type,property:u}});i.initData(s,l,r)}this._store=i,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=vve(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t.length),o=r.start,i=r.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=o;s<i;s++){var l=s-o;this._nameList[s]=t[l],a&&z_(this,s)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var o=this._dimInfos[t[r]];o.ordinalMeta&&e.collectOrdinalMeta(o.storeDimIndex,o.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Au&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,o=r.getProvider();this._updateOrdinalMeta();var i=this._nameList,a=this._idList,s=o.getSource().sourceFormat,l=s===ua;if(l&&!o.pure)for(var u=[],c=e;c<t;c++){var d=o.getItem(c,u);if(!this.hasItemOption&&tde(d)&&(this.hasItemOption=!0),d){var h=d.name;i[c]==null&&h!=null&&(i[c]=ir(h,null));var f=d.id;a[c]==null&&f!=null&&(a[c]=ir(f,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<t;c++)z_(this,c);D4(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){Ng(e)?oe(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=Og(this,this._nameDimIdx,t)),r==null&&(r=""),r},n.prototype._getCategory=function(e,t){var r=this._store.get(e,t),o=this._store.getOrdinalMeta(e);return o?o.categories[r]:r},n.prototype.getId=function(e){return r1(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._store,o=this._dimInfos[e];if(o)return r.get(o.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._store,o=this._dimInfos[e];if(o)return r.getByRawIndex(o.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var r=this,o=this._store;return ce(e)?o.getValues(ql(e,function(i){return r._getStoreDimIndex(i)}),t):o.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,o=t.length;r<o;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],o=r[t];return o==null||isNaN(o)?A4:o},n.prototype.indicesOfNearest=function(e,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,r)},n.prototype.each=function(e,t,r){ze(e)&&(r=t,t=e,e=[]);var o=r||this,i=ql(Fg(e),this._getStoreDimIndex,this);this._store.each(i,o?Re(t,o):t)},n.prototype.filterSelf=function(e,t,r){ze(e)&&(r=t,t=e,e=[]);var o=r||this,i=ql(Fg(e),this._getStoreDimIndex,this);return this._store=this._store.filter(i,o?Re(t,o):t),this},n.prototype.selectRange=function(e){var t=this,r={},o=yt(e);return R(o,function(i){var a=t._getStoreDimIndex(i);r[a]=e[i]}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(e,t,r){ze(e)&&(r=t,t=e,e=[]),r=r||this;var o=[];return this.each(e,function(){o.push(t&&t.apply(this,arguments))},r),o},n.prototype.map=function(e,t,r,o){var i=r||o||this,a=ql(Fg(e),this._getStoreDimIndex,this),s=o1(this);return s._store=this._store.map(a,i?Re(t,i):t),s},n.prototype.modify=function(e,t,r,o){var i=r||o||this,a=ql(Fg(e),this._getStoreDimIndex,this);this._store.modify(a,i?Re(t,i):t)},n.prototype.downSample=function(e,t,r,o){var i=o1(this);return i._store=this._store.downSample(this._getStoreDimIndex(e),t,r,o),i},n.prototype.lttbDownSample=function(e,t){var r=o1(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new tn(r,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new kl(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return r1(e,r)},function(r){return r1(t,r)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},Ng(e)?oe(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],o=r&&r[t];return o??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,o=r[e];o||(o=r[e]={});var i=o[t];return i==null&&(i=this.getVisual(t),ce(i)?i=i.slice():Ng(i)&&(i=oe({},i)),o[t]=i),i},n.prototype.setItemVisual=function(e,t,r){var o=this._itemVisuals[e]||{};this._itemVisuals[e]=o,Ng(t)?oe(o,t):o[t]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){Ng(e)?oe(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?oe(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;mA(r,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){R(this._graphicEls,function(r,o){r&&e&&e.call(t,r,o)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:ql(this.dimensions,this._getDimInfo,this),this.hostModel)),B_(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var r=this[e];ze(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var o=r.apply(this,arguments);return t.apply(this,[o].concat(HS(arguments)))})},n.internalField=function(){D4=function(e){var t=e._invertedIndicesMap;R(t,function(r,o){var i=e._dimInfos[o],a=i.ordinalMeta,s=e._store;if(a){r=t[o]=new wve(a.categories.length);for(var l=0;l<r.length;l++)r[l]=A4;for(var l=0;l<s.count();l++)r[s.get(i.storeDimIndex,l)]=l}})},Og=function(e,t,r){return ir(e._getCategory(t,r),null)},r1=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=Og(e,e._idDimIdx,t)),r==null&&(r=xve+t),r},Fg=function(e){return ce(e)||(e=e!=null?[e]:[]),e},o1=function(e){var t=new n(e._schema?e._schema:ql(e.dimensions,e._getDimInfo,e),e.hostModel);return B_(t,e),t},B_=function(e,t){R(Sve.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,R(Cve,function(r){e[r]=We(t[r])}),e._calculationInfo=oe({},t._calculationInfo)},z_=function(e,t){var r=e._nameList,o=e._idList,i=e._nameDimIdx,a=e._idDimIdx,s=r[t],l=o[t];if(s==null&&i!=null&&(r[t]=s=Og(e,i,t)),l==null&&a!=null&&(o[t]=l=Og(e,a,t)),l==null&&s!=null){var u=e._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),o[t]=l}}}(),n}();const ao=kve;function _ve(n,e){return Gp(n,e).dimensions}function Gp(n,e){r$(n)||(n=o$(n)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||n.dimensionsDefine||[],o=Pe(),i=[],a=Tve(n,t,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&UU(a),l=r===n.dimensionsDefine,u=l?HU(n):WU(r),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(n,a));for(var d=Pe(c),h=new qH(a),f=0;f<h.length;f++)h[f]=-1;function p(_){var I=h[_];if(I<0){var T=r[_],A=Ge(T)?T:{name:T},D=new vw,E=A.name;E!=null&&u.get(E)!=null&&(D.name=D.displayName=E),A.type!=null&&(D.type=A.type),A.displayName!=null&&(D.displayName=A.displayName);var $=i.length;return h[_]=$,D.storeDimIndex=_,i.push(D),D}return i[I]}if(!s)for(var f=0;f<a;f++)p(f);d.each(function(_,I){var T=rn(_).slice();if(T.length===1&&!De(T[0])&&T[0]<0){d.set(I,!1);return}var A=d.set(I,[]);R(T,function(D,E){var $=De(D)?u.get(D):D;$!=null&&$<a&&(A[E]=$,v(p($),I,E))})});var g=0;R(t,function(_){var I,T,A,D;if(De(_))I=_,D={};else{D=_,I=D.name;var E=D.ordinalMeta;D.ordinalMeta=null,D=oe({},D),D.ordinalMeta=E,T=D.dimsDef,A=D.otherDims,D.name=D.coordDim=D.coordDimIndex=D.dimsDef=D.otherDims=null}var $=d.get(I);if($!==!1){if($=rn($),!$.length)for(var P=0;P<(T&&T.length||1);P++){for(;g<a&&p(g).coordDim!=null;)g++;g<a&&$.push(g++)}R($,function(N,M){var L=p(N);if(l&&D.type!=null&&(L.type=D.type),v(Ve(L,D),I,M),L.name==null&&T){var V=T[M];!Ge(V)&&(V={name:V}),L.name=L.displayName=V.name,L.defaultTooltip=V.defaultTooltip}A&&Ve(L.otherDims,A)})}});function v(_,I,T){DH.get(I)!=null?_.otherDims[I]=T:(_.coordDim=I,_.coordDimIndex=T,o.set(I,!0))}var m=e.generateCoord,y=e.generateCoordCount,b=y!=null;y=m?y||1:0;var w=m||"value";function x(_){_.name==null&&(_.name=_.coordDim)}if(s)R(i,function(_){x(_)}),i.sort(function(_,I){return _.storeDimIndex-I.storeDimIndex});else for(var S=0;S<a;S++){var C=p(S),k=C.coordDim;k==null&&(C.coordDim=Ave(w,o,b),C.coordDimIndex=0,(!m||y<=0)&&(C.isExtraCoord=!0),y--),x(C),C.type==null&&(PH(n,S)===zr.Must||C.isExtraCoord&&(C.otherDims.itemName!=null||C.otherDims.seriesName!=null))&&(C.type="ordinal")}return Ive(i),new VU({source:n,dimensions:i,fullDimensionCount:a,dimensionOmitted:s})}function Ive(n){for(var e=Pe(),t=0;t<n.length;t++){var r=n[t],o=r.name,i=e.get(o)||0;i>0&&(r.name=o+(i-1)),i++,e.set(o,i)}}function Tve(n,e,t,r){var o=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,r||0);return R(e,function(i){var a;Ge(i)&&(a=i.dimsDef)&&(o=Math.max(o,a.length))}),o}function Ave(n,e,t){if(t||e.hasKey(n)){for(var r=0;e.hasKey(n+r);)r++;n+=r}return e.set(n,!0),n}var Dve=function(){function n(e){this.coordSysDims=[],this.axisMap=Pe(),this.categoryAxisMap=Pe(),this.coordSysName=e}return n}();function Rve(n){var e=n.get("coordinateSystem"),t=new Dve(e),r=Eve[e];if(r)return r(n,t,t.axisMap,t.categoryAxisMap),t}var Eve={cartesian2d:function(n,e,t,r){var o=n.getReferringComponents("xAxis",Qn).models[0],i=n.getReferringComponents("yAxis",Qn).models[0];e.coordSysDims=["x","y"],t.set("x",o),t.set("y",i),jh(o)&&(r.set("x",o),e.firstCategoryDimIndex=0),jh(i)&&(r.set("y",i),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,r){var o=n.getReferringComponents("singleAxis",Qn).models[0];e.coordSysDims=["single"],t.set("single",o),jh(o)&&(r.set("single",o),e.firstCategoryDimIndex=0)},polar:function(n,e,t,r){var o=n.getReferringComponents("polar",Qn).models[0],i=o.findAxisModel("radiusAxis"),a=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",i),t.set("angle",a),jh(i)&&(r.set("radius",i),e.firstCategoryDimIndex=0),jh(a)&&(r.set("angle",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,r){var o=n.ecModel,i=o.getComponent("parallel",n.get("parallelIndex")),a=e.coordSysDims=i.dimensions.slice();R(i.parallelAxisIndex,function(s,l){var u=o.getComponent("parallelAxis",s),c=a[l];t.set(c,u),jh(u)&&(r.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function jh(n){return n.get("type")==="category"}function jU(n,e,t){t=t||{};var r=t.byIndex,o=t.stackedCoordDimension,i,a,s;$ve(e)?i=e:(a=e.schema,i=a.dimensions,s=e.store);var l=!!(n&&n.get("stack")),u,c,d,h;if(R(i,function(y,b){De(y)&&(i[b]=y={name:y}),l&&!y.isExtraCoord&&(!r&&!u&&y.ordinalMeta&&(u=y),!c&&y.type!=="ordinal"&&y.type!=="time"&&(!o||o===y.coordDim)&&(c=y))}),c&&!r&&!u&&(r=!0),c){d="__\0ecstackresult_"+n.id,h="__\0ecstackedover_"+n.id,u&&(u.createInvertedIndices=!0);var f=c.coordDim,p=c.type,g=0;R(i,function(y){y.coordDim===f&&g++});var v={name:d,coordDim:f,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},m={name:h,coordDim:h,coordDimIndex:g+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};a?(s&&(v.storeDimIndex=s.ensureCalculationDimension(h,p),m.storeDimIndex=s.ensureCalculationDimension(d,p)),a.appendCalculationDimension(v),a.appendCalculationDimension(m)):(i.push(v),i.push(m))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:h,stackResultDimension:d}}function $ve(n){return!GU(n.schema)}function _l(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function x$(n,e){return _l(n,e)?n.getCalculationInfo("stackResultDimension"):e}function Pve(n,e){var t=n.get("coordinateSystem"),r=Fp.get(t),o;return e&&e.coordSysDims&&(o=fe(e.coordSysDims,function(i){var a={name:i},s=e.axisMap.get(i);if(s){var l=s.get("type");a.type=fx(l)}return a})),o||(o=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),o}function Mve(n,e,t){var r,o;return t&&R(n,function(i,a){var s=i.coordDim,l=t.categoryAxisMap.get(s);l&&(r==null&&(r=a),i.ordinalMeta=l.getOrdinalMeta(),e&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(o=!0)}),!o&&r!=null&&(n[r].otherDims.itemName=0),r}function qs(n,e,t){t=t||{};var r=e.getSourceManager(),o,i=!1;n?(i=!0,o=o$(n)):(o=r.getSource(),i=o.sourceFormat===ua);var a=Rve(e),s=Pve(e,a),l=t.useEncodeDefaulter,u=ze(l)?l:l?Qe($H,s,e):null,c={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!i},d=Gp(o,c),h=Mve(d.dimensions,t.createInvertedIndices,a),f=i?null:r.getSharedDataStore(d),p=jU(e,{schema:d,store:f}),g=new ao(d,e);g.setCalculationInfo(p);var v=h!=null&&Lve(o)?function(m,y,b,w){return w===h?b:this.defaultDimValueGetter(m,y,b,w)}:null;return g.hasItemOption=!1,g.initData(i?o:f,null,v),g}function Lve(n){if(n.sourceFormat===ua){var e=Nve(n.data||[]);return!ce(Tp(e))}}function Nve(n){for(var e=0;e<n.length&&n[e]==null;)e++;return n[e]}var Ys=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();JS(Ys);var Ove=0,zA=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Ove}return n.createByAxisModel=function(e){var t=e.option,r=t.data,o=r&&fe(r,Fve);return new n({categories:o,needCollect:!o,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!De(e)&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var o=this._getOrCreateMap();return t=o.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,o.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Pe(this.categories))},n}();function Fve(n){return Ge(n)&&n.value!=null?n.value:n+""}function VA(n){return n.type==="interval"||n.type==="log"}function Bve(n,e,t,r){var o={},i=n[1]-n[0],a=o.interval=kE(i/e,!0);t!=null&&a<t&&(a=o.interval=t),r!=null&&a>r&&(a=o.interval=r);var s=o.intervalPrecision=KU(a),l=o.niceTickExtent=[Mn(Math.ceil(n[0]/a)*a,s),Mn(Math.floor(n[1]/a)*a,s)];return zve(l,n),o}function V_(n){var e=Math.pow(10,ZS(n)),t=n/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,Mn(t*e)}function KU(n){return Aa(n)+2}function R4(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function zve(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),R4(n,0,e),R4(n,1,e),n[0]>n[1]&&(n[0]=n[1])}function SC(n,e){return n>=e[0]&&n<=e[1]}function CC(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function kC(n,e){return n*(e[1]-e[0])+e[0]}var _C=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;r.type="ordinal";var o=r.getSetting("ordinalMeta");return o||(o=new zA({})),ce(o)&&(o=new zA({categories:fe(o,function(i){return Ge(i)?i.value:i})})),r._ordinalMeta=o,r._extent=r.getSetting("extent")||[0,o.categories.length-1],r}return e.prototype.parse=function(t){return t==null?NaN:De(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),SC(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),CC(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(kC(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,o=r[0];o<=r[1];)t.push({value:o}),o++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,o=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);a<l;++a){var u=r[a];o[a]=u,i[u]=a}for(var c=0;a<s;++a){for(;i[c]!=null;)c++;o.push(c),i[c]=a}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),o=this._ordinalMeta.categories[r];return o==null?"":o+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Ys);Ys.registerClass(_C);var Oc=Mn,Il=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return SC(t,this._extent)},e.prototype.normalize=function(t){return CC(t,this._extent)},e.prototype.scale=function(t){return kC(t,this._extent)},e.prototype.setExtent=function(t,r){var o=this._extent;isNaN(t)||(o[0]=parseFloat(t)),isNaN(r)||(o[1]=parseFloat(r))},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=KU(t)},e.prototype.getTicks=function(t){var r=this._interval,o=this._extent,i=this._niceExtent,a=this._intervalPrecision,s=[];if(!r)return s;var l=1e4;o[0]<i[0]&&(t?s.push({value:Oc(i[0]-r,a)}):s.push({value:o[0]}));for(var u=i[0];u<=i[1]&&(s.push({value:u}),u=Oc(u+r,a),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:i[1];return o[1]>c&&(t?s.push({value:Oc(c+r,a)}):s.push({value:o[1]})),s},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),o=[],i=this.getExtent(),a=1;a<r.length;a++){for(var s=r[a],l=r[a-1],u=0,c=[],d=s.value-l.value,h=d/t;u<t-1;){var f=Oc(l.value+(u+1)*h);f>i[0]&&f<i[1]&&c.push(f),u++}o.push(c)}return o},e.prototype.getLabel=function(t,r){if(t==null)return"";var o=r&&r.precision;o==null?o=Aa(t.value)||0:o==="auto"&&(o=this._intervalPrecision);var i=Oc(t.value,o,!0);return qE(i)},e.prototype.calcNiceTicks=function(t,r,o){t=t||5;var i=this._extent,a=i[1]-i[0];if(isFinite(a)){a<0&&(a=-a,i.reverse());var s=Bve(i,t,r,o);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var o=Math.abs(r[0]);t.fixMax||(r[1]+=o/2),r[0]-=o/2}else r[1]=1;var i=r[1]-r[0];isFinite(i)||(r[0]=0,r[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(r[0]=Oc(Math.floor(r[0]/a)*a)),t.fixMax||(r[1]=Oc(Math.ceil(r[1]/a)*a))},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e}(Ys);Ys.registerClass(Il);var XU=typeof Float32Array<"u",Vve=XU?Float32Array:Array;function xs(n){return ce(n)?XU?new Float32Array(n):n:new Vve(n)}var GA="__ec_stack_";function S$(n){return n.get("stack")||GA+n.seriesIndex}function C$(n){return n.dim+n.index}function Gve(n){var e=[],t=n.axis,r="axis0";if(t.type==="category"){for(var o=t.getBandWidth(),i=0;i<n.count;i++)e.push(Ve({bandWidth:o,axisKey:r,stackId:GA+i},n));for(var a=ZU(e),s=[],i=0;i<n.count;i++){var l=a[r][GA+i];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function qU(n,e){var t=[];return e.eachSeriesByType(n,function(r){ej(r)&&t.push(r)}),t}function Wve(n){var e={};R(n,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var d=l.getData(),h=c.dim+"_"+c.index,f=d.getDimensionIndex(d.mapDimension(c.dim)),p=d.getStore(),g=0,v=p.count();g<v;++g){var m=p.get(f,g);e[h]?e[h].push(m):e[h]=[m]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(o){o.sort(function(l,u){return l-u});for(var i=null,a=1;a<o.length;++a){var s=o[a]-o[a-1];s>0&&(i=i===null?s:Math.min(i,s))}t[r]=i}}return t}function YU(n){var e=Wve(n),t=[];return R(n,function(r){var o=r.coordinateSystem,i=o.getBaseAxis(),a=i.getExtent(),s;if(i.type==="category")s=i.getBandWidth();else if(i.type==="value"||i.type==="time"){var l=i.dim+"_"+i.index,u=e[l],c=Math.abs(a[1]-a[0]),d=i.scale.getExtent(),h=Math.abs(d[1]-d[0]);s=u?c/h*u:c}else{var f=r.getData();s=Math.abs(a[1]-a[0])/f.count()}var p=_e(r.get("barWidth"),s),g=_e(r.get("barMaxWidth"),s),v=_e(r.get("barMinWidth")||(tj(r)?.5:1),s),m=r.get("barGap"),y=r.get("barCategoryGap");t.push({bandWidth:s,barWidth:p,barMaxWidth:g,barMinWidth:v,barGap:m,barCategoryGap:y,axisKey:C$(i),stackId:S$(r)})}),ZU(t)}function ZU(n){var e={};R(n,function(r,o){var i=r.axisKey,a=r.bandWidth,s=e[i]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[i]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=r.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var d=r.barMaxWidth;d&&(l[u].maxWidth=d);var h=r.barMinWidth;h&&(l[u].minWidth=h);var f=r.barGap;f!=null&&(s.gap=f);var p=r.barCategoryGap;p!=null&&(s.categoryGap=p)});var t={};return R(e,function(r,o){t[o]={};var i=r.stacks,a=r.bandWidth,s=r.categoryGap;if(s==null){var l=yt(i).length;s=Math.max(35-l*4,15)+"%"}var u=_e(s,a),c=_e(r.gap,1),d=r.remainedWidth,h=r.autoWidthCount,f=(d-u)/(h+(h-1)*c);f=Math.max(f,0),R(i,function(m){var y=m.maxWidth,b=m.minWidth;if(m.width){var w=m.width;y&&(w=Math.min(w,y)),b&&(w=Math.max(w,b)),m.width=w,d-=w+c*w,h--}else{var w=f;y&&y<w&&(w=Math.min(y,d)),b&&b>w&&(w=b),w!==f&&(m.width=w,d-=w+c*w,h--)}}),f=(d-u)/(h+(h-1)*c),f=Math.max(f,0);var p=0,g;R(i,function(m,y){m.width||(m.width=f),g=m,p+=m.width*(1+c)}),g&&(p-=g.width*c);var v=-p/2;R(i,function(m,y){t[o][y]=t[o][y]||{bandWidth:a,offset:v,width:m.width},v+=m.width*(1+c)})}),t}function Hve(n,e,t){if(n&&e){var r=n[C$(e)];return r!=null&&t!=null?r[S$(t)]:r}}function JU(n,e){var t=qU(n,e),r=YU(t);R(t,function(o){var i=o.getData(),a=o.coordinateSystem,s=a.getBaseAxis(),l=S$(o),u=r[C$(s)][l],c=u.offset,d=u.width;i.setLayout({bandWidth:u.bandWidth,offset:c,size:d})})}function QU(n){return{seriesType:n,plan:Bp(),reset:function(e){if(ej(e)){var t=e.getData(),r=e.coordinateSystem,o=r.getBaseAxis(),i=r.getOtherAxis(o),a=t.getDimensionIndex(t.mapDimension(i.dim)),s=t.getDimensionIndex(t.mapDimension(o.dim)),l=e.get("showBackground",!0),u=t.mapDimension(i.dim),c=t.getCalculationInfo("stackResultDimension"),d=_l(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),h=i.isHorizontal(),f=Uve(o,i),p=tj(e),g=e.get("barMinHeight")||0,v=c&&t.getDimensionIndex(c),m=t.getLayout("size"),y=t.getLayout("offset");return{progress:function(b,w){for(var x=b.count,S=p&&xs(x*3),C=p&&l&&xs(x*3),k=p&&xs(x),_=r.master.getRect(),I=h?_.width:_.height,T,A=w.getStore(),D=0;(T=b.next())!=null;){var E=A.get(d?v:a,T),$=A.get(s,T),P=f,N=void 0;d&&(N=+E-A.get(a,T));var M=void 0,L=void 0,V=void 0,W=void 0;if(h){var j=r.dataToPoint([E,$]);if(d){var Q=r.dataToPoint([N,$]);P=Q[0]}M=P,L=j[1]+y,V=j[0]-P,W=m,Math.abs(V)<g&&(V=(V<0?-1:1)*g)}else{var j=r.dataToPoint([$,E]);if(d){var Q=r.dataToPoint([$,N]);P=Q[1]}M=j[0]+y,L=P,V=m,W=j[1]-P,Math.abs(W)<g&&(W=(W<=0?-1:1)*g)}p?(S[D]=M,S[D+1]=L,S[D+2]=h?V:W,C&&(C[D]=h?_.x:M,C[D+1]=h?L:_.y,C[D+2]=I),k[T]=T):w.setItemLayout(T,{x:M,y:L,width:V,height:W}),D+=3}p&&w.setLayout({largePoints:S,largeDataIndices:k,largeBackgroundPoints:C,valueAxisHorizontal:h})}}}}}}function ej(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function tj(n){return n.pipelineContext&&n.pipelineContext.large}function Uve(n,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var jve=function(n,e,t,r){for(;t<r;){var o=t+r>>>1;n[o][1]<e?t=o+1:r=o}return t},k$=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return Ly(t.value,x5[Sfe(zf(this._minLevelUnit))]||x5.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,o){var i=this.getSetting("useUTC"),a=this.getSetting("locale");return Cfe(t,r,o,a,i)},e.prototype.getTicks=function(){var t=this._interval,r=this._extent,o=[];if(!t)return o;o.push({value:r[0],level:0});var i=this.getSetting("useUTC"),a=Qve(this._minLevelUnit,this._approxInterval,i,r);return o=o.concat(a),o.push({value:r[1],level:0}),o},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=Hi,r[1]+=Hi),r[1]===-1/0&&r[0]===1/0){var o=new Date;r[1]=+new Date(o.getFullYear(),o.getMonth(),o.getDate()),r[0]=r[1]-Hi}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,o){t=t||10;var i=this._extent,a=i[1]-i[0];this._approxInterval=a/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),o!=null&&this._approxInterval>o&&(this._approxInterval=o);var s=i1.length,l=Math.min(jve(i1,this._approxInterval,0,s),s-1);this._interval=i1[l][1],this._minLevelUnit=i1[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return Rt(t)?t:+xi(t)},e.prototype.contain=function(t){return SC(this.parse(t),this._extent)},e.prototype.normalize=function(t){return CC(this.parse(t),this._extent)},e.prototype.scale=function(t){return kC(t,this._extent)},e.type="time",e}(Il),i1=[["second",jE],["minute",KE],["hour",Wv],["quarter-day",Wv*6],["half-day",Wv*12],["day",Hi*1.2],["half-week",Hi*3.5],["week",Hi*7],["month",Hi*31],["quarter",Hi*95],["half-year",w5/2],["year",w5]];function Kve(n,e,t,r){var o=xi(e),i=xi(t),a=function(p){return S5(o,p,r)===S5(i,p,r)},s=function(){return a("year")},l=function(){return s()&&a("month")},u=function(){return l()&&a("day")},c=function(){return u()&&a("hour")},d=function(){return c()&&a("minute")},h=function(){return d()&&a("second")},f=function(){return h()&&a("millisecond")};switch(n){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return d();case"second":return h();case"millisecond":return f()}}function Xve(n,e){return n/=Hi,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function qve(n){var e=30*Hi;return n/=e,n>6?6:n>3?3:n>2?2:1}function Yve(n){return n/=Wv,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function E4(n,e){return n/=e?KE:jE,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function Zve(n){return kE(n,!0)}function Jve(n,e,t){var r=new Date(n);switch(zf(e)){case"year":case"month":r[bH(t)](0);case"day":r[wH(t)](1);case"hour":r[xH(t)](0);case"minute":r[SH(t)](0);case"second":r[CH(t)](0),r[kH(t)](0)}return r.getTime()}function Qve(n,e,t,r){var o=1e4,i=mH,a=0;function s(I,T,A,D,E,$,P){for(var N=new Date(T),M=T,L=N[D]();M<A&&M<=r[1];)P.push({value:M}),L+=I,N[E](L),M=N.getTime();P.push({value:M,notAdd:!0})}function l(I,T,A){var D=[],E=!T.length;if(!Kve(zf(I),r[0],r[1],t)){E&&(T=[{value:Jve(new Date(r[0]),I,t)},{value:r[1]}]);for(var $=0;$<T.length-1;$++){var P=T[$].value,N=T[$+1].value;if(P!==N){var M=void 0,L=void 0,V=void 0,W=!1;switch(I){case"year":M=Math.max(1,Math.round(e/Hi/365)),L=XE(t),V=kfe(t);break;case"half-year":case"quarter":case"month":M=qve(e),L=Vf(t),V=bH(t);break;case"week":case"half-week":case"day":M=Xve(e),L=cC(t),V=wH(t),W=!0;break;case"half-day":case"quarter-day":case"hour":M=Yve(e),L=wm(t),V=xH(t);break;case"minute":M=E4(e,!0),L=dC(t),V=SH(t);break;case"second":M=E4(e,!1),L=hC(t),V=CH(t);break;case"millisecond":M=Zve(e),L=fC(t),V=kH(t);break}s(M,P,N,L,V,W,D),I==="year"&&A.length>1&&$===0&&A.unshift({value:A[0].value-M})}}for(var $=0;$<D.length;$++)A.push(D[$]);return D}}for(var u=[],c=[],d=0,h=0,f=0;f<i.length&&a++<o;++f){var p=zf(i[f]);if(xfe(i[f])){l(i[f],u[u.length-1]||[],c);var g=i[f+1]?zf(i[f+1]):null;if(p!==g){if(c.length){h=d,c.sort(function(I,T){return I.value-T.value});for(var v=[],m=0;m<c.length;++m){var y=c[m].value;(m===0||c[m-1].value!==y)&&(v.push(c[m]),y>=r[0]&&y<=r[1]&&d++)}var b=(r[1]-r[0])/e;if(d>b*1.5&&h>b/1.5||(u.push(v),d>b||n===i[f]))break}c=[]}}}for(var w=Ht(fe(u,function(I){return Ht(I,function(T){return T.value>=r[0]&&T.value<=r[1]&&!T.notAdd})}),function(I){return I.length>0}),x=[],S=w.length-1,f=0;f<w.length;++f)for(var C=w[f],k=0;k<C.length;++k)x.push({value:C[k].value,level:S-f});x.sort(function(I,T){return I.value-T.value});for(var _=[],f=0;f<x.length;++f)(f===0||x[f].value!==x[f-1].value)&&_.push(x[f]);return _}Ys.registerClass(k$);var $4=Ys.prototype,jv=Il.prototype,eme=Mn,tme=Math.floor,nme=Math.ceil,a1=Math.pow,ma=Math.log,_$=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Il,t._interval=0,t}return e.prototype.getTicks=function(t){var r=this._originalScale,o=this._extent,i=r.getExtent(),a=jv.getTicks.call(this,t);return fe(a,function(s){var l=s.value,u=Mn(a1(this.base,l));return u=l===o[0]&&this._fixMin?s1(u,i[0]):u,u=l===o[1]&&this._fixMax?s1(u,i[1]):u,{value:u}},this)},e.prototype.setExtent=function(t,r){var o=ma(this.base);t=ma(Math.max(0,t))/o,r=ma(Math.max(0,r))/o,jv.setExtent.call(this,t,r)},e.prototype.getExtent=function(){var t=this.base,r=$4.getExtent.call(this);r[0]=a1(t,r[0]),r[1]=a1(t,r[1]);var o=this._originalScale,i=o.getExtent();return this._fixMin&&(r[0]=s1(r[0],i[0])),this._fixMax&&(r[1]=s1(r[1],i[1])),r},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=ma(t[0])/ma(r),t[1]=ma(t[1])/ma(r),$4.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent,o=r[1]-r[0];if(!(o===1/0||o<=0)){var i=lW(o),a=t/o*i;for(a<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var s=[Mn(nme(r[0]/i)*i),Mn(tme(r[1]/i)*i)];this._interval=i,this._niceExtent=s}},e.prototype.calcNiceExtent=function(t){jv.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=ma(t)/ma(this.base),SC(t,this._extent)},e.prototype.normalize=function(t){return t=ma(t)/ma(this.base),CC(t,this._extent)},e.prototype.scale=function(t){return t=kC(t,this._extent),a1(this.base,t)},e.type="log",e}(Ys),nj=_$.prototype;nj.getMinorTicks=jv.getMinorTicks;nj.getLabel=jv.getLabel;function s1(n,e){return eme(n,Aa(e))}Ys.registerClass(_$);var rme=function(){function n(e,t,r){this._prepareParams(e,t,r)}return n.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var o=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var i=t.get("min",!0);i==null&&(i=t.get("startValue",!0));var a=this._modelMinRaw=i;ze(a)?this._modelMinNum=l1(e,a({min:r[0],max:r[1]})):a!=="dataMin"&&(this._modelMinNum=l1(e,a));var s=this._modelMaxRaw=t.get("max",!0);if(ze(s)?this._modelMaxNum=l1(e,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=l1(e,s)),o)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=ce(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Ga(u[0],1),Ga(u[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,o=this._axisDataLen,i=this._boundaryGapInner,a=e?null:r-t||Math.abs(t),s=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=e?o?0:NaN:t-i[0]*a),l==null&&(l=e?o?o-1:NaN:r+i[1]*a),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var d=Jf(s)||Jf(l)||e&&!o;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var h=this._determinedMin,f=this._determinedMax;return h!=null&&(s=h,u=!0),f!=null&&(l=f,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:d}},n.prototype.modifyDataMinMax=function(e,t){this[ime[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var r=ome[e];this[r]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),ome={min:"_determinedMin",max:"_determinedMax"},ime={min:"_dataMin",max:"_dataMax"};function rj(n,e,t){var r=n.rawExtentInfo;return r||(r=new rme(n,e,t),n.rawExtentInfo=r,r)}function l1(n,e){return e==null?null:Jf(e)?NaN:n.parse(e)}function oj(n,e){var t=n.type,r=rj(n,e,n.getExtent()).calculate();n.setBlank(r.isBlank);var o=r.min,i=r.max,a=e.ecModel;if(a&&t==="time"){var s=qU("bar",a),l=!1;if(R(s,function(d){l=l||d.getBaseAxis()===e.axis}),l){var u=YU(s),c=ame(o,i,e,u);o=c.min,i=c.max}}return{extent:[o,i],fixMin:r.minFixed,fixMax:r.maxFixed}}function ame(n,e,t,r){var o=t.axis.getExtent(),i=o[1]-o[0],a=Hve(r,t.axis);if(a===void 0)return{min:n,max:e};var s=1/0;R(a,function(f){s=Math.min(f.offset,s)});var l=-1/0;R(a,function(f){l=Math.max(f.offset+f.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=e-n,d=1-(s+l)/i,h=c/d-c;return e+=h*(l/u),n-=h*(s/u),{min:n,max:e}}function Wd(n,e){var t=e,r=oj(n,t),o=r.extent,i=t.get("splitNumber");n instanceof _$&&(n.base=t.get("logBase"));var a=n.type,s=t.get("interval"),l=a==="interval"||a==="time";n.setExtent(o[0],o[1]),n.calcNiceExtent({splitNumber:i,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),s!=null&&n.setInterval&&n.setInterval(s)}function Oy(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new _C({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new k$({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Ys.getClass(e)||Il)}}function sme(n){var e=n.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function Wp(n){var e=n.getLabelModel().get("formatter"),t=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?function(r){return function(o,i){return n.scale.getFormattedLabel(o,i,r)}}(e):De(e)?function(r){return function(o){var i=n.scale.getLabel(o),a=r.replace("{value}",i??"");return a}}(e):ze(e)?function(r){return function(o,i){return t!=null&&(i=o.value-t),r(I$(n,o),i,o.level!=null?{level:o.level}:null)}}(e):function(r){return n.scale.getLabel(r)}}function I$(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function lme(n){var e=n.model,t=n.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var r,o,i=t.getExtent();t instanceof _C?o=t.count():(r=t.getTicks(),o=r.length);var a=n.getLabelModel(),s=Wp(n),l,u=1;o>40&&(u=Math.ceil(o/40));for(var c=0;c<o;c+=u){var d=r?r[c]:{value:i[0]+c},h=s(d,c),f=a.getTextRect(h),p=ume(f,a.get("rotate")||0);l?l.union(p):l=p}return l}}function ume(n,e){var t=e*Math.PI/180,r=n.width,o=n.height,i=r*Math.abs(Math.cos(t))+Math.abs(o*Math.sin(t)),a=r*Math.abs(Math.sin(t))+Math.abs(o*Math.cos(t)),s=new lt(n.x,n.y,i,a);return s}function T$(n){var e=n.get("interval");return e??"auto"}function ij(n){return n.type==="category"&&T$(n.getLabelModel())===0}function px(n,e){var t={};return R(n.mapDimensionsAll(e),function(r){t[x$(n,r)]=!0}),yt(t)}function cme(n,e,t){e&&R(px(e,t),function(r){var o=e.getApproximateExtent(r);o[0]<n[0]&&(n[0]=o[0]),o[1]>n[1]&&(n[1]=o[1])})}var Hp=function(){function n(){}return n.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},n.prototype.getCoordSysModel=function(){},n}();function dme(n){return qs(null,n)}var hme={isDimensionStacked:_l,enableDataStack:jU,getStackedDimension:x$};function fme(n,e){var t=e;e instanceof tn||(t=new tn(e));var r=Oy(t);return r.setExtent(n[0],n[1]),Wd(r,t),r}function pme(n){Vn(n,Hp)}function gme(n,e){return e=e||{},dn(n,null,null,e.state!=="normal")}const vme=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:_ve,createList:dme,createScale:fme,createSymbol:Un,createTextStyle:gme,dataStack:hme,enableHoverEmphasis:Iu,getECData:Ye,getLayoutRect:er,mixinAxisModelCommonMethods:pme},Symbol.toStringTag,{value:"Module"}));var mme=1e-8;function P4(n,e){return Math.abs(n-e)<mme}function ad(n,e,t){var r=0,o=n[0];if(!o)return!1;for(var i=1;i<n.length;i++){var a=n[i];r+=il(o[0],o[1],a[0],a[1],e,t),o=a}var s=n[0];return(!P4(o[0],s[0])||!P4(o[1],s[1]))&&(r+=il(o[0],o[1],s[0],s[1],e,t)),r!==0}var yme=[];function G_(n,e){for(var t=0;t<n.length;t++)$r(n[t],n[t],e)}function M4(n,e,t,r){for(var o=0;o<n.length;o++){var i=n[o];r&&(i=r.project(i)),i&&isFinite(i[0])&&isFinite(i[1])&&(dl(e,e,i),hl(t,t,i))}}function bme(n){for(var e=0,t=0,r=0,o=n.length,i=n[o-1][0],a=n[o-1][1],s=0;s<o;s++){var l=n[s][0],u=n[s][1],c=i*u-l*a;e+=c,t+=(i+l)*c,r+=(a+u)*c,i=l,a=u}return e?[t/e/3,r/e/3,e]:[n[0][0]||0,n[0][1]||0]}var aj=function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n}(),L4=function(){function n(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return n}(),N4=function(){function n(e){this.type="linestring",this.points=e}return n}(),sj=function(n){K(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.type="geoJSON",i.geometries=r,i._center=o&&[o[0],o[1]],i}return e.prototype.calcCenter=function(){for(var t=this.geometries,r,o=0,i=0;i<t.length;i++){var a=t[i],s=a.exterior,l=s&&s.length;l>o&&(r=a,o=l)}if(r)return bme(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(t){var r=this._rect;if(r&&!t)return r;var o=[1/0,1/0],i=[-1/0,-1/0],a=this.geometries;return R(a,function(s){s.type==="polygon"?M4(s.exterior,o,i,t):R(s.points,function(l){M4(l,o,i,t)})}),isFinite(o[0])&&isFinite(o[1])&&isFinite(i[0])&&isFinite(i[1])||(o[0]=o[1]=i[0]=i[1]=0),r=new lt(o[0],o[1],i[0]-o[0],i[1]-o[1]),t||(this._rect=r),r},e.prototype.contain=function(t){var r=this.getBoundingRect(),o=this.geometries;if(!r.contain(t[0],t[1]))return!1;e:for(var i=0,a=o.length;i<a;i++){var s=o[i];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(ad(l,t[0],t[1])){for(var c=0;c<(u?u.length:0);c++)if(ad(u[c],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,r,o,i){var a=this.getBoundingRect(),s=a.width/a.height;o?i||(i=o/s):o=s*i;for(var l=new lt(t,r,o,i),u=a.calculateTransform(l),c=this.geometries,d=0;d<c.length;d++){var h=c[d];h.type==="polygon"?(G_(h.exterior,u),R(h.interiors,function(f){G_(f,u)})):R(h.points,function(f){G_(f,u)})}a=this._rect,a.copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var r=new e(t,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},e}(aj),wme=function(n){K(e,n);function e(t,r){var o=n.call(this,t)||this;return o.type="geoSVG",o._elOnlyForCalculate=r,o}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,r=t.getBoundingRect(),o=[r.x+r.width/2,r.y+r.height/2],i=Iy(yme),a=t;a&&!a.isGeoSVGGraphicRoot;)As(i,a.getLocalTransform(),i),a=a.parent;return ch(i,i),$r(o,o,i),o},e}(aj);function xme(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;t==null&&(t=1024);var r=e.features;return R(r,function(o){var i=o.geometry,a=i.encodeOffsets,s=i.coordinates;if(a)switch(i.type){case"LineString":i.coordinates=lj(s,a,t);break;case"Polygon":W_(s,a,t);break;case"MultiLineString":W_(s,a,t);break;case"MultiPolygon":R(s,function(l,u){return W_(l,a[u],t)})}}),e.UTF8Encoding=!1,e}function W_(n,e,t){for(var r=0;r<n.length;r++)n[r]=lj(n[r],e[r],t)}function lj(n,e,t){for(var r=[],o=e[0],i=e[1],a=0;a<n.length;a+=2){var s=n.charCodeAt(a)-64,l=n.charCodeAt(a+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=o,l+=i,o=s,i=l,r.push([s/t,l/t])}return r}function WA(n,e){return n=xme(n),fe(Ht(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var r=t.properties,o=t.geometry,i=[];switch(o.type){case"Polygon":var a=o.coordinates;i.push(new L4(a[0],a.slice(1)));break;case"MultiPolygon":R(o.coordinates,function(l){l[0]&&i.push(new L4(l[0],l.slice(1)))});break;case"LineString":i.push(new N4([o.coordinates]));break;case"MultiLineString":i.push(new N4(o.coordinates))}var s=new sj(r[e||"name"],i,r.cp);return s.properties=r,s})}const Sme=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:dA,asc:vi,getPercentWithPrecision:Jce,getPixelPrecision:SE,getPrecision:Aa,getPrecisionSafe:aW,isNumeric:_E,isRadianAroundZero:Qf,linearMap:Wt,nice:kE,numericToNumber:Fs,parseDate:xi,quantile:uw,quantity:lW,quantityExponent:ZS,reformIntervals:hA,remRadian:CE,round:Mn},Symbol.toStringTag,{value:"Module"})),Cme=Object.freeze(Object.defineProperty({__proto__:null,format:Ly,parse:xi},Symbol.toStringTag,{value:"Module"})),kme=Object.freeze(Object.defineProperty({__proto__:null,Arc:iC,BezierCurve:$y,BoundingRect:lt,Circle:Nl,CompoundPath:aC,Ellipse:oC,Group:Xe,Image:Lr,IncrementalDisplayable:oH,Line:yr,LinearGradient:Dp,Polygon:Po,Polyline:No,RadialGradient:OE,Rect:It,Ring:Ey,Sector:$o,Text:_t,clipPointsByRect:VE,clipRectByRect:uH,createIcon:Ep,extendPath:sH,extendShape:aH,getShapeClass:sC,getTransform:Tu,initProps:bn,makeImage:BE,makePath:Py,mergePath:fi,registerShape:la,resizePath:zE,updateProps:Pt},Symbol.toStringTag,{value:"Module"})),_me=Object.freeze(Object.defineProperty({__proto__:null,addCommas:qE,capitalFirst:Afe,encodeHTML:Co,formatTime:Tfe,formatTpl:ZE,getTextRect:_fe,getTooltipMarker:_H,normalizeCssArray:fh,toCamelCase:YE,truncateText:bW},Symbol.toStringTag,{value:"Module"})),Ime=Object.freeze(Object.defineProperty({__proto__:null,bind:Re,clone:We,curry:Qe,defaults:Ve,each:R,extend:oe,filter:Ht,indexOf:ct,inherits:pE,isArray:ce,isFunction:ze,isObject:Ge,isString:De,map:fe,merge:rt,reduce:na},Symbol.toStringTag,{value:"Module"}));var Im=Tt();function uj(n,e){var t=fe(e,function(r){return n.scale.parse(r)});return n.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function Tme(n){var e=n.getLabelModel().get("customValues");if(e){var t=Wp(n);return{labels:uj(n,e).map(function(r){var o={value:r};return{formattedLabel:t(o),rawLabel:n.scale.getLabel(o),tickValue:r}})}}return n.type==="category"?Dme(n):Eme(n)}function Ame(n,e){var t=n.getTickModel().get("customValues");return t?{ticks:uj(n,t)}:n.type==="category"?Rme(n,e):{ticks:fe(n.scale.getTicks(),function(r){return r.value})}}function Dme(n){var e=n.getLabelModel(),t=cj(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function cj(n,e){var t=dj(n,"labels"),r=T$(e),o=hj(t,r);if(o)return o;var i,a;return ze(r)?i=gj(n,r):(a=r==="auto"?$me(n):r,i=pj(n,a)),fj(t,r,{labels:i,labelCategoryInterval:a})}function Rme(n,e){var t=dj(n,"ticks"),r=T$(e),o=hj(t,r);if(o)return o;var i,a;if((!e.get("show")||n.scale.isBlank())&&(i=[]),ze(r))i=gj(n,r,!0);else if(r==="auto"){var s=cj(n,n.getLabelModel());a=s.labelCategoryInterval,i=fe(s.labels,function(l){return l.tickValue})}else a=r,i=pj(n,a,!0);return fj(t,r,{ticks:i,tickCategoryInterval:a})}function Eme(n){var e=n.scale.getTicks(),t=Wp(n);return{labels:fe(e,function(r,o){return{level:r.level,formattedLabel:t(r,o),rawLabel:n.scale.getLabel(r),tickValue:r.value}})}}function dj(n,e){return Im(n)[e]||(Im(n)[e]=[])}function hj(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function fj(n,e,t){return n.push({key:e,value:t}),t}function $me(n){var e=Im(n).autoInterval;return e??(Im(n).autoInterval=n.calculateCategoryInterval())}function Pme(n){var e=Mme(n),t=Wp(n),r=(e.axisRotate-e.labelRotate)/180*Math.PI,o=n.scale,i=o.getExtent(),a=o.count();if(i[1]-i[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=i[0],u=n.dataToCoord(l+1)-n.dataToCoord(l),c=Math.abs(u*Math.cos(r)),d=Math.abs(u*Math.sin(r)),h=0,f=0;l<=i[1];l+=s){var p=0,g=0,v=Ay(t({value:l}),e.font,"center","top");p=v.width*1.3,g=v.height*1.3,h=Math.max(h,p,7),f=Math.max(f,g,7)}var m=h/c,y=f/d;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(m,y))),w=Im(n.model),x=n.getExtent(),S=w.lastAutoInterval,C=w.lastTickCount;return S!=null&&C!=null&&Math.abs(S-b)<=1&&Math.abs(C-a)<=1&&S>b&&w.axisExtent0===x[0]&&w.axisExtent1===x[1]?b=S:(w.lastTickCount=a,w.lastAutoInterval=b,w.axisExtent0=x[0],w.axisExtent1=x[1]),b}function Mme(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function pj(n,e,t){var r=Wp(n),o=n.scale,i=o.getExtent(),a=n.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=i[0],c=o.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var d=ij(n),h=a.get("showMinLabel")||d,f=a.get("showMaxLabel")||d;h&&u!==i[0]&&g(i[0]);for(var p=u;p<=i[1];p+=l)g(p);f&&p-l!==i[1]&&g(i[1]);function g(v){var m={value:v};s.push(t?v:{formattedLabel:r(m),rawLabel:o.getLabel(m),tickValue:v})}return s}function gj(n,e,t){var r=n.scale,o=Wp(n),i=[];return R(r.getTicks(),function(a){var s=r.getLabel(a),l=a.value;e(a.value,s)&&i.push(t?l:{formattedLabel:o(a),rawLabel:s,tickValue:l})}),i}var O4=[0,1],Lme=function(){function n(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return n.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),o=Math.max(t[0],t[1]);return e>=r&&e<=o},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return SE(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},n.prototype.dataToCoord=function(e,t){var r=this._extent,o=this.scale;return e=o.normalize(e),this.onBand&&o.type==="ordinal"&&(r=r.slice(),F4(r,o.count())),Wt(e,O4,r,t)},n.prototype.coordToData=function(e,t){var r=this._extent,o=this.scale;this.onBand&&o.type==="ordinal"&&(r=r.slice(),F4(r,o.count()));var i=Wt(e,r,O4,t);return this.scale.scale(i)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=Ame(this,t),o=r.ticks,i=fe(o,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),a=t.get("alignWithLabel");return Nme(this,i,a,e.clamp),i},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),o=fe(r,function(i){return fe(i,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this);return o},n.prototype.getViewLabels=function(){return Tme(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var o=Math.abs(e[1]-e[0]);return Math.abs(o)/r},n.prototype.calculateCategoryInterval=function(){return Pme(this)},n}();function F4(n,e){var t=n[1]-n[0],r=e,o=t/r/2;n[0]+=o,n[1]-=o}function Nme(n,e,t,r){var o=e.length;if(!n.onBand||t||!o)return;var i=n.getExtent(),a,s;if(o===1)e[0].coord=i[0],a=e[1]={coord:i[1]};else{var l=e[o-1].tickValue-e[0].tickValue,u=(e[o-1].coord-e[0].coord)/l;R(e,function(f){f.coord-=u/2});var c=n.scale.getExtent();s=1+c[1]-e[o-1].tickValue,a={coord:e[o-1].coord+u*s},e.push(a)}var d=i[0]>i[1];h(e[0].coord,i[0])&&(r?e[0].coord=i[0]:e.shift()),r&&h(i[0],e[0].coord)&&e.unshift({coord:i[0]}),h(i[1],a.coord)&&(r?a.coord=i[1]:e.pop()),r&&h(a.coord,i[1])&&e.push({coord:i[1]});function h(f,p){return f=Mn(f),p=Mn(p),d?f>p:f<p}}const da=Lme;function Ome(n){var e=Ct.extend(n);return Ct.registerClass(e),e}function Fme(n){var e=Cn.extend(n);return Cn.registerClass(e),e}function Bme(n){var e=gn.extend(n);return gn.registerClass(e),e}function zme(n){var e=on.extend(n);return on.registerClass(e),e}var Bg=Math.PI*2,Fc=Bs.CMD,Vme=["top","right","bottom","left"];function Gme(n,e,t,r,o){var i=t.width,a=t.height;switch(n){case"top":r.set(t.x+i/2,t.y-e),o.set(0,-1);break;case"bottom":r.set(t.x+i/2,t.y+a+e),o.set(0,1);break;case"left":r.set(t.x-e,t.y+a/2),o.set(-1,0);break;case"right":r.set(t.x+i+e,t.y+a/2),o.set(1,0);break}}function Wme(n,e,t,r,o,i,a,s,l){a-=n,s-=e;var u=Math.sqrt(a*a+s*s);a/=u,s/=u;var c=a*t+n,d=s*t+e;if(Math.abs(r-o)%Bg<1e-4)return l[0]=c,l[1]=d,u-t;if(i){var h=r;r=mi(o),o=mi(h)}else r=mi(r),o=mi(o);r>o&&(o+=Bg);var f=Math.atan2(s,a);if(f<0&&(f+=Bg),f>=r&&f<=o||f+Bg>=r&&f+Bg<=o)return l[0]=c,l[1]=d,u-t;var p=t*Math.cos(r)+n,g=t*Math.sin(r)+e,v=t*Math.cos(o)+n,m=t*Math.sin(o)+e,y=(p-a)*(p-a)+(g-s)*(g-s),b=(v-a)*(v-a)+(m-s)*(m-s);return y<b?(l[0]=p,l[1]=g,Math.sqrt(y)):(l[0]=v,l[1]=m,Math.sqrt(b))}function gx(n,e,t,r,o,i,a,s){var l=o-n,u=i-e,c=t-n,d=r-e,h=Math.sqrt(c*c+d*d);c/=h,d/=h;var f=l*c+u*d,p=f/h;s&&(p=Math.min(Math.max(p,0),1)),p*=h;var g=a[0]=n+p*c,v=a[1]=e+p*d;return Math.sqrt((g-o)*(g-o)+(v-i)*(v-i))}function vj(n,e,t,r,o,i,a){t<0&&(n=n+t,t=-t),r<0&&(e=e+r,r=-r);var s=n+t,l=e+r,u=a[0]=Math.min(Math.max(o,n),s),c=a[1]=Math.min(Math.max(i,e),l);return Math.sqrt((u-o)*(u-o)+(c-i)*(c-i))}var Ca=[];function Hme(n,e,t){var r=vj(e.x,e.y,e.width,e.height,n.x,n.y,Ca);return t.set(Ca[0],Ca[1]),r}function Ume(n,e,t){for(var r=0,o=0,i=0,a=0,s,l,u=1/0,c=e.data,d=n.x,h=n.y,f=0;f<c.length;){var p=c[f++];f===1&&(r=c[f],o=c[f+1],i=r,a=o);var g=u;switch(p){case Fc.M:i=c[f++],a=c[f++],r=i,o=a;break;case Fc.L:g=gx(r,o,c[f],c[f+1],d,h,Ca,!0),r=c[f++],o=c[f++];break;case Fc.C:g=BG(r,o,c[f++],c[f++],c[f++],c[f++],c[f],c[f+1],d,h,Ca),r=c[f++],o=c[f++];break;case Fc.Q:g=VG(r,o,c[f++],c[f++],c[f],c[f+1],d,h,Ca),r=c[f++],o=c[f++];break;case Fc.A:var v=c[f++],m=c[f++],y=c[f++],b=c[f++],w=c[f++],x=c[f++];f+=1;var S=!!(1-c[f++]);s=Math.cos(w)*y+v,l=Math.sin(w)*b+m,f<=1&&(i=s,a=l);var C=(d-v)*b/y+v;g=Wme(v,m,b,w,w+x,S,C,h,Ca),r=Math.cos(w+x)*y+v,o=Math.sin(w+x)*b+m;break;case Fc.R:i=r=c[f++],a=o=c[f++];var k=c[f++],_=c[f++];g=vj(i,a,k,_,d,h,Ca);break;case Fc.Z:g=gx(r,o,i,a,d,h,Ca,!0),r=i,o=a;break}g<u&&(u=g,t.set(Ca[0],Ca[1]))}return u}var Da=new at,fn=new at,Gn=new at,Ss=new at,ys=new at;function B4(n,e){if(n){var t=n.getTextGuideLine(),r=n.getTextContent();if(r&&t){var o=n.textGuideLineConfig||{},i=[[0,0],[0,0],[0,0]],a=o.candidates||Vme,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,u=o.anchor,c=n.getComputedTransform(),d=c&&ch([],c),h=e.get("length2")||0;u&&Gn.copy(u);for(var f=0;f<a.length;f++){var p=a[f];Gme(p,0,s,Da,Ss),at.scaleAndAdd(fn,Da,Ss,h),fn.transform(d);var g=n.getBoundingRect(),v=u?u.distance(fn):n instanceof vt?Ume(fn,n.path,Gn):Hme(fn,g,Gn);v<l&&(l=v,fn.transform(c),Gn.transform(c),Gn.toArray(i[0]),fn.toArray(i[1]),Da.toArray(i[2]))}mj(i,e.get("minTurnAngle")),t.setShape({points:i})}}}var vx=[],wo=new at;function mj(n,e){if(e<=180&&e>0){e=e/180*Math.PI,Da.fromArray(n[0]),fn.fromArray(n[1]),Gn.fromArray(n[2]),at.sub(Ss,Da,fn),at.sub(ys,Gn,fn);var t=Ss.len(),r=ys.len();if(!(t<.001||r<.001)){Ss.scale(1/t),ys.scale(1/r);var o=Ss.dot(ys),i=Math.cos(e);if(i<o){var a=gx(fn.x,fn.y,Gn.x,Gn.y,Da.x,Da.y,vx,!1);wo.fromArray(vx),wo.scaleAndAdd(ys,a/Math.tan(Math.PI-e));var s=Gn.x!==fn.x?(wo.x-fn.x)/(Gn.x-fn.x):(wo.y-fn.y)/(Gn.y-fn.y);if(isNaN(s))return;s<0?at.copy(wo,fn):s>1&&at.copy(wo,Gn),wo.toArray(n[1])}}}}function jme(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Da.fromArray(n[0]),fn.fromArray(n[1]),Gn.fromArray(n[2]),at.sub(Ss,fn,Da),at.sub(ys,Gn,fn);var r=Ss.len(),o=ys.len();if(!(r<.001||o<.001)){Ss.scale(1/r),ys.scale(1/o);var i=Ss.dot(e),a=Math.cos(t);if(i<a){var s=gx(fn.x,fn.y,Gn.x,Gn.y,Da.x,Da.y,vx,!1);wo.fromArray(vx);var l=Math.PI/2,u=Math.acos(ys.dot(e)),c=l+u-t;if(c>=l)at.copy(wo,Gn);else{wo.scaleAndAdd(ys,s/Math.tan(Math.PI/2-c));var d=Gn.x!==fn.x?(wo.x-fn.x)/(Gn.x-fn.x):(wo.y-fn.y)/(Gn.y-fn.y);if(isNaN(d))return;d<0?at.copy(wo,fn):d>1&&at.copy(wo,Gn)}wo.toArray(n[1])}}}}function H_(n,e,t,r){var o=t==="normal",i=o?n:n.ensureState(t);i.ignore=e;var a=r.get("smooth");a&&a===!0&&(a=.3),i.shape=i.shape||{},a>0&&(i.shape.smooth=a);var s=r.getModel("lineStyle").getLineStyle();o?n.useStyle(s):i.style=s}function Kme(n,e){var t=e.smooth,r=e.points;if(r)if(n.moveTo(r[0][0],r[0][1]),t>0&&r.length>=3){var o=cl(r[0],r[1]),i=cl(r[1],r[2]);if(!o||!i){n.lineTo(r[1][0],r[1][1]),n.lineTo(r[2][0],r[2][1]);return}var a=Math.min(o,i)*t,s=Mv([],r[1],r[0],a/o),l=Mv([],r[1],r[2],a/i),u=Mv([],s,l,.5);n.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)n.lineTo(r[c][0],r[c][1])}function A$(n,e,t){var r=n.getTextGuideLine(),o=n.getTextContent();if(!o){r&&n.removeTextGuideLine();return}for(var i=e.normal,a=i.get("show"),s=o.ignore,l=0;l<mm.length;l++){var u=mm[l],c=e[u],d=u==="normal";if(c){var h=c.get("show"),f=d?s:et(o.states[u]&&o.states[u].ignore,s);if(f||!et(h,a)){var p=d?r:r&&r.states[u];p&&(p.ignore=!0),r&&H_(r,!0,u,c);continue}r||(r=new No,n.setTextGuideLine(r),!d&&(s||!a)&&H_(r,!0,"normal",e.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),H_(r,!1,u,c)}}if(r){Ve(r.style,t),r.style.fill=null;var g=i.get("showAbove"),v=n.textGuideLineConfig=n.textGuideLineConfig||{};v.showAbove=g||!1,r.buildPath=Kme}}function D$(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},r=0;r<Eo.length;r++){var o=Eo[r];t[o]=n.getModel([o,e])}return t}function yj(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];if(!r.defaultAttr.ignore){var o=r.label,i=o.getComputedTransform(),a=o.getBoundingRect(),s=!i||i[1]<1e-5&&i[2]<1e-5,l=o.style.margin||0,u=a.clone();u.applyTransform(i),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new Jw(a,i):null;e.push({label:o,labelLine:r.labelLine,rect:u,localRect:a,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:i})}}return e}function bj(n,e,t,r,o,i){var a=n.length;if(a<2)return;n.sort(function(k,_){return k.rect[e]-_.rect[e]});for(var s=0,l,u=!1,c=0,d=0;d<a;d++){var h=n[d],f=h.rect;l=f[e]-s,l<0&&(f[e]-=l,h.label[e]-=l,u=!0);var p=Math.max(-l,0);c+=p,s=f[e]+f[t]}c>0&&i&&x(-c/a,0,a);var g=n[0],v=n[a-1],m,y;b(),m<0&&S(-m,.8),y<0&&S(y,.8),b(),w(m,y,1),w(y,m,-1),b(),m<0&&C(-m),y<0&&C(y);function b(){m=g.rect[e]-r,y=o-v.rect[e]-v.rect[t]}function w(k,_,I){if(k<0){var T=Math.min(_,-k);if(T>0){x(T*I,0,a);var A=T+k;A<0&&S(-A*I,1)}else S(-k*I,1)}}function x(k,_,I){k!==0&&(u=!0);for(var T=_;T<I;T++){var A=n[T],D=A.rect;D[e]+=k,A.label[e]+=k}}function S(k,_){for(var I=[],T=0,A=1;A<a;A++){var D=n[A-1].rect,E=Math.max(n[A].rect[e]-D[e]-D[t],0);I.push(E),T+=E}if(T){var $=Math.min(Math.abs(k)/T,_);if(k>0)for(var A=0;A<a-1;A++){var P=I[A]*$;x(P,0,A+1)}else for(var A=a-1;A>0;A--){var P=I[A-1]*$;x(-P,A,a)}}}function C(k){var _=k<0?-1:1;k=Math.abs(k);for(var I=Math.ceil(k/(a-1)),T=0;T<a-1;T++)if(_>0?x(I,0,T+1):x(-I,a-T-1,a),k-=I,k<=0)return}return u}function Xme(n,e,t,r){return bj(n,"x","width",e,t,r)}function wj(n,e,t,r){return bj(n,"y","height",e,t,r)}function xj(n){var e=[];n.sort(function(g,v){return v.priority-g.priority});var t=new lt(0,0,0,0);function r(g){if(!g.ignore){var v=g.ensureState("emphasis");v.ignore==null&&(v.ignore=!1)}g.ignore=!0}for(var o=0;o<n.length;o++){var i=n[o],a=i.axisAligned,s=i.localRect,l=i.transform,u=i.label,c=i.labelLine;t.copy(i.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var d=i.obb,h=!1,f=0;f<e.length;f++){var p=e[f];if(t.intersect(p.rect)){if(a&&p.axisAligned){h=!0;break}if(p.obb||(p.obb=new Jw(p.localRect,p.transform)),d||(d=new Jw(s,l)),d.intersect(p.obb)){h=!0;break}}}h?(r(u),c&&r(c)):(u.attr("ignore",i.defaultAttr.ignore),c&&c.attr("ignore",i.defaultAttr.labelGuideIgnore),e.push(i))}}function qme(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function Yme(n,e){var t=n.label,r=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:qme(r&&r.shape.points)}}var z4=["align","verticalAlign","width","height","fontSize"],go=new fl,U_=Tt(),Zme=Tt();function u1(n,e,t){for(var r=0;r<t.length;r++){var o=t[r];e[o]!=null&&(n[o]=e[o])}}var c1=["x","y","rotation"],Jme=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,r,o,i){var a=o.style,s=o.__hostTarget,l=s.textConfig||{},u=o.getComputedTransform(),c=o.getBoundingRect().plain();lt.applyTransform(c,c,u),u?go.setLocalTransform(u):(go.x=go.y=go.rotation=go.originX=go.originY=0,go.scaleX=go.scaleY=1),go.rotation=mi(go.rotation);var d=o.__hostTarget,h;if(d){h=d.getBoundingRect().plain();var f=d.getComputedTransform();lt.applyTransform(h,h,f)}var p=h&&d.getTextGuideLine();this._labelList.push({label:o,labelLine:p,seriesModel:r,dataIndex:e,dataType:t,layoutOption:i,computedLayoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:o.ignore,labelGuideIgnore:p&&p.ignore,x:go.x,y:go.y,scaleX:go.scaleX,scaleY:go.scaleY,rotation:go.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:o.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var r=e.__model,o=r.get("labelLayout");(ze(o)||yt(o).length)&&e.group.traverse(function(i){if(i.ignore)return!0;var a=i.getTextContent(),s=Ye(i);a&&!a.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,r,a,o)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),r=e.getHeight();function o(b,w){return function(){B4(b,w)}}for(var i=0;i<this._labelList.length;i++){var a=this._labelList[i],s=a.label,l=s.__hostTarget,u=a.defaultAttr,c=void 0;ze(a.layoutOption)?c=a.layoutOption(Yme(a,l)):c=a.layoutOption,c=c||{},a.computedLayoutOption=c;var d=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*d:u.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(c.x!=null?(s.x=_e(c.x,t),s.setStyle("x",0),h=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=_e(c.y,r),s.setStyle("y",0),h=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var f=l.getTextGuideLine();f&&(f.setShape({points:c.labelLinePoints}),h=!1)}var p=U_(s);p.needsUpdateLabelLine=h,s.rotation=c.rotate!=null?c.rotate*d:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var g=0;g<z4.length;g++){var v=z4[g];s.setStyle(v,c[v]!=null?c[v]:u.style[v])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var m=a.seriesModel;if(a.dataIndex!=null){var y=a.seriesModel.getData(a.dataType);m=y.getItemModel(a.dataIndex)}s.on("drag",o(l,m.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},n.prototype.layout=function(e){var t=e.getWidth(),r=e.getHeight(),o=yj(this._labelList),i=Ht(o,function(l){return l.layoutOption.moveOverlap==="shiftX"}),a=Ht(o,function(l){return l.layoutOption.moveOverlap==="shiftY"});Xme(i,0,t),wj(a,0,r);var s=Ht(o,function(l){return l.layoutOption.hideOverlap});xj(s)},n.prototype.processLabelsOverall=function(){var e=this;R(this._chartViewList,function(t){var r=t.__model,o=t.ignoreLabelLineUpdate,i=r.isAnimationEnabled();t.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var s=!o,l=a.getTextContent();!s&&l&&(s=U_(l).needsUpdateLabelLine),s&&e._updateLabelLine(a,r),i&&e._animateLabels(a,r)})})},n.prototype._updateLabelLine=function(e,t){var r=e.getTextContent(),o=Ye(e),i=o.dataIndex;if(r&&i!=null){var a=t.getData(o.dataType),s=a.getItemModel(i),l={},u=a.getItemVisual(i,"style");if(u){var c=a.getVisual("drawType");l.stroke=u[c]}var d=s.getModel("labelLine");A$(e,D$(s),l),B4(e,d)}},n.prototype._animateLabels=function(e,t){var r=e.getTextContent(),o=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!Ff(e))){var i=U_(r),a=i.oldLayout,s=Ye(e),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},c=t.getData(s.dataType);if(a){r.attr(a);var h=e.prevStates;h&&(ct(h,"select")>=0&&r.attr(i.oldLayoutSelect),ct(h,"emphasis")>=0&&r.attr(i.oldLayoutEmphasis)),Pt(r,u,t,l)}else if(r.attr(u),!Pp(r).valueAnimation){var d=et(r.style.opacity,1);r.style.opacity=0,bn(r,{style:{opacity:d}},t,l)}if(i.oldLayout=u,r.states.select){var f=i.oldLayoutSelect={};u1(f,u,c1),u1(f,r.states.select,c1)}if(r.states.emphasis){var p=i.oldLayoutEmphasis={};u1(p,u,c1),u1(p,r.states.emphasis,c1)}fH(r,l,c,t,t)}if(o&&!o.ignore&&!o.invisible){var i=Zme(o),a=i.oldLayout,g={points:o.shape.points};a?(o.attr({shape:a}),Pt(o,{shape:g},t)):(o.setShape(g),o.style.strokePercent=0,bn(o,{style:{strokePercent:1}},t)),i.oldLayout=g}},n}(),j_=Tt();function Qme(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){var o=j_(t).labelManager;o||(o=j_(t).labelManager=new Jme),o.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,r){var o=j_(t).labelManager;r.updatedSeries.forEach(function(i){o.addLabelsOfSeries(t.getViewOfSeriesModel(i))}),o.updateLayoutConfig(t),o.layout(t),o.processLabelsOverall()})}var K_=Math.sin,X_=Math.cos,Sj=Math.PI,Bc=Math.PI*2,eye=180/Sj,Cj=function(){function n(){}return n.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,r,o,i,a){this._add("C",e,t,r,o,i,a)},n.prototype.quadraticCurveTo=function(e,t,r,o){this._add("Q",e,t,r,o)},n.prototype.arc=function(e,t,r,o,i,a){this.ellipse(e,t,r,r,0,o,i,a)},n.prototype.ellipse=function(e,t,r,o,i,a,s,l){var u=s-a,c=!l,d=Math.abs(u),h=pu(d-Bc)||(c?u>=Bc:-u>=Bc),f=u>0?u%Bc:u%Bc+Bc,p=!1;h?p=!0:pu(d)?p=!1:p=f>=Sj==!!c;var g=e+r*X_(a),v=t+o*K_(a);this._start&&this._add("M",g,v);var m=Math.round(i*eye);if(h){var y=1/this._p,b=(c?1:-1)*(Bc-y);this._add("A",r,o,m,1,+c,e+r*X_(a+b),t+o*K_(a+b)),y>.01&&this._add("A",r,o,m,0,+c,g,v)}else{var w=e+r*X_(s),x=t+o*K_(s);this._add("A",r,o,m,+p,+c,w,x)}},n.prototype.rect=function(e,t,r,o){this._add("M",e,t),this._add("l",r,0),this._add("l",0,o),this._add("l",-r,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,r,o,i,a,s,l,u){for(var c=[],d=this._p,h=1;h<arguments.length;h++){var f=arguments[h];if(isNaN(f)){this._invalid=!0;return}c.push(Math.round(f*d)/d)}this._d.push(e+c.join(" ")),this._start=e==="Z"},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),R$="none",tye=Math.round;function nye(n){var e=n.fill;return e!=null&&e!==R$}function rye(n){var e=n.stroke;return e!=null&&e!==R$}var HA=["lineCap","miterLimit","lineJoin"],oye=fe(HA,function(n){return"stroke-"+n.toLowerCase()});function iye(n,e,t,r){var o=e.opacity==null?1:e.opacity;if(t instanceof Lr){n("opacity",o);return}if(nye(e)){var i=gm(e.fill);n("fill",i.color);var a=e.fillOpacity!=null?e.fillOpacity*i.opacity*o:i.opacity*o;a<1&&n("fill-opacity",a)}else n("fill",R$);if(rye(e)){var s=gm(e.stroke);n("stroke",s.color);var l=e.strokeNoScale?t.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=e.strokeOpacity!=null?e.strokeOpacity*s.opacity*o:s.opacity*o,d=e.strokeFirst;if(u!==1&&n("stroke-width",u),d&&n("paint-order",d?"stroke":"fill"),c<1&&n("stroke-opacity",c),e.lineDash){var h=c$(t),f=h[0],p=h[1];f&&(p=tye(p||0),n("stroke-dasharray",f.join(",")),(p||r)&&n("stroke-dashoffset",p))}for(var g=0;g<HA.length;g++){var v=HA[g];if(e[v]!==Yw[v]){var m=e[v]||Yw[v];m&&n(oye[g],m)}}}}var kj="http://www.w3.org/2000/svg",_j="http://www.w3.org/1999/xlink",aye="http://www.w3.org/2000/xmlns/",sye="http://www.w3.org/XML/1998/namespace",V4="ecmeta_";function Ij(n){return document.createElementNS(kj,n)}function br(n,e,t,r,o){return{tag:n,attrs:t||{},children:r,text:o,key:e}}function lye(n,e){var t=[];if(e)for(var r in e){var o=e[r],i=r;o!==!1&&(o!==!0&&o!=null&&(i+='="'+o+'"'),t.push(i))}return"<"+n+" "+t.join(" ")+">"}function uye(n){return"</"+n+">"}function E$(n,e){e=e||{};var t=e.newline?`
`:"";function r(o){var i=o.children,a=o.tag,s=o.attrs,l=o.text;return lye(a,s)+(a!=="style"?Co(l):l||"")+(i?""+t+fe(i,function(u){return r(u)}).join(t)+t:"")+uye(a)}return r(n)}function cye(n,e,t){t=t||{};var r=t.newline?`
`:"",o=" {"+r,i=r+"}",a=fe(yt(n),function(l){return l+o+fe(yt(n[l]),function(u){return u+":"+n[l][u]+";"}).join(r)+i}).join(r),s=fe(yt(e),function(l){return"@keyframes "+l+o+fe(yt(e[l]),function(u){return u+o+fe(yt(e[l][u]),function(c){var d=e[l][u][c];return c==="d"&&(d='path("'+d+'")'),c+":"+d+";"}).join(r)+i}).join(r)+i}).join(r);return!a&&!s?"":["<![CDATA[",a,s,"]]>"].join(r)}function UA(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function G4(n,e,t,r){return br("svg","root",{width:n,height:e,xmlns:kj,"xmlns:xlink":_j,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+n+" "+e:!1},t)}var dye=0;function Tj(){return dye++}var W4={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},qc="transform-origin";function hye(n,e,t){var r=oe({},n.shape);oe(r,e),n.buildPath(t,r);var o=new Cj;return o.reset(XG(n)),t.rebuildPath(o,1),o.generateStr(),o.getStr()}function fye(n,e){var t=e.originX,r=e.originY;(t||r)&&(n[qc]=t+"px "+r+"px")}var pye={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Aj(n,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=n,t}function gye(n,e,t){var r=n.shape.paths,o={},i,a;if(R(r,function(l){var u=UA(t.zrId);u.animation=!0,IC(l,{},u,!0);var c=u.cssAnims,d=u.cssNodes,h=yt(c),f=h.length;if(f){a=h[f-1];var p=c[a];for(var g in p){var v=p[g];o[g]=o[g]||{d:""},o[g].d+=v.d||""}for(var m in d){var y=d[m].animation;y.indexOf(a)>=0&&(i=y)}}}),!!i){e.d=!1;var s=Aj(o,t);return i.replace(a,s)}}function H4(n){return De(n)?W4[n]?"cubic-bezier("+W4[n]+")":yE(n)?n:"":""}function IC(n,e,t,r){var o=n.animators,i=o.length,a=[];if(n instanceof aC){var s=gye(n,e,t);if(s)a.push(s);else if(!i)return}else if(!i)return;for(var l={},u=0;u<i;u++){var c=o[u],d=[c.getMaxTime()/1e3+"s"],h=H4(c.getClip().easing),f=c.getDelay();h?d.push(h):d.push("linear"),f&&d.push(f/1e3+"s"),c.getLoop()&&d.push("infinite");var p=d.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(c)}function g(y){var b=y[1],w=b.length,x={},S={},C={},k="animation-timing-function";function _(ve,de,Se){for(var me=ve.getTracks(),Ee=ve.getMaxTime(),F=0;F<me.length;F++){var z=me[F];if(z.needsAnimate()){var J=z.keyframes,ie=z.propName;if(Se&&(ie=Se(ie)),ie)for(var ae=0;ae<J.length;ae++){var pe=J[ae],Ie=Math.round(pe.time/Ee*100)+"%",Ce=H4(pe.easing),Te=pe.rawValue;(De(Te)||Rt(Te))&&(de[Ie]=de[Ie]||{},de[Ie][ie]=pe.rawValue,Ce&&(de[Ie][k]=Ce))}}}}for(var I=0;I<w;I++){var T=b[I],A=T.targetName;A?A==="shape"&&_(T,S):!r&&_(T,x)}for(var D in x){var E={};QG(E,n),oe(E,x[D]);var $=qG(E),P=x[D][k];C[D]=$?{transform:$}:{},fye(C[D],E),P&&(C[D][k]=P)}var N,M=!0;for(var D in S){C[D]=C[D]||{};var L=!N,P=S[D][k];L&&(N=new Bs);var V=N.len();N.reset(),C[D].d=hye(n,S[D],N);var W=N.len();if(!L&&V!==W){M=!1;break}P&&(C[D][k]=P)}if(!M)for(var D in C)delete C[D].d;if(!r)for(var I=0;I<w;I++){var T=b[I],A=T.targetName;A==="style"&&_(T,C,function(me){return pye[me]})}for(var j=yt(C),Q=!0,te,I=1;I<j.length;I++){var se=j[I-1],ge=j[I];if(C[se][qc]!==C[ge][qc]){Q=!1;break}te=C[se][qc]}if(Q&&te){for(var D in C)C[D][qc]&&delete C[D][qc];e[qc]=te}if(Ht(j,function(ve){return yt(C[ve]).length>0}).length){var ye=Aj(C,t);return ye+" "+y[0]+" both"}}for(var v in l){var s=g(l[v]);s&&a.push(s)}if(a.length){var m=t.zrId+"-cls-"+Tj();t.cssNodes["."+m]={animation:a.join(",")},e.class=m}}function vye(n,e,t){if(!n.ignore)if(n.isSilent()){var r={"pointer-events":"none"};U4(r,e,t)}else{var o=n.states.emphasis&&n.states.emphasis.style?n.states.emphasis.style:{},i=o.fill;if(!i){var a=n.style&&n.style.fill,s=n.states.select&&n.states.select.style&&n.states.select.style.fill,l=n.currentStates.indexOf("select")>=0&&s||a;l&&(i=jw(l))}var u=o.lineWidth;if(u){var c=!o.strokeNoScale&&n.transform?n.transform[0]:1;u=u/c}var r={cursor:"pointer"};i&&(r.fill=i),o.stroke&&(r.stroke=o.stroke),u&&(r["stroke-width"]=u),U4(r,e,t)}}function U4(n,e,t,r){var o=JSON.stringify(n),i=t.cssStyleCache[o];i||(i=t.zrId+"-cls-"+Tj(),t.cssStyleCache[o]=i,t.cssNodes["."+i+":hover"]=n),e.class=e.class?e.class+" "+i:i}var Tm=Math.round;function Dj(n){return n&&De(n.src)}function Rj(n){return n&&ze(n.toDataURL)}function $$(n,e,t,r){iye(function(o,i){var a=o==="fill"||o==="stroke";a&&KG(i)?$j(e,n,o,r):a&&wE(i)?Pj(t,n,o,r):a&&i==="none"?n[o]="transparent":n[o]=i},e,t,!1),Cye(t,n,r)}function P$(n,e){var t=rW(e);t&&(t.each(function(r,o){r!=null&&(n[(V4+o).toLowerCase()]=r+"")}),e.isSilent()&&(n[V4+"silent"]="true"))}function j4(n){return pu(n[0]-1)&&pu(n[1])&&pu(n[2])&&pu(n[3]-1)}function mye(n){return pu(n[4])&&pu(n[5])}function M$(n,e,t){if(e&&!(mye(e)&&j4(e))){var r=1e4;n.transform=j4(e)?"translate("+Tm(e[4]*r)/r+" "+Tm(e[5]*r)/r+")":gce(e)}}function K4(n,e,t){for(var r=n.points,o=[],i=0;i<r.length;i++)o.push(Tm(r[i][0]*t)/t),o.push(Tm(r[i][1]*t)/t);e.points=o.join(" ")}function X4(n){return!n.smooth}function yye(n){var e=fe(n,function(t){return typeof t=="string"?[t,t]:t});return function(t,r,o){for(var i=0;i<e.length;i++){var a=e[i],s=t[a[0]];s!=null&&(r[a[1]]=Tm(s*o)/o)}}}var bye={circle:[yye(["cx","cy","r"])],polyline:[K4,X4],polygon:[K4,X4]};function wye(n){for(var e=n.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function Ej(n,e){var t=n.style,r=n.shape,o=bye[n.type],i={},a=e.animation,s="path",l=n.style.strokePercent,u=e.compress&&XG(n)||4;if(o&&!e.willUpdate&&!(o[1]&&!o[1](r))&&!(a&&wye(n))&&!(l<1)){s=n.type;var c=Math.pow(10,u);o[0](r,i,c)}else{var d=!n.path||n.shapeChanged();n.path||n.createPathProxy();var h=n.path;d&&(h.beginPath(),n.buildPath(h,n.shape),n.pathUpdated());var f=h.getVersion(),p=n,g=p.__svgPathBuilder;(p.__svgPathVersion!==f||!g||l!==p.__svgPathStrokePercent)&&(g||(g=p.__svgPathBuilder=new Cj),g.reset(u),h.rebuildPath(g,l),g.generateStr(),p.__svgPathVersion=f,p.__svgPathStrokePercent=l),i.d=g.getStr()}return M$(i,n.transform),$$(i,t,n,e),P$(i,n),e.animation&&IC(n,i,e),e.emphasis&&vye(n,i,e),br(s,n.id+"",i)}function xye(n,e){var t=n.style,r=t.image;if(r&&!De(r)&&(Dj(r)?r=r.src:Rj(r)&&(r=r.toDataURL())),!!r){var o=t.x||0,i=t.y||0,a=t.width,s=t.height,l={href:r,width:a,height:s};return o&&(l.x=o),i&&(l.y=i),M$(l,n.transform),$$(l,t,n,e),P$(l,n),e.animation&&IC(n,l,e),br("image",n.id+"",l)}}function Sye(n,e){var t=n.style,r=t.text;if(r!=null&&(r+=""),!(!r||isNaN(t.x)||isNaN(t.y))){var o=t.font||Nu,i=t.x||0,a=mce(t.y||0,qS(o),t.textBaseline),s=vce[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(EW(t)){var u="",c=t.fontStyle,d=RW(t.fontSize);if(!parseFloat(d))return;var h=t.fontFamily||yG,f=t.fontWeight;u+="font-size:"+d+";font-family:"+h+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),f&&f!=="normal"&&(u+="font-weight:"+f+";"),l.style=u}else l.style="font: "+o;return r.match(/\s/)&&(l["xml:space"]="preserve"),i&&(l.x=i),a&&(l.y=a),M$(l,n.transform),$$(l,t,n,e),P$(l,n),e.animation&&IC(n,l,e),br("text",n.id+"",l,void 0,r)}}function q4(n,e){if(n instanceof vt)return Ej(n,e);if(n instanceof Lr)return xye(n,e);if(n instanceof ep)return Sye(n,e)}function Cye(n,e,t){var r=n.style;if(yce(r)){var o=bce(n),i=t.shadowCache,a=i[o];if(!a){var s=n.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=r.shadowOffsetX||0,d=r.shadowOffsetY||0,h=r.shadowBlur,f=gm(r.shadowColor),p=f.opacity,g=f.color,v=h/2/l,m=h/2/u,y=v+" "+m;a=t.zrId+"-s"+t.shadowIdx++,t.defs[a]=br("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[br("feDropShadow","",{dx:c/l,dy:d/u,stdDeviation:y,"flood-color":g,"flood-opacity":p})]),i[o]=a}e.filter=XS(a)}}function $j(n,e,t,r){var o=n[t],i,a={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(UG(o))i="linearGradient",a.x1=o.x,a.y1=o.y,a.x2=o.x2,a.y2=o.y2;else if(jG(o))i="radialGradient",a.cx=et(o.x,.5),a.cy=et(o.y,.5),a.r=et(o.r,.5);else return;for(var s=o.colorStops,l=[],u=0,c=s.length;u<c;++u){var d=eA(s[u].offset)*100+"%",h=s[u].color,f=gm(h),p=f.color,g=f.opacity,v={offset:d};v["stop-color"]=p,g<1&&(v["stop-opacity"]=g),l.push(br("stop",u+"",v))}var m=br(i,"",a,l),y=E$(m),b=r.gradientCache,w=b[y];w||(w=r.zrId+"-g"+r.gradientIdx++,b[y]=w,a.id=w,r.defs[w]=br(i,w,a,l)),e[t]=XS(w)}function Pj(n,e,t,r){var o=n.style[t],i=n.getBoundingRect(),a={},s=o.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",d;if(HG(o)){var h=o.imageWidth,f=o.imageHeight,p=void 0,g=o.image;if(De(g)?p=g:Dj(g)?p=g.src:Rj(g)&&(p=g.toDataURL()),typeof Image>"u"){var v="Image width/height must been given explictly in svg-ssr renderer.";uo(h,v),uo(f,v)}else if(h==null||f==null){var m=function(I,T){if(I){var A=I.elm,D=h||T.width,E=f||T.height;I.tag==="pattern"&&(u?(E=1,D/=i.width):c&&(D=1,E/=i.height)),I.attrs.width=D,I.attrs.height=E,A&&(A.setAttribute("width",D),A.setAttribute("height",E))}},y=DE(p,null,n,function(I){l||m(S,I),m(d,I)});y&&y.width&&y.height&&(h=h||y.width,f=f||y.height)}d=br("image","img",{href:p,width:h,height:f}),a.width=h,a.height=f}else o.svgElement&&(d=We(o.svgElement),a.width=o.svgWidth,a.height=o.svgHeight);if(d){var b,w;l?b=w=1:u?(w=1,b=a.width/i.width):c?(b=1,w=a.height/i.height):a.patternUnits="userSpaceOnUse",b!=null&&!isNaN(b)&&(a.width=b),w!=null&&!isNaN(w)&&(a.height=w);var x=qG(o);x&&(a.patternTransform=x);var S=br("pattern","",a,[d]),C=E$(S),k=r.patternCache,_=k[C];_||(_=r.zrId+"-p"+r.patternIdx++,k[C]=_,a.id=_,S=r.defs[_]=br("pattern",_,a,[d])),e[t]=XS(_)}}function kye(n,e,t){var r=t.clipPathCache,o=t.defs,i=r[n.id];if(!i){i=t.zrId+"-c"+t.clipPathIdx++;var a={id:i};r[n.id]=i,o[i]=br("clipPath",i,a,[Ej(n,t)])}e["clip-path"]=XS(i)}function Y4(n){return document.createTextNode(n)}function sd(n,e,t){n.insertBefore(e,t)}function Z4(n,e){n.removeChild(e)}function J4(n,e){n.appendChild(e)}function Mj(n){return n.parentNode}function Lj(n){return n.nextSibling}function q_(n,e){n.textContent=e}var Q4=58,_ye=120,Iye=br("","");function jA(n){return n===void 0}function cs(n){return n!==void 0}function Tye(n,e,t){for(var r={},o=e;o<=t;++o){var i=n[o].key;i!==void 0&&(r[i]=o)}return r}function fv(n,e){var t=n.key===e.key,r=n.tag===e.tag;return r&&t}function Am(n){var e,t=n.children,r=n.tag;if(cs(r)){var o=n.elm=Ij(r);if(L$(Iye,n),ce(t))for(e=0;e<t.length;++e){var i=t[e];i!=null&&J4(o,Am(i))}else cs(n.text)&&!Ge(n.text)&&J4(o,Y4(n.text))}else n.elm=Y4(n.text);return n.elm}function Nj(n,e,t,r,o){for(;r<=o;++r){var i=t[r];i!=null&&sd(n,Am(i),e)}}function mx(n,e,t,r){for(;t<=r;++t){var o=e[t];if(o!=null)if(cs(o.tag)){var i=Mj(o.elm);Z4(i,o.elm)}else Z4(n,o.elm)}}function L$(n,e){var t,r=e.elm,o=n&&n.attrs||{},i=e.attrs||{};if(o!==i){for(t in i){var a=i[t],s=o[t];s!==a&&(a===!0?r.setAttribute(t,""):a===!1?r.removeAttribute(t):t==="style"?r.style.cssText=a:t.charCodeAt(0)!==_ye?r.setAttribute(t,a):t==="xmlns:xlink"||t==="xmlns"?r.setAttributeNS(aye,t,a):t.charCodeAt(3)===Q4?r.setAttributeNS(sye,t,a):t.charCodeAt(5)===Q4?r.setAttributeNS(_j,t,a):r.setAttribute(t,a))}for(t in o)t in i||r.removeAttribute(t)}}function Aye(n,e,t){for(var r=0,o=0,i=e.length-1,a=e[0],s=e[i],l=t.length-1,u=t[0],c=t[l],d,h,f,p;r<=i&&o<=l;)a==null?a=e[++r]:s==null?s=e[--i]:u==null?u=t[++o]:c==null?c=t[--l]:fv(a,u)?(gf(a,u),a=e[++r],u=t[++o]):fv(s,c)?(gf(s,c),s=e[--i],c=t[--l]):fv(a,c)?(gf(a,c),sd(n,a.elm,Lj(s.elm)),a=e[++r],c=t[--l]):fv(s,u)?(gf(s,u),sd(n,s.elm,a.elm),s=e[--i],u=t[++o]):(jA(d)&&(d=Tye(e,r,i)),h=d[u.key],jA(h)?sd(n,Am(u),a.elm):(f=e[h],f.tag!==u.tag?sd(n,Am(u),a.elm):(gf(f,u),e[h]=void 0,sd(n,f.elm,a.elm))),u=t[++o]);(r<=i||o<=l)&&(r>i?(p=t[l+1]==null?null:t[l+1].elm,Nj(n,p,t,o,l)):mx(n,e,r,i))}function gf(n,e){var t=e.elm=n.elm,r=n.children,o=e.children;n!==e&&(L$(n,e),jA(e.text)?cs(r)&&cs(o)?r!==o&&Aye(t,r,o):cs(o)?(cs(n.text)&&q_(t,""),Nj(t,null,o,0,o.length-1)):cs(r)?mx(t,r,0,r.length-1):cs(n.text)&&q_(t,""):n.text!==e.text&&(cs(r)&&mx(t,r,0,r.length-1),q_(t,e.text)))}function Dye(n,e){if(fv(n,e))gf(n,e);else{var t=n.elm,r=Mj(t);Am(e),r!==null&&(sd(r,e.elm,Lj(t)),mx(r,[n],0,0))}return e}var Rye=0,Eye=function(){function n(e,t,r){if(this.type="svg",this.refreshHover=eF(),this.configLayer=eF(),this.storage=t,this._opts=r=oe({},r),this.root=e,this._id="zr"+Rye++,this._oldVNode=G4(r.width,r.height),e&&!r.ssr){var o=this._viewport=document.createElement("div");o.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=Ij("svg");L$(null,this._oldVNode),o.appendChild(i),e.appendChild(o)}this.resize(r.width,r.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",Dye(this._oldVNode,e),this._oldVNode=e}},n.prototype.renderOneToVNode=function(e){return q4(e,UA(this._id))},n.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),r=this._width,o=this._height,i=UA(this._id);i.animation=e.animation,i.willUpdate=e.willUpdate,i.compress=e.compress,i.emphasis=e.emphasis;var a=[],s=this._bgVNode=$ye(r,o,this._backgroundColor,i);s&&a.push(s);var l=e.compress?null:this._mainVNode=br("g","main",{},[]);this._paintList(t,i,l?l.children:a),l&&a.push(l);var u=fe(yt(i.defs),function(h){return i.defs[h]});if(u.length&&a.push(br("defs","defs",{},u)),e.animation){var c=cye(i.cssNodes,i.cssAnims,{newline:!0});if(c){var d=br("style","stl",{},[],c);a.push(d)}}return G4(r,o,a,e.useViewBox)},n.prototype.renderToString=function(e){return e=e||{},E$(this.renderToVNode({animation:et(e.cssAnimation,!0),emphasis:et(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:et(e.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(e,t,r){for(var o=e.length,i=[],a=0,s,l,u=0,c=0;c<o;c++){var d=e[c];if(!d.invisible){var h=d.__clipPaths,f=h&&h.length||0,p=l&&l.length||0,g=void 0;for(g=Math.max(f-1,p-1);g>=0&&!(h&&l&&h[g]===l[g]);g--);for(var v=p-1;v>g;v--)a--,s=i[a-1];for(var m=g+1;m<f;m++){var y={};kye(h[m],y,t);var b=br("g","clip-g-"+u++,y,[]);(s?s.children:r).push(b),i[a++]=b,s=b}l=h;var w=q4(d,t);w&&(s?s.children:r).push(w)}}},n.prototype.resize=function(e,t){var r=this._opts,o=this.root,i=this._viewport;if(e!=null&&(r.width=e),t!=null&&(r.height=t),o&&i&&(i.style.display="none",e=_f(o,0,r),t=_f(o,1,r),i.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,i){var a=i.style;a.width=e+"px",a.height=t+"px"}if(wE(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(e){var t=this.renderToString(),r="data:image/svg+xml;";return e?(t=xce(t),t&&r+"base64,"+t):r+"charset=UTF-8,"+encodeURIComponent(t)},n}();function eF(n){return function(){}}function $ye(n,e,t,r){var o;if(t&&t!=="none")if(o=br("rect","bg",{width:n,height:e,x:"0",y:"0"}),KG(t))$j({fill:t},o.attrs,"fill",r);else if(wE(t))Pj({style:{fill:t},dirty:zn,getBoundingRect:function(){return{width:n,height:e}}},o.attrs,"fill",r);else{var i=gm(t),a=i.color,s=i.opacity;o.attrs.fill=a,s<1&&(o.attrs["fill-opacity"]=s)}return o}function Pye(n){n.registerPainter("svg",Eye)}function tF(n,e,t){var r=za.createCanvas(),o=e.getWidth(),i=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=o+"px",a.height=i+"px",r.setAttribute("data-zr-dom-id",n)),r.width=o*t,r.height=i*t,r}var Y_=function(n){K(e,n);function e(t,r,o){var i=n.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null;var a;o=o||Xw,typeof t=="string"?a=tF(t,r,o):Ge(t)&&(a=t,t=a.id),i.id=t,i.dom=a;var s=a.style;return s&&(gE(a),a.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),i.painter=r,i.dpr=o,i}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=tF("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,o,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a=[],s=this.maxRepaintRectCount,l=!1,u=new lt(0,0,0,0);function c(y){if(!(!y.isFinite()||y.isZero()))if(a.length===0){var b=new lt(0,0,0,0);b.copy(y),a.push(b)}else{for(var w=!1,x=1/0,S=0,C=0;C<a.length;++C){var k=a[C];if(k.intersect(y)){var _=new lt(0,0,0,0);_.copy(k),_.union(y),a[C]=_,w=!0;break}else if(l){u.copy(y),u.union(k);var I=y.width*y.height,T=k.width*k.height,A=u.width*u.height,D=A-I-T;D<x&&(x=D,S=C)}}if(l&&(a[S].union(y),w=!0),!w){var b=new lt(0,0,0,0);b.copy(y),a.push(b)}l||(l=a.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var h=t[d];if(h){var f=h.shouldBePainted(o,i,!0,!0),p=h.__isRendered&&(h.__dirty&hi||!f)?h.getPrevPaintRect():null;p&&c(p);var g=f&&(h.__dirty&hi||!h.__isRendered)?h.getPaintRect():null;g&&c(g)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var h=r[d],f=h&&h.shouldBePainted(o,i,!0,!0);if(h&&(!f||!h.__zr)&&h.__isRendered){var p=h.getPrevPaintRect();p&&c(p)}}var v;do{v=!1;for(var d=0;d<a.length;){if(a[d].isZero()){a.splice(d,1);continue}for(var m=d+1;m<a.length;)a[d].intersect(a[m])?(v=!0,a[d].union(a[m]),a.splice(m,1)):m++;d++}}while(v);return this._paintRects=a,a},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var o=this.dpr,i=this.dom,a=i.style,s=this.domBack;a&&(a.width=t+"px",a.height=r+"px"),i.width=t*o,i.height=r*o,s&&(s.width=t*o,s.height=r*o,o!==1&&this.ctxBack.scale(o,o))},e.prototype.clear=function(t,r,o){var i=this.dom,a=this.ctx,s=i.width,l=i.height;r=r||this.clearColor;var u=this.motionBlur&&!t,c=this.lastFrameAlpha,d=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,s/d,l/d));var f=this.domBack;function p(g,v,m,y){if(a.clearRect(g,v,m,y),r&&r!=="transparent"){var b=void 0;if(ky(r)){var w=r.global||r.__width===m&&r.__height===y;b=w&&r.__canvasGradient||LA(a,r,{x:0,y:0,width:m,height:y}),r.__canvasGradient=b,r.__width=m,r.__height=y}else CG(r)&&(r.scaleX=r.scaleX||d,r.scaleY=r.scaleY||d,b=NA(a,r,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));a.save(),a.fillStyle=b||r,a.fillRect(g,v,m,y),a.restore()}u&&(a.save(),a.globalAlpha=c,a.drawImage(f,g,v,m,y),a.restore())}!o||u?p(0,0,s,l):o.length&&R(o,function(g){p(g.x*d,g.y*d,g.width*d,g.height*d)})},e}(sa),nF=1e5,zc=314159,d1=.01,Mye=.001;function Lye(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function Nye(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var Oye=function(){function n(e,t,r,o){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=oe({},r||{}),this.dpr=r.devicePixelRatio||Xw,this._singleCanvas=i,this.root=e;var a=e.style;a&&(gE(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(i){var c=e,d=c.width,h=c.height;r.width!=null&&(d=r.width),r.height!=null&&(h=r.height),this.dpr=r.devicePixelRatio||1,c.width=d*this.dpr,c.height=h*this.dpr,this._width=d,this._height=h;var f=new Y_(c,this,this.dpr);f.__builtin__=!0,f.initContext(),l[zc]=f,f.zlevel=zc,s.push(zc),this._domRoot=e}else{this._width=_f(e,0,r),this._height=_f(e,1,r);var u=this._domRoot=Nye(this._width,this._height);e.appendChild(u)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,o=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var i=0;i<o.length;i++){var a=o[i],s=this._layers[a];if(!s.__builtin__&&s.refresh){var l=i===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var o={inHover:!0,viewWidth:this._width,viewHeight:this._height},i,a=0;a<t;a++){var s=e[a];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(nF)),i||(i=r.ctx,i.save()),bd(i,s,o,a===t-1))}i&&i.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(nF)},n.prototype.paintOne=function(e,t){d$(e,t)},n.prototype._paintList=function(e,t,r,o){if(this._redrawId===o){r=r||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t,r),a=i.finished,s=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),a)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;Gw(function(){l._paintList(e,t,r,o)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(zc).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(o){o.virtual&&e.drawImage(o.dom,0,0,t,r)})},n.prototype._doPaintList=function(e,t,r){for(var o=this,i=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&i.push(u)}for(var c=!0,d=!1,h=function(g){var v=i[g],m=v.ctx,y=a&&v.createRepaintRects(e,t,f._width,f._height),b=r?v.__startIndex:v.__drawIndex,w=!r&&v.incremental&&Date.now,x=w&&Date.now(),S=v.zlevel===f._zlevelList[0]?f._backgroundColor:null;if(v.__startIndex===v.__endIndex)v.clear(!1,S,y);else if(b===v.__startIndex){var C=e[b];(!C.incremental||!C.notClear||r)&&v.clear(!1,S,y)}b===-1&&(console.error("For some unknown reason. drawIndex is -1"),b=v.__startIndex);var k,_=function(D){var E={inHover:!1,allClipped:!1,prevEl:null,viewWidth:o._width,viewHeight:o._height};for(k=b;k<v.__endIndex;k++){var $=e[k];if($.__inHover&&(d=!0),o._doPaintEl($,v,a,D,E,k===v.__endIndex-1),w){var P=Date.now()-x;if(P>15)break}}E.prevElClipPaths&&m.restore()};if(y)if(y.length===0)k=v.__endIndex;else for(var I=f.dpr,T=0;T<y.length;++T){var A=y[T];m.save(),m.beginPath(),m.rect(A.x*I,A.y*I,A.width*I,A.height*I),m.clip(),_(A),m.restore()}else m.save(),_(),m.restore();v.__drawIndex=k,v.__drawIndex<v.__endIndex&&(c=!1)},f=this,p=0;p<i.length;p++)h(p);return At.wxa&&R(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:c,needsRefreshHover:d}},n.prototype._doPaintEl=function(e,t,r,o,i,a){var s=t.ctx;if(r){var l=e.getPaintRect();(!o||l&&l.intersect(o))&&(bd(s,e,i,a),e.setPrevPaintRect(l))}else bd(s,e,i,a)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=zc);var r=this._layers[e];return r||(r=new Y_("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?rt(r,this._layerConfig[e],!0):this._layerConfig[e-d1]&&rt(r,this._layerConfig[e-d1],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},n.prototype.insertLayer=function(e,t){var r=this._layers,o=this._zlevelList,i=o.length,a=this._domRoot,s=null,l=-1;if(!r[e]&&Lye(t)){if(i>0&&e>o[0]){for(l=0;l<i-1&&!(o[l]<e&&o[l+1]>e);l++);s=r[o[l]]}if(o.splice(l+1,0,e),r[e]=t,!t.virtual)if(s){var u=s.dom;u.nextSibling?a.insertBefore(t.dom,u.nextSibling):a.appendChild(t.dom)}else a.firstChild?a.insertBefore(t.dom,a.firstChild):a.appendChild(t.dom);t.painter||(t.painter=this)}},n.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,o=0;o<r.length;o++){var i=r[o];e.call(t,this._layers[i],i)}},n.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,o=0;o<r.length;o++){var i=r[o],a=this._layers[i];a.__builtin__&&e.call(t,a,i)}},n.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,o=0;o<r.length;o++){var i=r[o],a=this._layers[i];a.__builtin__||e.call(t,a,i)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(d,h){d.__dirty=d.__used=!1});function t(d){i&&(i.__endIndex!==d&&(i.__dirty=!0),i.__endIndex=d)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var o=e[r];if(o.zlevel!==e[r-1].zlevel||o.incremental){this._needsManuallyCompositing=!0;break}}var i=null,a=0,s,l;for(l=0;l<e.length;l++){var o=e[l],u=o.zlevel,c=void 0;s!==u&&(s=u,a=0),o.incremental?(c=this.getLayer(u+Mye,this._needsManuallyCompositing),c.incremental=!0,a=1):c=this.getLayer(u+(a>0?d1:0),this._needsManuallyCompositing),c.__builtin__||GS("ZLevel "+u+" has been used by unkown layer "+c.id),c!==i&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,t(l),i=c),o.__dirty&hi&&!o.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(d,h){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,R(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?rt(r[e],t,!0):r[e]=t;for(var o=0;o<this._zlevelList.length;o++){var i=this._zlevelList[o];if(i===e||i===e+d1){var a=this._layers[i];rt(a,r[e],!0)}}}},n.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,o=t[e];o&&(o.dom.parentNode.removeChild(o.dom),delete t[e],r.splice(ct(r,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var o=this._opts,i=this.root;if(e!=null&&(o.width=e),t!=null&&(o.height=t),e=_f(i,0,o),t=_f(i,1,o),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var a in this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(zc).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[zc].dom;var t=new Y_("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var o=t.dom.width,i=t.dom.height;this.eachLayer(function(d){d.__builtin__?r.drawImage(d.dom,0,0,o,i):d.renderToCanvas&&(r.save(),d.renderToCanvas(r),r.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];bd(r,c,a,l===u-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();function Fye(n){n.registerPainter("canvas",Oye)}var Bye=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return qs(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var r=new Xe,o=Un("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(o),o.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,l=t.itemHeight*.8,u=Un(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);r.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?a:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(gn);function op(n,e){var t=n.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var o=np(n,e,t[0]);return o!=null?o+"":null}else if(r){for(var i=[],a=0;a<t.length;a++)i.push(np(n,e,t[a]));return i.join(" ")}}function Oj(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!ce(e))return e+"";for(var r=[],o=0;o<t.length;o++){var i=n.getDimensionIndex(t[o]);i>=0&&r.push(e[i])}return r.join(" ")}var Fy=function(n){K(e,n);function e(t,r,o,i){var a=n.call(this)||this;return a.updateData(t,r,o,i),a}return e.prototype._createSymbol=function(t,r,o,i,a){this.removeAll();var s=Un(t,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=zye,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Sl(this.childAt(0))},e.prototype.downplay=function(){Cl(this.childAt(0))},e.prototype.setZ=function(t,r){var o=this.childAt(0);o.zlevel=t,o.z=r},e.prototype.setDraggable=function(t,r){var o=this.childAt(0);o.draggable=t,o.cursor=!r&&t?"move":o.cursor},e.prototype.updateData=function(t,r,o,i){this.silent=!1;var a=t.getItemVisual(r,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,r),u=a!==this._symbolType,c=i&&i.disableAnimation;if(u){var d=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(a,t,r,l,d)}else{var h=this.childAt(0);h.silent=!1;var f={scaleX:l[0]/2,scaleY:l[1]/2};c?h.attr(f):Pt(h,f,s,r),Wa(h)}if(this._updateCommon(t,r,l,o,i),u){var h=this.childAt(0);if(!c){var f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,bn(h,f,s,r)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,r,o,i,a){var s=this.childAt(0),l=t.hostModel,u,c,d,h,f,p,g,v,m;if(i&&(u=i.emphasisItemStyle,c=i.blurItemStyle,d=i.selectItemStyle,h=i.focus,f=i.blurScope,g=i.labelStatesModels,v=i.hoverScale,m=i.cursorStyle,p=i.emphasisDisabled),!i||t.hasItemOption){var y=i&&i.itemModel?i.itemModel:t.getItemModel(r),b=y.getModel("emphasis");u=b.getModel("itemStyle").getItemStyle(),d=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),h=b.get("focus"),f=b.get("blurScope"),p=b.get("disabled"),g=Cr(y),v=b.getShallow("scale"),m=y.getShallow("cursor")}var w=t.getItemVisual(r,"symbolRotate");s.attr("rotation",(w||0)*Math.PI/180||0);var x=ph(t.getItemVisual(r,"symbolOffset"),o);x&&(s.x=x[0],s.y=x[1]),m&&s.attr("cursor",m);var S=t.getItemVisual(r,"style"),C=S.fill;if(s instanceof Lr){var k=s.style;s.useStyle(oe({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},S))}else s.__isEmptyBrush?s.useStyle(oe({},S)):s.useStyle(S),s.style.decal=null,s.setColor(C,a&&a.symbolInnerColor),s.style.strokeNoScale=!0;var _=t.getItemVisual(r,"liftZ"),I=this._z2;_!=null?I==null&&(this._z2=s.z2,s.z2+=_):I!=null&&(s.z2=I,this._z2=null);var T=a&&a.useNameLabel;Hr(s,g,{labelFetcher:l,labelDataIndex:r,defaultText:A,inheritColor:C,defaultOpacity:S.opacity});function A($){return T?t.getName($):op(t,$)}this._sizeX=o[0]/2,this._sizeY=o[1]/2;var D=s.ensureState("emphasis");D.style=u,s.ensureState("select").style=d,s.ensureState("blur").style=c;var E=v==null||v===!0?Math.max(1.1,3/this._sizeY):isFinite(v)&&v>0?+v:1;D.scaleX=this._sizeX*E,D.scaleY=this._sizeY*E,this.setSymbolScale(1),On(this,h,f,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,r,o){var i=this.childAt(0),a=Ye(this).dataIndex,s=o&&o.animation;if(this.silent=i.silent=!0,o&&o.fadeLabel){var l=i.getTextContent();l&&Fu(l,{style:{opacity:0}},r,{dataIndex:a,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();Fu(i,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:a,cb:t,removeOpt:s})},e.getSymbolSize=function(t,r){return Vp(t.getItemVisual(r,"symbolSize"))},e}(Xe);function zye(n,e){this.parent.drift(n,e)}function Z_(n,e,t,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(t))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&n.getItemVisual(t,"symbol")!=="none"}function rF(n){return n!=null&&!Ge(n)&&(n={isIgnore:n}),n||{}}function oF(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Cr(e),cursorStyle:e.get("cursor")}}var By=function(){function n(e){this.group=new Xe,this._SymbolCtor=e||Fy}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=rF(t);var r=this.group,o=e.hostModel,i=this._data,a=this._SymbolCtor,s=t.disableAnimation,l=oF(e),u={disableAnimation:s},c=t.getSymbolPoint||function(d){return e.getItemLayout(d)};i||r.removeAll(),e.diff(i).add(function(d){var h=c(d);if(Z_(e,h,d,t)){var f=new a(e,d,l,u);f.setPosition(h),e.setItemGraphicEl(d,f),r.add(f)}}).update(function(d,h){var f=i.getItemGraphicEl(h),p=c(d);if(!Z_(e,p,d,t)){r.remove(f);return}var g=e.getItemVisual(d,"symbol")||"circle",v=f&&f.getSymbolType&&f.getSymbolType();if(!f||v&&v!==g)r.remove(f),f=new a(e,d,l,u),f.setPosition(p);else{f.updateData(e,d,l,u);var m={x:p[0],y:p[1]};s?f.attr(m):Pt(f,m,o)}r.add(f),e.setItemGraphicEl(d,f)}).remove(function(d){var h=i.getItemGraphicEl(d);h&&h.fadeOut(function(){r.remove(h)},o)}).execute(),this._getSymbolPoint=c,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(r,o){var i=e._getSymbolPoint(o);r.setPosition(i),r.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=oF(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,r){this._progressiveEls=[],r=rF(r);function o(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var a=t.getItemLayout(i);if(Z_(t,a,i,r)){var s=new this._SymbolCtor(t,i,this._seriesScope);s.traverse(o),s.setPosition(a),this.group.add(s),t.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(e){Qu(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(o){o.fadeOut(function(){t.remove(o)},r.hostModel)}):t.removeAll()},n}();function Fj(n,e,t){var r=n.getBaseAxis(),o=n.getOtherAxis(r),i=Vye(o,t),a=r.dim,s=o.dim,l=e.mapDimension(s),u=e.mapDimension(a),c=s==="x"||s==="radius"?1:0,d=fe(n.dimensions,function(p){return e.mapDimension(p)}),h=!1,f=e.getCalculationInfo("stackResultDimension");return _l(e,d[0])&&(h=!0,d[0]=f),_l(e,d[1])&&(h=!0,d[1]=f),{dataDimsForPoint:d,valueStart:i,valueAxisDim:s,baseAxisDim:a,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Vye(n,e){var t=0,r=n.scale.getExtent();return e==="start"?t=r[0]:e==="end"?t=r[1]:Rt(e)&&!isNaN(e)?t=e:r[0]>0?t=r[0]:r[1]<0&&(t=r[1]),t}function Bj(n,e,t,r){var o=NaN;n.stacked&&(o=t.get(t.getCalculationInfo("stackedOverDimension"),r)),isNaN(o)&&(o=n.valueStart);var i=n.baseDataOffset,a=[];return a[i]=t.get(n.baseDim,r),a[1-i]=o,e.dataToPoint(a)}function Gye(n,e){var t=[];return e.diff(n).add(function(r){t.push({cmd:"+",idx:r})}).update(function(r,o){t.push({cmd:"=",idx:o,idx1:r})}).remove(function(r){t.push({cmd:"-",idx:r})}).execute(),t}function Wye(n,e,t,r,o,i,a,s){for(var l=Gye(n,e),u=[],c=[],d=[],h=[],f=[],p=[],g=[],v=Fj(o,e,a),m=n.getLayout("points")||[],y=e.getLayout("points")||[],b=0;b<l.length;b++){var w=l[b],x=!0,S=void 0,C=void 0;switch(w.cmd){case"=":S=w.idx*2,C=w.idx1*2;var k=m[S],_=m[S+1],I=y[C],T=y[C+1];(isNaN(k)||isNaN(_))&&(k=I,_=T),u.push(k,_),c.push(I,T),d.push(t[S],t[S+1]),h.push(r[C],r[C+1]),g.push(e.getRawIndex(w.idx1));break;case"+":var A=w.idx,D=v.dataDimsForPoint,E=o.dataToPoint([e.get(D[0],A),e.get(D[1],A)]);C=A*2,u.push(E[0],E[1]),c.push(y[C],y[C+1]);var $=Bj(v,o,e,A);d.push($[0],$[1]),h.push(r[C],r[C+1]),g.push(e.getRawIndex(A));break;case"-":x=!1}x&&(f.push(w),p.push(p.length))}p.sort(function(se,ge){return g[se]-g[ge]});for(var P=u.length,N=xs(P),M=xs(P),L=xs(P),V=xs(P),W=[],b=0;b<p.length;b++){var j=p[b],Q=b*2,te=j*2;N[Q]=u[te],N[Q+1]=u[te+1],M[Q]=c[te],M[Q+1]=c[te+1],L[Q]=d[te],L[Q+1]=d[te+1],V[Q]=h[te],V[Q+1]=h[te+1],W[b]=f[j]}return{current:N,next:M,stackedOnCurrent:L,stackedOnNext:V,status:W}}var Yl=Math.min,Zl=Math.max;function Rd(n,e){return isNaN(n)||isNaN(e)}function KA(n,e,t,r,o,i,a,s,l){for(var u,c,d,h,f,p,g=t,v=0;v<r;v++){var m=e[g*2],y=e[g*2+1];if(g>=o||g<0)break;if(Rd(m,y)){if(l){g+=i;continue}break}if(g===t)n[i>0?"moveTo":"lineTo"](m,y),d=m,h=y;else{var b=m-u,w=y-c;if(b*b+w*w<.5){g+=i;continue}if(a>0){for(var x=g+i,S=e[x*2],C=e[x*2+1];S===m&&C===y&&v<r;)v++,x+=i,g+=i,S=e[x*2],C=e[x*2+1],m=e[g*2],y=e[g*2+1],b=m-u,w=y-c;var k=v+1;if(l)for(;Rd(S,C)&&k<r;)k++,x+=i,S=e[x*2],C=e[x*2+1];var _=.5,I=0,T=0,A=void 0,D=void 0;if(k>=r||Rd(S,C))f=m,p=y;else{I=S-u,T=C-c;var E=m-u,$=S-m,P=y-c,N=C-y,M=void 0,L=void 0;if(s==="x"){M=Math.abs(E),L=Math.abs($);var V=I>0?1:-1;f=m-V*M*a,p=y,A=m+V*L*a,D=y}else if(s==="y"){M=Math.abs(P),L=Math.abs(N);var W=T>0?1:-1;f=m,p=y-W*M*a,A=m,D=y+W*L*a}else M=Math.sqrt(E*E+P*P),L=Math.sqrt($*$+N*N),_=L/(L+M),f=m-I*a*(1-_),p=y-T*a*(1-_),A=m+I*a*_,D=y+T*a*_,A=Yl(A,Zl(S,m)),D=Yl(D,Zl(C,y)),A=Zl(A,Yl(S,m)),D=Zl(D,Yl(C,y)),I=A-m,T=D-y,f=m-I*M/L,p=y-T*M/L,f=Yl(f,Zl(u,m)),p=Yl(p,Zl(c,y)),f=Zl(f,Yl(u,m)),p=Zl(p,Yl(c,y)),I=m-f,T=y-p,A=m+I*L/M,D=y+T*L/M}n.bezierCurveTo(d,h,f,p,m,y),d=A,h=D}else n.lineTo(m,y)}u=m,c=y,g+=i}return v}var zj=function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n}(),Hye=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new zj},e.prototype.buildPath=function(t,r){var o=r.points,i=0,a=o.length/2;if(r.connectNulls){for(;a>0&&Rd(o[a*2-2],o[a*2-1]);a--);for(;i<a&&Rd(o[i*2],o[i*2+1]);i++);}for(;i<a;)i+=KA(t,o,i,a,a,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(t,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var o=this.path,i=o.data,a=Bs.CMD,s,l,u=r==="x",c=[],d=0;d<i.length;){var h=i[d++],f=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,b=void 0;switch(h){case a.M:s=i[d++],l=i[d++];break;case a.L:if(f=i[d++],p=i[d++],b=u?(t-s)/(f-s):(t-l)/(p-l),b<=1&&b>=0){var w=u?(p-l)*b+l:(f-s)*b+s;return u?[t,w]:[w,t]}s=f,l=p;break;case a.C:f=i[d++],p=i[d++],g=i[d++],v=i[d++],m=i[d++],y=i[d++];var x=u?Hw(s,f,g,m,t,c):Hw(l,p,v,y,t,c);if(x>0)for(var S=0;S<x;S++){var C=c[S];if(C<=1&&C>=0){var w=u?fr(l,p,v,y,C):fr(s,f,g,m,C);return u?[t,w]:[w,t]}}s=m,l=y;break}}},e}(vt),Uye=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(zj),Vj=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new Uye},e.prototype.buildPath=function(t,r){var o=r.points,i=r.stackedOnPoints,a=0,s=o.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&Rd(o[s*2-2],o[s*2-1]);s--);for(;a<s&&Rd(o[a*2],o[a*2+1]);a++);}for(;a<s;){var u=KA(t,o,a,s,s,1,r.smooth,l,r.connectNulls);KA(t,i,a+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),a+=u+1,t.closePath()}},e}(vt);function Gj(n,e,t,r,o){var i=n.getArea(),a=i.x,s=i.y,l=i.width,u=i.height,c=t.get(["lineStyle","width"])||2;a-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),a!==Math.floor(a)&&(a=Math.floor(a),l++);var d=new It({shape:{x:a,y:s,width:l,height:u}});if(e){var h=n.getBaseAxis(),f=h.isHorizontal(),p=h.inverse;f?(p&&(d.shape.x+=l),d.shape.width=0):(p||(d.shape.y+=u),d.shape.height=0);var g=ze(o)?function(v){o(v,d)}:null;bn(d,{shape:{width:l,height:u,x:a,y:s}},t,null,r,g)}return d}function Wj(n,e,t){var r=n.getArea(),o=Mn(r.r0,1),i=Mn(r.r,1),a=new $o({shape:{cx:Mn(n.cx,1),cy:Mn(n.cy,1),r0:o,r:i,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var s=n.getBaseAxis().dim==="angle";s?a.shape.endAngle=r.startAngle:a.shape.r=o,bn(a,{shape:{endAngle:r.endAngle,r:i}},t)}return a}function zy(n,e,t,r,o){if(n){if(n.type==="polar")return Wj(n,e,t);if(n.type==="cartesian2d")return Gj(n,e,t,r,o)}else return null;return null}function gh(n,e){return n.type===e}function iF(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function aF(n){for(var e=1/0,t=1/0,r=-1/0,o=-1/0,i=0;i<n.length;){var a=n[i++],s=n[i++];isNaN(a)||(e=Math.min(a,e),r=Math.max(a,r)),isNaN(s)||(t=Math.min(s,t),o=Math.max(s,o))}return[[e,t],[r,o]]}function sF(n,e){var t=aF(n),r=t[0],o=t[1],i=aF(e),a=i[0],s=i[1];return Math.max(Math.abs(r[0]-a[0]),Math.abs(r[1]-a[1]),Math.abs(o[0]-s[0]),Math.abs(o[1]-s[1]))}function lF(n){return Rt(n)?n:n?.5:0}function jye(n,e,t){if(!t.valueDim)return[];for(var r=e.count(),o=xs(r*2),i=0;i<r;i++){var a=Bj(t,n,e,i);o[i*2]=a[0],o[i*2+1]=a[1]}return o}function Jl(n,e,t,r){var o=e.getBaseAxis(),i=o.dim==="x"||o.dim==="radius"?0:1,a=[],s=0,l=[],u=[],c=[],d=[];if(r){for(s=0;s<n.length;s+=2)!isNaN(n[s])&&!isNaN(n[s+1])&&d.push(n[s],n[s+1]);n=d}for(s=0;s<n.length-2;s+=2)switch(c[0]=n[s+2],c[1]=n[s+3],u[0]=n[s],u[1]=n[s+1],a.push(u[0],u[1]),t){case"end":l[i]=c[i],l[1-i]=u[1-i],a.push(l[0],l[1]);break;case"middle":var h=(u[i]+c[i])/2,f=[];l[i]=f[i]=h,l[1-i]=u[1-i],f[1-i]=c[1-i],a.push(l[0],l[1]),a.push(f[0],f[1]);break;default:l[i]=u[i],l[1-i]=c[1-i],a.push(l[0],l[1])}return a.push(n[s++],n[s++]),a}function Kye(n,e){var t=[],r=n.length,o,i;function a(c,d,h){var f=c.coord,p=(h-f)/(d.coord-f),g=bE(p,[c.color,d.color]);return{coord:h,color:g}}for(var s=0;s<r;s++){var l=n[s],u=l.coord;if(u<0)o=l;else if(u>e){i?t.push(a(i,l,e)):o&&t.push(a(o,l,0),a(o,l,e));break}else o&&(t.push(a(o,l,0)),o=null),t.push(l),i=l}return t}function Xye(n,e,t){var r=n.getVisual("visualMeta");if(!(!r||!r.length||!n.count())&&e.type==="cartesian2d"){for(var o,i,a=r.length-1;a>=0;a--){var s=n.getDimensionInfo(r[a].dimension);if(o=s&&s.coordDim,o==="x"||o==="y"){i=r[a];break}}if(i){var l=e.getAxis(o),u=fe(i.stops,function(b){return{coord:l.toGlobalCoord(l.dataToCoord(b.value)),color:b.color}}),c=u.length,d=i.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),d.reverse());var h=Kye(u,o==="x"?t.getWidth():t.getHeight()),f=h.length;if(!f&&c)return u[0].coord<0?d[1]?d[1]:u[c-1].color:d[0]?d[0]:u[0].color;var p=10,g=h[0].coord-p,v=h[f-1].coord+p,m=v-g;if(m<.001)return"transparent";R(h,function(b){b.offset=(b.coord-g)/m}),h.push({offset:f?h[f-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:f?h[0].offset:.5,color:d[0]||"transparent"});var y=new Dp(0,0,0,0,h,!0);return y[o]=g,y[o+"2"]=v,y}}}function qye(n,e,t){var r=n.get("showAllSymbol"),o=r==="auto";if(!(r&&!o)){var i=t.getAxesByScale("ordinal")[0];if(i&&!(o&&Yye(i,e))){var a=e.mapDimension(i.dim),s={};return R(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(a,l))}}}}function Yye(n,e){var t=n.getExtent(),r=Math.abs(t[1]-t[0])/n.scale.count();isNaN(r)&&(r=0);for(var o=e.count(),i=Math.max(1,Math.round(o/5)),a=0;a<o;a+=i)if(Fy.getSymbolSize(e,a)[n.isHorizontal()?1:0]*1.5>r)return!1;return!0}function Zye(n,e){return isNaN(n)||isNaN(e)}function Jye(n){for(var e=n.length/2;e>0&&Zye(n[e*2-2],n[e*2-1]);e--);return e-1}function uF(n,e){return[n[e*2],n[e*2+1]]}function Qye(n,e,t){for(var r=n.length/2,o=t==="x"?0:1,i,a,s=0,l=-1,u=0;u<r;u++)if(a=n[u*2+o],!(isNaN(a)||isNaN(n[u*2+1-o]))){if(u===0){i=a;continue}if(i<=e&&a>=e||i>=e&&a<=e){l=u;break}s=u,i=a}return{range:[s,l],t:(e-i)/(a-i)}}function Hj(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<Eo.length;e++)if(n.get([Eo[e],"endLabel","show"]))return!0;return!1}function J_(n,e,t,r){if(gh(e,"cartesian2d")){var o=r.getModel("endLabel"),i=o.get("valueAnimation"),a=r.getData(),s={lastFrameIndex:0},l=Hj(r)?function(f,p){n._endLabelOnDuring(f,p,a,s,i,o,e)}:null,u=e.getBaseAxis().isHorizontal(),c=Gj(e,t,r,function(){var f=n._endLabel;f&&t&&s.originalX!=null&&f.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var d=c.shape,h=Math.max(d.width,d.height);u?(d.y-=h,d.height+=h*2):(d.x-=h,d.width+=h*2)}return l&&l(1,c),c}else return Wj(e,t,r)}function e0e(n,e){var t=e.getBaseAxis(),r=t.isHorizontal(),o=t.inverse,i=r?o?"right":"left":"center",a=r?"middle":o?"top":"bottom";return{normal:{align:n.get("align")||i,verticalAlign:n.get("verticalAlign")||a}}}var t0e=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=new Xe,r=new By;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t},e.prototype.render=function(t,r,o){var i=this,a=t.coordinateSystem,s=this.group,l=t.getData(),u=t.getModel("lineStyle"),c=t.getModel("areaStyle"),d=l.getLayout("points")||[],h=a.type==="polar",f=this._coordSys,p=this._symbolDraw,g=this._polyline,v=this._polygon,m=this._lineGroup,y=!r.ssr&&t.get("animation"),b=!c.isEmpty(),w=c.get("origin"),x=Fj(a,l,w),S=b&&jye(a,l,x),C=t.get("showSymbol"),k=t.get("connectNulls"),_=C&&!h&&qye(t,l,a),I=this._data;I&&I.eachItemGraphicEl(function(ge,ye){ge.__temp&&(s.remove(ge),I.setItemGraphicEl(ye,null))}),C||p.remove(),s.add(m);var T=h?!1:t.get("step"),A;a&&a.getArea&&t.get("clip",!0)&&(A=a.getArea(),A.width!=null?(A.x-=.1,A.y-=.1,A.width+=.2,A.height+=.2):A.r0&&(A.r0-=.5,A.r+=.5)),this._clipShapeForSymbol=A;var D=Xye(l,a,o)||l.getVisual("style")[l.getVisual("drawType")];if(!(g&&f.type===a.type&&T===this._step))C&&p.updateData(l,{isIgnore:_,clipShape:A,disableAnimation:!0,getSymbolPoint:function(ge){return[d[ge*2],d[ge*2+1]]}}),y&&this._initSymbolLabelAnimation(l,a,A),T&&(d=Jl(d,a,T,k),S&&(S=Jl(S,a,T,k))),g=this._newPolyline(d),b?v=this._newPolygon(d,S):v&&(m.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(t,a,Gd(D)),m.setClipPath(J_(this,a,!0,t));else{b&&!v?v=this._newPolygon(d,S):v&&!b&&(m.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(t,a,Gd(D));var E=m.getClipPath();if(E){var $=J_(this,a,!1,t);bn(E,{shape:$.shape},t)}else m.setClipPath(J_(this,a,!0,t));C&&p.updateData(l,{isIgnore:_,clipShape:A,disableAnimation:!0,getSymbolPoint:function(ge){return[d[ge*2],d[ge*2+1]]}}),(!iF(this._stackedOnPoints,S)||!iF(this._points,d))&&(y?this._doUpdateAnimation(l,S,a,o,T,w,k):(T&&(d=Jl(d,a,T,k),S&&(S=Jl(S,a,T,k))),g.setShape({points:d}),v&&v.setShape({points:d,stackedOnPoints:S})))}var P=t.getModel("emphasis"),N=P.get("focus"),M=P.get("blurScope"),L=P.get("disabled");if(g.useStyle(Ve(u.getLineStyle(),{fill:"none",stroke:D,lineJoin:"bevel"})),Wr(g,t,"lineStyle"),g.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var V=g.getState("emphasis").style;V.lineWidth=+g.style.lineWidth+1}Ye(g).seriesIndex=t.seriesIndex,On(g,N,M,L);var W=lF(t.get("smooth")),j=t.get("smoothMonotone");if(g.setShape({smooth:W,smoothMonotone:j,connectNulls:k}),v){var Q=l.getCalculationInfo("stackedOnSeries"),te=0;v.useStyle(Ve(c.getAreaStyle(),{fill:D,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),Q&&(te=lF(Q.get("smooth"))),v.setShape({smooth:W,stackedOnSmooth:te,smoothMonotone:j,connectNulls:k}),Wr(v,t,"areaStyle"),Ye(v).seriesIndex=t.seriesIndex,On(v,N,M,L)}var se=function(ge){i._changePolyState(ge)};l.eachItemGraphicEl(function(ge){ge&&(ge.onHoverStateChange=se)}),this._polyline.onHoverStateChange=se,this._data=l,this._coordSys=a,this._stackedOnPoints=S,this._points=d,this._step=T,this._valueOrigin=w,t.get("triggerLineEvent")&&(this.packEventData(t,g),v&&this.packEventData(t,v))},e.prototype.packEventData=function(t,r){Ye(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,r,o,i){var a=t.getData(),s=Bd(a,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=a.getLayout("points"),u=a.getItemGraphicEl(s);if(!u){var c=l[s*2],d=l[s*2+1];if(isNaN(c)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,d))return;var h=t.get("zlevel")||0,f=t.get("z")||0;u=new Fy(a,s),u.x=c,u.y=d,u.setZ(h,f);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=h,p.z=f,p.z2=this._polyline.z2+1),u.__temp=!0,a.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else on.prototype.highlight.call(this,t,r,o,i)},e.prototype.downplay=function(t,r,o,i){var a=t.getData(),s=Bd(a,i);if(this._changePolyState("normal"),s!=null&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else on.prototype.downplay.call(this,t,r,o,i)},e.prototype._changePolyState=function(t){var r=this._polygon;Zw(this._polyline,t),r&&Zw(r,t)},e.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new Hye({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(t,r){var o=this._polygon;return o&&this._lineGroup.remove(o),o=new Vj({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(o),this._polygon=o,o},e.prototype._initSymbolLabelAnimation=function(t,r,o){var i,a,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(i=s.isHorizontal(),a=!1):r.type==="polar"&&(i=s.dim==="angle",a=!0);var u=t.hostModel,c=u.get("animationDuration");ze(c)&&(c=c(null));var d=u.get("animationDelay")||0,h=ze(d)?d(null):d;t.eachItemGraphicEl(function(f,p){var g=f;if(g){var v=[f.x,f.y],m=void 0,y=void 0,b=void 0;if(o)if(a){var w=o,x=r.pointToCoord(v);i?(m=w.startAngle,y=w.endAngle,b=-x[1]/180*Math.PI):(m=w.r0,y=w.r,b=x[0])}else{var S=o;i?(m=S.x,y=S.x+S.width,b=f.x):(m=S.y+S.height,y=S.y,b=f.y)}var C=y===m?0:(b-m)/(y-m);l&&(C=1-C);var k=ze(d)?d(p):c*C+h,_=g.getSymbolPath(),I=_.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:k}),I&&I.animateFrom({style:{opacity:0}},{duration:300,delay:k}),_.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,r,o){var i=t.getModel("endLabel");if(Hj(t)){var a=t.getData(),s=this._polyline,l=a.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new _t({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=Jye(l);c>=0&&(Hr(s,Cr(t,"endLabel"),{inheritColor:o,labelFetcher:t,labelDataIndex:c,defaultText:function(d,h,f){return f!=null?Oj(a,f):op(a,d)},enableTextSetter:!0},e0e(i,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,r,o,i,a,s,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var d=o.getLayout("points"),h=o.hostModel,f=h.get("connectNulls"),p=s.get("precision"),g=s.get("distance")||0,v=l.getBaseAxis(),m=v.isHorizontal(),y=v.inverse,b=r.shape,w=y?m?b.x:b.y+b.height:m?b.x+b.width:b.y,x=(m?g:0)*(y?-1:1),S=(m?0:-g)*(y?-1:1),C=m?"x":"y",k=Qye(d,w,C),_=k.range,I=_[1]-_[0],T=void 0;if(I>=1){if(I>1&&!f){var A=uF(d,_[0]);u.attr({x:A[0]+x,y:A[1]+S}),a&&(T=h.getRawValue(_[0]))}else{var A=c.getPointOn(w,C);A&&u.attr({x:A[0]+x,y:A[1]+S});var D=h.getRawValue(_[0]),E=h.getRawValue(_[1]);a&&(T=vW(o,p,D,E,k.t))}i.lastFrameIndex=_[0]}else{var $=t===1||i.lastFrameIndex>0?_[0]:0,A=uF(d,$);a&&(T=h.getRawValue($)),u.attr({x:A[0]+x,y:A[1]+S})}if(a){var P=Pp(u);typeof P.setLabelText=="function"&&P.setLabelText(T)}}},e.prototype._doUpdateAnimation=function(t,r,o,i,a,s,l){var u=this._polyline,c=this._polygon,d=t.hostModel,h=Wye(this._data,t,this._stackedOnPoints,r,this._coordSys,o,this._valueOrigin),f=h.current,p=h.stackedOnCurrent,g=h.next,v=h.stackedOnNext;if(a&&(f=Jl(h.current,o,a,l),p=Jl(h.stackedOnCurrent,o,a,l),g=Jl(h.next,o,a,l),v=Jl(h.stackedOnNext,o,a,l)),sF(f,g)>3e3||c&&sF(p,v)>3e3){u.stopAnimation(),u.setShape({points:g}),c&&(c.stopAnimation(),c.setShape({points:g,stackedOnPoints:v}));return}u.shape.__points=h.current,u.shape.points=f;var m={shape:{points:g}};h.current!==f&&(m.shape.__points=h.next),u.stopAnimation(),Pt(u,m,d),c&&(c.setShape({points:f,stackedOnPoints:p}),c.stopAnimation(),Pt(c,{shape:{stackedOnPoints:v}},d),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var y=[],b=h.status,w=0;w<b.length;w++){var x=b[w].cmd;if(x==="="){var S=t.getItemGraphicEl(b[w].idx1);S&&y.push({el:S,ptIdx:w})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var C=u.shape.__points,k=0;k<y.length;k++){var _=y[k].el,I=y[k].ptIdx*2;_.x=C[I],_.y=C[I+1],_.markRedraw()}})},e.prototype.remove=function(t){var r=this.group,o=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),o&&o.eachItemGraphicEl(function(i,a){i.__temp&&(r.remove(i),o.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(on);function Vy(n,e){return{seriesType:n,plan:Bp(),reset:function(t){var r=t.getData(),o=t.coordinateSystem,i=t.pipelineContext,a=e||i.large;if(o){var s=fe(o.dimensions,function(f){return r.mapDimension(f)}).slice(0,2),l=s.length,u=r.getCalculationInfo("stackResultDimension");_l(r,s[0])&&(s[0]=u),_l(r,s[1])&&(s[1]=u);var c=r.getStore(),d=r.getDimensionIndex(s[0]),h=r.getDimensionIndex(s[1]);return l&&{progress:function(f,p){for(var g=f.end-f.start,v=a&&xs(g*l),m=[],y=[],b=f.start,w=0;b<f.end;b++){var x=void 0;if(l===1){var S=c.get(d,b);x=o.dataToPoint(S,null,y)}else m[0]=c.get(d,b),m[1]=c.get(h,b),x=o.dataToPoint(m,null,y);a?(v[w++]=x[0],v[w++]=x[1]):p.setItemLayout(b,x.slice())}a&&p.setLayout("points",v)}}}}}}var n0e={average:function(n){for(var e=0,t=0,r=0;r<n.length;r++)isNaN(n[r])||(e+=n[r],t++);return t===0?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},minmax:function(n){for(var e=-1/0,t=-1/0,r=0;r<n.length;r++){var o=n[r],i=Math.abs(o);i>e&&(e=i,t=o)}return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},r0e=function(n){return Math.round(n.length/2)};function Uj(n){return{seriesType:n,reset:function(e,t,r){var o=e.getData(),i=e.get("sampling"),a=e.coordinateSystem,s=o.count();if(s>10&&a.type==="cartesian2d"&&i){var l=a.getBaseAxis(),u=a.getOtherAxis(l),c=l.getExtent(),d=r.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(d||1),f=Math.round(s/h);if(isFinite(f)&&f>1){i==="lttb"&&e.setData(o.lttbDownSample(o.mapDimension(u.dim),1/f));var p=void 0;De(i)?p=n0e[i]:ze(i)&&(p=i),p&&e.setData(o.downSample(o.mapDimension(u.dim),1/f,p,r0e))}}}}}function o0e(n){n.registerChartView(t0e),n.registerSeriesModel(Bye),n.registerLayout(Vy("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",r)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Uj("line"))}var Dm=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return qs(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,r,o){var i=this.coordinateSystem;if(i&&i.clampData){var a=i.clampData(t),s=i.dataToPoint(a);if(o)R(i.getAxes(),function(h,f){if(h.type==="category"&&r!=null){var p=h.getTicksCoords(),g=h.getTickModel().get("alignWithLabel"),v=a[f],m=r[f]==="x1"||r[f]==="y1";if(m&&!g&&(v+=1),p.length<2)return;if(p.length===2){s[f]=h.toGlobalCoord(h.getExtent()[m?1:0]);return}for(var y=void 0,b=void 0,w=1,x=0;x<p.length;x++){var S=p[x].coord,C=x===p.length-1?p[x-1].tickValue+w:p[x].tickValue;if(C===v){b=S;break}else if(C<v)y=S;else if(y!=null&&C>v){b=(S+y)/2;break}x===1&&(w=C-p[0].tickValue)}b==null&&(y?y&&(b=p[p.length-1].coord):b=p[0].coord),s[f]=h.toGlobalCoord(b)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),d=i.getBaseAxis().isHorizontal()?0:1;s[d]+=u+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(gn);gn.registerClass(Dm);var i0e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return qs(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},e.prototype.brushSelector=function(t,r,o){return o.rect(r.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=ec(Dm.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(Dm),a0e=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),yx=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new a0e},e.prototype.buildPath=function(t,r){var o=r.cx,i=r.cy,a=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-a)*.5,u=a+l,c=r.startAngle,d=r.endAngle,h=r.clockwise,f=Math.PI*2,p=h?d-c<f:c-d<f;p||(c=d-(h?f:-f));var g=Math.cos(c),v=Math.sin(c),m=Math.cos(d),y=Math.sin(d);p?(t.moveTo(g*a+o,v*a+i),t.arc(g*u+o,v*u+i,l,-Math.PI+c,c,!h)):t.moveTo(g*s+o,v*s+i),t.arc(o,i,s,c,d,!h),t.arc(m*u+o,y*u+i,l,d-Math.PI*2,d-Math.PI,!h),a!==0&&t.arc(o,i,a,d,c,h)},e}(vt);function s0e(n,e){e=e||{};var t=e.isRoundCap;return function(r,o,i){var a=o.position;if(!a||a instanceof Array)return qw(r,o,i);var s=n(a),l=o.distance!=null?o.distance:5,u=this.shape,c=u.cx,d=u.cy,h=u.r,f=u.r0,p=(h+f)/2,g=u.startAngle,v=u.endAngle,m=(g+v)/2,y=t?Math.abs(h-f)/2:0,b=Math.cos,w=Math.sin,x=c+h*b(g),S=d+h*w(g),C="left",k="top";switch(s){case"startArc":x=c+(f-l)*b(m),S=d+(f-l)*w(m),C="center",k="top";break;case"insideStartArc":x=c+(f+l)*b(m),S=d+(f+l)*w(m),C="center",k="bottom";break;case"startAngle":x=c+p*b(g)+h1(g,l+y,!1),S=d+p*w(g)+f1(g,l+y,!1),C="right",k="middle";break;case"insideStartAngle":x=c+p*b(g)+h1(g,-l+y,!1),S=d+p*w(g)+f1(g,-l+y,!1),C="left",k="middle";break;case"middle":x=c+p*b(m),S=d+p*w(m),C="center",k="middle";break;case"endArc":x=c+(h+l)*b(m),S=d+(h+l)*w(m),C="center",k="bottom";break;case"insideEndArc":x=c+(h-l)*b(m),S=d+(h-l)*w(m),C="center",k="top";break;case"endAngle":x=c+p*b(v)+h1(v,l+y,!0),S=d+p*w(v)+f1(v,l+y,!0),C="left",k="middle";break;case"insideEndAngle":x=c+p*b(v)+h1(v,-l+y,!0),S=d+p*w(v)+f1(v,-l+y,!0),C="right",k="middle";break;default:return qw(r,o,i)}return r=r||{},r.x=x,r.y=S,r.align=C,r.verticalAlign=k,r}}function l0e(n,e,t,r){if(Rt(r)){n.setTextConfig({rotation:r});return}else if(ce(e)){n.setTextConfig({rotation:0});return}var o=n.shape,i=o.clockwise?o.startAngle:o.endAngle,a=o.clockwise?o.endAngle:o.startAngle,s=(i+a)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=a;break;default:n.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),n.setTextConfig({rotation:c})}function h1(n,e,t){return e*Math.sin(n)*(t?-1:1)}function f1(n,e,t){return e*Math.cos(n)*(t?1:-1)}function wd(n,e,t){var r=n.get("borderRadius");if(r==null)return t?{cornerRadius:0}:null;ce(r)||(r=[r,r,r,r]);var o=Math.abs(e.r||0-e.r0||0);return{cornerRadius:fe(r,function(i){return Ga(i,o)})}}var Q_=Math.max,eI=Math.min;function u0e(n,e){var t=n.getArea&&n.getArea();if(gh(n,"cartesian2d")){var r=n.getBaseAxis();if(r.type!=="category"||!r.onBand){var o=e.getLayout("bandWidth");r.isHorizontal()?(t.x-=o,t.width+=o*2):(t.y-=o,t.height+=o*2)}}return t}var c0e=function(n){K(e,n);function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,r,o,i){this._model=t,this._removeOnRenderedListener(o),this._updateDrawMode(t);var a=t.get("coordinateSystem");(a==="cartesian2d"||a==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,o):this._renderNormal(t,r,o,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},e.prototype.eachRendered=function(t){Qu(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t,r,o,i){var a=this.group,s=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),d;u.type==="cartesian2d"?d=c.isHorizontal():u.type==="polar"&&(d=c.dim==="angle");var h=t.isAnimationEnabled()?t:null,f=d0e(t,u);f&&this._enableRealtimeSort(f,s,o);var p=t.get("clip",!0)||f,g=u0e(u,s);a.removeClipPath();var v=t.get("roundCap",!0),m=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),b=y.get("borderRadius")||0,w=[],x=this._backgroundEls,S=i&&i.isInitSort,C=i&&i.type==="changeAxisOrder";function k(T){var A=p1[u.type](s,T),D=y0e(u,d,A);return D.useStyle(y.getItemStyle()),u.type==="cartesian2d"?D.setShape("r",b):D.setShape("cornerRadius",b),w[T]=D,D}s.diff(l).add(function(T){var A=s.getItemModel(T),D=p1[u.type](s,T,A);if(m&&k(T),!(!s.hasValue(T)||!pF[u.type](D))){var E=!1;p&&(E=cF[u.type](g,D));var $=dF[u.type](t,s,T,D,d,h,c.model,!1,v);f&&($.forceLabelAnimation=!0),gF($,s,T,A,D,t,d,u.type==="polar"),S?$.attr({shape:D}):f?hF(f,h,$,D,T,d,!1,!1):bn($,{shape:D},t,T),s.setItemGraphicEl(T,$),a.add($),$.ignore=E}}).update(function(T,A){var D=s.getItemModel(T),E=p1[u.type](s,T,D);if(m){var $=void 0;x.length===0?$=k(A):($=x[A],$.useStyle(y.getItemStyle()),u.type==="cartesian2d"?$.setShape("r",b):$.setShape("cornerRadius",b),w[T]=$);var P=p1[u.type](s,T),N=Kj(d,P,u);Pt($,{shape:N},h,T)}var M=l.getItemGraphicEl(A);if(!s.hasValue(T)||!pF[u.type](E)){a.remove(M);return}var L=!1;if(p&&(L=cF[u.type](g,E),L&&a.remove(M)),M?Wa(M):M=dF[u.type](t,s,T,E,d,h,c.model,!!M,v),f&&(M.forceLabelAnimation=!0),C){var V=M.getTextContent();if(V){var W=Pp(V);W.prevValue!=null&&(W.prevValue=W.value)}}else gF(M,s,T,D,E,t,d,u.type==="polar");S?M.attr({shape:E}):f?hF(f,h,M,E,T,d,!0,C):Pt(M,{shape:E},t,T,null),s.setItemGraphicEl(T,M),M.ignore=L,a.add(M)}).remove(function(T){var A=l.getItemGraphicEl(T);A&&bm(A,t,T)}).execute();var _=this._backgroundGroup||(this._backgroundGroup=new Xe);_.removeAll();for(var I=0;I<w.length;++I)_.add(w[I]);a.add(_),this._backgroundEls=w,this._data=s},e.prototype._renderLarge=function(t,r,o){this._clear(),mF(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),mF(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&zy(t.coordinateSystem,!1,t),o=this.group;r?o.setClipPath(r):o.removeClipPath()},e.prototype._enableRealtimeSort=function(t,r,o){var i=this;if(r.count()){var a=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,o),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(a.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(r,s,a,o)},o.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,r,o){var i=[];return t.each(t.mapDimension(r.dim),function(a,s){var l=o(s);l=l??NaN,i.push({dataIndex:s,mappedValue:l,ordinalNumber:a})}),i.sort(function(a,s){return s.mappedValue-a.mappedValue}),{ordinalNumbers:fe(i,function(a){return a.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,r,o){for(var i=o.scale,a=t.mapDimension(o.dim),s=Number.MAX_VALUE,l=0,u=i.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(a,i.getRawOrdinalNumber(l)),d=c<0?Number.MIN_VALUE:r(t.indexOfRawIndex(c));if(d>s)return!0;s=d}return!1},e.prototype._isOrderDifferentInView=function(t,r){for(var o=r.scale,i=o.getExtent(),a=Math.max(0,i[0]),s=Math.min(i[1],o.getOrdinalMeta().categories.length-1);a<=s;++a)if(t.ordinalNumbers[a]!==o.getRawOrdinalNumber(a))return!0},e.prototype._updateSortWithinSameData=function(t,r,o,i){if(this._isOrderChangedWithinSameData(t,r,o)){var a=this._dataSort(t,o,r);this._isOrderDifferentInView(a,o)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",axisId:o.index,sortInfo:a}))}},e.prototype._dispatchInitSort=function(t,r,o){var i=r.baseAxis,a=this._dataSort(t,i,function(s){return t.get(t.mapDimension(r.otherAxis.dim),s)});o.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:a})},e.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var r=this.group,o=this._data;t&&t.isAnimationEnabled()&&o&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],o.eachItemGraphicEl(function(i){bm(i,t,Ye(i).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(on),cF={cartesian2d:function(n,e){var t=e.width<0?-1:1,r=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var o=n.x+n.width,i=n.y+n.height,a=Q_(e.x,n.x),s=eI(e.x+e.width,o),l=Q_(e.y,n.y),u=eI(e.y+e.height,i),c=s<a,d=u<l;return e.x=c&&a>o?s:a,e.y=d&&l>i?u:l,e.width=c?0:s-a,e.height=d?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),c||d},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}var o=eI(e.r,n.r),i=Q_(e.r0,n.r0);e.r=o,e.r0=i;var a=o-i<0;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}return a}},dF={cartesian2d:function(n,e,t,r,o,i,a,s,l){var u=new It({shape:oe({},r),z2:1});if(u.__dataIndex=t,u.name="item",i){var c=u.shape,d=o?"height":"width";c[d]=0}return u},polar:function(n,e,t,r,o,i,a,s,l){var u=!o&&l?yx:$o,c=new u({shape:r,z2:1});c.name="item";var d=jj(o);if(c.calculateTextPosition=s0e(d,{isRoundCap:u===yx}),i){var h=c.shape,f=o?"r":"endAngle",p={};h[f]=o?r.r0:r.startAngle,p[f]=r[f],(s?Pt:bn)(c,{shape:p},i)}return c}};function d0e(n,e){var t=n.get("realtimeSort",!0),r=e.getBaseAxis();if(t&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function hF(n,e,t,r,o,i,a,s){var l,u;i?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(a?Pt:bn)(t,{shape:l},e,o,null);var c=e?n.baseAxis.model:null;(a?Pt:bn)(t,{shape:u},c,o)}function fF(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var h0e=["x","y","width","height"],f0e=["cx","cy","r","startAngle","endAngle"],pF={cartesian2d:function(n){return!fF(n,h0e)},polar:function(n){return!fF(n,f0e)}},p1={cartesian2d:function(n,e,t){var r=n.getItemLayout(e),o=t?g0e(t,r):0,i=r.width>0?1:-1,a=r.height>0?1:-1;return{x:r.x+i*o/2,y:r.y+a*o/2,width:r.width-i*o,height:r.height-a*o}},polar:function(n,e,t){var r=n.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function p0e(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function jj(n){return function(e){var t=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}}(n)}function gF(n,e,t,r,o,i,a,s){var l=e.getItemVisual(t,"style");if(s){if(!i.get("roundCap")){var c=n.shape,d=wd(r.getModel("itemStyle"),c,!0);oe(c,d),n.setShape(c)}}else{var u=r.get(["itemStyle","borderRadius"])||0;n.setShape("r",u)}n.useStyle(l);var h=r.getShallow("cursor");h&&n.attr("cursor",h);var f=s?a?o.r>=o.r0?"endArc":"startArc":o.endAngle>=o.startAngle?"endAngle":"startAngle":a?o.height>=0?"bottom":"top":o.width>=0?"right":"left",p=Cr(r);Hr(n,p,{labelFetcher:i,labelDataIndex:t,defaultText:op(i.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:f});var g=n.getTextContent();if(s&&g){var v=r.get(["label","position"]);n.textConfig.inside=v==="middle"?!0:null,l0e(n,v==="outside"?f:v,jj(a),r.get(["label","rotate"]))}hH(g,p,i.getRawValue(t),function(y){return Oj(e,y)});var m=r.getModel(["emphasis"]);On(n,m.get("focus"),m.get("blurScope"),m.get("disabled")),Wr(n,r),p0e(o)&&(n.style.fill="none",n.style.stroke="none",R(n.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function g0e(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var r=n.get(["itemStyle","borderWidth"])||0,o=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),i=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,o,i)}var v0e=function(){function n(){}return n}(),vF=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new v0e},e.prototype.buildPath=function(t,r){for(var o=r.points,i=this.baseDimIdx,a=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<o.length;c+=3)l[i]=u,l[a]=o[c+2],s[i]=o[c+i],s[a]=o[c+a],t.rect(s[0],s[1],l[0],l[1])},e}(vt);function mF(n,e,t,r){var o=n.getData(),i=o.getLayout("valueAxisHorizontal")?1:0,a=o.getLayout("largeDataIndices"),s=o.getLayout("size"),l=n.getModel("backgroundStyle"),u=o.getLayout("largeBackgroundPoints");if(u){var c=new vF({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=a,c.barWidth=s,c.useStyle(l.getItemStyle()),e.add(c),t&&t.push(c)}var d=new vF({shape:{points:o.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=i,d.largeDataIndices=a,d.barWidth=s,e.add(d),d.useStyle(o.getVisual("style")),Ye(d).seriesIndex=n.seriesIndex,n.get("silent")||(d.on("mousedown",yF),d.on("mousemove",yF)),t&&t.push(d)}var yF=bC(function(n){var e=this,t=m0e(e,n.offsetX,n.offsetY);Ye(e).dataIndex=t>=0?t:null},30,!1);function m0e(n,e,t){for(var r=n.baseDimIdx,o=1-r,i=n.shape.points,a=n.largeDataIndices,s=[],l=[],u=n.barWidth,c=0,d=i.length/3;c<d;c++){var h=c*3;if(l[r]=u,l[o]=i[h+2],s[r]=i[h+r],s[o]=i[h+o],l[o]<0&&(s[o]+=l[o],l[o]=-l[o]),e>=s[0]&&e<=s[0]+l[0]&&t>=s[1]&&t<=s[1]+l[1])return a[c]}return-1}function Kj(n,e,t){if(gh(t,"cartesian2d")){var r=e,o=t.getArea();return{x:n?r.x:o.x,y:n?o.y:r.y,width:n?r.width:o.width,height:n?o.height:r.height}}else{var o=t.getArea(),i=e;return{cx:o.cx,cy:o.cy,r0:n?o.r0:i.r0,r:n?o.r:i.r,startAngle:n?i.startAngle:0,endAngle:n?i.endAngle:Math.PI*2}}}function y0e(n,e,t){var r=n.type==="polar"?$o:It;return new r({shape:Kj(e,t,n),silent:!0,z2:0})}function b0e(n){n.registerChartView(c0e),n.registerSeriesModel(i0e),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Qe(JU,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,QU("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Uj("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},function(o){e.sortInfo&&o.axis.setCategorySortInfo(e.sortInfo)})})}var bF=Math.PI*2,g1=Math.PI/180;function Xj(n,e){return er(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function qj(n,e){var t=Xj(n,e),r=n.get("center"),o=n.get("radius");ce(o)||(o=[0,o]);var i=_e(t.width,e.getWidth()),a=_e(t.height,e.getHeight()),s=Math.min(i,a),l=_e(o[0],s/2),u=_e(o[1],s/2),c,d,h=n.coordinateSystem;if(h){var f=h.dataToPoint(r);c=f[0]||0,d=f[1]||0}else ce(r)||(r=[r,r]),c=_e(r[0],i)+t.x,d=_e(r[1],a)+t.y;return{cx:c,cy:d,r0:l,r:u}}function w0e(n,e,t){e.eachSeriesByType(n,function(r){var o=r.getData(),i=o.mapDimension("value"),a=Xj(r,t),s=qj(r,t),l=s.cx,u=s.cy,c=s.r,d=s.r0,h=-r.get("startAngle")*g1,f=r.get("endAngle"),p=r.get("padAngle")*g1;f=f==="auto"?h-bF:-f*g1;var g=r.get("minAngle")*g1,v=g+p,m=0;o.each(i,function(N){!isNaN(N)&&m++});var y=o.getSum(i),b=Math.PI/(y||m)*2,w=r.get("clockwise"),x=r.get("roseType"),S=r.get("stillShowZeroSum"),C=o.getDataExtent(i);C[0]=0;var k=w?1:-1,_=[h,f],I=k*p/2;RE(_,!w),h=_[0],f=_[1];var T=Yj(r);T.startAngle=h,T.endAngle=f,T.clockwise=w;var A=Math.abs(f-h),D=A,E=0,$=h;if(o.setLayout({viewRect:a,r:c}),o.each(i,function(N,M){var L;if(isNaN(N)){o.setItemLayout(M,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:l,cy:u,r0:d,r:x?NaN:c});return}x!=="area"?L=y===0&&S?b:N*b:L=A/m,L<v?(L=v,D-=v):E+=N;var V=$+k*L,W=0,j=0;p>L?(W=$+k*L/2,j=W):(W=$+I,j=V-I),o.setItemLayout(M,{angle:L,startAngle:W,endAngle:j,clockwise:w,cx:l,cy:u,r0:d,r:x?Wt(N,C,[d,c]):c}),$=V}),D<bF&&m)if(D<=.001){var P=A/m;o.each(i,function(N,M){if(!isNaN(N)){var L=o.getItemLayout(M);L.angle=P;var V=0,W=0;P<p?(V=h+k*(M+1/2)*P,W=V):(V=h+k*M*P+I,W=h+k*(M+1)*P-I),L.startAngle=V,L.endAngle=W}})}else b=D/E,$=h,o.each(i,function(N,M){if(!isNaN(N)){var L=o.getItemLayout(M),V=L.angle===v?v:N*b,W=0,j=0;V<p?(W=$+k*V/2,j=W):(W=$+I,j=$+k*V-I),L.startAngle=W,L.endAngle=j,$+=k*V}})})}var Yj=Tt();function Gy(n){return{seriesType:n,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(!(!r||!r.length)){var o=e.getData();o.filterSelf(function(i){for(var a=o.getName(i),s=0;s<r.length;s++)if(!r[s].isSelected(a))return!1;return!0})}}}}var x0e=Math.PI/180;function wF(n,e,t,r,o,i,a,s,l,u){if(n.length<2)return;function c(g){for(var v=g.rB,m=v*v,y=0;y<g.list.length;y++){var b=g.list[y],w=Math.abs(b.label.y-t),x=r+b.len,S=x*x,C=Math.sqrt((1-Math.abs(w*w/m))*S),k=e+(C+b.len2)*o,_=k-b.label.x,I=b.targetTextWidth-_*o;Zj(b,I,!0),b.label.x=k}}function d(g){for(var v={list:[],maxY:0},m={list:[],maxY:0},y=0;y<g.length;y++)if(g[y].labelAlignTo==="none"){var b=g[y],w=b.label.y>t?m:v,x=Math.abs(b.label.y-t);if(x>=w.maxY){var S=b.label.x-e-b.len2*o,C=r+b.len,k=Math.abs(S)<C?Math.sqrt(x*x/(1-S*S/C/C)):C;w.rB=k,w.maxY=x}w.list.push(b)}c(v),c(m)}for(var h=n.length,f=0;f<h;f++)if(n[f].position==="outer"&&n[f].labelAlignTo==="labelLine"){var p=n[f].label.x-u;n[f].linePoints[1][0]+=p,n[f].label.x=u}wj(n,l,l+a)&&d(n)}function S0e(n,e,t,r,o,i,a,s){for(var l=[],u=[],c=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<n.length;h++){var f=n[h].label;tI(n[h])||(f.x<e?(c=Math.min(c,f.x),l.push(n[h])):(d=Math.max(d,f.x),u.push(n[h])))}for(var h=0;h<n.length;h++){var p=n[h];if(!tI(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var f=p.label,g=p.linePoints,v=void 0;p.labelAlignTo==="edge"?f.x<e?v=g[2][0]-p.labelDistance-a-p.edgeDistance:v=a+o-p.edgeDistance-g[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?f.x<e?v=c-a-p.bleedMargin:v=a+o-d-p.bleedMargin:f.x<e?v=f.x-a-p.bleedMargin:v=a+o-f.x-p.bleedMargin,p.targetTextWidth=v,Zj(p,v)}}wF(u,e,t,r,1,o,i,a,s,d),wF(l,e,t,r,-1,o,i,a,s,c);for(var h=0;h<n.length;h++){var p=n[h];if(!tI(p)&&p.linePoints){var f=p.label,g=p.linePoints,m=p.labelAlignTo==="edge",y=f.style.padding,b=y?y[1]+y[3]:0,w=f.style.backgroundColor?0:b,x=p.rect.width+w,S=g[1][0]-g[2][0];m?f.x<e?g[2][0]=a+p.edgeDistance+x+p.labelDistance:g[2][0]=a+o-p.edgeDistance-x-p.labelDistance:(f.x<e?g[2][0]=f.x+p.labelDistance:g[2][0]=f.x-p.labelDistance,g[1][0]=g[2][0]+S),g[1][1]=g[2][1]=f.y}}}function Zj(n,e,t){if(t===void 0&&(t=!1),n.labelStyleWidth==null){var r=n.label,o=r.style,i=n.rect,a=o.backgroundColor,s=o.padding,l=s?s[1]+s[3]:0,u=o.overflow,c=i.width+(a?0:l);if(e<c||t){var d=i.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var h=r.getBoundingRect();r.setStyle("width",Math.ceil(h.width)),r.setStyle("backgroundColor",a)}else{var f=e-l,p=e<c?f:t?f>n.unconstrainedWidth?null:f:null;r.setStyle("width",p)}var g=r.getBoundingRect();i.width=g.width;var v=(r.style.margin||0)+2.1;i.height=g.height+v,i.y-=(i.height-d)/2}}}function tI(n){return n.position==="center"}function C0e(n){var e=n.getData(),t=[],r,o,i=!1,a=(n.get("minShowLabelAngle")||0)*x0e,s=e.getLayout("viewRect"),l=e.getLayout("r"),u=s.width,c=s.x,d=s.y,h=s.height;function f(S){S.ignore=!0}function p(S){if(!S.ignore)return!0;for(var C in S.states)if(S.states[C].ignore===!1)return!0;return!1}e.each(function(S){var C=e.getItemGraphicEl(S),k=C.shape,_=C.getTextContent(),I=C.getTextGuideLine(),T=e.getItemModel(S),A=T.getModel("label"),D=A.get("position")||T.get(["emphasis","label","position"]),E=A.get("distanceToLabelLine"),$=A.get("alignTo"),P=_e(A.get("edgeDistance"),u),N=A.get("bleedMargin"),M=T.getModel("labelLine"),L=M.get("length");L=_e(L,u);var V=M.get("length2");if(V=_e(V,u),Math.abs(k.endAngle-k.startAngle)<a){R(_.states,f),_.ignore=!0,I&&(R(I.states,f),I.ignore=!0);return}if(p(_)){var W=(k.startAngle+k.endAngle)/2,j=Math.cos(W),Q=Math.sin(W),te,se,ge,ye;r=k.cx,o=k.cy;var ve=D==="inside"||D==="inner";if(D==="center")te=k.cx,se=k.cy,ye="center";else{var de=(ve?(k.r+k.r0)/2*j:k.r*j)+r,Se=(ve?(k.r+k.r0)/2*Q:k.r*Q)+o;if(te=de+j*3,se=Se+Q*3,!ve){var me=de+j*(L+l-k.r),Ee=Se+Q*(L+l-k.r),F=me+(j<0?-1:1)*V,z=Ee;$==="edge"?te=j<0?c+P:c+u-P:te=F+(j<0?-E:E),se=z,ge=[[de,Se],[me,Ee],[F,z]]}ye=ve?"center":$==="edge"?j>0?"right":"left":j>0?"left":"right"}var J=Math.PI,ie=0,ae=A.get("rotate");if(Rt(ae))ie=ae*(J/180);else if(D==="center")ie=0;else if(ae==="radial"||ae===!0){var pe=j<0?-W+J:-W;ie=pe}else if(ae==="tangential"&&D!=="outside"&&D!=="outer"){var Ie=Math.atan2(j,Q);Ie<0&&(Ie=J*2+Ie);var Ce=Q>0;Ce&&(Ie=J+Ie),ie=Ie-J}if(i=!!ie,_.x=te,_.y=se,_.rotation=ie,_.setStyle({verticalAlign:"middle"}),ve){_.setStyle({align:ye});var Ze=_.states.select;Ze&&(Ze.x+=_.x,Ze.y+=_.y)}else{var Te=_.getBoundingRect().clone();Te.applyTransform(_.getComputedTransform());var we=(_.style.margin||0)+2.1;Te.y-=we/2,Te.height+=we,t.push({label:_,labelLine:I,position:D,len:L,len2:V,minTurnAngle:M.get("minTurnAngle"),maxSurfaceAngle:M.get("maxSurfaceAngle"),surfaceNormal:new at(j,Q),linePoints:ge,textAlign:ye,labelDistance:E,labelAlignTo:$,edgeDistance:P,bleedMargin:N,rect:Te,unconstrainedWidth:Te.width,labelStyleWidth:_.style.width})}C.setTextConfig({inside:ve})}}),!i&&n.get("avoidLabelOverlap")&&S0e(t,r,o,l,u,h,c,d);for(var g=0;g<t.length;g++){var v=t[g],m=v.label,y=v.labelLine,b=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:v.textAlign}),b&&(R(m.states,f),m.ignore=!0);var w=m.states.select;w&&(w.x+=m.x,w.y+=m.y)}if(y){var x=v.linePoints;b||!x?(R(y.states,f),y.ignore=!0):(mj(x,v.minTurnAngle),jme(x,v.surfaceNormal,v.maxSurfaceAngle),y.setShape({points:x}),m.__hostTarget.textGuideLineConfig={anchor:new at(x[0][0],x[0][1])})}}}var k0e=function(n){K(e,n);function e(t,r,o){var i=n.call(this)||this;i.z2=2;var a=new _t;return i.setTextContent(a),i.updateData(t,r,o,!0),i}return e.prototype.updateData=function(t,r,o,i){var a=this,s=t.hostModel,l=t.getItemModel(r),u=l.getModel("emphasis"),c=t.getItemLayout(r),d=oe(wd(l.getModel("itemStyle"),c,!0),c);if(isNaN(d.startAngle)){a.setShape(d);return}if(i){a.setShape(d);var h=s.getShallow("animationType");s.ecModel.ssr?(bn(a,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),a.originX=d.cx,a.originY=d.cy):h==="scale"?(a.shape.r=c.r0,bn(a,{shape:{r:c.r}},s,r)):o!=null?(a.setShape({startAngle:o,endAngle:o}),bn(a,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,r)):(a.shape.endAngle=c.startAngle,Pt(a,{shape:{endAngle:c.endAngle}},s,r))}else Wa(a),Pt(a,{shape:d},s,r);a.useStyle(t.getItemVisual(r,"style")),Wr(a,l);var f=(c.startAngle+c.endAngle)/2,p=s.get("selectedOffset"),g=Math.cos(f)*p,v=Math.sin(f)*p,m=l.getShallow("cursor");m&&a.attr("cursor",m),this._updateLabel(s,t,r),a.ensureState("emphasis").shape=oe({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},wd(u.getModel("itemStyle"),c)),oe(a.ensureState("select"),{x:g,y:v,shape:wd(l.getModel(["select","itemStyle"]),c)}),oe(a.ensureState("blur"),{shape:wd(l.getModel(["blur","itemStyle"]),c)});var y=a.getTextGuideLine(),b=a.getTextContent();y&&oe(y.ensureState("select"),{x:g,y:v}),oe(b.ensureState("select"),{x:g,y:v}),On(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,r,o){var i=this,a=r.getItemModel(o),s=a.getModel("labelLine"),l=r.getItemVisual(o,"style"),u=l&&l.fill,c=l&&l.opacity;Hr(i,Cr(a),{labelFetcher:r.hostModel,labelDataIndex:o,inheritColor:u,defaultOpacity:c,defaultText:t.getFormattedLabel(o,"normal")||r.getName(o)});var d=i.getTextContent();i.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var h=t.get(["label","position"]);if(h!=="outside"&&h!=="outer")i.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new No,this.setTextGuideLine(f)),A$(this,D$(a),{stroke:u,opacity:$a(s.get(["lineStyle","opacity"]),c,1)})}},e}($o),_0e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,o,i){var a=t.getData(),s=this._data,l=this.group,u;if(!s&&a.count()>0){for(var c=a.getItemLayout(0),d=1;isNaN(c&&c.startAngle)&&d<a.count();++d)c=a.getItemLayout(d);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),a.count()===0&&t.get("showEmptyCircle")){var h=Yj(t),f=new $o({shape:oe(qj(t,o),h)});f.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,l.add(f)}a.diff(s).add(function(p){var g=new k0e(a,p,u);a.setItemGraphicEl(p,g),l.add(g)}).update(function(p,g){var v=s.getItemGraphicEl(g);v.updateData(a,p,u),v.off("click"),l.add(v),a.setItemGraphicEl(p,v)}).remove(function(p){var g=s.getItemGraphicEl(p);bm(g,t,p)}).execute(),C0e(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=a)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,r){var o=r.getData(),i=o.getItemLayout(0);if(i){var a=t[0]-i.cx,s=t[1]-i.cy,l=Math.sqrt(a*a+s*s);return l<=i.r&&l>=i.r0}},e.type="pie",e}(on);function Up(n,e,t){e=ce(e)&&{coordDimensions:e}||oe({encodeDefine:n.getEncode()},e);var r=n.getSource(),o=Gp(r,e).dimensions,i=new ao(o,n);return i.initData(r,t),i}var Wy=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},n.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},n.prototype.getItemVisual=function(e,t){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,t)},n}(),I0e=Tt(),T0e=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wy(Re(this.getData,this),Re(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Up(this,{coordDimensions:["value"],encodeDefaulter:Qe(QE,this)})},e.prototype.getDataParams=function(t){var r=this.getData(),o=I0e(r),i=o.seats;if(!i){var a=[];r.each(r.mapDimension("value"),function(l){a.push(l)}),i=o.seats=sW(a,r.hostModel.get("percentPrecision"))}var s=n.prototype.getDataParams.call(this,t);return s.percent=i[t]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(t){Fd(t,"labelLine",["show"]);var r=t.labelLine,o=t.emphasis.labelLine;r.show=r.show&&t.label.show,o.show=o.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(gn);function A0e(n){return{seriesType:n,reset:function(e,t){var r=e.getData();r.filterSelf(function(o){var i=r.mapDimension("value"),a=r.get(i,o);return!(Rt(a)&&!isNaN(a)&&a<0)})}}}function D0e(n){n.registerChartView(_0e),n.registerSeriesModel(T0e),gU("pie",n.registerAction),n.registerLayout(Qe(w0e,"pie")),n.registerProcessor(Gy("pie")),n.registerProcessor(A0e("pie"))}var R0e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,r){return qs(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,r,o){return o.point(r.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(gn),Jj=4,E0e=function(){function n(){}return n}(),$0e=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.getDefaultShape=function(){return new E0e},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,r){var o=r.points,i=r.size,a=this.symbolProxy,s=a.shape,l=t.getContext?t.getContext():t,u=l&&i[0]<Jj,c=this.softClipShape,d;if(u){this._ctx=l;return}for(this._ctx=null,d=this._off;d<o.length;){var h=o[d++],f=o[d++];isNaN(h)||isNaN(f)||c&&!c.contain(h,f)||(s.x=h-i[0]/2,s.y=f-i[1]/2,s.width=i[0],s.height=i[1],a.buildPath(t,s,!0))}this.incremental&&(this._off=d,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,r=t.points,o=t.size,i=this._ctx,a=this.softClipShape,s;if(i){for(s=this._off;s<r.length;){var l=r[s++],u=r[s++];isNaN(l)||isNaN(u)||a&&!a.contain(l,u)||i.fillRect(l-o[0]/2,u-o[1]/2,o[0],o[1])}this.incremental&&(this._off=s,this.notClear=!0)}},e.prototype.findDataIndex=function(t,r){for(var o=this.shape,i=o.points,a=o.size,s=Math.max(a[0],4),l=Math.max(a[1],4),u=i.length/2-1;u>=0;u--){var c=u*2,d=i[c]-s/2,h=i[c+1]-l/2;if(t>=d&&r>=h&&t<=d+s&&r<=h+l)return u}return-1},e.prototype.contain=function(t,r){var o=this.transformCoordToLocal(t,r),i=this.getBoundingRect();if(t=o[0],r=o[1],i.contain(t,r)){var a=this.hoverDataIdx=this.findDataIndex(t,r);return a>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape,o=r.points,i=r.size,a=i[0],s=i[1],l=1/0,u=1/0,c=-1/0,d=-1/0,h=0;h<o.length;){var f=o[h++],p=o[h++];l=Math.min(f,l),c=Math.max(f,c),u=Math.min(p,u),d=Math.max(p,d)}t=this._rect=new lt(l-a/2,u-s/2,c-l+a,d-u+s)}return t},e}(vt),P0e=function(){function n(){this.group=new Xe}return n.prototype.updateData=function(e,t){this._clear();var r=this._create();r.setShape({points:e.getLayout("points")}),this._setCommon(r,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var o=(r.endIndex-r.startIndex)*2,i=r.startIndex*4*2;t=new Float32Array(t.buffer,i,o)}r.setShape("points",t),r.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,r){var o=this._newAdded[0],i=t.getLayout("points"),a=o&&o.shape.points;if(a&&a.length<2e4){var s=a.length,l=new Float32Array(s+i.length);l.set(a),l.set(i,s),o.endIndex=e.end,o.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:i}),this._setCommon(u,t,r)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new $0e({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,r){var o=t.hostModel;r=r||{};var i=t.getVisual("symbolSize");e.setShape("size",i instanceof Array?i:[i,i]),e.softClipShape=r.clipShape||null,e.symbolProxy=Un(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<Jj;e.useStyle(o.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("style"),l=s&&s.fill;l&&e.setColor(l);var u=Ye(e);u.seriesIndex=o.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var d=e.hoverDataIdx;d>=0&&(u.dataIndex=d+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),M0e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){var i=t.getData(),a=this._updateSymbolDraw(i,t);a.updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,r,o){var i=t.getData(),a=this._updateSymbolDraw(i,t);a.incrementalPrepareUpdate(i),this._finished=!1},e.prototype.incrementalRender=function(t,r,o){this._symbolDraw.incrementalUpdate(t,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=t.end===r.getData().count()},e.prototype.updateTransform=function(t,r,o){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var a=Vy("").reset(t,r,o);a.progress&&a.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var r=t.coordinateSystem;return r&&r.getArea&&r.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,r){var o=this._symbolDraw,i=r.pipelineContext,a=i.large;return(!o||a!==this._isLargeDraw)&&(o&&o.remove(),o=this._symbolDraw=a?new P0e:new By,this._isLargeDraw=a,this.group.removeAll()),this.group.add(o.group),o},e.prototype.remove=function(t,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(on),L0e=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Ct),XA=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Qn).models[0]},e.type="cartesian2dAxis",e}(Ct);Vn(XA,Hp);var Qj={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},N0e=rt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Qj),N$=rt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Qj),O0e=rt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},N$),F0e=Ve({logBase:10},N$);const eK={category:N0e,value:N$,time:O0e,log:F0e};var B0e={value:1,category:1,time:1,log:1};function ip(n,e,t,r){R(B0e,function(o,i){var a=rt(rt({},eK[i],!0),r,!0),s=function(l){K(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+i,c}return u.prototype.mergeDefaultAndTheme=function(c,d){var h=xm(this),f=h?Lp(c):{},p=d.getTheme();rt(c,p.get(i+"Axis")),rt(c,this.getDefaultOption()),c.type=xF(c),h&&Bu(c,f,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=zA.createByAxisModel(this))},u.prototype.getCategories=function(c){var d=this.option;if(d.type==="category")return c?d.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+i,u.defaultOption=a,u}(t);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(e+"Axis",xF)}function xF(n){return n.type||(n.data?"category":"value")}var z0e=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return fe(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ht(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}(),qA=["x","y"];function SF(n){return n.type==="interval"||n.type==="time"}var V0e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=qA,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!SF(t)||!SF(r))){var o=t.getExtent(),i=r.getExtent(),a=this.dataToPoint([o[0],i[0]]),s=this.dataToPoint([o[1],i[1]]),l=o[1]-o[0],u=i[1]-i[0];if(!(!l||!u)){var c=(s[0]-a[0])/l,d=(s[1]-a[1])/u,h=a[0]-o[0]*c,f=a[1]-i[0]*d,p=this._transform=[c,0,0,d,h,f];this._invTransform=ch([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),o=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&o.contain(o.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,r){var o=this.dataToPoint(t),i=this.dataToPoint(r),a=this.getArea(),s=new lt(o[0],o[1],i[0]-o[0],i[1]-o[1]);return a.intersect(s)},e.prototype.dataToPoint=function(t,r,o){o=o||[];var i=t[0],a=t[1];if(this._transform&&i!=null&&isFinite(i)&&a!=null&&isFinite(a))return $r(o,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return o[0]=s.toGlobalCoord(s.dataToCoord(i,r)),o[1]=l.toGlobalCoord(l.dataToCoord(a,r)),o},e.prototype.clampData=function(t,r){var o=this.getAxis("x").scale,i=this.getAxis("y").scale,a=o.getExtent(),s=i.getExtent(),l=o.parse(t[0]),u=i.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},e.prototype.pointToData=function(t,r){var o=[];if(this._invTransform)return $r(o,t,this._invTransform);var i=this.getAxis("x"),a=this.getAxis("y");return o[0]=i.coordToData(i.toLocalCoord(t[0]),r),o[1]=a.coordToData(a.toLocalCoord(t[1]),r),o},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var r=this.getAxis("x").getGlobalExtent(),o=this.getAxis("y").getGlobalExtent(),i=Math.min(r[0],r[1])-t,a=Math.min(o[0],o[1])-t,s=Math.max(r[0],r[1])-i+t,l=Math.max(o[0],o[1])-a+t;return new lt(i,a,s,l)},e}(z0e),G0e=function(n){K(e,n);function e(t,r,o,i,a){var s=n.call(this,t,r,o)||this;return s.index=0,s.type=i||"value",s.position=a||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(da);function YA(n,e,t){t=t||{};var r=n.coordinateSystem,o=e.axis,i={},a=o.getAxesOnZeroOf()[0],s=o.position,l=a?"onZero":s,u=o.dim,c=r.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],h={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,p=u==="x"?[d[2]-f,d[3]+f]:[d[0]-f,d[1]+f];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));p[h.onZero]=Math.max(Math.min(g,p[1]),p[0])}i.position=[u==="y"?p[h[l]]:d[0],u==="x"?p[h[l]]:d[3]],i.rotation=Math.PI/2*(u==="x"?0:1);var v={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=v[s],i.labelOffset=a?p[h[s]]-p[h.onZero]:0,e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),mr(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var m=e.get(["axisLabel","rotate"]);return i.labelRotate=l==="top"?-m:m,i.z2=1,i}function CF(n){return n.get("coordinateSystem")==="cartesian2d"}function kF(n){var e={xAxisModel:null,yAxisModel:null};return R(e,function(t,r){var o=r.replace(/Model$/,""),i=n.getReferringComponents(o,Qn).models[0];e[r]=i}),e}var nI=Math.log;function tK(n,e,t){var r=Il.prototype,o=r.getTicks.call(t),i=r.getTicks.call(t,!0),a=o.length-1,s=r.getInterval.call(t),l=oj(n,e),u=l.extent,c=l.fixMin,d=l.fixMax;if(n.type==="log"){var h=nI(n.base);u=[nI(u[0])/h,nI(u[1])/h]}n.setExtent(u[0],u[1]),n.calcNiceExtent({splitNumber:a,fixMin:c,fixMax:d});var f=r.getExtent.call(n);c&&(u[0]=f[0]),d&&(u[1]=f[1]);var p=r.getInterval.call(n),g=u[0],v=u[1];if(c&&d)p=(v-g)/a;else if(c)for(v=u[0]+p*a;v<u[1]&&isFinite(v)&&isFinite(u[1]);)p=V_(p),v=u[0]+p*a;else if(d)for(g=u[1]-p*a;g>u[0]&&isFinite(g)&&isFinite(u[0]);)p=V_(p),g=u[1]-p*a;else{var m=n.getTicks().length-1;m>a&&(p=V_(p));var y=p*a;v=Math.ceil(u[1]/p)*p,g=Mn(v-y),g<0&&u[0]>=0?(g=0,v=Mn(y)):v>0&&u[1]<=0&&(v=0,g=-Mn(y))}var b=(o[0].value-i[0].value)/s,w=(o[a].value-i[a].value)/s;r.setExtent.call(n,g+p*b,v+p*w),r.setInterval.call(n,p),(b||w)&&r.setNiceExtent.call(n,g+p,v-p)}var W0e=function(){function n(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=qA,this._initCartesian(e,t,r),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function o(a){var s,l=yt(a),u=l.length;if(u){for(var c=[],d=u-1;d>=0;d--){var h=+l[d],f=a[h],p=f.model,g=f.scale;VA(g)&&p.get("alignTicks")&&p.get("interval")==null?c.push(f):(Wd(g,p),VA(g)&&(s=f))}c.length&&(s||(s=c.pop(),Wd(s.scale,s.model)),R(c,function(v){tK(v.scale,v.model,s.scale)}))}}o(r.x),o(r.y);var i={};R(r.x,function(a){_F(r,"y",a,i)}),R(r.y,function(a){_F(r,"x",a,i)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,r){var o=e.getBoxLayoutParams(),i=!r&&e.get("containLabel"),a=er(o,{width:t.getWidth(),height:t.getHeight()});this._rect=a;var s=this._axesList;l(),i&&(R(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=lme(u);if(c){var d=u.isHorizontal()?"height":"width",h=u.model.get(["axisLabel","margin"]);a[d]-=c[d]+h,u.position==="top"?a.y+=c.height+h:u.position==="left"&&(a.x+=c.width+h)}}}),l()),R(this._coordsList,function(u){u.calcAffineTransform()});function l(){R(s,function(u){var c=u.isHorizontal(),d=c?[0,a.width]:[0,a.height],h=u.inverse?1:0;u.setExtent(d[h],d[1-h]),H0e(u,c?a.x:a.y)})}},n.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}Ge(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var o=0,i=this._coordsList;o<i.length;o++)if(i[o].getAxis("x").index===e||i[o].getAxis("y").index===t)return i[o]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,r){var o=this._findConvertTarget(t);return o.cartesian?o.cartesian.dataToPoint(r):o.axis?o.axis.toGlobalCoord(o.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(e,t,r){var o=this._findConvertTarget(t);return o.cartesian?o.cartesian.pointToData(r):o.axis?o.axis.coordToData(o.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",Qn).models[0],o=e.yAxisModel||t&&t.getReferringComponents("yAxis",Qn).models[0],i=e.gridModel,a=this._coordsList,s,l;if(t)s=t.coordinateSystem,ct(a,s)<0&&(s=null);else if(r&&o)s=this.getCartesian(r.componentIndex,o.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(o)l=this.getAxis("y",o.componentIndex);else if(i){var u=i.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,r){var o=this,i=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,R(s.x,function(c,d){R(s.y,function(h,f){var p="x"+d+"y"+f,g=new V0e(p);g.master=o,g.model=e,o._coordsMap[p]=g,o._coordsList.push(g),g.addAxis(c),g.addAxis(h)})});function u(c){return function(d,h){if(rI(d,e)){var f=d.get("position");c==="x"?f!=="top"&&f!=="bottom"&&(f=a.bottom?"top":"bottom"):f!=="left"&&f!=="right"&&(f=a.left?"right":"left"),a[f]=!0;var p=new G0e(c,Oy(d),[0,0],d.get("type"),f),g=p.type==="category";p.onBand=g&&d.get("boundaryGap"),p.inverse=d.get("inverse"),d.axis=p,p.model=d,p.grid=i,p.index=h,i._axesList.push(p),s[c][h]=p,l[c]++}}}},n.prototype._updateScale=function(e,t){R(this._axesList,function(o){if(o.scale.setExtent(1/0,-1/0),o.type==="category"){var i=o.model.get("categorySortInfo");o.scale.setSortInfo(i)}}),e.eachSeries(function(o){if(CF(o)){var i=kF(o),a=i.xAxisModel,s=i.yAxisModel;if(!rI(a,t)||!rI(s,t))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),u=o.getData(),c=l.getAxis("x"),d=l.getAxis("y");r(u,c),r(u,d)}},this);function r(o,i){R(px(o,i.dim),function(a){i.scale.unionExtentFromData(o,a)})}},n.prototype.getTooltipAxes=function(e){var t=[],r=[];return R(this.getCartesians(),function(o){var i=e!=null&&e!=="auto"?o.getAxis(e):o.getBaseAxis(),a=o.getOtherAxis(i);ct(t,i)<0&&t.push(i),ct(r,a)<0&&r.push(a)}),{baseAxes:t,otherAxes:r}},n.create=function(e,t){var r=[];return e.eachComponent("grid",function(o,i){var a=new n(o,e,t);a.name="grid_"+i,a.resize(o,t,!0),o.coordinateSystem=a,r.push(a)}),e.eachSeries(function(o){if(CF(o)){var i=kF(o),a=i.xAxisModel,s=i.yAxisModel,l=a.getCoordSysModel(),u=l.coordinateSystem;o.coordinateSystem=u.getCartesian(a.componentIndex,s.componentIndex)}}),r},n.dimensions=qA,n}();function rI(n,e){return n.getCoordSysModel()===e}function _F(n,e,t,r){t.getAxesOnZeroOf=function(){return i?[i]:[]};var o=n[e],i,a=t.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)IF(o[l])&&(i=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&IF(o[u])&&!r[c(o[u])]){i=o[u];break}i&&(r[c(i)]=!0);function c(d){return d.dim+"_"+d.index}}function IF(n){return n&&n.type!=="category"&&n.type!=="time"&&sme(n)}function H0e(n,e){var t=n.getExtent(),r=t[0]+t[1];n.toGlobalCoord=n.dim==="x"?function(o){return o+e}:function(o){return r-o+e},n.toLocalCoord=n.dim==="x"?function(o){return o-e}:function(o){return r-o+e}}var gu=Math.PI,Ao=function(){function n(e,t){this.group=new Xe,this.opt=t,this.axisModel=e,Ve(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new Xe({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(e){return!!TF[e]},n.prototype.add=function(e){TF[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,r){var o=CE(t-e),i,a;return Qf(o)?(a=r>0?"top":"bottom",i="center"):Qf(o-gu)?(a=r>0?"bottom":"top",i="center"):(a="middle",o>0&&o<gu?i=r>0?"right":"left":i=r>0?"left":"right"),{rotation:o,textAlign:i,textVerticalAlign:a}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),TF={axisLine:function(n,e,t,r){var o=e.get(["axisLine","show"]);if(o==="auto"&&n.handleAutoShown&&(o=n.handleAutoShown("axisLine")),!!o){var i=e.axis.getExtent(),a=r.transform,s=[i[0],0],l=[i[1],0],u=s[0]>l[0];a&&($r(s,s,a),$r(l,l,a));var c=oe({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new yr({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});tp(d.shape,d.style.lineWidth),d.anid="line",t.add(d);var h=e.get(["axisLine","symbol"]);if(h!=null){var f=e.get(["axisLine","symbolSize"]);De(h)&&(h=[h,h]),(De(f)||Rt(f))&&(f=[f,f]);var p=ph(e.get(["axisLine","symbolOffset"])||0,f),g=f[0],v=f[1];R([{rotate:n.rotation+Math.PI/2,offset:p[0],r:0},{rotate:n.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(m,y){if(h[y]!=="none"&&h[y]!=null){var b=Un(h[y],-g/2,-v/2,g,v,c.stroke,!0),w=m.r+m.offset,x=u?l:s;b.attr({rotation:m.rotate,x:x[0]+w*Math.cos(n.rotation),y:x[1]-w*Math.sin(n.rotation),silent:!0,z2:11}),t.add(b)}})}}},axisTickLabel:function(n,e,t,r){var o=K0e(t,r,e,n),i=q0e(t,r,e,n);if(j0e(e,i,o),X0e(t,r,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])){var a=yj(fe(i,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));xj(a)}},axisName:function(n,e,t,r){var o=mr(n.axisName,e.get("name"));if(o){var i=e.get("nameLocation"),a=n.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),c=u[0]>u[1]?-1:1,d=[i==="start"?u[0]-c*l:i==="end"?u[1]+c*l:(u[0]+u[1])/2,DF(i)?n.labelOffset+a*l:0],h,f=e.get("nameRotate");f!=null&&(f=f*gu/180);var p;DF(i)?h=Ao.innerTextLayout(n.rotation,f??n.rotation,a):(h=U0e(n.rotation,i,f||0,u),p=n.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(h.rotation)),!isFinite(p)&&(p=null)));var g=s.getFont(),v=e.get("nameTruncate",!0)||{},m=v.ellipsis,y=mr(n.nameTruncateMaxWidth,v.maxWidth,p),b=new _t({x:d[0],y:d[1],rotation:h.rotation,silent:Ao.isLabelSilent(e),style:dn(s,{text:o,font:g,overflow:"truncate",width:y,ellipsis:m,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||h.textAlign,verticalAlign:s.get("verticalAlign")||h.textVerticalAlign}),z2:1});if($p({el:b,componentModel:e,itemName:o}),b.__fullText=o,b.anid="name",e.get("triggerEvent")){var w=Ao.makeAxisEventDataBase(e);w.targetType="axisName",w.name=o,Ye(b).eventData=w}r.add(b),b.updateTransform(),t.add(b),b.decomposeTransform()}}};function U0e(n,e,t,r){var o=CE(t-n),i,a,s=r[0]>r[1],l=e==="start"&&!s||e!=="start"&&s;return Qf(o-gu/2)?(a=l?"bottom":"top",i="center"):Qf(o-gu*1.5)?(a=l?"top":"bottom",i="center"):(a="middle",o<gu*1.5&&o>gu/2?i=l?"left":"right":i=l?"right":"left"),{rotation:o,textAlign:i,textVerticalAlign:a}}function j0e(n,e,t){if(!ij(n.axis)){var r=n.get(["axisLabel","showMinLabel"]),o=n.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var i=e[0],a=e[1],s=e[e.length-1],l=e[e.length-2],u=t[0],c=t[1],d=t[t.length-1],h=t[t.length-2];r===!1?(Ei(i),Ei(u)):AF(i,a)&&(r?(Ei(a),Ei(c)):(Ei(i),Ei(u))),o===!1?(Ei(s),Ei(d)):AF(l,s)&&(o?(Ei(l),Ei(h)):(Ei(s),Ei(d)))}}function Ei(n){n&&(n.ignore=!0)}function AF(n,e){var t=n&&n.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!t||!r)){var o=Iy([]);return Ju(o,o,-n.rotation),t.applyTransform(As([],o,n.getLocalTransform())),r.applyTransform(As([],o,e.getLocalTransform())),t.intersect(r)}}function DF(n){return n==="middle"||n==="center"}function nK(n,e,t,r,o){for(var i=[],a=[],s=[],l=0;l<n.length;l++){var u=n[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=t,e&&($r(a,a,e),$r(s,s,e));var c=new yr({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});tp(c.shape,c.style.lineWidth),c.anid=o+"_"+n[l].tickValue,i.push(c)}return i}function K0e(n,e,t,r){var o=t.axis,i=t.getModel("axisTick"),a=i.get("show");if(a==="auto"&&r.handleAutoShown&&(a=r.handleAutoShown("axisTick")),!(!a||o.scale.isBlank())){for(var s=i.getModel("lineStyle"),l=r.tickDirection*i.get("length"),u=o.getTicksCoords(),c=nK(u,e.transform,l,Ve(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<c.length;d++)n.add(c[d]);return c}}function X0e(n,e,t,r){var o=t.axis,i=t.getModel("minorTick");if(!(!i.get("show")||o.scale.isBlank())){var a=o.getMinorTicksCoords();if(a.length)for(var s=i.getModel("lineStyle"),l=r*i.get("length"),u=Ve(s.getLineStyle(),Ve(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),c=0;c<a.length;c++)for(var d=nK(a[c],e.transform,l,u,"minorticks_"+c),h=0;h<d.length;h++)n.add(d[h])}}function q0e(n,e,t,r){var o=t.axis,i=mr(r.axisLabelShow,t.get(["axisLabel","show"]));if(!(!i||o.scale.isBlank())){var a=t.getModel("axisLabel"),s=a.get("margin"),l=o.getViewLabels(),u=(mr(r.labelRotate,a.get("rotate"))||0)*gu/180,c=Ao.innerTextLayout(r.rotation,u,r.labelDirection),d=t.getCategories&&t.getCategories(!0),h=[],f=Ao.isLabelSilent(t),p=t.get("triggerEvent");return R(l,function(g,v){var m=o.scale.type==="ordinal"?o.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,y=g.formattedLabel,b=g.rawLabel,w=a;if(d&&d[m]){var x=d[m];Ge(x)&&x.textStyle&&(w=new tn(x.textStyle,a,t.ecModel))}var S=w.getTextColor()||t.get(["axisLine","lineStyle","color"]),C=o.dataToCoord(m),k=w.getShallow("align",!0)||c.textAlign,_=et(w.getShallow("alignMinLabel",!0),k),I=et(w.getShallow("alignMaxLabel",!0),k),T=w.getShallow("verticalAlign",!0)||w.getShallow("baseline",!0)||c.textVerticalAlign,A=et(w.getShallow("verticalAlignMinLabel",!0),T),D=et(w.getShallow("verticalAlignMaxLabel",!0),T),E=new _t({x:C,y:r.labelOffset+r.labelDirection*s,rotation:c.rotation,silent:f,z2:10+(g.level||0),style:dn(w,{text:y,align:v===0?_:v===l.length-1?I:k,verticalAlign:v===0?A:v===l.length-1?D:T,fill:ze(S)?S(o.type==="category"?b:o.type==="value"?m+"":m,v):S})});if(E.anid="label_"+m,p){var $=Ao.makeAxisEventDataBase(t);$.targetType="axisLabel",$.value=b,$.tickIndex=v,o.type==="category"&&($.dataIndex=m),Ye(E).eventData=$}e.add(E),E.updateTransform(),h.push(E),n.add(E),E.decomposeTransform()}),h}}function Y0e(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Z0e(t,n,e),t.seriesInvolved&&Q0e(t,n),t}function Z0e(n,e,t){var r=e.getComponent("tooltip"),o=e.getComponent("axisPointer"),i=o.get("link",!0)||[],a=[];R(t.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Rm(s.model),u=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=s;var c=s.model,d=c.getModel("tooltip",r);if(R(s.getAxes(),Qe(g,!1,null)),s.getTooltipAxes&&r&&d.get("show")){var h=d.get("trigger")==="axis",f=d.get(["axisPointer","type"])==="cross",p=s.getTooltipAxes(d.get(["axisPointer","axis"]));(h||f)&&R(p.baseAxes,Qe(g,f?"cross":!0,h)),f&&R(p.otherAxes,Qe(g,"cross",!1))}function g(v,m,y){var b=y.model.getModel("axisPointer",o),w=b.get("show");if(!(!w||w==="auto"&&!v&&!ZA(b))){m==null&&(m=b.get("triggerTooltip")),b=v?J0e(y,d,o,e,v,m):b;var x=b.get("snap"),S=b.get("triggerEmphasis"),C=Rm(y.model),k=m||x||y.type==="category",_=n.axesInfo[C]={key:C,axis:y,coordSys:s,axisPointerModel:b,triggerTooltip:m,triggerEmphasis:S,involveSeries:k,snap:x,useHandle:ZA(b),seriesModels:[],linkGroup:null};u[C]=_,n.seriesInvolved=n.seriesInvolved||k;var I=ebe(i,y);if(I!=null){var T=a[I]||(a[I]={axesInfo:{}});T.axesInfo[C]=_,T.mapper=i[I].mapper,_.linkGroup=T}}}})}function J0e(n,e,t,r,o,i){var a=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};R(s,function(h){l[h]=We(a.get(h))}),l.snap=n.type!=="category"&&!!i,a.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),o==="cross"){var c=a.get(["label","show"]);if(u.show=c??!0,!i){var d=l.lineStyle=a.get("crossStyle");d&&Ve(u,d.textStyle)}}return n.model.getModel("axisPointer",new tn(l,t,r))}function Q0e(n,e){e.eachSeries(function(t){var r=t.coordinateSystem,o=t.get(["tooltip","trigger"],!0),i=t.get(["tooltip","show"],!0);!r||o==="none"||o===!1||o==="item"||i===!1||t.get(["axisPointer","show"],!0)===!1||R(n.coordSysAxesInfo[Rm(r.model)],function(a){var s=a.axis;r.getAxis(s.dim)===s&&(a.seriesModels.push(t),a.seriesDataCount==null&&(a.seriesDataCount=0),a.seriesDataCount+=t.getData().count())})})}function ebe(n,e){for(var t=e.model,r=e.dim,o=0;o<n.length;o++){var i=n[o]||{};if(oI(i[r+"AxisId"],t.id)||oI(i[r+"AxisIndex"],t.componentIndex)||oI(i[r+"AxisName"],t.name))return o}}function oI(n,e){return n==="all"||ce(n)&&ct(n,e)>=0||n===e}function tbe(n){var e=O$(n);if(e){var t=e.axisPointerModel,r=e.axis.scale,o=t.option,i=t.get("status"),a=t.get("value");a!=null&&(a=r.parse(a));var s=ZA(t);i==null&&(o.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(a==null||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),o.value=a,s&&(o.status=e.axis.scale.isBlank()?"hide":"show")}}function O$(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Rm(n)]}function nbe(n){var e=O$(n);return e&&e.axisPointerModel}function ZA(n){return!!n.get(["handle","show"])}function Rm(n){return n.type+"||"+n.id}var RF={},vh=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o,i){this.axisPointerClass&&tbe(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,o,!0)},e.prototype.updateAxisPointer=function(t,r,o,i){this._doUpdateAxisPointerClass(t,o,!1)},e.prototype.remove=function(t,r){var o=this._axisPointer;o&&o.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,o){var i=e.getAxisPointerClass(this.axisPointerClass);if(i){var a=nbe(t);a?(this._axisPointer||(this._axisPointer=new i)).render(t,a,r,o):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){RF[t]=r},e.getAxisPointerClass=function(t){return t&&RF[t]},e.type="axis",e}(Cn),JA=Tt();function rK(n,e,t,r){var o=t.axis;if(!o.scale.isBlank()){var i=t.getModel("splitArea"),a=i.getModel("areaStyle"),s=a.get("color"),l=r.coordinateSystem.getRect(),u=o.getTicksCoords({tickModel:i,clamp:!0});if(u.length){var c=s.length,d=JA(n).splitAreaColors,h=Pe(),f=0;if(d)for(var p=0;p<u.length;p++){var g=d.get(u[p].tickValue);if(g!=null){f=(g+(c-1)*p)%c;break}}var v=o.toGlobalCoord(u[0].coord),m=a.getAreaStyle();s=ce(s)?s:[s];for(var p=1;p<u.length;p++){var y=o.toGlobalCoord(u[p].coord),b=void 0,w=void 0,x=void 0,S=void 0;o.isHorizontal()?(b=v,w=l.y,x=y-b,S=l.height,v=b+x):(b=l.x,w=v,x=l.width,S=y-w,v=w+S);var C=u[p-1].tickValue;C!=null&&h.set(C,f),e.add(new It({anid:C!=null?"area_"+C:null,shape:{x:b,y:w,width:x,height:S},style:Ve({fill:s[f]},m),autoBatch:!0,silent:!0})),f=(f+1)%c}JA(n).splitAreaColors=h}}}function oK(n){JA(n).splitAreaColors=null}var rbe=["axisLine","axisTickLabel","axisName"],obe=["splitArea","splitLine","minorSplitLine"],iK=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,o,i){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Xe,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),l=YA(s,t),u=new Ao(t,oe({handleAutoShown:function(d){for(var h=s.coordinateSystem.getCartesians(),f=0;f<h.length;f++)if(VA(h[f].getOtherAxis(t.axis).scale))return!0;return!1}},l));R(rbe,u.add,u),this._axisGroup.add(u.getGroup()),R(obe,function(d){t.get([d,"show"])&&ibe[d](this,this._axisGroup,t,s)},this);var c=i&&i.type==="changeAxisOrder"&&i.isInitSort;c||My(a,this._axisGroup,t),n.prototype.render.call(this,t,r,o,i)}},e.prototype.remove=function(){oK(this)},e.type="cartesianAxis",e}(vh),ibe={splitLine:function(n,e,t,r){var o=t.axis;if(!o.scale.isBlank()){var i=t.getModel("splitLine"),a=i.getModel("lineStyle"),s=a.get("color");s=ce(s)?s:[s];for(var l=r.coordinateSystem.getRect(),u=o.isHorizontal(),c=0,d=o.getTicksCoords({tickModel:i}),h=[],f=[],p=a.getLineStyle(),g=0;g<d.length;g++){var v=o.toGlobalCoord(d[g].coord);u?(h[0]=v,h[1]=l.y,f[0]=v,f[1]=l.y+l.height):(h[0]=l.x,h[1]=v,f[0]=l.x+l.width,f[1]=v);var m=c++%s.length,y=d[g].tickValue,b=new yr({anid:y!=null?"line_"+d[g].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:Ve({stroke:s[m]},p),silent:!0});tp(b.shape,p.lineWidth),e.add(b)}}},minorSplitLine:function(n,e,t,r){var o=t.axis,i=t.getModel("minorSplitLine"),a=i.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=o.isHorizontal(),u=o.getMinorTicksCoords();if(u.length)for(var c=[],d=[],h=a.getLineStyle(),f=0;f<u.length;f++)for(var p=0;p<u[f].length;p++){var g=o.toGlobalCoord(u[f][p].coord);l?(c[0]=g,c[1]=s.y,d[0]=g,d[1]=s.y+s.height):(c[0]=s.x,c[1]=g,d[0]=s.x+s.width,d[1]=g);var v=new yr({anid:"minor_line_"+u[f][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:h,silent:!0});tp(v.shape,h.lineWidth),e.add(v)}},splitArea:function(n,e,t,r){rK(n,e,t,r)}},aK=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(iK),abe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=aK.type,t}return e.type="yAxis",e}(iK),sbe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new It({shape:t.coordinateSystem.getRect(),style:Ve({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Cn),EF={offset:0};function sK(n){n.registerComponentView(sbe),n.registerComponentModel(L0e),n.registerCoordinateSystem("cartesian2d",W0e),ip(n,"x",XA,EF),ip(n,"y",XA,EF),n.registerComponentView(aK),n.registerComponentView(abe),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function lbe(n){pt(sK),n.registerSeriesModel(R0e),n.registerChartView(M0e),n.registerLayout(Vy("scatter"))}function ube(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),r=[],o=e.coordinateSystem;if(o){var i=o.getIndicatorAxes();R(i,function(a,s){t.each(t.mapDimension(i[s].dim),function(l,u){r[u]=r[u]||[];var c=o.dataToPoint(l,s);r[u][s]=$F(c)?c:PF(o)})}),t.each(function(a){var s=SG(r[a],function(l){return $F(l)})||PF(o);r[a].push(s.slice()),t.setItemLayout(a,r[a])})}})}function $F(n){return!isNaN(n[0])&&!isNaN(n[1])}function PF(n){return[n.cx,n.cy]}function cbe(n){var e=n.polar;if(e){ce(e)||(e=[e]);var t=[];R(e,function(r,o){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),n.radar=n.radar||[],ce(n.radar)||(n.radar=[n.radar]),n.radar.push(r)):t.push(r)}),n.polar=t}R(n.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var dbe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){var i=t.coordinateSystem,a=this.group,s=t.getData(),l=this._data;function u(h,f){var p=h.getItemVisual(f,"symbol")||"circle";if(p!=="none"){var g=Vp(h.getItemVisual(f,"symbolSize")),v=Un(p,-1,-1,2,2),m=h.getItemVisual(f,"symbolRotate")||0;return v.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:m*Math.PI/180||0}),v}}function c(h,f,p,g,v,m){p.removeAll();for(var y=0;y<f.length-1;y++){var b=u(g,v);b&&(b.__dimIdx=y,h[y]?(b.setPosition(h[y]),dh[m?"initProps":"updateProps"](b,{x:f[y][0],y:f[y][1]},t,v)):b.setPosition(f[y]),p.add(b))}}function d(h){return fe(h,function(f){return[i.cx,i.cy]})}s.diff(l).add(function(h){var f=s.getItemLayout(h);if(f){var p=new Po,g=new No,v={shape:{points:f}};p.shape.points=d(f),g.shape.points=d(f),bn(p,v,t,h),bn(g,v,t,h);var m=new Xe,y=new Xe;m.add(g),m.add(p),m.add(y),c(g.shape.points,f,y,s,h,!0),s.setItemGraphicEl(h,m)}}).update(function(h,f){var p=l.getItemGraphicEl(f),g=p.childAt(0),v=p.childAt(1),m=p.childAt(2),y={shape:{points:s.getItemLayout(h)}};y.shape.points&&(c(g.shape.points,y.shape.points,m,s,h,!1),Wa(v),Wa(g),Pt(g,y,t),Pt(v,y,t),s.setItemGraphicEl(h,p))}).remove(function(h){a.remove(l.getItemGraphicEl(h))}).execute(),s.eachItemGraphicEl(function(h,f){var p=s.getItemModel(f),g=h.childAt(0),v=h.childAt(1),m=h.childAt(2),y=s.getItemVisual(f,"style"),b=y.fill;a.add(h),g.useStyle(Ve(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:b})),Wr(g,p,"lineStyle"),Wr(v,p,"areaStyle");var w=p.getModel("areaStyle"),x=w.isEmpty()&&w.parentModel.isEmpty();v.ignore=x,R(["emphasis","select","blur"],function(k){var _=p.getModel([k,"areaStyle"]),I=_.isEmpty()&&_.parentModel.isEmpty();v.ensureState(k).ignore=I&&x}),v.useStyle(Ve(w.getAreaStyle(),{fill:b,opacity:.7,decal:y.decal}));var S=p.getModel("emphasis"),C=S.getModel("itemStyle").getItemStyle();m.eachChild(function(k){if(k instanceof Lr){var _=k.style;k.useStyle(oe({image:_.image,x:_.x,y:_.y,width:_.width,height:_.height},y))}else k.useStyle(y),k.setColor(b),k.style.strokeNoScale=!0;var I=k.ensureState("emphasis");I.style=We(C);var T=s.getStore().get(s.getDimensionIndex(k.__dimIdx),f);(T==null||isNaN(T))&&(T=""),Hr(k,Cr(p),{labelFetcher:s.hostModel,labelDataIndex:f,labelDimIndex:k.__dimIdx,defaultText:T,inheritColor:b,defaultOpacity:y.opacity})}),On(h,S.get("focus"),S.get("blurScope"),S.get("disabled"))}),this._data=s},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(on),hbe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wy(Re(this.getData,this),Re(this.getRawData,this))},e.prototype.getInitialData=function(t,r){return Up(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,r,o){var i=this.getData(),a=this.coordinateSystem,s=a.getIndicatorAxes(),l=this.getData().getName(t),u=l===""?this.name:l,c=rU(this,t);return kr("section",{header:u,sortBlocks:!0,blocks:fe(s,function(d){var h=i.get(i.mapDimension(d.dim),t);return kr("nameValue",{markerType:"subItem",markerColor:c,name:d.name,value:h,sortParam:h})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var r=this.getData(),o=this.coordinateSystem,i=r.getValues(fe(o.dimensions,function(u){return r.mapDimension(u)}),t),a=0,s=i.length;a<s;a++)if(!isNaN(i[a])){var l=o.getIndicatorAxes();return o.coordToPoint(l[a].dataToCoord(i[a]),a)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(gn),zg=eK.value;function v1(n,e){return Ve({show:e},n)}var fbe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),r=this.get("splitNumber"),o=this.get("scale"),i=this.get("axisLine"),a=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),d=this.get("axisNameGap"),h=this.get("triggerEvent"),f=fe(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var g=l;p.color!=null&&(g=Ve({color:p.color},l));var v=rt(We(p),{boundaryGap:t,splitNumber:r,scale:o,axisLine:i,axisTick:a,axisLabel:s,name:p.text,showName:u,nameLocation:"end",nameGap:d,nameTextStyle:g,triggerEvent:h},!1);if(De(c)){var m=v.name;v.name=c.replace("{value}",m??"")}else ze(c)&&(v.name=c(v.name,v));var y=new tn(v,null,this.ecModel);return Vn(y,Hp.prototype),y.mainType="radar",y.componentIndex=this.componentIndex,y},this);this._indicatorModels=f},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:rt({lineStyle:{color:"#bbb"}},zg.axisLine),axisLabel:v1(zg.axisLabel,!1),axisTick:v1(zg.axisTick,!1),splitLine:v1(zg.splitLine,!0),splitArea:v1(zg.splitArea,!0),indicator:[]},e}(Ct),pbe=["axisLine","axisTickLabel","axisName"],gbe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){var i=this.group;i.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var r=t.coordinateSystem,o=r.getIndicatorAxes(),i=fe(o,function(a){var s=a.model.get("showName")?a.name:"",l=new Ao(a.model,{axisName:s,position:[r.cx,r.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});R(i,function(a){R(pbe,a.add,a),this.group.add(a.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var r=t.coordinateSystem,o=r.getIndicatorAxes();if(!o.length)return;var i=t.get("shape"),a=t.getModel("splitLine"),s=t.getModel("splitArea"),l=a.getModel("lineStyle"),u=s.getModel("areaStyle"),c=a.get("show"),d=s.get("show"),h=l.get("color"),f=u.get("color"),p=ce(h)?h:[h],g=ce(f)?f:[f],v=[],m=[];function y($,P,N){var M=N%P.length;return $[M]=$[M]||[],M}if(i==="circle")for(var b=o[0].getTicksCoords(),w=r.cx,x=r.cy,S=0;S<b.length;S++){if(c){var C=y(v,p,S);v[C].push(new Nl({shape:{cx:w,cy:x,r:b[S].coord}}))}if(d&&S<b.length-1){var C=y(m,g,S);m[C].push(new Ey({shape:{cx:w,cy:x,r0:b[S].coord,r:b[S+1].coord}}))}}else for(var k,_=fe(o,function($,P){var N=$.getTicksCoords();return k=k==null?N.length-1:Math.min(N.length-1,k),fe(N,function(M){return r.coordToPoint(M.coord,P)})}),I=[],S=0;S<=k;S++){for(var T=[],A=0;A<o.length;A++)T.push(_[A][S]);if(T[0]&&T.push(T[0].slice()),c){var C=y(v,p,S);v[C].push(new No({shape:{points:T}}))}if(d&&I){var C=y(m,g,S-1);m[C].push(new Po({shape:{points:T.concat(I)}}))}I=T.slice().reverse()}var D=l.getLineStyle(),E=u.getAreaStyle();R(m,function($,P){this.group.add(fi($,{style:Ve({stroke:"none",fill:g[P%g.length]},E),silent:!0}))},this),R(v,function($,P){this.group.add(fi($,{style:Ve({fill:"none",stroke:p[P%p.length]},D),silent:!0}))},this)},e.type="radar",e}(Cn),vbe=function(n){K(e,n);function e(t,r,o){var i=n.call(this,t,r,o)||this;return i.type="value",i.angle=0,i.name="",i}return e}(da),mbe=function(){function n(e,t,r){this.dimensions=[],this._model=e,this._indicatorAxes=fe(e.getIndicatorModels(),function(o,i){var a="indicator_"+i,s=new vbe(a,new Il);return s.name=o.get("name"),s.model=o,o.axis=s,this.dimensions.push(a),s},this),this.resize(e,r)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){var r=this._indicatorAxes[t];return this.coordToPoint(r.dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var r=this._indicatorAxes[t],o=r.angle,i=this.cx+e*Math.cos(o),a=this.cy-e*Math.sin(o);return[i,a]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,o=Math.sqrt(t*t+r*r);t/=o,r/=o;for(var i=Math.atan2(-r,t),a=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],d=Math.abs(i-c.angle);d<a&&(s=c,l=u,a=d)}return[l,+(s&&s.coordToData(o))]},n.prototype.resize=function(e,t){var r=e.get("center"),o=t.getWidth(),i=t.getHeight(),a=Math.min(o,i)/2;this.cx=_e(r[0],o),this.cy=_e(r[1],i),this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(De(s)||Rt(s))&&(s=[0,s]),this.r0=_e(s[0],a),this.r=_e(s[1],a),R(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},n.prototype.update=function(e,t){var r=this._indicatorAxes,o=this._model;R(r,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||e.getComponent("radar",s.get("radarIndex"))!==o)){var u=s.getData();R(r,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var i=o.get("splitNumber"),a=new Il;a.setExtent(0,i),a.setInterval(1),R(r,function(s,l){tK(s.scale,s.model,a)})},n.prototype.convertToPixel=function(e,t,r){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,r){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var r=[];return e.eachComponent("radar",function(o){var i=new n(o,e,t);r.push(i),o.coordinateSystem=i}),e.eachSeriesByType("radar",function(o){o.get("coordinateSystem")==="radar"&&(o.coordinateSystem=r[o.get("radarIndex")||0])}),r},n.dimensions=[],n}();function ybe(n){n.registerCoordinateSystem("radar",mbe),n.registerComponentModel(fbe),n.registerComponentView(gbe),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(r){t.setItemVisual(r,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function bbe(n){pt(ybe),n.registerChartView(dbe),n.registerSeriesModel(hbe),n.registerLayout(ube),n.registerProcessor(Gy("radar")),n.registerPreprocessor(cbe)}var MF="\0_ec_interaction_mutex";function wbe(n,e,t){var r=F$(n);r[e]=t}function xbe(n,e,t){var r=F$(n),o=r[e];o===t&&(r[e]=null)}function LF(n,e){return!!F$(n)[e]}function F$(n){return n[MF]||(n[MF]={})}Xa({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},zn);var Hy=function(n){K(e,n);function e(t){var r=n.call(this)||this;r._zr=t;var o=Re(r._mousedownHandler,r),i=Re(r._mousemoveHandler,r),a=Re(r._mouseupHandler,r),s=Re(r._mousewheelHandler,r),l=Re(r._pinchHandler,r);return r.enable=function(u,c){this.disable(),this._opt=Ve(We(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(t.on("mousedown",o),t.on("mousemove",i),t.on("mouseup",a)),(u===!0||u==="scale"||u==="zoom")&&(t.on("mousewheel",s),t.on("pinch",l))},r.disable=function(){t.off("mousedown",o),t.off("mousemove",i),t.off("mouseup",a),t.off("mousewheel",s),t.off("pinch",l)},r}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!dO(t)){for(var r=t.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var o=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,o,i)&&(this._x=o,this._y=i,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!mw("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||LF(this._zr,"globalPan"))){var r=t.offsetX,o=t.offsetY,i=this._x,a=this._y,s=r-i,l=o-a;this._x=r,this._y=o,this._opt.preventDefaultMouseMove&&xl(t.event),lK(this,"pan","moveOnMouseMove",t,{dx:s,dy:l,oldX:i,oldY:a,newX:r,newY:o,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){dO(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var r=mw("zoomOnMouseWheel",t,this._opt),o=mw("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,a=Math.abs(i),s=t.offsetX,l=t.offsetY;if(!(i===0||!r&&!o)){if(r){var u=a>3?1.4:a>1?1.2:1.1,c=i>0?u:1/u;iI(this,"zoom","zoomOnMouseWheel",t,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(o){var d=Math.abs(i),h=(i>0?1:-1)*(d>3?.4:d>1?.15:.05);iI(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:h,originX:s,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!LF(this._zr,"globalPan")){var r=t.pinchScale>1?1.1:1/1.1;iI(this,"zoom",null,t,{scale:r,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(sa);function iI(n,e,t,r,o){n.pointerChecker&&n.pointerChecker(r,o.originX,o.originY)&&(xl(r.event),lK(n,e,t,r,o))}function lK(n,e,t,r,o){o.isAvailableBehavior=Re(mw,null,t,r),n.trigger(e,o)}function mw(n,e,t){var r=t[n];return!n||r&&(!De(r)||e.event[r+"Key"])}function B$(n,e,t){var r=n.target;r.x+=e,r.y+=t,r.dirty()}function z$(n,e,t,r){var o=n.target,i=n.zoomLimit,a=n.zoom=n.zoom||1;if(a*=e,i){var s=i.min||0,l=i.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/n.zoom;n.zoom=a,o.x-=(t-o.x)*(u-1),o.y-=(r-o.y)*(u-1),o.scaleX*=u,o.scaleY*=u,o.dirty()}var Sbe={axisPointer:1,tooltip:1,brush:1};function TC(n,e,t){var r=e.getComponentByElement(n.topTarget),o=r&&r.coordinateSystem;return r&&r!==t&&!Sbe.hasOwnProperty(r.mainType)&&o&&o.model!==t}function uK(n){if(De(n)){var e=new DOMParser;n=e.parseFromString(n,"text/xml")}var t=n;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var aI,bx={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},NF=yt(bx),xx={"alignment-baseline":"textBaseline","stop-color":"stopColor"},OF=yt(xx),Cbe=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var r=uK(e);this._defsUsePending=[];var o=new Xe;this._root=o;var i=[],a=r.getAttribute("viewBox")||"",s=parseFloat(r.getAttribute("width")||t.width),l=parseFloat(r.getAttribute("height")||t.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),li(r,o,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,o,i,null,!1,!1),u=u.nextSibling;Ibe(this._defs,this._defsUsePending),this._defsUsePending=[];var c,d;if(a){var h=AC(a);h.length>=4&&(c={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(c&&s!=null&&l!=null&&(d=dK(c,{x:0,y:0,width:s,height:l}),!t.ignoreViewBox)){var f=o;o=new Xe,o.add(f),f.scaleX=f.scaleY=d.scale,f.x=d.x,f.y=d.y}return!t.ignoreRootClip&&s!=null&&l!=null&&o.setClipPath(new It({shape:{x:0,y:0,width:s,height:l}})),{root:o,width:s,height:l,viewBoxRect:c,viewBoxTransform:d,named:i}},n.prototype._parseNode=function(e,t,r,o,i,a){var s=e.nodeName.toLowerCase(),l,u=o;if(s==="defs"&&(i=!0),s==="text"&&(a=!0),s==="defs"||s==="switch")l=t;else{if(!i){var c=aI[s];if(c&&$e(aI,s)){l=c.call(this,e,t);var d=e.getAttribute("name");if(d){var h={name:d,namedFrom:null,svgNodeTagLower:s,el:l};r.push(h),s==="g"&&(u=h)}else o&&r.push({name:o.name,namedFrom:o,svgNodeTagLower:s,el:l});t.add(l)}}var f=FF[s];if(f&&$e(FF,s)){var p=f.call(this,e),g=e.getAttribute("id");g&&(this._defs[g]=p)}}if(l&&l.isGroup)for(var v=e.firstChild;v;)v.nodeType===1?this._parseNode(v,l,r,u,i,a):v.nodeType===3&&a&&this._parseText(v,l),v=v.nextSibling},n.prototype._parseText=function(e,t){var r=new ep({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});$i(t,r),li(e,r,this._defsUsePending,!1,!1),kbe(r,t);var o=r.style,i=o.fontSize;i&&i<9&&(o.fontSize=9,r.scaleX*=i/9,r.scaleY*=i/9);var a=(o.fontSize||o.fontFamily)&&[o.fontStyle,o.fontWeight,(o.fontSize||12)+"px",o.fontFamily||"sans-serif"].join(" ");o.font=a;var s=r.getBoundingRect();return this._textX+=s.width,t.add(r),r},n.internalField=function(){aI={g:function(e,t){var r=new Xe;return $i(t,r),li(e,r,this._defsUsePending,!1,!1),r},rect:function(e,t){var r=new It;return $i(t,r),li(e,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(e,t){var r=new Nl;return $i(t,r),li(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),r.silent=!0,r},line:function(e,t){var r=new yr;return $i(t,r),li(e,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(e,t){var r=new oC;return $i(t,r),li(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(e,t){var r=e.getAttribute("points"),o;r&&(o=VF(r));var i=new Po({shape:{points:o||[]},silent:!0});return $i(t,i),li(e,i,this._defsUsePending,!1,!1),i},polyline:function(e,t){var r=e.getAttribute("points"),o;r&&(o=VF(r));var i=new No({shape:{points:o||[]},silent:!0});return $i(t,i),li(e,i,this._defsUsePending,!1,!1),i},image:function(e,t){var r=new Lr;return $i(t,r),li(e,r,this._defsUsePending,!1,!1),r.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),r.silent=!0,r},text:function(e,t){var r=e.getAttribute("x")||"0",o=e.getAttribute("y")||"0",i=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(i),this._textY=parseFloat(o)+parseFloat(a);var s=new Xe;return $i(t,s),li(e,s,this._defsUsePending,!1,!0),s},tspan:function(e,t){var r=e.getAttribute("x"),o=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),o!=null&&(this._textY=parseFloat(o));var i=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0",s=new Xe;return $i(t,s),li(e,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(a),s},path:function(e,t){var r=e.getAttribute("d")||"",o=UW(r);return $i(t,o),li(e,o,this._defsUsePending,!1,!1),o.silent=!0,o}}}(),n}(),FF={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),r=parseInt(n.getAttribute("x2")||"10",10),o=parseInt(n.getAttribute("y2")||"0",10),i=new Dp(e,t,r,o);return BF(n,i),zF(n,i),i},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),r=parseInt(n.getAttribute("r")||"0",10),o=new OE(e,t,r);return BF(n,o),zF(n,o),o}};function BF(n,e){var t=n.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function zF(n,e){for(var t=n.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var r=t.getAttribute("offset"),o=void 0;r&&r.indexOf("%")>0?o=parseInt(r,10)/100:r?o=parseFloat(r):o=0;var i={};cK(t,i,i);var a=i.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:o,color:a})}t=t.nextSibling}}function $i(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Ve(e.__inheritedStyle,n.__inheritedStyle))}function VF(n){for(var e=AC(n),t=[],r=0;r<e.length;r+=2){var o=parseFloat(e[r]),i=parseFloat(e[r+1]);t.push([o,i])}return t}function li(n,e,t,r,o){var i=e,a=i.__inheritedStyle=i.__inheritedStyle||{},s={};n.nodeType===1&&(Dbe(n,e),cK(n,a,s),r||Rbe(n,a,s)),i.style=i.style||{},a.fill!=null&&(i.style.fill=GF(i,"fill",a.fill,t)),a.stroke!=null&&(i.style.stroke=GF(i,"stroke",a.stroke,t)),R(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){a[l]!=null&&(i.style[l]=parseFloat(a[l]))}),R(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){a[l]!=null&&(i.style[l]=a[l])}),o&&(i.__selfStyle=s),a.lineDash&&(i.style.lineDash=fe(AC(a.lineDash),function(l){return parseFloat(l)})),(a.visibility==="hidden"||a.visibility==="collapse")&&(i.invisible=!0),a.display==="none"&&(i.ignore=!0)}function kbe(n,e){var t=e.__selfStyle;if(t){var r=t.textBaseline,o=r;!r||r==="auto"||r==="baseline"?o="alphabetic":r==="before-edge"||r==="text-before-edge"?o="top":r==="after-edge"||r==="text-after-edge"?o="bottom":(r==="central"||r==="mathematical")&&(o="middle"),n.style.textBaseline=o}var i=e.__inheritedStyle;if(i){var a=i.textAlign,s=a;a&&(a==="middle"&&(s="center"),n.style.textAlign=s)}}var _be=/^url\(\s*#(.*?)\)/;function GF(n,e,t,r){var o=t&&t.match(_be);if(o){var i=Ki(o[1]);r.push([n,e,i]);return}return t==="none"&&(t=null),t}function Ibe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r[0].style[r[1]]=n[r[2]]}}var Tbe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function AC(n){return n.match(Tbe)||[]}var Abe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,sI=Math.PI/180;function Dbe(n,e){var t=n.getAttribute("transform");if(t){t=t.replace(/,/g," ");var r=[],o=null;t.replace(Abe,function(d,h,f){return r.push(h,f),""});for(var i=r.length-1;i>0;i-=2){var a=r[i],s=r[i-1],l=AC(a);switch(o=o||Zo(),s){case"translate":Va(o,o,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":KS(o,o,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Ju(o,o,-parseFloat(l[0])*sI,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*sI);As(o,[1,0,u,1,0,0],o);break;case"skewY":var c=Math.tan(parseFloat(l[0])*sI);As(o,[1,c,0,1,0,0],o);break;case"matrix":o[0]=parseFloat(l[0]),o[1]=parseFloat(l[1]),o[2]=parseFloat(l[2]),o[3]=parseFloat(l[3]),o[4]=parseFloat(l[4]),o[5]=parseFloat(l[5]);break}}e.setLocalTransform(o)}}var WF=/([^\s:;]+)\s*:\s*([^:;]+)/g;function cK(n,e,t){var r=n.getAttribute("style");if(r){WF.lastIndex=0;for(var o;(o=WF.exec(r))!=null;){var i=o[1],a=$e(bx,i)?bx[i]:null;a&&(e[a]=o[2]);var s=$e(xx,i)?xx[i]:null;s&&(t[s]=o[2])}}}function Rbe(n,e,t){for(var r=0;r<NF.length;r++){var o=NF[r],i=n.getAttribute(o);i!=null&&(e[bx[o]]=i)}for(var r=0;r<OF.length;r++){var o=OF[r],i=n.getAttribute(o);i!=null&&(t[xx[o]]=i)}}function dK(n,e){var t=e.width/n.width,r=e.height/n.height,o=Math.min(t,r);return{scale:o,x:-(n.x+n.width/2)*o+(e.x+e.width/2),y:-(n.y+n.height/2)*o+(e.y+e.height/2)}}function Ebe(n,e){var t=new Cbe;return t.parse(n,e)}var $be=Pe(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Pbe=function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=Pe(),this._freedGraphics=[],this._mapName=e,this._parsedXML=uK(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=Lbe(e.named),r=t.regions,o=t.regionsMap;this._regions=r,this._regionsMap=o}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,r;try{t=e&&Ebe(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=t.root,uo(r!=null)}catch(v){throw new Error(`Invalid svg format
`+v.message)}var o=new Xe;o.add(r),o.isGeoSVGGraphicRoot=!0;var i=t.width,a=t.height,s=t.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,d=void 0,h=void 0;if(i!=null?(u=0,d=i):s&&(u=s.x,d=s.width),a!=null?(c=0,h=a):s&&(c=s.y,h=s.height),u==null||c==null){var f=r.getBoundingRect();u==null&&(u=f.x,d=f.width),c==null&&(c=f.y,h=f.height)}l=this._boundingRect=new lt(u,c,d,h)}if(s){var p=dK(s,l);r.scaleX=r.scaleY=p.scale,r.x=p.x,r.y=p.y}o.setClipPath(new It({shape:l.plain()}));var g=[];return R(t.named,function(v){$be.get(v.svgNodeTagLower)!=null&&(g.push(v),Mbe(v.el))}),{root:o,boundingRect:l,named:g}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,r=t.get(e);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,r),r)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,r=t.get(e);r&&(t.removeKey(e),this._freedGraphics.push(r))},n}();function Mbe(n){n.silent=!1,n.isGroup&&n.traverse(function(e){e.silent=!1})}function Lbe(n){var e=[],t=Pe();return R(n,function(r){if(r.namedFrom==null){var o=new wme(r.name,r.el);e.push(o),t.set(r.name,o)}}),{regions:e,regionsMap:t}}var QA=[126,25],HF="",Yc=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Vc=0;Vc<Yc.length;Vc++)for(var Kh=0;Kh<Yc[Vc].length;Kh++)Yc[Vc][Kh][0]/=10.5,Yc[Vc][Kh][1]/=-10.5/.75,Yc[Vc][Kh][0]+=QA[0],Yc[Vc][Kh][1]+=QA[1];function Nbe(n,e){if(n==="china"){for(var t=0;t<e.length;t++)if(e[t].name===HF)return;e.push(new sj(HF,fe(Yc,function(r){return{type:"polygon",exterior:r}}),QA))}}var Obe={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function Fbe(n,e){if(n==="china"){var t=Obe[e.name];if(t){var r=e.getCenter();r[0]+=t[0]/10.5,r[1]+=-t[1]/(10.5/.75),e.setCenter(r)}}}var Bbe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function zbe(n,e){n==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:Bbe[0]})}var Vbe="name",Gbe=function(){function n(e,t,r){this.type="geoJSON",this._parsedMap=Pe(),this._mapName=e,this._specialAreas=r,this._geoJSON=Hbe(t)}return n.prototype.load=function(e,t){t=t||Vbe;var r=this._parsedMap.get(t);if(!r){var o=this._parseToRegions(t);r=this._parsedMap.set(t,{regions:o,boundingRect:Wbe(o)})}var i=Pe(),a=[];return R(r.regions,function(s){var l=s.name;e&&$e(e,l)&&(s=s.cloneShallow(l=e[l])),a.push(s),i.set(l,s)}),{regions:a,boundingRect:r.boundingRect||new lt(0,0,0,0),regionsMap:i}},n.prototype._parseToRegions=function(e){var t=this._mapName,r=this._geoJSON,o;try{o=r?WA(r,e):[]}catch(i){throw new Error(`Invalid geoJson format
`+i.message)}return Nbe(t,o),R(o,function(i){var a=i.name;Fbe(t,i),zbe(t,i);var s=this._specialAreas&&this._specialAreas[a];s&&i.transformTo(s.left,s.top,s.width,s.height)},this),o},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function Wbe(n){for(var e,t=0;t<n.length;t++){var r=n[t].getBoundingRect();e=e||r.clone(),e.union(r)}return e}function Hbe(n){return De(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}var Vg=Pe();const Tl={registerMap:function(n,e,t){if(e.svg){var r=new Pbe(n,e.svg);Vg.set(n,r)}else{var o=e.geoJson||e.geoJSON;o&&!e.features?t=e.specialAreas:o=e;var r=new Gbe(n,o,t);Vg.set(n,r)}},getGeoResource:function(n){return Vg.get(n)},getMapForUser:function(n){var e=Vg.get(n);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(n,e,t){var r=Vg.get(n);if(r)return r.load(e,t)}};var V$=["rect","circle","line","ellipse","polygon","polyline","path"],Ube=Pe(V$),jbe=Pe(V$.concat(["g"])),Kbe=Pe(V$.concat(["g"])),hK=Tt();function m1(n){var e=n.getItemStyle(),t=n.get("areaColor");return t!=null&&(e.fill=t),e}function UF(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var fK=function(){function n(e){var t=new Xe;this.uid=Mp("ec_map_draw"),this._controller=new Hy(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new Xe),t.add(this._svgGroup=new Xe)}return n.prototype.draw=function(e,t,r,o,i){var a=e.mainType==="geo",s=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},function(m){!s&&m.getHostGeoModel()===e&&(s=m.getData())});var l=e.coordinateSystem,u=this._regionsGroup,c=this.group,d=l.getTransformInfo(),h=d.raw,f=d.roam,p=!u.childAt(0)||i;p?(c.x=f.x,c.y=f.y,c.scaleX=f.scaleX,c.scaleY=f.scaleY,c.dirty()):Pt(c,f,e);var g=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,v={api:r,geo:l,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:g,isGeo:a,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(v):l.resourceType==="geoSVG"&&this._buildSVG(v),this._updateController(e,t,r),this._updateMapSelectHandler(e,u,r,o)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=Pe(),r=Pe(),o=this._regionsGroup,i=e.transformInfoRaw,a=e.mapOrGeoModel,s=e.data,l=e.geo.projection,u=l&&l.stream;function c(f,p){return p&&(f=p(f)),f&&[f[0]*i.scaleX+i.x,f[1]*i.scaleY+i.y]}function d(f){for(var p=[],g=!u&&l&&l.project,v=0;v<f.length;++v){var m=c(f[v],g);m&&p.push(m)}return p}function h(f){return{shape:{points:d(f)}}}o.removeAll(),R(e.geo.regions,function(f){var p=f.name,g=t.get(p),v=r.get(p)||{},m=v.dataIdx,y=v.regionModel;g||(g=t.set(p,new Xe),o.add(g),m=s?s.indexOfName(p):null,y=e.isGeo?a.getRegionModel(p):s?s.getItemModel(m):null,r.set(p,{dataIdx:m,regionModel:y}));var b=[],w=[];R(f.geometries,function(C){if(C.type==="polygon"){var k=[C.exterior].concat(C.interiors||[]);u&&(k=ZF(k,u)),R(k,function(I){b.push(new Po(h(I)))})}else{var _=C.points;u&&(_=ZF(_,u,!0)),R(_,function(I){w.push(new No(h(I)))})}});var x=c(f.getCenter(),l&&l.project);function S(C,k){if(C.length){var _=new aC({culling:!0,segmentIgnoreThreshold:1,shape:{paths:C}});g.add(_),jF(e,_,m,y),KF(e,_,p,y,a,m,x),k&&(UF(_),R(_.states,UF))}}S(b),S(w,!0)}),t.each(function(f,p){var g=r.get(p),v=g.dataIdx,m=g.regionModel;XF(e,f,p,m,a,v),qF(e,f,p,m,a),YF(e,f,p,m,a)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,r=e.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var o=this._svgDispatcherMap=Pe(),i=!1;R(this._svgGraphicRecord.named,function(a){var s=a.name,l=e.mapOrGeoModel,u=e.data,c=a.svgNodeTagLower,d=a.el,h=u?u.indexOfName(s):null,f=l.getRegionModel(s);if(Ube.get(c)!=null&&d instanceof ra&&jF(e,d,h,f),d instanceof ra&&(d.culling=!0),d.z2EmphasisLift=0,!a.namedFrom&&(Kbe.get(c)!=null&&KF(e,d,s,f,l,h,null),XF(e,d,s,f,l,h),qF(e,d,s,f,l),jbe.get(c)!=null)){var p=YF(e,d,s,f,l);p==="self"&&(i=!0);var g=o.get(s)||o.set(s,[]);g.push(d)}},this),this._enableBlurEntireSVG(i,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var r=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),o=r.opacity;this._svgGraphicRecord.root.traverse(function(i){if(!i.isGroup){Vd(i);var a=i.ensureState("blur").style||{};a.opacity==null&&o!=null&&(a.opacity=o),i.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var r=t.coordinateSystem;if(r.resourceType==="geoJSON"){var o=this._regionsGroupByName;if(o){var i=o.get(e);return i?[i]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=Tl.getGeoResource(e);if(t&&t.type==="geoSVG"){var r=t.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=Tl.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,r){var o=e.coordinateSystem,i=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=o.getZoom(),i.enable(e.get("roam")||!1);var s=e.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=e.id,u}i.off("pan").on("pan",function(u){this._mouseDownFlag=!1,B$(a,u.dx,u.dy),r.dispatchAction(oe(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),i.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,z$(a,u.scale,u.originX,u.originY),r.dispatchAction(oe(l(),{totalZoom:a.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),i.setPointerChecker(function(u,c,d){return o.containPoint([c,d])&&!TC(u,r,e)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=hK(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,r,o){var i=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){i._mouseDownFlag=!0}),t.on("click",function(a){i._mouseDownFlag&&(i._mouseDownFlag=!1)}))},n}();function jF(n,e,t,r){var o=r.getModel("itemStyle"),i=r.getModel(["emphasis","itemStyle"]),a=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),l=m1(o),u=m1(i),c=m1(s),d=m1(a),h=n.data;if(h){var f=h.getItemVisual(t,"style"),p=h.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&f.fill&&(l.fill=f.fill),p&&(l.decal=rp(p,n.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=d,Vd(e)}function KF(n,e,t,r,o,i,a){var s=n.data,l=n.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),i)),c=s&&s.getItemLayout(i);if(l||u||c&&c.showLabel){var d=l?t:i,h=void 0;(!s||i>=0)&&(h=o);var f=a?{normal:{align:"center",verticalAlign:"middle"}}:null;Hr(e,Cr(r),{labelFetcher:h,labelDataIndex:d,defaultText:t},f);var p=e.getTextContent();if(p&&(hK(p).ignore=p.ignore,e.textConfig&&a)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(a[0]-g.x)/g.width*100+"%",(a[1]-g.y)/g.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function XF(n,e,t,r,o,i){n.data?n.data.setItemGraphicEl(i,e):Ye(e).eventData={componentType:"geo",componentIndex:o.componentIndex,geoIndex:o.componentIndex,name:t,region:r&&r.option||{}}}function qF(n,e,t,r,o){n.data||$p({el:e,componentModel:o,itemName:t,itemTooltipOption:r.get("tooltip")})}function YF(n,e,t,r,o){e.highDownSilentOnTouch=!!o.get("selectedMode");var i=r.getModel("emphasis"),a=i.get("focus");return On(e,a,i.get("blurScope"),i.get("disabled")),n.isGeo&&khe(e,o,t),a}function ZF(n,e,t){var r=[],o;function i(){o=[]}function a(){o.length&&(r.push(o),o=[])}var s=e({polygonStart:i,polygonEnd:a,lineStart:i,lineEnd:a,point:function(l,u){isFinite(l)&&isFinite(u)&&o.push([l,u])},sphere:function(){}});return!t&&s.polygonStart(),R(n,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!t&&s.polygonEnd(),r}var Xbe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o,i){if(!(i&&i.type==="mapToggleSelect"&&i.from===this.uid)){var a=this.group;if(a.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&i&&i.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===t.id){var s=this._mapDraw;s&&a.add(s.group)}else if(t.needsDrawMap){var s=this._mapDraw||new fK(o);a.add(s.group),s.draw(t,r,o,this,i),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(t,r,o)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,r,o){var i=t.originalData,a=this.group;i.each(i.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=i.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,d=u.offset,h=new Nl({style:{fill:t.getData().getVisual("style").fill},shape:{cx:c[0]+d*9,cy:c[1],r:3},silent:!0,z2:8+(d?0:Ap+1)});if(!d){var f=t.mainSeries.getData(),p=i.getName(l),g=f.indexOfName(p),v=i.getItemModel(l),m=v.getModel("label"),y=f.getItemGraphicEl(g);Hr(h,Cr(v),{labelFetcher:{getFormattedLabel:function(b,w){return t.getFormattedLabel(g,w)}},defaultText:p}),h.disableLabelAnimation=!0,m.get("position")||h.setTextConfig({position:"bottom"}),y.onHoverStateChange=function(b){Zw(h,b)}}a.add(h)}}})},e.type="map",e}(on),qbe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(r){if(r!=null){var o=this.getData().getName(r),i=this.coordinateSystem,a=i.getRegion(o);return a&&i.dataToPoint(a.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var r=Up(this,{coordDimensions:["value"],encodeDefaulter:Qe(QE,this)}),o=Pe(),i=[],a=0,s=r.count();a<s;a++){var l=r.getName(a);o.set(l,!0)}var u=Tl.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return R(u.regions,function(c){var d=c.name;o.get(d)||i.push(d)}),r.appendValues([],i),r},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var r=this.getData();return r.get(r.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var r=this.getData();return r.getItemModel(r.indexOfName(t))},e.prototype.formatTooltip=function(t,r,o){for(var i=this.getData(),a=this.getRawValue(t),s=i.getName(t),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var d=l[c].originalData.indexOfName(s),h=i.mapDimension("value");isNaN(l[c].originalData.get(h,d))||u.push(l[c].name)}return kr("section",{header:u.join(", "),noHeader:!u.length,blocks:[kr("nameValue",{name:s,value:a})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var r=t.icon||"roundRect",o=Un(r,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return o.setStyle(t.itemStyle),o.style.stroke="none",r.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2),o},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(gn);function Ybe(n,e){var t={};return R(n,function(r){r.each(r.mapDimension("value"),function(o,i){var a="ec-"+r.getName(i);t[a]=t[a]||[],isNaN(o)||t[a].push(o)})}),n[0].map(n[0].mapDimension("value"),function(r,o){for(var i="ec-"+n[0].getName(o),a=0,s=1/0,l=-1/0,u=t[i].length,c=0;c<u;c++)s=Math.min(s,t[i][c]),l=Math.max(l,t[i][c]),a+=t[i][c];var d;return e==="min"?d=s:e==="max"?d=l:e==="average"?d=a/u:d=a,u===0?NaN:d})}function Zbe(n){var e={};n.eachSeriesByType("map",function(t){var r=t.getHostGeoModel(),o=r?"o"+r.id:"i"+t.getMapType();(e[o]=e[o]||[]).push(t)}),R(e,function(t,r){for(var o=Ybe(fe(t,function(a){return a.getData()}),t[0].get("mapValueCalculation")),i=0;i<t.length;i++)t[i].originalData=t[i].getData();for(var i=0;i<t.length;i++)t[i].seriesGroup=t,t[i].needsDrawMap=i===0&&!t[i].getHostGeoModel(),t[i].setData(o.cloneShallow()),t[i].mainSeries=t[0]})}function Jbe(n){var e={};n.eachSeriesByType("map",function(t){var r=t.getMapType();if(!(t.getHostGeoModel()||e[r])){var o={};R(t.seriesGroup,function(a){var s=a.coordinateSystem,l=a.originalData;a.get("showLegendSymbol")&&n.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var d=l.getName(c),h=s.getRegion(d);if(!(!h||isNaN(u))){var f=o[d]||0,p=s.dataToPoint(h.getCenter());o[d]=f+1,l.setItemLayout(c,{point:p,offset:f})}})});var i=t.getData();i.each(function(a){var s=i.getName(a),l=i.getItemLayout(a)||{};l.showLabel=!o[s],i.setItemLayout(a,l)}),e[r]=!0}})}var JF=$r,Uy=function(n){K(e,n);function e(t){var r=n.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new fl,r._rawTransformable=new fl,r.name=t,r}return e.prototype.setBoundingRect=function(t,r,o,i){return this._rect=new lt(t,r,o,i),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,r,o,i){this._transformTo(t,r,o,i),this._viewRect=new lt(t,r,o,i)},e.prototype._transformTo=function(t,r,o,i){var a=this.getBoundingRect(),s=this._rawTransformable;s.transform=a.calculateTransform(new lt(t,r,o,i));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},e.prototype.setCenter=function(t,r){t&&(this._center=[_e(t[0],r.getWidth()),_e(t[1],r.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var r=this.zoomLimit;r&&(r.max!=null&&(t=Math.min(r.max,t)),r.min!=null&&(t=Math.max(r.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),r=t.x+t.width/2,o=t.y+t.height/2;return[r,o]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,o=this.getDefaultCenter(),i=this.getCenter(),a=this.getZoom();i=$r([],i,t),o=$r([],o,t),r.originX=i[0],r.originY=i[1],r.x=o[0]-i[0],r.y=o[1]-i[1],r.scaleX=r.scaleY=a,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,r=this._rawTransformable;r.parent=t,t.updateTransform(),r.updateTransform(),jS(this.transform||(this.transform=[]),r.transform||Zo()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],ch(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,r=this._roamTransformable,o=new fl;return o.transform=r.transform,o.decomposeTransform(),{roam:{x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,r,o){var i=r?this._rawTransform:this.transform;return o=o||[],i?JF(o,t,i):Qr(o,t)},e.prototype.pointToData=function(t){var r=this.invTransform;return r?JF([],t,r):[t[0],t[1]]},e.prototype.convertToPixel=function(t,r,o){var i=QF(r);return i===this?i.dataToPoint(o):null},e.prototype.convertFromPixel=function(t,r,o){var i=QF(r);return i===this?i.pointToData(o):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(fl);function QF(n){var e=n.seriesModel;return e?e.coordinateSystem:null}var Qbe={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},pK=["lng","lat"],gK=function(n){K(e,n);function e(t,r,o){var i=n.call(this,t)||this;i.dimensions=pK,i.type="geo",i._nameCoordMap=Pe(),i.map=r;var a=o.projection,s=Tl.load(r,o.nameMap,o.nameProperty),l=Tl.getGeoResource(r);i.resourceType=l?l.type:null;var u=i.regions=s.regions,c=Qbe[l.type];i._regionsMap=s.regionsMap,i.regions=s.regions,i.projection=a;var d;if(a)for(var h=0;h<u.length;h++){var f=u[h].getBoundingRect(a);d=d||f.clone(),d.union(f)}else d=s.boundingRect;return i.setBoundingRect(d.x,d.y,d.width,d.height),i.aspectScale=a?1:et(o.aspectScale,c.aspectScale),i._invertLongitute=a?!1:c.invertLongitute,i}return e.prototype._transformTo=function(t,r,o,i){var a=this.getBoundingRect(),s=this._invertLongitute;a=a.clone(),s&&(a.y=-a.y-a.height);var l=this._rawTransformable;l.transform=a.calculateTransform(new lt(t,r,o,i));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var r=this.regions,o=0;o<r.length;o++){var i=r[o];if(i.type==="geoJSON"&&i.contain(t))return r[o]}},e.prototype.addGeoCoord=function(t,r){this._nameCoordMap.set(t,r)},e.prototype.getGeoCoord=function(t){var r=this._regionsMap.get(t);return this._nameCoordMap.get(t)||r&&r.getCenter()},e.prototype.dataToPoint=function(t,r,o){if(De(t)&&(t=this.getGeoCoord(t)),t){var i=this.projection;return i&&(t=i.project(t)),t&&this.projectedToPoint(t,r,o)}},e.prototype.pointToData=function(t){var r=this.projection;return r&&(t=r.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return n.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,r,o){return n.prototype.dataToPoint.call(this,t,r,o)},e.prototype.convertToPixel=function(t,r,o){var i=eB(r);return i===this?i.dataToPoint(o):null},e.prototype.convertFromPixel=function(t,r,o){var i=eB(r);return i===this?i.pointToData(o):null},e}(Uy);Vn(gK,Uy);function eB(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",Qn).models[0]||{}).coordinateSystem:null}const tB=gK;function nB(n,e){var t=n.get("boundingCoords");if(t!=null){var r=t[0],o=t[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])){var i=this.projection;if(i){var a=r[0],s=r[1],l=o[0],u=o[1];r=[1/0,1/0],o=[-1/0,-1/0];var c=function(S,C,k,_){for(var I=k-S,T=_-C,A=0;A<=100;A++){var D=A/100,E=i.project([S+I*D,C+T*D]);dl(r,r,E),hl(o,o,E)}};c(a,s,l,s),c(l,s,l,u),c(l,u,a,u),c(a,u,l,s)}this.setBoundingRect(r[0],r[1],o[0]-r[0],o[1]-r[1])}}var d=this.getBoundingRect(),h=n.get("layoutCenter"),f=n.get("layoutSize"),p=e.getWidth(),g=e.getHeight(),v=d.width/d.height*this.aspectScale,m=!1,y,b;h&&f&&(y=[_e(h[0],p),_e(h[1],g)],b=_e(f,Math.min(p,g)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(b)&&(m=!0));var w;if(m)w={},v>1?(w.width=b,w.height=b/v):(w.height=b,w.width=b*v),w.y=y[1]-w.height/2,w.x=y[0]-w.width/2;else{var x=n.getBoxLayoutParams();x.aspect=v,w=er(x,{width:p,height:g})}this.setViewRect(w.x,w.y,w.width,w.height),this.setCenter(n.get("center"),e),this.setZoom(n.get("zoom"))}function e1e(n,e){R(e.get("geoCoord"),function(t,r){n.addGeoCoord(r,t)})}var t1e=function(){function n(){this.dimensions=pK}return n.prototype.create=function(e,t){var r=[];function o(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}e.eachComponent("geo",function(a,s){var l=a.get("map"),u=new tB(l+s,l,oe({nameMap:a.get("nameMap")},o(a)));u.zoomLimit=a.get("scaleLimit"),r.push(u),a.coordinateSystem=u,u.model=a,u.resize=nB,u.resize(a,t)}),e.eachSeries(function(a){var s=a.get("coordinateSystem");if(s==="geo"){var l=a.get("geoIndex")||0;a.coordinateSystem=r[l]}});var i={};return e.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var s=a.getMapType();i[s]=i[s]||[],i[s].push(a)}}),R(i,function(a,s){var l=fe(a,function(c){return c.get("nameMap")}),u=new tB(s,s,oe({nameMap:WS(l)},o(a[0])));u.zoomLimit=mr.apply(null,fe(a,function(c){return c.get("scaleLimit")})),r.push(u),u.resize=nB,u.resize(a[0],t),R(a,function(c){c.coordinateSystem=u,e1e(u,c)})}),r},n.prototype.getFilledRegions=function(e,t,r,o){for(var i=(e||[]).slice(),a=Pe(),s=0;s<i.length;s++)a.set(i[s].name,i[s]);var l=Tl.load(t,r,o);return R(l.regions,function(u){var c=u.name;!a.get(c)&&i.push({name:c})}),i},n}(),vK=new t1e,n1e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,o){var i=Tl.getGeoResource(t.map);if(i&&i.type==="geoJSON"){var a=t.itemStyle=t.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(t,o),Fd(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,r=this.option;r.regions=vK.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var o={};this._optionModelMap=na(r.regions||[],function(i,a){var s=a.name;return s&&(i.set(s,new tn(a,t,t.ecModel)),a.selected&&(o[s]=!0)),i},Pe()),r.selectedMap||(r.selectedMap=o)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new tn(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,r){var o=this.getRegionModel(t),i=r==="normal"?o.get(["label","formatter"]):o.get(["emphasis","label","formatter"]),a={name:t};if(ze(i))return a.status=r,i(a);if(De(i))return i.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var r=this.option,o=r.selectedMode;if(o){o!=="multiple"&&(r.selectedMap=null);var i=r.selectedMap||(r.selectedMap={});i[t]=!0}},e.prototype.unSelect=function(t){var r=this.option.selectedMap;r&&(r[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var r=this.option.selectedMap;return!!(r&&r[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(Ct);function rB(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function G$(n,e,t,r){var o=n.getZoom(),i=n.getCenter(),a=e.zoom,s=n.projectedToPoint?n.projectedToPoint(i):n.dataToPoint(i);if(e.dx!=null&&e.dy!=null&&(s[0]-=e.dx,s[1]-=e.dy,n.setCenter(rB(n,s),r)),a!=null){if(t){var l=t.min||0,u=t.max||1/0;a=Math.max(Math.min(o*a,u),l)/o}n.scaleX*=a,n.scaleY*=a;var c=(e.originX-n.x)*(a-1),d=(e.originY-n.y)*(a-1);n.x-=c,n.y-=d,n.updateTransform(),n.setCenter(rB(n,s),r),n.setZoom(a*o)}return{center:n.getCenter(),zoom:n.getZoom()}}var r1e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,r){this._api=r},e.prototype.render=function(t,r,o,i){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new fK(o));var a=this._mapDraw;a.draw(t,r,o,this,i),a.group.on("click",this._handleRegionClick,this),a.group.silent=t.get("silent"),this.group.add(a.group),this.updateSelectStatus(t,r,o)},e.prototype._handleRegionClick=function(t){var r;md(t.target,function(o){return(r=Ye(o).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},e.prototype.updateSelectStatus=function(t,r,o){var i=this;this._mapDraw.group.traverse(function(a){var s=Ye(a).eventData;if(s)return i._model.isSelected(s.name)?o.enterSelect(a):o.leaveSelect(a),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(Cn);function o1e(n,e,t){Tl.registerMap(n,e,t)}function mK(n){n.registerCoordinateSystem("geo",vK),n.registerComponentModel(n1e),n.registerComponentView(r1e),n.registerImpl("registerMap",o1e),n.registerImpl("getMap",function(t){return Tl.getMapForUser(t)});function e(t,r){r.update="geo:updateSelectStatus",n.registerAction(r,function(o,i){var a={},s=[];return i.eachComponent({mainType:"geo",query:o},function(l){l[t](o.name);var u=l.coordinateSystem;R(u.regions,function(d){a[d.name]=l.isSelected(d.name)||!1});var c=[];R(a,function(d,h){a[h]&&c.push(h)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:a,allSelected:s,name:o.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,r,o){var i=t.componentType||"series";r.eachComponent({mainType:i,query:t},function(a){var s=a.coordinateSystem;if(s.type==="geo"){var l=G$(s,t,a.get("scaleLimit"),o);a.setCenter&&a.setCenter(l.center),a.setZoom&&a.setZoom(l.zoom),i==="series"&&R(a.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function i1e(n){pt(mK),n.registerChartView(Xbe),n.registerSeriesModel(qbe),n.registerLayout(Jbe),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Zbe),gU("map",n.registerAction)}function a1e(n){var e=n;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],r,o;r=t.pop();)if(o=r.children,r.isExpand&&o.length)for(var i=o.length,a=i-1;a>=0;a--){var s=o[a];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},t.push(s)}}function s1e(n,e){var t=n.isExpand?n.children:[],r=n.parentNode.children,o=n.hierNode.i?r[n.hierNode.i-1]:null;if(t.length){c1e(n);var i=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;o?(n.hierNode.prelim=o.hierNode.prelim+e(n,o),n.hierNode.modifier=n.hierNode.prelim-i):n.hierNode.prelim=i}else o&&(n.hierNode.prelim=o.hierNode.prelim+e(n,o));n.parentNode.hierNode.defaultAncestor=d1e(n,o,n.parentNode.hierNode.defaultAncestor||r[0],e)}function l1e(n){var e=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:e},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function oB(n){return arguments.length?n:p1e}function pv(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function u1e(n,e){return er(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function c1e(n){for(var e=n.children,t=e.length,r=0,o=0;--t>=0;){var i=e[t];i.hierNode.prelim+=r,i.hierNode.modifier+=r,o+=i.hierNode.change,r+=i.hierNode.shift+o}}function d1e(n,e,t,r){if(e){for(var o=n,i=n,a=i.parentNode.children[0],s=e,l=o.hierNode.modifier,u=i.hierNode.modifier,c=a.hierNode.modifier,d=s.hierNode.modifier;s=lI(s),i=uI(i),s&&i;){o=lI(o),a=uI(a),o.hierNode.ancestor=n;var h=s.hierNode.prelim+d-i.hierNode.prelim-u+r(s,i);h>0&&(f1e(h1e(s,n,t),n,h),u+=h,l+=h),d+=s.hierNode.modifier,u+=i.hierNode.modifier,l+=o.hierNode.modifier,c+=a.hierNode.modifier}s&&!lI(o)&&(o.hierNode.thread=s,o.hierNode.modifier+=d-l),i&&!uI(a)&&(a.hierNode.thread=i,a.hierNode.modifier+=u-c,t=n)}return t}function lI(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function uI(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function h1e(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function f1e(n,e,t){var r=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=r}function p1e(n,e){return n.parentNode===e.parentNode?1:2}var g1e=function(){function n(){this.parentPoint=[],this.childPoints=[]}return n}(),v1e=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new g1e},e.prototype.buildPath=function(t,r){var o=r.childPoints,i=o.length,a=r.parentPoint,s=o[0],l=o[i-1];if(i===1){t.moveTo(a[0],a[1]),t.lineTo(s[0],s[1]);return}var u=r.orient,c=u==="TB"||u==="BT"?0:1,d=1-c,h=_e(r.forkPosition,1),f=[];f[c]=a[c],f[d]=a[d]+(l[d]-a[d])*h,t.moveTo(a[0],a[1]),t.lineTo(f[0],f[1]),t.moveTo(s[0],s[1]),f[c]=s[c],t.lineTo(f[0],f[1]),f[c]=l[c],t.lineTo(f[0],f[1]),t.lineTo(l[0],l[1]);for(var p=1;p<i-1;p++){var g=o[p];t.moveTo(g[0],g[1]),f[c]=g[c],t.lineTo(f[0],f[1])}},e}(vt),m1e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new Xe,t}return e.prototype.init=function(t,r){this._controller=new Hy(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,r,o){var i=t.getData(),a=t.layoutInfo,s=this._mainGroup,l=t.get("layout");l==="radial"?(s.x=a.x+a.width/2,s.y=a.y+a.height/2):(s.x=a.x,s.y=a.y),this._updateViewCoordSys(t,o),this._updateController(t,r,o);var u=this._data;i.diff(u).add(function(c){iB(i,c)&&aB(i,c,null,s,t)}).update(function(c,d){var h=u.getItemGraphicEl(d);if(!iB(i,c)){h&&lB(u,d,h,s,t);return}aB(i,c,h,s,t)}).remove(function(c){var d=u.getItemGraphicEl(c);d&&lB(u,c,d,s,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&i.eachItemGraphicEl(function(c,d){c.off("click").on("click",function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:d})})}),this._data=i},e.prototype._updateViewCoordSys=function(t,r){var o=t.getData(),i=[];o.each(function(d){var h=o.getItemLayout(d);h&&!isNaN(h.x)&&!isNaN(h.y)&&i.push([+h.x,+h.y])});var a=[],s=[];tC(i,a,s);var l=this._min,u=this._max;s[0]-a[0]===0&&(a[0]=l?l[0]:a[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-a[1]===0&&(a[1]=l?l[1]:a[1]-1,s[1]=u?u[1]:s[1]+1);var c=t.coordinateSystem=new Uy;c.zoomLimit=t.get("scaleLimit"),c.setBoundingRect(a[0],a[1],s[0]-a[0],s[1]-a[1]),c.setCenter(t.get("center"),r),c.setZoom(t.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=a,this._max=s},e.prototype._updateController=function(t,r,o){var i=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,c,d){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(c,d)&&!TC(u,o,t)}),a.enable(t.get("roam")),s.zoomLimit=t.get("scaleLimit"),s.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){B$(s,u.dx,u.dy),o.dispatchAction({seriesId:t.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){z$(s,u.scale,u.originX,u.originY),o.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),i._updateNodeAndLinkScale(t),o.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var r=t.getData(),o=this._getNodeGlobalScale(t);r.eachItemGraphicEl(function(i,a){i.setSymbolScale(o)})},e.prototype._getNodeGlobalScale=function(t){var r=t.coordinateSystem;if(r.type!=="view")return 1;var o=this._nodeScaleRatio,i=r.scaleX||1,a=r.getZoom(),s=(a-1)*o+1;return s/i},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(on);function iB(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function aB(n,e,t,r,o){var i=!t,a=n.tree.getNodeByDataIndex(e),s=a.getModel(),l=a.getVisual("style").fill,u=a.isExpand===!1&&a.children.length!==0?l:"#fff",c=n.tree.root,d=a.parentNode===c?a:a.parentNode||a,h=n.getItemGraphicEl(d.dataIndex),f=d.getLayout(),p=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:f,g=a.getLayout();i?(t=new Fy(n,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.x=p.x,t.y=p.y):t.updateData(n,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=g.rawX,t.__radialRawY=g.rawY,r.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,Pt(t,{x:g.x,y:g.y},o);var v=t.getSymbolPath();if(o.get("layout")==="radial"){var m=c.children[0],y=m.getLayout(),b=m.children.length,w=void 0,x=void 0;if(g.x===y.x&&a.isExpand===!0&&m.children.length){var S={x:(m.children[0].getLayout().x+m.children[b-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[b-1].getLayout().y)/2};w=Math.atan2(S.y-y.y,S.x-y.x),w<0&&(w=Math.PI*2+w),x=S.x<y.x,x&&(w=w-Math.PI)}else w=Math.atan2(g.y-y.y,g.x-y.x),w<0&&(w=Math.PI*2+w),a.children.length===0||a.children.length!==0&&a.isExpand===!1?(x=g.x<y.x,x&&(w=w-Math.PI)):(x=g.x>y.x,x||(w=w-Math.PI));var C=x?"left":"right",k=s.getModel("label"),_=k.get("rotate"),I=_*(Math.PI/180),T=v.getTextContent();T&&(v.setTextConfig({position:k.get("position")||C,rotation:_==null?-w:I,origin:"center"}),T.setStyle("verticalAlign","middle"))}var A=s.get(["emphasis","focus"]),D=A==="relative"?um(a.getAncestorsIndices(),a.getDescendantIndices()):A==="ancestor"?a.getAncestorsIndices():A==="descendant"?a.getDescendantIndices():null;D&&(Ye(t).focus=D),y1e(o,a,c,t,p,f,g,r),t.__edge&&(t.onHoverStateChange=function(E){if(E!=="blur"){var $=a.parentNode&&n.getItemGraphicEl(a.parentNode.dataIndex);$&&$.hoverState===Ry||Zw(t.__edge,E)}})}function y1e(n,e,t,r,o,i,a,s){var l=e.getModel(),u=n.get("edgeShape"),c=n.get("layout"),d=n.getOrient(),h=n.get(["lineStyle","curveness"]),f=n.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),g=r.__edge;if(u==="curve")e.parentNode&&e.parentNode!==t&&(g||(g=r.__edge=new $y({shape:eD(c,d,h,o,o)})),Pt(g,{shape:eD(c,d,h,i,a)},n));else if(u==="polyline"&&c==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var v=e.children,m=[],y=0;y<v.length;y++){var b=v[y].getLayout();m.push([b.x,b.y])}g||(g=r.__edge=new v1e({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:d,forkPosition:f}})),Pt(g,{shape:{parentPoint:[a.x,a.y],childPoints:m}},n)}g&&!(u==="polyline"&&!e.isExpand)&&(g.useStyle(Ve({strokeNoScale:!0,fill:null},p)),Wr(g,l,"lineStyle"),Vd(g),s.add(g))}function sB(n,e,t,r,o){var i=e.tree.root,a=yK(i,n),s=a.source,l=a.sourceLayout,u=e.getItemGraphicEl(n.dataIndex);if(u){var c=e.getItemGraphicEl(s.dataIndex),d=c.__edge,h=u.__edge||(s.isExpand===!1||s.children.length===1?d:void 0),f=r.get("edgeShape"),p=r.get("layout"),g=r.get("orient"),v=r.get(["lineStyle","curveness"]);h&&(f==="curve"?Fu(h,{shape:eD(p,g,v,l,l),style:{opacity:0}},r,{cb:function(){t.remove(h)},removeOpt:o}):f==="polyline"&&r.get("layout")==="orthogonal"&&Fu(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){t.remove(h)},removeOpt:o}))}}function yK(n,e){for(var t=e.parentNode===n?e:e.parentNode||e,r;r=t.getLayout(),r==null;)t=t.parentNode===n?t:t.parentNode||t;return{source:t,sourceLayout:r}}function lB(n,e,t,r,o){var i=n.tree.getNodeByDataIndex(e),a=n.tree.root,s=yK(a,i).sourceLayout,l={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};Fu(t,{x:s.x+1,y:s.y+1},o,{cb:function(){r.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),i.children.forEach(function(u){sB(u,n,r,o,l)}),sB(i,n,r,o,l)}function eD(n,e,t,r,o){var i,a,s,l,u,c,d,h;if(n==="radial"){u=r.rawX,d=r.rawY,c=o.rawX,h=o.rawY;var f=pv(u,d),p=pv(u,d+(h-d)*t),g=pv(c,h+(d-h)*t),v=pv(c,h);return{x1:f.x||0,y1:f.y||0,x2:v.x||0,y2:v.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:g.x||0,cpy2:g.y||0}}else u=r.x,d=r.y,c=o.x,h=o.y,(e==="LR"||e==="RL")&&(i=u+(c-u)*t,a=d,s=c+(u-c)*t,l=h),(e==="TB"||e==="BT")&&(i=u,a=d+(h-d)*t,s=c,l=h+(d-h)*t);return{x1:u,y1:d,x2:c,y2:h,cpx1:i,cpy1:a,cpx2:s,cpy2:l}}var ea=Tt();function bK(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,wK(e,t,n),R(t,function(r){R(e.TRANSFERABLE_METHODS,function(o){r.wrapMethod(o,Qe(b1e,n))})}),e.wrapMethod("cloneShallow",Qe(x1e,n)),R(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,Qe(w1e,n))}),uo(t[e.dataType]===e)}function b1e(n,e){if(k1e(this)){var t=oe({},ea(this).datas);t[this.dataType]=e,wK(e,t,n)}else W$(e,this.dataType,ea(this).mainData,n);return e}function w1e(n,e){return n.struct&&n.struct.update(),e}function x1e(n,e){return R(ea(e).datas,function(t,r){t!==e&&W$(t.cloneShallow(),r,e,n)}),e}function S1e(n){var e=ea(this).mainData;return n==null||e==null?e:ea(e).datas[n]}function C1e(){var n=ea(this).mainData;return n==null?[{data:n}]:fe(yt(ea(n).datas),function(e){return{type:e,data:ea(n).datas[e]}})}function k1e(n){return ea(n).mainData===n}function wK(n,e,t){ea(n).datas={},R(e,function(r,o){W$(r,o,n,t)})}function W$(n,e,t,r){ea(t).datas[e]=n,ea(n).mainData=t,n.dataType=e,r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=n),n.getLinkedData=S1e,n.getLinkedDataAll=C1e}var _1e=function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,r){ze(e)&&(r=t,t=e,e=null),e=e||{},De(e)&&(e={order:e});var o=e.order||"preorder",i=this[e.attr||"children"],a;o==="preorder"&&(a=t.call(r,this));for(var s=0;!a&&s<i.length;s++)i[s].eachNode(e,t,r);o==="postorder"&&t.call(r,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var r=0;r<this.children.length;r++){var o=this.children[r];o.updateDepthAndHeight(e+1),o.height>t&&(t=o.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,r=this.children,o=r.length;t<o;t++){var i=r[t].getNodeById(e);if(i)return i}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,r=this.children,o=r.length;t<o;t++){var i=r[t].contains(e);if(i)return i}},n.prototype.getAncestors=function(e){for(var t=[],r=e?this:this.parentNode;r;)t.push(r),r=r.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,r=t.data.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n}(),H$=function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,r){this.root.eachNode(e,t,r)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,r=0,o=t.length;r<o;r++)t[r].dataIndex=-1;for(var r=0,o=e.count();r<o;r++)t[e.getRawIndex(r)].dataIndex=r},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,r){var o=new n(t),i=[],a=1;s(e);function s(c,d){var h=c.value;a=Math.max(a,ce(h)?h.length:1),i.push(c);var f=new _1e(ir(c.name,""),o);d?I1e(f,d):o.root=f,o._nodes.push(f);var p=c.children;if(p)for(var g=0;g<p.length;g++)s(p[g],f)}o.root.updateDepthAndHeight(0);var l=Gp(i,{coordDimensions:["value"],dimensionsCount:a}).dimensions,u=new ao(l,t);return u.initData(i),r&&r(u),bK({mainData:u,struct:o,structAttr:"tree"}),o.update(),o},n}();function I1e(n,e){var t=e.children;n.parentNode!==e&&(t.push(n),n.parentNode=e)}function Em(n,e,t){if(n&&ct(e,n.type)>=0){var r=t.getData().tree.root,o=n.targetNode;if(De(o)&&(o=r.getNodeById(o)),o&&r.contains(o))return{node:o};var i=n.targetNodeId;if(i!=null&&(o=r.getNodeById(i)))return{node:o}}}function xK(n){for(var e=[];n;)n=n.parentNode,n&&e.push(n);return e.reverse()}function U$(n,e){var t=xK(n);return ct(t,e)>=0}function DC(n,e){for(var t=[];n;){var r=n.dataIndex;t.push({name:n.name,dataIndex:r,value:e.getRawValue(r)}),n=n.parentNode}return t.reverse(),t}var T1e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var r={name:t.name,children:t.data},o=t.leaves||{},i=new tn(o,this,this.ecModel),a=H$.createTree(r,this,s);function s(d){d.wrapMethod("getItemModel",function(h,f){var p=a.getNodeByDataIndex(f);return p&&p.children.length&&p.isExpand||(h.parentModel=i),h})}var l=0;a.eachNode("preorder",function(d){d.depth>l&&(l=d.depth)});var u=t.expandAndCollapse,c=u&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return a.root.eachNode("preorder",function(d){var h=d.hostTree.data.getRawDataItem(d.dataIndex);d.isExpand=h&&h.collapsed!=null?!h.collapsed:d.depth<=c}),a.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,r,o){for(var i=this.getData().tree,a=i.root.children[0],s=i.getNodeByDataIndex(t),l=s.getValue(),u=s.name;s&&s!==a;)u=s.parentNode.name+"."+u,s=s.parentNode;return kr("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(t);return r.treeAncestors=DC(o,this),r.collapsed=!o.isExpand,r},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(gn);function A1e(n,e,t){for(var r=[n],o=[],i;i=r.pop();)if(o.push(i),i.isExpand){var a=i.children;if(a.length)for(var s=0;s<a.length;s++)r.push(a[s])}for(;i=o.pop();)e(i,t)}function Gg(n,e){for(var t=[n],r;r=t.pop();)if(e(r),r.isExpand){var o=r.children;if(o.length)for(var i=o.length-1;i>=0;i--)t.push(o[i])}}function D1e(n,e){n.eachSeriesByType("tree",function(t){R1e(t,e)})}function R1e(n,e){var t=u1e(n,e);n.layoutInfo=t;var r=n.get("layout"),o=0,i=0,a=null;r==="radial"?(o=2*Math.PI,i=Math.min(t.height,t.width)/2,a=oB(function(b,w){return(b.parentNode===w.parentNode?1:2)/b.depth})):(o=t.width,i=t.height,a=oB());var s=n.getData().tree.root,l=s.children[0];if(l){a1e(s),A1e(l,s1e,a),s.hierNode.modifier=-l.hierNode.prelim,Gg(l,l1e);var u=l,c=l,d=l;Gg(l,function(b){var w=b.getLayout().x;w<u.getLayout().x&&(u=b),w>c.getLayout().x&&(c=b),b.depth>d.depth&&(d=b)});var h=u===c?1:a(u,c)/2,f=h-u.getLayout().x,p=0,g=0,v=0,m=0;if(r==="radial")p=o/(c.getLayout().x+h+f),g=i/(d.depth-1||1),Gg(l,function(b){v=(b.getLayout().x+f)*p,m=(b.depth-1)*g;var w=pv(v,m);b.setLayout({x:w.x,y:w.y,rawX:v,rawY:m},!0)});else{var y=n.getOrient();y==="RL"||y==="LR"?(g=i/(c.getLayout().x+h+f),p=o/(d.depth-1||1),Gg(l,function(b){m=(b.getLayout().x+f)*g,v=y==="LR"?(b.depth-1)*p:o-(b.depth-1)*p,b.setLayout({x:v,y:m},!0)})):(y==="TB"||y==="BT")&&(p=o/(c.getLayout().x+h+f),g=i/(d.depth-1||1),Gg(l,function(b){v=(b.getLayout().x+f)*p,m=y==="TB"?(b.depth-1)*g:i-(b.depth-1)*g,b.setLayout({x:v,y:m},!0)}))}}}function E1e(n){n.eachSeriesByType("tree",function(e){var t=e.getData(),r=t.tree;r.eachNode(function(o){var i=o.getModel(),a=i.getModel("itemStyle").getItemStyle(),s=t.ensureUniqueItemVisual(o.dataIndex,"style");oe(s,a)})})}function $1e(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var o=e.dataIndex,i=r.getData().tree,a=i.getNodeByDataIndex(o);a.isExpand=!a.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,r){t.eachComponent({mainType:"series",subType:"tree",query:e},function(o){var i=o.coordinateSystem,a=G$(i,e,void 0,r);o.setCenter&&o.setCenter(a.center),o.setZoom&&o.setZoom(a.zoom)})})}function P1e(n){n.registerChartView(m1e),n.registerSeriesModel(T1e),n.registerLayout(D1e),n.registerVisual(E1e),$1e(n)}var uB=["treemapZoomToNode","treemapRender","treemapMove"];function M1e(n){for(var e=0;e<uB.length;e++)n.registerAction({type:uB[e],update:"updateView"},zn);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,r){r.eachComponent({mainType:"series",subType:"treemap",query:t},o);function o(i,a){var s=["treemapZoomToNode","treemapRootToNode"],l=Em(t,s,i);if(l){var u=i.getViewRoot();u&&(t.direction=U$(u,l.node)?"rollUp":"drillDown"),i.resetViewRoot(l.node)}}})}function SK(n){var e=n.getData(),t=e.tree,r={};t.eachNode(function(o){for(var i=o;i&&i.depth>1;)i=i.parentNode;var a=AA(n.ecModel,i.name||i.dataIndex+"",r);o.setVisual("decal",a)})}var L1e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return e.prototype.getInitialData=function(t,r){var o={name:t.name,children:t.data};CK(o);var i=t.levels||[],a=this.designatedVisualItemStyle={},s=new tn({itemStyle:a},this,r);i=t.levels=N1e(i,r);var l=fe(i||[],function(d){return new tn(d,s,r)},this),u=H$.createTree(o,this,c);function c(d){d.wrapMethod("getItemModel",function(h,f){var p=u.getNodeByDataIndex(f),g=p?l[p.depth]:null;return h.parentModel=g||s,h})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,r,o){var i=this.getData(),a=this.getRawValue(t),s=i.getName(t);return kr("nameValue",{name:s,value:a})},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(t);return r.treeAncestors=DC(o,this),r.treePathInfo=r.treeAncestors,r},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},oe(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var r=this._idIndexMap;r||(r=this._idIndexMap=Pe(),this._idIndexMapCount=0);var o=r.get(t);return o==null&&r.set(t,o=this._idIndexMapCount++),o},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var r=this.getRawData().tree.root;(!t||t!==r&&!r.contains(t))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){SK(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(gn);function CK(n){var e=0;R(n.children,function(r){CK(r);var o=r.value;ce(o)&&(o=o[0]),e+=o});var t=n.value;ce(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ce(n.value)?n.value[0]=t:n.value=t}function N1e(n,e){var t=rn(e.get("color")),r=rn(e.get(["aria","decal","decals"]));if(t){n=n||[];var o,i;R(n,function(s){var l=new tn(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(o=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(i=!0)});var a=n[0]||(n[0]={});return o||(a.color=t.slice()),!i&&r&&(a.decal=r.slice()),n}}var O1e=8,cB=8,cI=5,F1e=function(){function n(e){this.group=new Xe,e.add(this.group)}return n.prototype.render=function(e,t,r,o){var i=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),!(!i.get("show")||!r)){var s=i.getModel("itemStyle"),l=i.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),d={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,d,u),this._renderContent(e,d,s,l,u,c,o),pC(a,d.pos,d.box)}},n.prototype._prepare=function(e,t,r){for(var o=e;o;o=o.parentNode){var i=ir(o.getModel().get("name"),""),a=r.getTextRect(i),s=Math.max(a.width+O1e*2,t.emptyItemWidth);t.totalWidth+=s+cB,t.renderList.push({node:o,text:i,width:s})}},n.prototype._renderContent=function(e,t,r,o,i,a,s){for(var l=0,u=t.emptyItemWidth,c=e.get(["breadcrumb","height"]),d=Dfe(t.pos,t.box),h=t.totalWidth,f=t.renderList,p=o.getModel("itemStyle").getItemStyle(),g=f.length-1;g>=0;g--){var v=f[g],m=v.node,y=v.width,b=v.text;h>d.width&&(h-=y-u,y=u,b=null);var w=new Po({shape:{points:B1e(l,0,y,c,g===f.length-1,g===0)},style:Ve(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new _t({style:dn(i,{text:b})}),textConfig:{position:"inside"},z2:Ap*1e4,onclick:Qe(s,m)});w.disableLabelAnimation=!0,w.getTextContent().ensureState("emphasis").style=dn(a,{text:b}),w.ensureState("emphasis").style=p,On(w,o.get("focus"),o.get("blurScope"),o.get("disabled")),this.group.add(w),z1e(w,e,m),l+=y+cB}},n.prototype.remove=function(){this.group.removeAll()},n}();function B1e(n,e,t,r,o,i){var a=[[o?n:n-cI,e],[n+t,e],[n+t,e+r],[o?n:n-cI,e+r]];return!i&&a.splice(2,0,[n+t+cI,e+r/2]),!o&&a.push([n,e+r/2]),a}function z1e(n,e,t){Ye(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&DC(t,e)}}var V1e=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,r,o,i){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:r,delay:o,easing:i}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,r=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},o=0,i=this._storage.length;o<i;o++){var a=this._storage[o];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:r,aborted:r})}return this},n}();function G1e(){return new V1e}var tD=Xe,dB=It,hB=3,fB="label",pB="upperLabel",W1e=Ap*10,H1e=Ap*2,U1e=Ap*3,Zc=zd([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),gB=function(n){var e=Zc(n);return e.stroke=e.fill=e.lineWidth=null,e},Sx=Tt(),j1e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage=Wg(),t}return e.prototype.render=function(t,r,o,i){var a=r.findComponents({mainType:"series",subType:"treemap",query:i});if(!(ct(a,t)<0)){this.seriesModel=t,this.api=o,this.ecModel=r;var s=["treemapZoomToNode","treemapRootToNode"],l=Em(i,s,t),u=i&&i.type,c=t.layoutInfo,d=!this._oldTree,h=this._storage,f=u==="treemapRootToNode"&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:i.direction}:null,p=this._giveContainerGroup(c),g=t.get("animation"),v=this._doRender(p,t,f);g&&!d&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(p,v,t,f):v.renderFinally(),this._resetController(o),this._renderBreadcrumb(t,o,l)}},e.prototype._giveContainerGroup=function(t){var r=this._containerGroup;return r||(r=this._containerGroup=new tD,this._initEvents(r),this.group.add(r)),r.x=t.x,r.y=t.y,r},e.prototype._doRender=function(t,r,o){var i=r.getData().tree,a=this._oldTree,s=Wg(),l=Wg(),u=this._storage,c=[];function d(y,b,w,x){return K1e(r,l,u,o,s,c,y,b,w,x)}g(i.root?[i.root]:[],a&&a.root?[a.root]:[],t,i===a||!a,0);var h=v(u);if(this._oldTree=i,this._storage=l,this._controllerHost){var f=this.seriesModel.layoutInfo,p=i.root.getLayout();p.width===f.width&&p.height===f.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:h,renderFinally:m};function g(y,b,w,x,S){x?(b=y,R(y,function(_,I){!_.isRemoved()&&k(I,I)})):new kl(b,y,C,C).add(k).update(k).remove(Qe(k,null)).execute();function C(_){return _.getId()}function k(_,I){var T=_!=null?y[_]:null,A=I!=null?b[I]:null,D=d(T,A,w,S);D&&g(T&&T.viewChildren||[],A&&A.viewChildren||[],D,x,S+1)}}function v(y){var b=Wg();return y&&R(y,function(w,x){var S=b[x];R(w,function(C){C&&(S.push(C),Sx(C).willDelete=!0)})}),b}function m(){R(h,function(y){R(y,function(b){b.parent&&b.parent.remove(b)})}),R(c,function(y){y.invisible=!0,y.dirty()})}},e.prototype._doAnimation=function(t,r,o,i){var a=o.get("animationDurationUpdate"),s=o.get("animationEasing"),l=(ze(a)?0:a)||0,u=(ze(s)?null:s)||"cubicOut",c=G1e();R(r.willDeleteEls,function(d,h){R(d,function(f,p){if(!f.invisible){var g=f.parent,v,m=Sx(g);if(i&&i.direction==="drillDown")v=g===i.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,b=0;m.willDelete||(y=m.nodeWidth/2,b=m.nodeHeight/2),v=h==="nodeGroup"?{x:y,y:b,style:{opacity:0}}:{shape:{x:y,y:b,width:0,height:0},style:{opacity:0}}}v&&c.add(f,v,l,0,u)}})}),R(this._storage,function(d,h){R(d,function(f,p){var g=r.lastsForAnimation[h][p],v={};g&&(f instanceof Xe?g.oldX!=null&&(v.x=f.x,v.y=f.y,f.x=g.oldX,f.y=g.oldY):(g.oldShape&&(v.shape=oe({},f.shape),f.setShape(g.oldShape)),g.fadein?(f.setStyle("opacity",0),v.style={opacity:1}):f.style.opacity!==1&&(v.style={opacity:1})),c.add(f,v,l,0,u))})},this),this._state="animating",c.finished(Re(function(){this._state="ready",r.renderFinally()},this)).start()},e.prototype._resetController=function(t){var r=this._controller,o=this._controllerHost;o||(this._controllerHost={target:this.group},o=this._controllerHost),r||(r=this._controller=new Hy(t.getZr()),r.enable(this.seriesModel.get("roam")),o.zoomLimit=this.seriesModel.get("scaleLimit"),o.zoom=this.seriesModel.get("zoom"),r.on("pan",Re(this._onPan,this)),r.on("zoom",Re(this._onZoom,this)));var i=new lt(0,0,t.getWidth(),t.getHeight());r.setPointerChecker(function(a,s,l){return i.contain(s,l)})},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>hB||Math.abs(t.dy)>hB)){var r=this.seriesModel.getData().tree.root;if(!r)return;var o=r.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+t.dx,y:o.y+t.dy,width:o.width,height:o.height}})}},e.prototype._onZoom=function(t){var r=t.originX,o=t.originY,i=t.scale;if(this._state!=="animating"){var a=this.seriesModel.getData().tree.root;if(!a)return;var s=a.getLayout();if(!s)return;var l=new lt(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var d=c.zoom=c.zoom||1;if(d*=i,u){var h=u.min||0,f=u.max||1/0;d=Math.max(Math.min(f,d),h)}var p=d/c.zoom;c.zoom=d;var g=this.seriesModel.layoutInfo;r-=g.x,o-=g.y;var v=Zo();Va(v,v,[-r,-o]),KS(v,v,[p,p]),Va(v,v,[r,o]),l.applyTransform(v),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var r=this;t.on("click",function(o){if(r._state==="ready"){var i=r.seriesModel.get("nodeClick",!0);if(i){var a=r.findTarget(o.offsetX,o.offsetY);if(a){var s=a.node;if(s.getLayout().isLeafRoot)r._rootToNode(a);else if(i==="zoomToNode")r._zoomToNode(a);else if(i==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&rx(u,c)}}}}},this)},e.prototype._renderBreadcrumb=function(t,r,o){var i=this;o||(o=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2),o||(o={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new F1e(this.group))).render(t,r,o.node,function(a){i._state!=="animating"&&(U$(t.getViewRoot(),a)?i._rootToNode({node:a}):i._zoomToNode({node:a}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Wg(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,r){var o,i=this.seriesModel.getViewRoot();return i.eachNode({attr:"viewChildren",order:"preorder"},function(a){var s=this._storage.background[a.getRawIndex()];if(s){var l=s.transformCoordToLocal(t,r),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)o={node:a,offsetX:l[0],offsetY:l[1]};else return!1}},this),o},e.type="treemap",e}(on);function Wg(){return{nodeGroup:[],background:[],content:[]}}function K1e(n,e,t,r,o,i,a,s,l,u){if(!a)return;var c=a.getLayout(),d=n.getData(),h=a.getModel();if(d.setItemGraphicEl(a.dataIndex,null),!c||!c.isInView)return;var f=c.width,p=c.height,g=c.borderWidth,v=c.invisible,m=a.getRawIndex(),y=s&&s.getRawIndex(),b=a.viewChildren,w=c.upperHeight,x=b&&b.length,S=h.getModel("itemStyle"),C=h.getModel(["emphasis","itemStyle"]),k=h.getModel(["blur","itemStyle"]),_=h.getModel(["select","itemStyle"]),I=S.get("borderRadius")||0,T=te("nodeGroup",tD);if(!T)return;if(l.add(T),T.x=c.x||0,T.y=c.y||0,T.markRedraw(),Sx(T).nodeWidth=f,Sx(T).nodeHeight=p,c.isAboveViewRoot)return T;var A=te("background",dB,u,H1e);A&&L(T,A,x&&c.upperLabelHeight);var D=h.getModel("emphasis"),E=D.get("focus"),$=D.get("blurScope"),P=D.get("disabled"),N=E==="ancestor"?a.getAncestorsIndices():E==="descendant"?a.getDescendantIndices():E;if(x)ym(T)&&gd(T,!1),A&&(gd(A,!P),d.setItemGraphicEl(a.dataIndex,A),wA(A,N,$));else{var M=te("content",dB,u,U1e);M&&V(T,M),A.disableMorphing=!0,A&&ym(A)&&gd(A,!1),gd(T,!P),d.setItemGraphicEl(a.dataIndex,T),wA(T,N,$)}return T;function L(ye,ve,de){var Se=Ye(ve);if(Se.dataIndex=a.dataIndex,Se.seriesIndex=n.seriesIndex,ve.setShape({x:0,y:0,width:f,height:p,r:I}),v)W(ve);else{ve.invisible=!1;var me=a.getVisual("style"),Ee=me.stroke,F=gB(S);F.fill=Ee;var z=Zc(C);z.fill=C.get("borderColor");var J=Zc(k);J.fill=k.get("borderColor");var ie=Zc(_);if(ie.fill=_.get("borderColor"),de){var ae=f-2*g;j(ve,Ee,me.opacity,{x:g,y:0,width:ae,height:w})}else ve.removeTextContent();ve.setStyle(F),ve.ensureState("emphasis").style=z,ve.ensureState("blur").style=J,ve.ensureState("select").style=ie,Vd(ve)}ye.add(ve)}function V(ye,ve){var de=Ye(ve);de.dataIndex=a.dataIndex,de.seriesIndex=n.seriesIndex;var Se=Math.max(f-2*g,0),me=Math.max(p-2*g,0);if(ve.culling=!0,ve.setShape({x:g,y:g,width:Se,height:me,r:I}),v)W(ve);else{ve.invisible=!1;var Ee=a.getVisual("style"),F=Ee.fill,z=gB(S);z.fill=F,z.decal=Ee.decal;var J=Zc(C),ie=Zc(k),ae=Zc(_);j(ve,F,Ee.opacity,null),ve.setStyle(z),ve.ensureState("emphasis").style=J,ve.ensureState("blur").style=ie,ve.ensureState("select").style=ae,Vd(ve)}ye.add(ve)}function W(ye){!ye.invisible&&i.push(ye)}function j(ye,ve,de,Se){var me=h.getModel(Se?pB:fB),Ee=ir(h.get("name"),null),F=me.getShallow("show");Hr(ye,Cr(h,Se?pB:fB),{defaultText:F?Ee:null,inheritColor:ve,defaultOpacity:de,labelFetcher:n,labelDataIndex:a.dataIndex});var z=ye.getTextContent();if(z){var J=z.style,ie=US(J.padding||0);Se&&(ye.setTextConfig({layoutRect:Se}),z.disableLabelLayout=!0),z.beforeUpdate=function(){var pe=Math.max((Se?Se.width:ye.shape.width)-ie[1]-ie[3],0),Ie=Math.max((Se?Se.height:ye.shape.height)-ie[0]-ie[2],0);(J.width!==pe||J.height!==Ie)&&z.setStyle({width:pe,height:Ie})},J.truncateMinChar=2,J.lineOverflow="truncate",Q(J,Se,c);var ae=z.getState("emphasis");Q(ae?ae.style:null,Se,c)}}function Q(ye,ve,de){var Se=ye?ye.text:null;if(!ve&&de.isLeafRoot&&Se!=null){var me=n.get("drillDownIcon",!0);ye.text=me?me+" "+Se:Se}}function te(ye,ve,de,Se){var me=y!=null&&t[ye][y],Ee=o[ye];return me?(t[ye][y]=null,se(Ee,me)):v||(me=new ve,me instanceof ra&&(me.z2=X1e(de,Se)),ge(Ee,me)),e[ye][m]=me}function se(ye,ve){var de=ye[m]={};ve instanceof tD?(de.oldX=ve.x,de.oldY=ve.y):de.oldShape=oe({},ve.shape)}function ge(ye,ve){var de=ye[m]={},Se=a.parentNode,me=ve instanceof Xe;if(Se&&(!r||r.direction==="drillDown")){var Ee=0,F=0,z=o.background[Se.getRawIndex()];!r&&z&&z.oldShape&&(Ee=z.oldShape.width,F=z.oldShape.height),me?(de.oldX=0,de.oldY=F):de.oldShape={x:Ee,y:F,width:0,height:0}}de.fadein=!me}}function X1e(n,e){return n*W1e+e}var $m=R,q1e=Ge,Cx=-1,xr=function(){function n(e){var t=e.mappingMethod,r=e.type,o=this.option=We(e);this.type=r,this.mappingMethod=t,this._normalizeData=J1e[t];var i=n.visualHandlers[r];this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._normalizedToVisual=i._normalizedToVisual[t],t==="piecewise"?(dI(o),Y1e(o)):t==="category"?o.categories?Z1e(o):dI(o,!0):(uo(t!=="linear"||o.dataExtent),dI(o))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return Re(this._normalizeData,this)},n.listVisualTypes=function(){return yt(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,r){Ge(e)?R(e,t,r):t.call(r,e)},n.mapVisual=function(e,t,r){var o,i=ce(e)?[]:Ge(e)?{}:(o=!0,null);return n.eachVisual(e,function(a,s){var l=t.call(r,a,s);o?i=l:i[s]=l}),i},n.retrieveVisuals=function(e){var t={},r;return e&&$m(n.visualHandlers,function(o,i){e.hasOwnProperty(i)&&(t[i]=e[i],r=!0)}),r?t:null},n.prepareVisualTypes=function(e){if(ce(e))e=e.slice();else if(q1e(e)){var t=[];$m(e,function(r,o){t.push(o)}),e=t}else return[];return e.sort(function(r,o){return o==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),e},n.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},n.findPieceIndex=function(e,t,r){for(var o,i=1/0,a=0,s=t.length;a<s;a++){var l=t[a].value;if(l!=null){if(l===e||De(l)&&l===e+"")return a;r&&h(l,a)}}for(var a=0,s=t.length;a<s;a++){var u=t[a],c=u.interval,d=u.close;if(c){if(c[0]===-1/0){if(b1(d[1],e,c[1]))return a}else if(c[1]===1/0){if(b1(d[0],c[0],e))return a}else if(b1(d[0],c[0],e)&&b1(d[1],e,c[1]))return a;r&&h(c[0],a),r&&h(c[1],a)}}if(r)return e===1/0?t.length-1:e===-1/0?0:o;function h(f,p){var g=Math.abs(f-e);g<i&&(i=g,o=p)}},n.visualHandlers={color:{applyVisual:Hg("color"),getColorMapper:function(){var e=this.option;return Re(e.mappingMethod==="category"?function(t,r){return!r&&(t=this._normalizeData(t)),gv.call(this,t)}:function(t,r,o){var i=!!o;return!r&&(t=this._normalizeData(t)),o=Nv(t,e.parsedVisual,o),i?o:Ma(o,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Ma(Nv(e,this.option.parsedVisual),"rgba")},category:gv,piecewise:function(e,t){var r=rD.call(this,t);return r==null&&(r=Ma(Nv(e,this.option.parsedVisual),"rgba")),r},fixed:Jc}},colorHue:y1(function(e,t){return Of(e,t)}),colorSaturation:y1(function(e,t){return Of(e,null,t)}),colorLightness:y1(function(e,t){return Of(e,null,null,t)}),colorAlpha:y1(function(e,t){return fm(e,t)}),decal:{applyVisual:Hg("decal"),_normalizedToVisual:{linear:null,category:gv,piecewise:null,fixed:null}},opacity:{applyVisual:Hg("opacity"),_normalizedToVisual:nD([0,1])},liftZ:{applyVisual:Hg("liftZ"),_normalizedToVisual:{linear:Jc,category:Jc,piecewise:Jc,fixed:Jc}},symbol:{applyVisual:function(e,t,r){var o=this.mapValueToVisual(e);r("symbol",o)},_normalizedToVisual:{linear:vB,category:gv,piecewise:function(e,t){var r=rD.call(this,t);return r==null&&(r=vB.call(this,e)),r},fixed:Jc}},symbolSize:{applyVisual:Hg("symbolSize"),_normalizedToVisual:nD([0,1])}},n}();function Y1e(n){var e=n.pieceList;n.hasSpecialVisual=!1,R(e,function(t,r){t.originIndex=r,t.visual!=null&&(n.hasSpecialVisual=!0)})}function Z1e(n){var e=n.categories,t=n.categoryMap={},r=n.visual;if($m(e,function(a,s){t[a]=s}),!ce(r)){var o=[];Ge(r)?$m(r,function(a,s){var l=t[s];o[l??Cx]=a}):o[Cx]=r,r=kK(n,o)}for(var i=e.length-1;i>=0;i--)r[i]==null&&(delete t[e[i]],e.pop())}function dI(n,e){var t=n.visual,r=[];Ge(t)?$m(t,function(i){r.push(i)}):t!=null&&r.push(t);var o={color:1,symbol:1};!e&&r.length===1&&!o.hasOwnProperty(n.type)&&(r[1]=r[0]),kK(n,r)}function y1(n){return{applyVisual:function(e,t,r){var o=this.mapValueToVisual(e);r("color",n(t("color"),o))},_normalizedToVisual:nD([0,1])}}function vB(n){var e=this.option.visual;return e[Math.round(Wt(n,[0,1],[0,e.length-1],!0))]||{}}function Hg(n){return function(e,t,r){r(n,this.mapValueToVisual(e))}}function gv(n){var e=this.option.visual;return e[this.option.loop&&n!==Cx?n%e.length:n]}function Jc(){return this.option.visual[0]}function nD(n){return{linear:function(e){return Wt(e,n,this.option.visual,!0)},category:gv,piecewise:function(e,t){var r=rD.call(this,t);return r==null&&(r=Wt(e,n,this.option.visual,!0)),r},fixed:Jc}}function rD(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var r=xr.findPieceIndex(n,t),o=t[r];if(o&&o.visual)return o.visual[this.type]}}function kK(n,e){return n.visual=e,n.type==="color"&&(n.parsedVisual=fe(e,function(t){var r=To(t);return r||[0,0,0,1]})),e}var J1e={linear:function(n){return Wt(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=xr.findPieceIndex(n,e,!0);if(t!=null)return Wt(t,[0,e.length-1],[0,1],!0)},category:function(n){var e=this.option.categories?this.option.categoryMap[n]:n;return e??Cx},fixed:zn};function b1(n,e,t){return n?e<=t:e<t}var Q1e="itemStyle",_K=Tt();const ewe={seriesType:"treemap",reset:function(n){var e=n.getData().tree,t=e.root;t.isRemoved()||IK(t,{},n.getViewRoot().getAncestors(),n)}};function IK(n,e,t,r){var o=n.getModel(),i=n.getLayout(),a=n.hostTree.data;if(!(!i||i.invisible||!i.isInView)){var s=o.getModel(Q1e),l=twe(s,e,r),u=a.ensureUniqueItemVisual(n.dataIndex,"style"),c=s.get("borderColor"),d=s.get("borderColorSaturation"),h;d!=null&&(h=mB(l),c=nwe(d,h)),u.stroke=c;var f=n.viewChildren;if(!f||!f.length)h=mB(l),u.fill=h;else{var p=rwe(n,o,i,s,l,f);R(f,function(g,v){if(g.depth>=t.length||g===t[g.depth]){var m=owe(o,l,g,v,p,r);IK(g,m,t,r)}})}}}function twe(n,e,t){var r=oe({},e),o=t.designatedVisualItemStyle;return R(["color","colorAlpha","colorSaturation"],function(i){o[i]=e[i];var a=n.get(i);o[i]=null,a!=null&&(r[i]=a)}),r}function mB(n){var e=hI(n,"color");if(e){var t=hI(n,"colorAlpha"),r=hI(n,"colorSaturation");return r&&(e=Of(e,null,null,r)),t&&(e=fm(e,t)),e}}function nwe(n,e){return e!=null?Of(e,null,null,n):null}function hI(n,e){var t=n[e];if(t!=null&&t!=="none")return t}function rwe(n,e,t,r,o,i){if(!(!i||!i.length)){var a=fI(e,"color")||o.color!=null&&o.color!=="none"&&(fI(e,"colorAlpha")||fI(e,"colorSaturation"));if(a){var s=e.get("visualMin"),l=e.get("visualMax"),u=t.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),d={type:a.name,dataExtent:u,visual:a.range};d.type==="color"&&(c==="index"||c==="id")?(d.mappingMethod="category",d.loop=!0):d.mappingMethod="linear";var h=new xr(d);return _K(h).drColorMappingBy=c,h}}}function fI(n,e){var t=n.get(e);return ce(t)&&t.length?{name:e,range:t}:null}function owe(n,e,t,r,o,i){var a=oe({},e);if(o){var s=o.type,l=s==="color"&&_K(o).drColorMappingBy,u=l==="index"?r:l==="id"?i.mapIdToIndex(t.getId()):t.getValue(n.get("visualDimension"));a[s]=o.mapValueToVisual(u)}return a}var Pm=Math.max,kx=Math.min,yB=mr,j$=R,TK=["itemStyle","borderWidth"],iwe=["itemStyle","gapWidth"],awe=["upperLabel","show"],swe=["upperLabel","height"];const lwe={seriesType:"treemap",reset:function(n,e,t,r){var o=t.getWidth(),i=t.getHeight(),a=n.option,s=er(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),l=a.size||[],u=_e(yB(s.width,l[0]),o),c=_e(yB(s.height,l[1]),i),d=r&&r.type,h=["treemapZoomToNode","treemapRootToNode"],f=Em(r,h,n),p=d==="treemapRender"||d==="treemapMove"?r.rootRect:null,g=n.getViewRoot(),v=xK(g);if(d!=="treemapMove"){var m=d==="treemapZoomToNode"?pwe(n,f,g,u,c):p?[p.width,p.height]:[u,c],y=a.sort;y&&y!=="asc"&&y!=="desc"&&(y="desc");var b={squareRatio:a.squareRatio,sort:y,leafDepth:a.leafDepth};g.hostTree.clearLayouts();var w={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};g.setLayout(w),AK(g,b,!1,0),w=g.getLayout(),j$(v,function(S,C){var k=(v[C+1]||g).getValue();S.setLayout(oe({dataExtent:[k,k],borderWidth:0,upperHeight:0},w))})}var x=n.getData().tree.root;x.setLayout(gwe(s,p,f),!0),n.setLayoutInfo(s),DK(x,new lt(-s.x,-s.y,o,i),v,g,0)}};function AK(n,e,t,r){var o,i;if(!n.isRemoved()){var a=n.getLayout();o=a.width,i=a.height;var s=n.getModel(),l=s.get(TK),u=s.get(iwe)/2,c=RK(s),d=Math.max(l,c),h=l-u,f=d-u;n.setLayout({borderWidth:l,upperHeight:d,upperLabelHeight:c},!0),o=Pm(o-2*h,0),i=Pm(i-h-f,0);var p=o*i,g=uwe(n,s,p,e,t,r);if(g.length){var v={x:h,y:f,width:o,height:i},m=kx(o,i),y=1/0,b=[];b.area=0;for(var w=0,x=g.length;w<x;){var S=g[w];b.push(S),b.area+=S.getLayout().area;var C=fwe(b,m,e.squareRatio);C<=y?(w++,y=C):(b.area-=b.pop().getLayout().area,bB(b,m,v,u,!1),m=kx(v.width,v.height),b.length=b.area=0,y=1/0)}if(b.length&&bB(b,m,v,u,!0),!t){var k=s.get("childrenVisibleMin");k!=null&&p<k&&(t=!0)}for(var w=0,x=g.length;w<x;w++)AK(g[w],e,t,r+1)}}}function uwe(n,e,t,r,o,i){var a=n.children||[],s=r.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=r.leafDepth!=null&&r.leafDepth<=i;if(o&&!l)return n.viewChildren=[];a=Ht(a,function(f){return!f.isRemoved()}),dwe(a,s);var u=hwe(e,a,s);if(u.sum===0)return n.viewChildren=[];if(u.sum=cwe(e,t,u.sum,s,a),u.sum===0)return n.viewChildren=[];for(var c=0,d=a.length;c<d;c++){var h=a[c].getValue()/u.sum*t;a[c].setLayout({area:h})}return l&&(a.length&&n.setLayout({isLeafRoot:!0},!0),a.length=0),n.viewChildren=a,n.setLayout({dataExtent:u.dataExtent},!0),a}function cwe(n,e,t,r,o){if(!r)return t;for(var i=n.get("visibleMin"),a=o.length,s=a,l=a-1;l>=0;l--){var u=o[r==="asc"?a-l-1:l].getValue();u/t*e<i&&(s=l,t-=u)}return r==="asc"?o.splice(0,a-s):o.splice(s,a-s),t}function dwe(n,e){return e&&n.sort(function(t,r){var o=e==="asc"?t.getValue()-r.getValue():r.getValue()-t.getValue();return o===0?e==="asc"?t.dataIndex-r.dataIndex:r.dataIndex-t.dataIndex:o}),n}function hwe(n,e,t){for(var r=0,o=0,i=e.length;o<i;o++)r+=e[o].getValue();var a=n.get("visualDimension"),s;return!e||!e.length?s=[NaN,NaN]:a==="value"&&t?(s=[e[e.length-1].getValue(),e[0].getValue()],t==="asc"&&s.reverse()):(s=[1/0,-1/0],j$(e,function(l){var u=l.getValue(a);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:r,dataExtent:s}}function fwe(n,e,t){for(var r=0,o=1/0,i=0,a=void 0,s=n.length;i<s;i++)a=n[i].getLayout().area,a&&(a<o&&(o=a),a>r&&(r=a));var l=n.area*n.area,u=e*e*t;return l?Pm(u*r/l,l/(u*o)):1/0}function bB(n,e,t,r,o){var i=e===t.width?0:1,a=1-i,s=["x","y"],l=["width","height"],u=t[s[i]],c=e?n.area/e:0;(o||c>t[l[a]])&&(c=t[l[a]]);for(var d=0,h=n.length;d<h;d++){var f=n[d],p={},g=c?f.getLayout().area/c:0,v=p[l[a]]=Pm(c-2*r,0),m=t[s[i]]+t[l[i]]-u,y=d===h-1||m<g?m:g,b=p[l[i]]=Pm(y-2*r,0);p[s[a]]=t[s[a]]+kx(r,v/2),p[s[i]]=u+kx(r,b/2),u+=y,f.setLayout(p,!0)}t[s[a]]+=c,t[l[a]]-=c}function pwe(n,e,t,r,o){var i=(e||{}).node,a=[r,o];if(!i||i===t)return a;for(var s,l=r*o,u=l*n.option.zoomToNodeRatio;s=i.parentNode;){for(var c=0,d=s.children,h=0,f=d.length;h<f;h++)c+=d[h].getValue();var p=i.getValue();if(p===0)return a;u*=c/p;var g=s.getModel(),v=g.get(TK),m=Math.max(v,RK(g));u+=4*v*v+(3*v+m)*Math.pow(u,.5),u>dA&&(u=dA),i=s}u<l&&(u=l);var y=Math.pow(u/l,.5);return[r*y,o*y]}function gwe(n,e,t){if(e)return{x:e.x,y:e.y};var r={x:0,y:0};if(!t)return r;var o=t.node,i=o.getLayout();if(!i)return r;for(var a=[i.width/2,i.height/2],s=o;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:n.width/2-a[0],y:n.height/2-a[1]}}function DK(n,e,t,r,o){var i=n.getLayout(),a=t[o],s=a&&a===n;if(!(a&&!s||o===t.length&&n!==r)){n.setLayout({isInView:!0,invisible:!s&&!e.intersect(i),isAboveViewRoot:s},!0);var l=new lt(e.x-i.x,e.y-i.y,e.width,e.height);j$(n.viewChildren||[],function(u){DK(u,l,t,r,o+1)})}}function RK(n){return n.get(awe)?n.get(swe):0}function vwe(n){n.registerSeriesModel(L1e),n.registerChartView(j1e),n.registerVisual(ewe),n.registerLayout(lwe),M1e(n)}function mwe(n){var e=n.findComponents({mainType:"legend"});!e||!e.length||n.eachSeriesByType("graph",function(t){var r=t.getCategoriesData(),o=t.getGraph(),i=o.data,a=r.mapArray(r.getName);i.filterSelf(function(s){var l=i.getItemModel(s),u=l.getShallow("category");if(u!=null){Rt(u)&&(u=a[u]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(u))return!1}return!0})})}function ywe(n){var e={};n.eachSeriesByType("graph",function(t){var r=t.getCategoriesData(),o=t.getData(),i={};r.each(function(a){var s=r.getName(a);i["ec-"+s]=a;var l=r.getItemModel(a),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=t.getColorFromPalette(s,e)),r.setItemVisual(a,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],d=0;d<c.length;d++){var h=l.getShallow(c[d],!0);h!=null&&r.setItemVisual(a,c[d],h)}}),r.count()&&o.each(function(a){var s=o.getItemModel(a),l=s.getShallow("category");if(l!=null){De(l)&&(l=i["ec-"+l]);var u=r.getItemVisual(l,"style"),c=o.ensureUniqueItemVisual(a,"style");oe(c,u);for(var d=["symbol","symbolSize","symbolKeepAspect"],h=0;h<d.length;h++)o.setItemVisual(a,d[h],r.getItemVisual(l,d[h]))}})})}function w1(n){return n instanceof Array||(n=[n,n]),n}function bwe(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),r=e.getEdgeData(),o=w1(e.get("edgeSymbol")),i=w1(e.get("edgeSymbolSize"));r.setVisual("fromSymbol",o&&o[0]),r.setVisual("toSymbol",o&&o[1]),r.setVisual("fromSymbolSize",i&&i[0]),r.setVisual("toSymbolSize",i&&i[1]),r.setVisual("style",e.getModel("lineStyle").getLineStyle()),r.each(function(a){var s=r.getItemModel(a),l=t.getEdgeByIndex(a),u=w1(s.getShallow("symbol",!0)),c=w1(s.getShallow("symbolSize",!0)),d=s.getModel("lineStyle").getLineStyle(),h=r.ensureUniqueItemVisual(a,"style");switch(oe(h,d),h.stroke){case"source":{var f=l.node1.getVisual("style");h.stroke=f&&f.fill;break}case"target":{var f=l.node2.getVisual("style");h.stroke=f&&f.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var oD="-->",RC=function(n){return n.get("autoCurveness")||null},EK=function(n,e){var t=RC(n),r=20,o=[];if(Rt(t))r=t;else if(ce(t)){n.__curvenessList=t;return}e>r&&(r=e);var i=r%2?r+2:r+3;o=[];for(var a=0;a<i;a++)o.push((a%2?a+1:a)/10*(a%2?-1:1));n.__curvenessList=o},Mm=function(n,e,t){var r=[n.id,n.dataIndex].join("."),o=[e.id,e.dataIndex].join(".");return[t.uid,r,o].join(oD)},$K=function(n){var e=n.split(oD);return[e[0],e[2],e[1]].join(oD)},wwe=function(n,e){var t=Mm(n.node1,n.node2,e);return e.__edgeMap[t]},xwe=function(n,e){var t=iD(Mm(n.node1,n.node2,e),e),r=iD(Mm(n.node2,n.node1,e),e);return t+r},iD=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function Swe(n){RC(n)&&(n.__curvenessList=[],n.__edgeMap={},EK(n))}function Cwe(n,e,t,r){if(RC(t)){var o=Mm(n,e,t),i=t.__edgeMap,a=i[$K(o)];i[o]&&!a?i[o].isForward=!0:a&&i[o]&&(a.isForward=!0,i[o].isForward=!1),i[o]=i[o]||[],i[o].push(r)}}function K$(n,e,t,r){var o=RC(e),i=ce(o);if(!o)return null;var a=wwe(n,e);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===t){s=l;break}var u=xwe(n,e);EK(e,u),n.lineStyle=n.lineStyle||{};var c=Mm(n.node1,n.node2,e),d=e.__curvenessList,h=i||u%2?0:1;if(a.isForward)return d[h+s];var f=$K(c),p=iD(f,e),g=d[s+p+h];return r?i?o&&o[0]===0?(p+h)%2?g:-g:((p%2?0:1)+h)%2?g:-g:(p+h)%2?g:-g:d[s+p+h]}function PK(n){var e=n.coordinateSystem;if(!(e&&e.type!=="view")){var t=n.getGraph();t.eachNode(function(r){var o=r.getModel();r.setLayout([+o.get("x"),+o.get("y")])}),X$(t,n)}}function X$(n,e){n.eachEdge(function(t,r){var o=$a(t.getModel().get(["lineStyle","curveness"]),-K$(t,e,r,!0),0),i=Ts(t.node1.getLayout()),a=Ts(t.node2.getLayout()),s=[i,a];+o&&s.push([(i[0]+a[0])/2-(i[1]-a[1])*o,(i[1]+a[1])/2-(a[0]-i[0])*o]),t.setLayout(s)})}function kwe(n,e){n.eachSeriesByType("graph",function(t){var r=t.get("layout"),o=t.coordinateSystem;if(o&&o.type!=="view"){var i=t.getData(),a=[];R(o.dimensions,function(h){a=a.concat(i.mapDimensionsAll(h))});for(var s=0;s<i.count();s++){for(var l=[],u=!1,c=0;c<a.length;c++){var d=i.get(a[c],s);isNaN(d)||(u=!0),l.push(d)}u?i.setItemLayout(s,o.dataToPoint(l)):i.setItemLayout(s,[NaN,NaN])}X$(i.graph,t)}else(!r||r==="none")&&PK(t)})}function vv(n){var e=n.coordinateSystem;if(e.type!=="view")return 1;var t=n.option.nodeScaleRatio,r=e.scaleX,o=e.getZoom(),i=(o-1)*t+1;return i/r}function mv(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var wB=Math.PI,pI=[];function q$(n,e,t,r){var o=n.coordinateSystem;if(!(o&&o.type!=="view")){var i=o.getBoundingRect(),a=n.getData(),s=a.graph,l=i.width/2+i.x,u=i.height/2+i.y,c=Math.min(i.width,i.height)/2,d=a.count();if(a.setLayout({cx:l,cy:u}),!!d){if(t){var h=o.pointToData(r),f=h[0],p=h[1],g=[f-l,p-u];uh(g,g),Pv(g,g,c),t.setLayout([l+g[0],u+g[1]],!0);var v=n.get(["circular","rotateLabel"]);MK(t,v,l,u)}_we[e](n,s,a,c,l,u,d),s.eachEdge(function(m,y){var b=$a(m.getModel().get(["lineStyle","curveness"]),K$(m,n,y),0),w=Ts(m.node1.getLayout()),x=Ts(m.node2.getLayout()),S,C=(w[0]+x[0])/2,k=(w[1]+x[1])/2;+b&&(b*=3,S=[l*b+C*(1-b),u*b+k*(1-b)]),m.setLayout([w,x,S])})}}}var _we={value:function(n,e,t,r,o,i,a){var s=0,l=t.getSum("value"),u=Math.PI*2/(l||a);e.eachNode(function(c){var d=c.getValue("value"),h=u*(l?d:1)/2;s+=h,c.setLayout([r*Math.cos(s)+o,r*Math.sin(s)+i]),s+=h})},symbolSize:function(n,e,t,r,o,i,a){var s=0;pI.length=a;var l=vv(n);e.eachNode(function(d){var h=mv(d);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var f=Math.asin(h/2/r);isNaN(f)&&(f=wB/2),pI[d.dataIndex]=f,s+=f*2});var u=(2*wB-s)/a/2,c=0;e.eachNode(function(d){var h=u+pI[d.dataIndex];c+=h,(!d.getLayout()||!d.getLayout().fixed)&&d.setLayout([r*Math.cos(c)+o,r*Math.sin(c)+i]),c+=h})}};function MK(n,e,t,r){var o=n.getGraphicEl();if(o){var i=n.getModel(),a=i.get(["label","rotate"])||0,s=o.getSymbolPath();if(e){var l=n.getLayout(),u=Math.atan2(l[1]-r,l[0]-t);u<0&&(u=Math.PI*2+u);var c=l[0]<t;c&&(u=u-Math.PI);var d=c?"left":"right";s.setTextConfig({rotation:-u,position:d,origin:"center"});var h=s.ensureState("emphasis");oe(h.textConfig||(h.textConfig={}),{position:d})}else s.setTextConfig({rotation:a*=Math.PI/180})}}function Iwe(n){n.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&q$(e,"symbolSize")})}var Xh=zw;function Twe(n,e,t){for(var r=n,o=e,i=t.rect,a=i.width,s=i.height,l=[i.x+a/2,i.y+s/2],u=t.gravity==null?.1:t.gravity,c=0;c<r.length;c++){var d=r[c];d.p||(d.p=Zu(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),d.pp=Ts(d.p),d.edges=null}var h=t.friction==null?.6:t.friction,f=h,p,g;return{warmUp:function(){f=h*.8},setFixed:function(v){r[v].fixed=!0},setUnfixed:function(v){r[v].fixed=!1},beforeStep:function(v){p=v},afterStep:function(v){g=v},step:function(v){p&&p(r,o);for(var m=[],y=r.length,b=0;b<o.length;b++){var w=o[b];if(!w.ignoreForceLayout){var x=w.n1,S=w.n2;du(m,S.p,x.p);var C=cm(m)-w.d,k=S.w/(x.w+S.w);isNaN(k)&&(k=0),uh(m,m),!x.fixed&&Xh(x.p,x.p,m,k*C*f),!S.fixed&&Xh(S.p,S.p,m,-(1-k)*C*f)}}for(var b=0;b<y;b++){var _=r[b];_.fixed||(du(m,l,_.p),Xh(_.p,_.p,m,u*f))}for(var b=0;b<y;b++)for(var x=r[b],I=b+1;I<y;I++){var S=r[I];du(m,S.p,x.p);var C=cm(m);C===0&&(AG(m,Math.random()-.5,Math.random()-.5),C=1);var T=(x.rep+S.rep)/C/C;!x.fixed&&Xh(x.pp,x.pp,m,T),!S.fixed&&Xh(S.pp,S.pp,m,-T)}for(var A=[],b=0;b<y;b++){var _=r[b];_.fixed||(du(A,_.p,_.pp),Xh(_.p,_.p,A,f),Qr(_.pp,_.p))}f=f*.992;var D=f<.01;g&&g(r,o,D),v&&v(D)}}}function Awe(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view"))if(e.get("layout")==="force"){var r=e.preservedPoints||{},o=e.getGraph(),i=o.data,a=o.edgeData,s=e.getModel("force"),l=s.get("initLayout");e.preservedPoints?i.each(function(b){var w=i.getId(b);i.setItemLayout(b,r[w]||[NaN,NaN])}):!l||l==="none"?PK(e):l==="circular"&&q$(e,"value");var u=i.getDataExtent("value"),c=a.getDataExtent("value"),d=s.get("repulsion"),h=s.get("edgeLength"),f=ce(d)?d:[d,d],p=ce(h)?h:[h,h];p=[p[1],p[0]];var g=i.mapArray("value",function(b,w){var x=i.getItemLayout(w),S=Wt(b,u,f);return isNaN(S)&&(S=(f[0]+f[1])/2),{w:S,rep:S,fixed:i.getItemModel(w).get("fixed"),p:!x||isNaN(x[0])||isNaN(x[1])?null:x}}),v=a.mapArray("value",function(b,w){var x=o.getEdgeByIndex(w),S=Wt(b,c,p);isNaN(S)&&(S=(p[0]+p[1])/2);var C=x.getModel(),k=$a(x.getModel().get(["lineStyle","curveness"]),-K$(x,e,w,!0),0);return{n1:g[x.node1.dataIndex],n2:g[x.node2.dataIndex],d:S,curveness:k,ignoreForceLayout:C.get("ignoreForceLayout")}}),m=t.getBoundingRect(),y=Twe(g,v,{rect:m,gravity:s.get("gravity"),friction:s.get("friction")});y.beforeStep(function(b,w){for(var x=0,S=b.length;x<S;x++)b[x].fixed&&Qr(b[x].p,o.getNodeByIndex(x).getLayout())}),y.afterStep(function(b,w,x){for(var S=0,C=b.length;S<C;S++)b[S].fixed||o.getNodeByIndex(S).setLayout(b[S].p),r[i.getId(S)]=b[S].p;for(var S=0,C=w.length;S<C;S++){var k=w[S],_=o.getEdgeByIndex(S),I=k.n1.p,T=k.n2.p,A=_.getLayout();A=A?A.slice():[],A[0]=A[0]||[],A[1]=A[1]||[],Qr(A[0],I),Qr(A[1],T),+k.curveness&&(A[2]=[(I[0]+T[0])/2-(I[1]-T[1])*k.curveness,(I[1]+T[1])/2-(T[0]-I[0])*k.curveness]),_.setLayout(A)}}),e.forceLayout=y,e.preservedPoints=r,y.step()}else e.forceLayout=null})}function Dwe(n,e,t){var r=oe(n.getBoxLayoutParams(),{aspect:t});return er(r,{width:e.getWidth(),height:e.getHeight()})}function Rwe(n,e){var t=[];return n.eachSeriesByType("graph",function(r){var o=r.get("coordinateSystem");if(!o||o==="view"){var i=r.getData(),a=i.mapArray(function(v){var m=i.getItemModel(v);return[+m.get("x"),+m.get("y")]}),s=[],l=[];tC(a,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=Dwe(r,e,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var d=l[0]-s[0],h=l[1]-s[1],f=c.width,p=c.height,g=r.coordinateSystem=new Uy;g.zoomLimit=r.get("scaleLimit"),g.setBoundingRect(s[0],s[1],d,h),g.setViewRect(c.x,c.y,f,p),g.setCenter(r.get("center"),e),g.setZoom(r.get("zoom")),t.push(g)}}),t}var xB=yr.prototype,gI=$y.prototype,LK=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}();(function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(LK);function vI(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var Ewe=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-line",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new LK},e.prototype.buildPath=function(t,r){vI(r)?xB.buildPath.call(this,t,r):gI.buildPath.call(this,t,r)},e.prototype.pointAt=function(t){return vI(this.shape)?xB.pointAt.call(this,t):gI.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var r=this.shape,o=vI(r)?[r.x2-r.x1,r.y2-r.y1]:gI.tangentAt.call(this,t);return uh(o,o)},e}(vt),mI=["fromSymbol","toSymbol"];function SB(n){return"_"+n+"Type"}function CB(n,e,t){var r=e.getItemVisual(t,n);if(!r||r==="none")return r;var o=e.getItemVisual(t,n+"Size"),i=e.getItemVisual(t,n+"Rotate"),a=e.getItemVisual(t,n+"Offset"),s=e.getItemVisual(t,n+"KeepAspect"),l=Vp(o),u=ph(a||0,l);return r+l+u+(i||"")+(s||"")}function kB(n,e,t){var r=e.getItemVisual(t,n);if(!(!r||r==="none")){var o=e.getItemVisual(t,n+"Size"),i=e.getItemVisual(t,n+"Rotate"),a=e.getItemVisual(t,n+"Offset"),s=e.getItemVisual(t,n+"KeepAspect"),l=Vp(o),u=ph(a||0,l),c=Un(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=i==null||isNaN(i)?void 0:+i*Math.PI/180||0,c.name=n,c}}function $we(n){var e=new Ewe({name:"line",subPixelOptimize:!0});return aD(e.shape,n),e}function aD(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var Y$=function(n){K(e,n);function e(t,r,o){var i=n.call(this)||this;return i._createLine(t,r,o),i}return e.prototype._createLine=function(t,r,o){var i=t.hostModel,a=t.getItemLayout(r),s=$we(a);s.shape.percent=0,bn(s,{shape:{percent:1}},i,r),this.add(s),R(mI,function(l){var u=kB(l,t,r);this.add(u),this[SB(l)]=CB(l,t,r)},this),this._updateCommonStl(t,r,o)},e.prototype.updateData=function(t,r,o){var i=t.hostModel,a=this.childOfName("line"),s=t.getItemLayout(r),l={shape:{}};aD(l.shape,s),Pt(a,l,i,r),R(mI,function(u){var c=CB(u,t,r),d=SB(u);if(this[d]!==c){this.remove(this.childOfName(u));var h=kB(u,t,r);this.add(h)}this[d]=c},this),this._updateCommonStl(t,r,o)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,r,o){var i=t.hostModel,a=this.childOfName("line"),s=o&&o.emphasisLineStyle,l=o&&o.blurLineStyle,u=o&&o.selectLineStyle,c=o&&o.labelStatesModels,d=o&&o.emphasisDisabled,h=o&&o.focus,f=o&&o.blurScope;if(!o||t.hasItemOption){var p=t.getItemModel(r),g=p.getModel("emphasis");s=g.getModel("lineStyle").getLineStyle(),l=p.getModel(["blur","lineStyle"]).getLineStyle(),u=p.getModel(["select","lineStyle"]).getLineStyle(),d=g.get("disabled"),h=g.get("focus"),f=g.get("blurScope"),c=Cr(p)}var v=t.getItemVisual(r,"style"),m=v.stroke;a.useStyle(v),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,a.ensureState("blur").style=l,a.ensureState("select").style=u,R(mI,function(S){var C=this.childOfName(S);if(C){C.setColor(m),C.style.opacity=v.opacity;for(var k=0;k<Eo.length;k++){var _=Eo[k],I=a.getState(_);if(I){var T=I.style||{},A=C.ensureState(_),D=A.style||(A.style={});T.stroke!=null&&(D[C.__isEmptyBrush?"stroke":"fill"]=T.stroke),T.opacity!=null&&(D.opacity=T.opacity)}}C.markRedraw()}},this);var y=i.getRawValue(r);Hr(this,c,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(S,C){return i.getFormattedLabel(S,C,t.dataType)}},inheritColor:m||"#000",defaultOpacity:v.opacity,defaultText:(y==null?t.getName(r):isFinite(y)?Mn(y):y)+""});var b=this.getTextContent();if(b){var w=c.normal;b.__align=b.style.align,b.__verticalAlign=b.style.verticalAlign,b.__position=w.get("position")||"middle";var x=w.get("distance");ce(x)||(x=[x,x]),b.__labelDistance=x}this.setTextConfig({position:null,local:!0,inside:!1}),On(this,h,f,d)},e.prototype.highlight=function(){Sl(this)},e.prototype.downplay=function(){Cl(this)},e.prototype.updateLayout=function(t,r){this.setLinePoints(t.getItemLayout(r))},e.prototype.setLinePoints=function(t){var r=this.childOfName("line");aD(r.shape,t),r.dirty()},e.prototype.beforeUpdate=function(){var t=this,r=t.childOfName("fromSymbol"),o=t.childOfName("toSymbol"),i=t.getTextContent();if(!r&&!o&&(!i||i.ignore))return;for(var a=1,s=this.parent;s;)s.scaleX&&(a/=s.scaleX),s=s.parent;var l=t.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),d=l.pointAt(u),h=du([],d,c);uh(h,h);function f(I,T){var A=I.__specifiedRotation;if(A==null){var D=l.tangentAt(T);I.attr("rotation",(T===1?-1:1)*Math.PI/2-Math.atan2(D[1],D[0]))}else I.attr("rotation",A)}if(r&&(r.setPosition(c),f(r,0),r.scaleX=r.scaleY=a*u,r.markRedraw()),o&&(o.setPosition(d),f(o,1),o.scaleX=o.scaleY=a*u,o.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var p=void 0,g=void 0,v=i.__labelDistance,m=v[0]*a,y=v[1]*a,b=u/2,w=l.tangentAt(b),x=[w[1],-w[0]],S=l.pointAt(b);x[1]>0&&(x[0]=-x[0],x[1]=-x[1]);var C=w[0]<0?-1:1;if(i.__position!=="start"&&i.__position!=="end"){var k=-Math.atan2(w[1],w[0]);d[0]<c[0]&&(k=Math.PI+k),i.rotation=k}var _=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":_=-y,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":_=y,g="top";break;default:_=0,g="middle"}switch(i.__position){case"end":i.x=h[0]*m+d[0],i.y=h[1]*y+d[1],p=h[0]>.8?"left":h[0]<-.8?"right":"center",g=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":i.x=-h[0]*m+c[0],i.y=-h[1]*y+c[1],p=h[0]>.8?"right":h[0]<-.8?"left":"center",g=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=m*C+c[0],i.y=c[1]+_,p=w[0]<0?"right":"left",i.originX=-m*C,i.originY=-_;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=S[0],i.y=S[1]+_,p="center",i.originY=-_;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-m*C+d[0],i.y=d[1]+_,p=w[0]>=0?"right":"left",i.originX=m*C,i.originY=-_;break}i.scaleX=i.scaleY=a,i.setStyle({verticalAlign:i.__verticalAlign||g,align:i.__align||p})}},e}(Xe),Z$=function(){function n(e){this.group=new Xe,this._LineCtor=e||Y$}return n.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var r=this,o=r.group,i=r._lineData;r._lineData=e,i||o.removeAll();var a=_B(e);e.diff(i).add(function(s){t._doAdd(e,s,a)}).update(function(s,l){t._doUpdate(i,e,l,s,a)}).remove(function(s){o.remove(i.getItemGraphicEl(s))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,r){t.updateLayout(e,r)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=_B(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function r(s){!s.isGroup&&!Pwe(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var o=e.start;o<e.end;o++){var i=t.getItemLayout(o);if(yI(i)){var a=new this._LineCtor(t,o,this._seriesScope);a.traverse(r),this.group.add(a),t.setItemGraphicEl(o,a),this._progressiveEls.push(a)}}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(e){Qu(this._progressiveEls||this.group,e)},n.prototype._doAdd=function(e,t,r){var o=e.getItemLayout(t);if(yI(o)){var i=new this._LineCtor(e,t,r);e.setItemGraphicEl(t,i),this.group.add(i)}},n.prototype._doUpdate=function(e,t,r,o,i){var a=e.getItemGraphicEl(r);if(!yI(t.getItemLayout(o))){this.group.remove(a);return}a?a.updateData(t,o,i):a=new this._LineCtor(t,o,i),t.setItemGraphicEl(o,a),this.group.add(a)},n}();function Pwe(n){return n.animators&&n.animators.length>0}function _B(n){var e=n.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:Cr(e)}}function IB(n){return isNaN(n[0])||isNaN(n[1])}function yI(n){return n&&!IB(n[0])&&!IB(n[1])}var bI=[],wI=[],xI=[],qh=Dr,SI=ku,TB=Math.abs;function AB(n,e,t){for(var r=n[0],o=n[1],i=n[2],a=1/0,s,l=t*t,u=.1,c=.1;c<=.9;c+=.1){bI[0]=qh(r[0],o[0],i[0],c),bI[1]=qh(r[1],o[1],i[1],c);var d=TB(SI(bI,e)-l);d<a&&(a=d,s=c)}for(var h=0;h<32;h++){var f=s+u;wI[0]=qh(r[0],o[0],i[0],s),wI[1]=qh(r[1],o[1],i[1],s),xI[0]=qh(r[0],o[0],i[0],f),xI[1]=qh(r[1],o[1],i[1],f);var d=SI(wI,e)-l;if(TB(d)<.01)break;var p=SI(xI,e)-l;u/=2,d<0?p>=0?s=s+u:s=s-u:p>=0?s=s-u:s=s+u}return s}function CI(n,e){var t=[],r=dm,o=[[],[],[]],i=[[],[]],a=[];e/=2,n.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),d=s.getVisual("toSymbol");u.__original||(u.__original=[Ts(u[0]),Ts(u[1])],u[2]&&u.__original.push(Ts(u[2])));var h=u.__original;if(u[2]!=null){if(Qr(o[0],h[0]),Qr(o[1],h[2]),Qr(o[2],h[1]),c&&c!=="none"){var f=mv(s.node1),p=AB(o,h[0],f*e);r(o[0][0],o[1][0],o[2][0],p,t),o[0][0]=t[3],o[1][0]=t[4],r(o[0][1],o[1][1],o[2][1],p,t),o[0][1]=t[3],o[1][1]=t[4]}if(d&&d!=="none"){var f=mv(s.node2),p=AB(o,h[1],f*e);r(o[0][0],o[1][0],o[2][0],p,t),o[1][0]=t[1],o[2][0]=t[2],r(o[0][1],o[1][1],o[2][1],p,t),o[1][1]=t[1],o[2][1]=t[2]}Qr(u[0],o[0]),Qr(u[1],o[2]),Qr(u[2],o[1])}else{if(Qr(i[0],h[0]),Qr(i[1],h[1]),du(a,i[1],i[0]),uh(a,a),c&&c!=="none"){var f=mv(s.node1);zw(i[0],i[0],a,f*e)}if(d&&d!=="none"){var f=mv(s.node2);zw(i[1],i[1],a,-f*e)}Qr(u[0],i[0]),Qr(u[1],i[1])}})}function DB(n){return n.type==="view"}var Mwe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){var o=new By,i=new Z$,a=this.group;this._controller=new Hy(r.getZr()),this._controllerHost={target:a},a.add(o.group),a.add(i.group),this._symbolDraw=o,this._lineDraw=i,this._firstRender=!0},e.prototype.render=function(t,r,o){var i=this,a=t.coordinateSystem;this._model=t;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(DB(a)){var c={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?u.attr(c):Pt(u,c,t)}CI(t.getGraph(),vv(t));var d=t.getData();s.updateData(d);var h=t.getEdgeData();l.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,r,o),clearTimeout(this._layoutTimeout);var f=t.forceLayout,p=t.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,p);var g=t.get("layout");d.graph.eachNode(function(b){var w=b.dataIndex,x=b.getGraphicEl(),S=b.getModel();if(x){x.off("drag").off("dragend");var C=S.get("draggable");C&&x.on("drag",function(_){switch(g){case"force":f.warmUp(),!i._layouting&&i._startForceLayoutIteration(f,p),f.setFixed(w),d.setItemLayout(w,[x.x,x.y]);break;case"circular":d.setItemLayout(w,[x.x,x.y]),b.setLayout({fixed:!0},!0),q$(t,"symbolSize",b,[_.offsetX,_.offsetY]),i.updateLayout(t);break;case"none":default:d.setItemLayout(w,[x.x,x.y]),X$(t.getGraph(),t),i.updateLayout(t);break}}).on("dragend",function(){f&&f.setUnfixed(w)}),x.setDraggable(C,!!S.get("cursor"));var k=S.get(["emphasis","focus"]);k==="adjacency"&&(Ye(x).focus=b.getAdjacentDataIndices())}}),d.graph.eachEdge(function(b){var w=b.getGraphicEl(),x=b.getModel().get(["emphasis","focus"]);w&&x==="adjacency"&&(Ye(w).focus={edge:[b.dataIndex],node:[b.node1.dataIndex,b.node2.dataIndex]})});var v=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),m=d.getLayout("cx"),y=d.getLayout("cy");d.graph.eachNode(function(b){MK(b,v,m,y)}),this._firstRender=!1},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,r){var o=this;(function i(){t.step(function(a){o.updateLayout(o._model),(o._layouting=!a)&&(r?o._layoutTimeout=setTimeout(i,16):i())})})()},e.prototype._updateController=function(t,r,o){var i=this,a=this._controller,s=this._controllerHost,l=this.group;if(a.setPointerChecker(function(u,c,d){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(c,d)&&!TC(u,o,t)}),!DB(t.coordinateSystem)){a.disable();return}a.enable(t.get("roam")),s.zoomLimit=t.get("scaleLimit"),s.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){B$(s,u.dx,u.dy),o.dispatchAction({seriesId:t.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){z$(s,u.scale,u.originX,u.originY),o.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),i._updateNodeAndLinkScale(),CI(t.getGraph(),vv(t)),i._lineDraw.updateLayout(),o.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,r=t.getData(),o=vv(t);r.eachItemGraphicEl(function(i,a){i&&i.setSymbolScale(o)})},e.prototype.updateLayout=function(t){CI(t.getGraph(),vv(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(on);function Yh(n){return"_EC_"+n}var Lwe=function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var r=this._nodesMap;if(!r[Yh(e)]){var o=new Qc(e,t);return o.hostGraph=this,this.nodes.push(o),r[Yh(e)]=o,o}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[Yh(e)]},n.prototype.addEdge=function(e,t,r){var o=this._nodesMap,i=this._edgesMap;if(Rt(e)&&(e=this.nodes[e]),Rt(t)&&(t=this.nodes[t]),e instanceof Qc||(e=o[Yh(e)]),t instanceof Qc||(t=o[Yh(t)]),!(!e||!t)){var a=e.id+"-"+t.id,s=new NK(e,t,r);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),i[a]=s,s}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof Qc&&(e=e.id),t instanceof Qc&&(t=t.id);var r=this._edgesMap;return this._directed?r[e+"-"+t]:r[e+"-"+t]||r[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var r=this.nodes,o=r.length,i=0;i<o;i++)r[i].dataIndex>=0&&e.call(t,r[i],i)},n.prototype.eachEdge=function(e,t){for(var r=this.edges,o=r.length,i=0;i<o;i++)r[i].dataIndex>=0&&r[i].node1.dataIndex>=0&&r[i].node2.dataIndex>=0&&e.call(t,r[i],i)},n.prototype.breadthFirstTraverse=function(e,t,r,o){if(t instanceof Qc||(t=this._nodesMap[Yh(t)]),!!t){for(var i=r==="out"?"outEdges":r==="in"?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(o,t,null))for(var s=[t];s.length;)for(var l=s.shift(),u=l[i],a=0;a<u.length;a++){var c=u[a],d=c.node1===l?c.node2:c.node1;if(!d.__visited){if(e.call(o,d,l))return;s.push(d),d.__visited=!0}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,r=this.nodes,o=this.edges,i=0,a=r.length;i<a;i++)r[i].dataIndex=-1;for(var i=0,a=e.count();i<a;i++)r[e.getRawIndex(i)].dataIndex=i;t.filterSelf(function(s){var l=o[t.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var i=0,a=o.length;i<a;i++)o[i].dataIndex=-1;for(var i=0,a=t.count();i<a;i++)o[t.getRawIndex(i)].dataIndex=i},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,r=this.edges,o=0;o<t.length;o++)e.addNode(t[o].id,t[o].dataIndex);for(var o=0;o<r.length;o++){var i=r[o];e.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return e},n}(),Qc=function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,r=t.data.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var r=this.edges[t];r.dataIndex<0||(e.edge.push(r.dataIndex),e.node.push(r.node1.dataIndex,r.node2.dataIndex))}return e},n.prototype.getTrajectoryDataIndices=function(){for(var e=Pe(),t=Pe(),r=0;r<this.edges.length;r++){var o=this.edges[r];if(!(o.dataIndex<0)){e.set(o.dataIndex,!0);for(var i=[o.node1],a=[o.node2],s=0;s<i.length;){var l=i[s];s++,t.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)e.set(l.inEdges[u].dataIndex,!0),i.push(l.inEdges[u].node1)}for(s=0;s<a.length;){var c=a[s];s++,t.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)e.set(c.outEdges[u].dataIndex,!0),a.push(c.outEdges[u].node2)}}}return{edge:e.keys(),node:t.keys()}},n}(),NK=function(){function n(e,t,r){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=r??-1}return n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,r=t.edgeData.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var e=Pe(),t=Pe();e.set(this.dataIndex,!0);for(var r=[this.node1],o=[this.node2],i=0;i<r.length;){var a=r[i];i++,t.set(a.dataIndex,!0);for(var s=0;s<a.inEdges.length;s++)e.set(a.inEdges[s].dataIndex,!0),r.push(a.inEdges[s].node1)}for(i=0;i<o.length;){var l=o[i];i++,t.set(l.dataIndex,!0);for(var s=0;s<l.outEdges.length;s++)e.set(l.outEdges[s].dataIndex,!0),o.push(l.outEdges[s].node2)}return{edge:e.keys(),node:t.keys()}},n}();function OK(n,e){return{getValue:function(t){var r=this[n][e];return r.getStore().get(r.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,r){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,r)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,r){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,r)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}Vn(Qc,OK("hostGraph","data"));Vn(NK,OK("hostGraph","edgeData"));function FK(n,e,t,r,o){for(var i=new Lwe(r),a=0;a<n.length;a++)i.addNode(mr(n[a].id,n[a].name,a),a);for(var s=[],l=[],u=0,a=0;a<e.length;a++){var c=e[a],d=c.source,h=c.target;i.addEdge(d,h,u)&&(l.push(c),s.push(mr(ir(c.id,null),d+" > "+h)),u++)}var f=t.get("coordinateSystem"),p;if(f==="cartesian2d"||f==="polar")p=qs(n,t);else{var g=Fp.get(f),v=g?g.dimensions||[]:[];ct(v,"value")<0&&v.concat(["value"]);var m=Gp(n,{coordDimensions:v,encodeDefine:t.getEncode()}).dimensions;p=new ao(m,t),p.initData(n)}var y=new ao(["value"],t);return y.initData(l,s),o&&o(p,y),bK({mainData:p,struct:i,structAttr:"graph",datas:{node:p,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}var Nwe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var r=this;function o(){return r._categoriesData}this.legendVisualProvider=new Wy(o,o),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Fd(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,r){var o=t.edges||t.links||[],i=t.data||t.nodes||[],a=this;if(i&&o){Swe(this);var s=FK(i,o,this,!0,l);return R(s.edges,function(u){Cwe(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(p){var g=a._categoriesModels,v=p.getShallow("category"),m=g[v];return m&&(m.parentModel=p.parentModel,p.parentModel=m),p});var d=tn.prototype.getModel;function h(p,g){var v=d.call(this,p,g);return v.resolveParentPath=f,v}c.wrapMethod("getItemModel",function(p){return p.resolveParentPath=f,p.getModel=h,p});function f(p){if(p&&(p[0]==="label"||p[1]==="label")){var g=p.slice();return p[0]==="label"?g[0]="edgeLabel":p[1]==="label"&&(g[1]="edgeLabel"),g}return p}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,r,o){if(o==="edge"){var i=this.getData(),a=this.getDataParams(t,o),s=i.graph.getEdgeByIndex(t),l=i.getName(s.node1.dataIndex),u=i.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),kr("nameValue",{name:c.join(" > "),value:a.value,noValue:a.value==null})}var d=iU({series:this,dataIndex:t,multipleSeries:r});return d},e.prototype._updateCategoriesData=function(){var t=fe(this.option.categories||[],function(o){return o.value!=null?o:oe({value:0},o)}),r=new ao(["value"],this);r.initData(t),this._categoriesData=r,this._categoriesModels=r.mapArray(function(o){return r.getItemModel(o)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(gn),Owe={type:"graphRoam",event:"graphRoam",update:"none"};function Fwe(n){n.registerChartView(Mwe),n.registerSeriesModel(Nwe),n.registerProcessor(mwe),n.registerVisual(ywe),n.registerVisual(bwe),n.registerLayout(kwe),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,Iwe),n.registerLayout(Awe),n.registerCoordinateSystem("graphView",{dimensions:Uy.dimensions,create:Rwe}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},zn),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},zn),n.registerAction(Owe,function(e,t,r){t.eachComponent({mainType:"series",query:e},function(o){var i=o.coordinateSystem,a=G$(i,e,void 0,r);o.setCenter&&o.setCenter(a.center),o.setZoom&&o.setZoom(a.zoom)})})}var Bwe=function(){function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return n}(),zwe=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;return r.type="pointer",r}return e.prototype.getDefaultShape=function(){return new Bwe},e.prototype.buildPath=function(t,r){var o=Math.cos,i=Math.sin,a=r.r,s=r.width,l=r.angle,u=r.x-o(l)*s*(s>=a/3?1:2),c=r.y-i(l)*s*(s>=a/3?1:2);l=r.angle-Math.PI/2,t.moveTo(u,c),t.lineTo(r.x+o(l)*s,r.y+i(l)*s),t.lineTo(r.x+o(r.angle)*a,r.y+i(r.angle)*a),t.lineTo(r.x-o(l)*s,r.y-i(l)*s),t.lineTo(u,c)},e}(vt);function Vwe(n,e){var t=n.get("center"),r=e.getWidth(),o=e.getHeight(),i=Math.min(r,o),a=_e(t[0],e.getWidth()),s=_e(t[1],e.getHeight()),l=_e(n.get("radius"),i/2);return{cx:a,cy:s,r:l}}function x1(n,e){var t=n==null?"":n+"";return e&&(De(e)?t=e.replace("{value}",t):ze(e)&&(t=e(n))),t}var Gwe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){this.group.removeAll();var i=t.get(["axisLine","lineStyle","color"]),a=Vwe(t,o);this._renderMain(t,r,o,i,a),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,r,o,i,a){var s=this.group,l=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,c=-t.get("endAngle")/180*Math.PI,d=t.getModel("axisLine"),h=d.get("roundCap"),f=h?yx:$o,p=d.get("show"),g=d.getModel("lineStyle"),v=g.get("width"),m=[u,c];RE(m,!l),u=m[0],c=m[1];for(var y=c-u,b=u,w=[],x=0;p&&x<i.length;x++){var S=Math.min(Math.max(i[x][0],0),1);c=u+y*S;var C=new f({shape:{startAngle:b,endAngle:c,cx:a.cx,cy:a.cy,clockwise:l,r0:a.r-v,r:a.r},silent:!0});C.setStyle({fill:i[x][1]}),C.setStyle(g.getLineStyle(["color","width"])),w.push(C),b=c}w.reverse(),R(w,function(_){return s.add(_)});var k=function(_){if(_<=0)return i[0][1];var I;for(I=0;I<i.length;I++)if(i[I][0]>=_&&(I===0?0:i[I-1][0])<_)return i[I][1];return i[I-1][1]};this._renderTicks(t,r,o,k,a,u,c,l,v),this._renderTitleAndDetail(t,r,o,k,a),this._renderAnchor(t,a),this._renderPointer(t,r,o,k,a,u,c,l,v)},e.prototype._renderTicks=function(t,r,o,i,a,s,l,u,c){for(var d=this.group,h=a.cx,f=a.cy,p=a.r,g=+t.get("min"),v=+t.get("max"),m=t.getModel("splitLine"),y=t.getModel("axisTick"),b=t.getModel("axisLabel"),w=t.get("splitNumber"),x=y.get("splitNumber"),S=_e(m.get("length"),p),C=_e(y.get("length"),p),k=s,_=(l-s)/w,I=_/x,T=m.getModel("lineStyle").getLineStyle(),A=y.getModel("lineStyle").getLineStyle(),D=m.get("distance"),E,$,P=0;P<=w;P++){if(E=Math.cos(k),$=Math.sin(k),m.get("show")){var N=D?D+c:c,M=new yr({shape:{x1:E*(p-N)+h,y1:$*(p-N)+f,x2:E*(p-S-N)+h,y2:$*(p-S-N)+f},style:T,silent:!0});T.stroke==="auto"&&M.setStyle({stroke:i(P/w)}),d.add(M)}if(b.get("show")){var N=b.get("distance")+D,L=x1(Mn(P/w*(v-g)+g),b.get("formatter")),V=i(P/w),W=E*(p-S-N)+h,j=$*(p-S-N)+f,Q=b.get("rotate"),te=0;Q==="radial"?(te=-k+2*Math.PI,te>Math.PI/2&&(te+=Math.PI)):Q==="tangential"?te=-k-Math.PI/2:Rt(Q)&&(te=Q*Math.PI/180),te===0?d.add(new _t({style:dn(b,{text:L,x:W,y:j,verticalAlign:$<-.8?"top":$>.8?"bottom":"middle",align:E<-.4?"left":E>.4?"right":"center"},{inheritColor:V}),silent:!0})):d.add(new _t({style:dn(b,{text:L,x:W,y:j,verticalAlign:"middle",align:"center"},{inheritColor:V}),silent:!0,originX:W,originY:j,rotation:te}))}if(y.get("show")&&P!==w){var N=y.get("distance");N=N?N+c:c;for(var se=0;se<=x;se++){E=Math.cos(k),$=Math.sin(k);var ge=new yr({shape:{x1:E*(p-N)+h,y1:$*(p-N)+f,x2:E*(p-C-N)+h,y2:$*(p-C-N)+f},silent:!0,style:A});A.stroke==="auto"&&ge.setStyle({stroke:i((P+se/x)/w)}),d.add(ge),k+=I}k-=I}else k+=_}},e.prototype._renderPointer=function(t,r,o,i,a,s,l,u,c){var d=this.group,h=this._data,f=this._progressEls,p=[],g=t.get(["pointer","show"]),v=t.getModel("progress"),m=v.get("show"),y=t.getData(),b=y.mapDimension("value"),w=+t.get("min"),x=+t.get("max"),S=[w,x],C=[s,l];function k(I,T){var A=y.getItemModel(I),D=A.getModel("pointer"),E=_e(D.get("width"),a.r),$=_e(D.get("length"),a.r),P=t.get(["pointer","icon"]),N=D.get("offsetCenter"),M=_e(N[0],a.r),L=_e(N[1],a.r),V=D.get("keepAspect"),W;return P?W=Un(P,M-E/2,L-$,E,$,null,V):W=new zwe({shape:{angle:-Math.PI/2,width:E,r:$,x:M,y:L}}),W.rotation=-(T+Math.PI/2),W.x=a.cx,W.y=a.cy,W}function _(I,T){var A=v.get("roundCap"),D=A?yx:$o,E=v.get("overlap"),$=E?v.get("width"):c/y.count(),P=E?a.r-$:a.r-(I+1)*$,N=E?a.r:a.r-I*$,M=new D({shape:{startAngle:s,endAngle:T,cx:a.cx,cy:a.cy,clockwise:u,r0:P,r:N}});return E&&(M.z2=x-y.get(b,I)%x),M}(m||g)&&(y.diff(h).add(function(I){var T=y.get(b,I);if(g){var A=k(I,s);bn(A,{rotation:-((isNaN(+T)?C[0]:Wt(T,S,C,!0))+Math.PI/2)},t),d.add(A),y.setItemGraphicEl(I,A)}if(m){var D=_(I,s),E=v.get("clip");bn(D,{shape:{endAngle:Wt(T,S,C,E)}},t),d.add(D),mA(t.seriesIndex,y.dataType,I,D),p[I]=D}}).update(function(I,T){var A=y.get(b,I);if(g){var D=h.getItemGraphicEl(T),E=D?D.rotation:s,$=k(I,E);$.rotation=E,Pt($,{rotation:-((isNaN(+A)?C[0]:Wt(A,S,C,!0))+Math.PI/2)},t),d.add($),y.setItemGraphicEl(I,$)}if(m){var P=f[T],N=P?P.shape.endAngle:s,M=_(I,N),L=v.get("clip");Pt(M,{shape:{endAngle:Wt(A,S,C,L)}},t),d.add(M),mA(t.seriesIndex,y.dataType,I,M),p[I]=M}}).execute(),y.each(function(I){var T=y.getItemModel(I),A=T.getModel("emphasis"),D=A.get("focus"),E=A.get("blurScope"),$=A.get("disabled");if(g){var P=y.getItemGraphicEl(I),N=y.getItemVisual(I,"style"),M=N.fill;if(P instanceof Lr){var L=P.style;P.useStyle(oe({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},N))}else P.useStyle(N),P.type!=="pointer"&&P.setColor(M);P.setStyle(T.getModel(["pointer","itemStyle"]).getItemStyle()),P.style.fill==="auto"&&P.setStyle("fill",i(Wt(y.get(b,I),S,[0,1],!0))),P.z2EmphasisLift=0,Wr(P,T),On(P,D,E,$)}if(m){var V=p[I];V.useStyle(y.getItemVisual(I,"style")),V.setStyle(T.getModel(["progress","itemStyle"]).getItemStyle()),V.z2EmphasisLift=0,Wr(V,T),On(V,D,E,$)}}),this._progressEls=p)},e.prototype._renderAnchor=function(t,r){var o=t.getModel("anchor"),i=o.get("show");if(i){var a=o.get("size"),s=o.get("icon"),l=o.get("offsetCenter"),u=o.get("keepAspect"),c=Un(s,r.cx-a/2+_e(l[0],r.r),r.cy-a/2+_e(l[1],r.r),a,a,null,u);c.z2=o.get("showAbove")?1:0,c.setStyle(o.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(t,r,o,i,a){var s=this,l=t.getData(),u=l.mapDimension("value"),c=+t.get("min"),d=+t.get("max"),h=new Xe,f=[],p=[],g=t.isAnimationEnabled(),v=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(m){f[m]=new _t({silent:!0}),p[m]=new _t({silent:!0})}).update(function(m,y){f[m]=s._titleEls[y],p[m]=s._detailEls[y]}).execute(),l.each(function(m){var y=l.getItemModel(m),b=l.get(u,m),w=new Xe,x=i(Wt(b,[c,d],[0,1],!0)),S=y.getModel("title");if(S.get("show")){var C=S.get("offsetCenter"),k=a.cx+_e(C[0],a.r),_=a.cy+_e(C[1],a.r),I=f[m];I.attr({z2:v?0:2,style:dn(S,{x:k,y:_,text:l.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:x})}),w.add(I)}var T=y.getModel("detail");if(T.get("show")){var A=T.get("offsetCenter"),D=a.cx+_e(A[0],a.r),E=a.cy+_e(A[1],a.r),$=_e(T.get("width"),a.r),P=_e(T.get("height"),a.r),N=t.get(["progress","show"])?l.getItemVisual(m,"style").fill:x,I=p[m],M=T.get("formatter");I.attr({z2:v?0:2,style:dn(T,{x:D,y:E,text:x1(b,M),width:isNaN($)?null:$,height:isNaN(P)?null:P,align:"center",verticalAlign:"middle"},{inheritColor:N})}),hH(I,{normal:T},b,function(V){return x1(V,M)}),g&&fH(I,m,l,t,{getFormattedLabel:function(V,W,j,Q,te,se){return x1(se?se.interpolatedValue:b,M)}}),w.add(I)}h.add(w)}),this.group.add(h),this._titleEls=f,this._detailEls=p},e.type="gauge",e}(on),Wwe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,r){return Up(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(gn);function Hwe(n){n.registerChartView(Gwe),n.registerSeriesModel(Wwe)}var Uwe=["itemStyle","opacity"],jwe=function(n){K(e,n);function e(t,r){var o=n.call(this)||this,i=o,a=new No,s=new _t;return i.setTextContent(s),o.setTextGuideLine(a),o.updateData(t,r,!0),o}return e.prototype.updateData=function(t,r,o){var i=this,a=t.hostModel,s=t.getItemModel(r),l=t.getItemLayout(r),u=s.getModel("emphasis"),c=s.get(Uwe);c=c??1,o||Wa(i),i.useStyle(t.getItemVisual(r,"style")),i.style.lineJoin="round",o?(i.setShape({points:l.points}),i.style.opacity=0,bn(i,{style:{opacity:c}},a,r)):Pt(i,{style:{opacity:c},shape:{points:l.points}},a,r),Wr(i,s),this._updateLabel(t,r),On(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,r){var o=this,i=this.getTextGuideLine(),a=o.getTextContent(),s=t.hostModel,l=t.getItemModel(r),u=t.getItemLayout(r),c=u.label,d=t.getItemVisual(r,"style"),h=d.fill;Hr(a,Cr(l),{labelFetcher:t.hostModel,labelDataIndex:r,defaultOpacity:d.opacity,defaultText:t.getName(r)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),o.setTextConfig({local:!0,inside:!!c.inside,insideStroke:h,outsideFill:h});var f=c.linePoints;i.setShape({points:f}),o.textGuideLineConfig={anchor:f?new at(f[0][0],f[0][1]):null},Pt(a,{style:{x:c.x,y:c.y}},s,r),a.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),A$(o,D$(l),{stroke:h})},e}(Po),Kwe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,o){var i=t.getData(),a=this._data,s=this.group;i.diff(a).add(function(l){var u=new jwe(i,l);i.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=a.getItemGraphicEl(u);c.updateData(i,l),s.add(c),i.setItemGraphicEl(l,c)}).remove(function(l){var u=a.getItemGraphicEl(l);bm(u,t,l)}).execute(),this._data=i},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(on),Xwe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wy(Re(this.getData,this),Re(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,r){return Up(this,{coordDimensions:["value"],encodeDefaulter:Qe(QE,this)})},e.prototype._defaultLabelLine=function(t){Fd(t,"labelLine",["show"]);var r=t.labelLine,o=t.emphasis.labelLine;r.show=r.show&&t.label.show,o.show=o.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var r=this.getData(),o=n.prototype.getDataParams.call(this,t),i=r.mapDimension("value"),a=r.getSum(i);return o.percent=a?+(r.get(i,t)/a*100).toFixed(2):0,o.$vars.push("percent"),o},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(gn);function qwe(n,e){return er(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Ywe(n,e){for(var t=n.mapDimension("value"),r=n.mapArray(t,function(l){return l}),o=[],i=e==="ascending",a=0,s=n.count();a<s;a++)o[a]=a;return ze(e)?o.sort(e):e!=="none"&&o.sort(function(l,u){return i?r[l]-r[u]:r[u]-r[l]}),o}function Zwe(n){var e=n.hostModel,t=e.get("orient");n.each(function(r){var o=n.getItemModel(r),i=o.getModel("label"),a=i.get("position"),s=o.getModel("labelLine"),l=n.getItemLayout(r),u=l.points,c=a==="inner"||a==="inside"||a==="center"||a==="insideLeft"||a==="insideRight",d,h,f,p;if(c)a==="insideLeft"?(h=(u[0][0]+u[3][0])/2+5,f=(u[0][1]+u[3][1])/2,d="left"):a==="insideRight"?(h=(u[1][0]+u[2][0])/2-5,f=(u[1][1]+u[2][1])/2,d="right"):(h=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,f=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,d="center"),p=[[h,f],[h,f]];else{var g=void 0,v=void 0,m=void 0,y=void 0,b=s.get("length");a==="left"?(g=(u[3][0]+u[0][0])/2,v=(u[3][1]+u[0][1])/2,m=g-b,h=m-5,d="right"):a==="right"?(g=(u[1][0]+u[2][0])/2,v=(u[1][1]+u[2][1])/2,m=g+b,h=m+5,d="left"):a==="top"?(g=(u[3][0]+u[0][0])/2,v=(u[3][1]+u[0][1])/2,y=v-b,f=y-5,d="center"):a==="bottom"?(g=(u[1][0]+u[2][0])/2,v=(u[1][1]+u[2][1])/2,y=v+b,f=y+5,d="center"):a==="rightTop"?(g=t==="horizontal"?u[3][0]:u[1][0],v=t==="horizontal"?u[3][1]:u[1][1],t==="horizontal"?(y=v-b,f=y-5,d="center"):(m=g+b,h=m+5,d="top")):a==="rightBottom"?(g=u[2][0],v=u[2][1],t==="horizontal"?(y=v+b,f=y+5,d="center"):(m=g+b,h=m+5,d="bottom")):a==="leftTop"?(g=u[0][0],v=t==="horizontal"?u[0][1]:u[1][1],t==="horizontal"?(y=v-b,f=y-5,d="center"):(m=g-b,h=m-5,d="right")):a==="leftBottom"?(g=t==="horizontal"?u[1][0]:u[3][0],v=t==="horizontal"?u[1][1]:u[2][1],t==="horizontal"?(y=v+b,f=y+5,d="center"):(m=g-b,h=m-5,d="right")):(g=(u[1][0]+u[2][0])/2,v=(u[1][1]+u[2][1])/2,t==="horizontal"?(y=v+b,f=y+5,d="center"):(m=g+b,h=m+5,d="left")),t==="horizontal"?(m=g,h=m):(y=v,f=y),p=[[g,v],[m,y]]}l.label={linePoints:p,x:h,y:f,verticalAlign:"middle",textAlign:d,inside:c}})}function Jwe(n,e){n.eachSeriesByType("funnel",function(t){var r=t.getData(),o=r.mapDimension("value"),i=t.get("sort"),a=qwe(t,e),s=t.get("orient"),l=a.width,u=a.height,c=Ywe(r,i),d=a.x,h=a.y,f=s==="horizontal"?[_e(t.get("minSize"),u),_e(t.get("maxSize"),u)]:[_e(t.get("minSize"),l),_e(t.get("maxSize"),l)],p=r.getDataExtent(o),g=t.get("min"),v=t.get("max");g==null&&(g=Math.min(p[0],0)),v==null&&(v=p[1]);var m=t.get("funnelAlign"),y=t.get("gap"),b=s==="horizontal"?l:u,w=(b-y*(r.count()-1))/r.count(),x=function(E,$){if(s==="horizontal"){var P=r.get(o,E)||0,N=Wt(P,[g,v],f,!0),M=void 0;switch(m){case"top":M=h;break;case"center":M=h+(u-N)/2;break;case"bottom":M=h+(u-N);break}return[[$,M],[$,M+N]]}var L=r.get(o,E)||0,V=Wt(L,[g,v],f,!0),W;switch(m){case"left":W=d;break;case"center":W=d+(l-V)/2;break;case"right":W=d+l-V;break}return[[W,$],[W+V,$]]};i==="ascending"&&(w=-w,y=-y,s==="horizontal"?d+=l:h+=u,c=c.reverse());for(var S=0;S<c.length;S++){var C=c[S],k=c[S+1],_=r.getItemModel(C);if(s==="horizontal"){var I=_.get(["itemStyle","width"]);I==null?I=w:(I=_e(I,l),i==="ascending"&&(I=-I));var T=x(C,d),A=x(k,d+I);d+=I+y,r.setItemLayout(C,{points:T.concat(A.slice().reverse())})}else{var D=_.get(["itemStyle","height"]);D==null?D=w:(D=_e(D,u),i==="ascending"&&(D=-D));var T=x(C,h),A=x(k,h+D);h+=D+y,r.setItemLayout(C,{points:T.concat(A.slice().reverse())})}}Zwe(r)})}function Qwe(n){n.registerChartView(Kwe),n.registerSeriesModel(Xwe),n.registerLayout(Jwe),n.registerProcessor(Gy("funnel"))}var exe=.3,txe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new Xe,t._initialized=!1,t}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,r,o,i){this._progressiveEls=null;var a=this._dataGroup,s=t.getData(),l=this._data,u=t.coordinateSystem,c=u.dimensions,d=EB(t);s.diff(l).add(h).update(f).remove(p).execute();function h(v){var m=RB(s,a,v,c,u);kI(m,s,v,d)}function f(v,m){var y=l.getItemGraphicEl(m),b=BK(s,v,c,u);s.setItemGraphicEl(v,y),Pt(y,{shape:{points:b}},t,v),Wa(y),kI(y,s,v,d)}function p(v){var m=l.getItemGraphicEl(v);a.remove(m)}if(!this._initialized){this._initialized=!0;var g=nxe(u,t,function(){setTimeout(function(){a.removeClipPath()})});a.setClipPath(g)}this._data=s},e.prototype.incrementalPrepareRender=function(t,r,o){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,r,o){for(var i=r.getData(),a=r.coordinateSystem,s=a.dimensions,l=EB(r),u=this._progressiveEls=[],c=t.start;c<t.end;c++){var d=RB(i,this._dataGroup,c,s,a);d.incremental=!0,kI(d,i,c,l),u.push(d)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(on);function nxe(n,e,t){var r=n.model,o=n.getRect(),i=new It({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),a=r.get("layout")==="horizontal"?"width":"height";return i.setShape(a,0),bn(i,{shape:{width:o.width,height:o.height}},e,t),i}function BK(n,e,t,r){for(var o=[],i=0;i<t.length;i++){var a=t[i],s=n.get(n.mapDimension(a),e);rxe(s,r.getAxis(a).type)||o.push(r.dataToPoint(s,a))}return o}function RB(n,e,t,r,o){var i=BK(n,t,r,o),a=new No({shape:{points:i},z2:10});return e.add(a),n.setItemGraphicEl(t,a),a}function EB(n){var e=n.get("smooth",!0);return e===!0&&(e=exe),e=Fs(e),Jf(e)&&(e=0),{smooth:e}}function kI(n,e,t,r){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",r.smooth);var o=e.getItemModel(t),i=o.getModel("emphasis");Wr(n,o,"lineStyle"),On(n,i.get("focus"),i.get("blurScope"),i.get("disabled"))}function rxe(n,e){return e==="category"?n==null:n==null||isNaN(n)}var oxe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.getInitialData=function(t,r){return qs(null,this,{useEncodeDefaulter:Re(ixe,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var r=this.coordinateSystem,o=this.getData(),i=[];return r.eachActiveState(o,function(a,s){t===a&&i.push(o.getRawIndex(s))}),i},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(gn);function ixe(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return R(e.dimensions,function(r){var o=axe(r);t[r]=o}),t}}function axe(n){return+n.replace("dim","")}var sxe=["lineStyle","opacity"],lxe={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,r={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(o,i){t.eachActiveState(i,function(a,s){var l=r[a];if(a==="normal"&&i.hasItemOption){var u=i.getItemModel(s).get(sxe,!0);u!=null&&(l=u)}var c=i.ensureUniqueItemVisual(s,"style");c.opacity=l},o.start,o.end)}}}};function uxe(n){cxe(n),dxe(n)}function cxe(n){if(!n.parallel){var e=!1;R(n.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(n.parallel=[{}])}}function dxe(n){var e=rn(n.parallelAxis);R(e,function(t){if(Ge(t)){var r=t.parallelIndex||0,o=rn(n.parallel)[r];o&&o.parallelAxisDefault&&rt(t,o.parallelAxisDefault,!1)}})}var hxe=5,fxe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){this._model=t,this._api=o,this._handlers||(this._handlers={},R(pxe,function(i,a){o.getZr().on(a,this._handlers[a]=Re(i,this))},this)),zp(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,r){Cm(this,"_throttledDispatchExpand"),R(this._handlers,function(o,i){r.getZr().off(i,o)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(oe({type:"parallelAxisExpand"},t))},e.type="parallel",e}(Cn),pxe={mousedown:function(n){_I(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(_I(this,"click")&&e){var t=[n.offsetX,n.offsetY],r=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(r>hxe)return;var o=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);o.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:o.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!(this._mouseDownPoint||!_I(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),r=t.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function _I(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var gxe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var r=this.option;t&&rt(r,t,!0),this._initDimensions()},e.prototype.contains=function(t,r){var o=t.get("parallelIndex");return o!=null&&r.getComponent("parallel",o)===this},e.prototype.setAxisExpand=function(t){R(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){t.hasOwnProperty(r)&&(this.option[r]=t[r])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],r=this.parallelAxisIndex=[],o=Ht(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(i){return(i.get("parallelIndex")||0)===this.componentIndex},this);R(o,function(i){t.push("dim"+i.get("dim")),r.push(i.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(Ct),vxe=function(n){K(e,n);function e(t,r,o,i,a){var s=n.call(this,t,r,o)||this;return s.type=i||"value",s.axisIndex=a,s}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e}(da);function mh(n,e,t,r,o,i){n=n||0;var a=t[1]-t[0];if(o!=null&&(o=Zh(o,[0,a])),i!=null&&(i=Math.max(i,o??0)),r==="all"){var s=Math.abs(e[1]-e[0]);s=Zh(s,[0,a]),o=i=Zh(s,[o,i]),r=0}e[0]=Zh(e[0],t),e[1]=Zh(e[1],t);var l=II(e,r);e[r]+=n;var u=o||0,c=t.slice();l.sign<0?c[0]+=u:c[1]-=u,e[r]=Zh(e[r],c);var d;return d=II(e,r),o!=null&&(d.sign!==l.sign||d.span<o)&&(e[1-r]=e[r]+l.sign*o),d=II(e,r),i!=null&&d.span>i&&(e[1-r]=e[r]+d.sign*i),e}function II(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function Zh(n,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,n))}var TI=R,zK=Math.min,VK=Math.max,$B=Math.floor,mxe=Math.ceil,PB=Mn,yxe=Math.PI,bxe=function(){function n(e,t,r){this.type="parallel",this._axesMap=Pe(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,r)}return n.prototype._init=function(e,t,r){var o=e.dimensions,i=e.parallelAxisIndex;TI(o,function(a,s){var l=i[s],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(a,new vxe(a,Oy(u),[0,0],u.get("type"),l)),d=c.type==="category";c.onBand=d&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),r=t.axisBase,o=t.layoutBase,i=t.pixelDimIndex,a=e[1-i],s=e[i];return a>=r&&a<=r+t.axisLength&&s>=o&&s<=o+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(r){if(e.contains(r,t)){var o=r.getData();TI(this.dimensions,function(i){var a=this._axesMap.get(i);a.scale.unionExtentFromData(o,o.mapDimension(i)),Wd(a.scale,a.model)},this)}},this)},n.prototype.resize=function(e,t){this._rect=er(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,r=["x","y"],o=["width","height"],i=e.get("layout"),a=i==="horizontal"?0:1,s=t[o[a]],l=[0,s],u=this.dimensions.length,c=S1(e.get("axisExpandWidth"),l),d=S1(e.get("axisExpandCount")||0,[0,u]),h=e.get("axisExpandable")&&u>3&&u>d&&d>1&&c>0&&s>0,f=e.get("axisExpandWindow"),p;if(f)p=S1(f[1]-f[0],l),f[1]=f[0]+p;else{p=S1(c*(d-1),l);var g=e.get("axisExpandCenter")||$B(u/2);f=[c*g-p/2],f[1]=f[0]+p}var v=(s-p)/(u-d);v<3&&(v=0);var m=[$B(PB(f[0]/c,1))+1,mxe(PB(f[1]/c,1))-1],y=v/c*f[0];return{layout:i,pixelDimIndex:a,layoutBase:t[r[a]],layoutLength:s,axisBase:t[r[1-a]],axisLength:t[o[1-a]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:v,axisExpandWindow:f,axisCount:u,winInnerIndices:m,axisExpandWindow0Pos:y}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,r=this.dimensions,o=this._makeLayoutInfo(),i=o.layout;t.each(function(a){var s=[0,o.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),TI(r,function(a,s){var l=(o.axisExpandable?xxe:wxe)(s,o),u={horizontal:{x:l.position,y:o.axisLength},vertical:{x:0,y:l.position}},c={horizontal:yxe/2,vertical:0},d=[u[i].x+e.x,u[i].y+e.y],h=c[i],f=Zo();Ju(f,f,h),Va(f,f,d),this._axesLayout[a]={position:d,rotation:h,transform:f,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,r,o){r==null&&(r=0),o==null&&(o=e.count());var i=this._axesMap,a=this.dimensions,s=[],l=[];R(a,function(v){s.push(e.mapDimension(v)),l.push(i.get(v).model)});for(var u=this.hasAxisBrushed(),c=r;c<o;c++){var d=void 0;if(!u)d="normal";else{d="active";for(var h=e.getValues(s,c),f=0,p=a.length;f<p;f++){var g=l[f].getActiveState(h[f]);if(g==="inactive"){d="inactive";break}}}t(d,c)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,r=!1,o=0,i=e.length;o<i;o++)t.get(e[o]).model.getActiveState()!=="normal"&&(r=!0);return r},n.prototype.axisCoordToPoint=function(e,t){var r=this._axesLayout[t];return La([e,0],r.transform)},n.prototype.getAxisLayout=function(e){return We(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),r=t.pixelDimIndex,o=t.axisExpandWindow.slice(),i=o[1]-o[0],a=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:o};var s=e[r]-t.layoutBase-t.axisExpandWindow0Pos,l,u="slide",c=t.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),h=d[0]!=null;if(c)h&&c&&s<i*d[0]?(u="jump",l=s-i*d[2]):h&&c&&s>i*(1-d[0])?(u="jump",l=s-i*(1-d[2])):(l=s-i*d[1])>=0&&(l=s-i*(1-d[1]))<=0&&(l=0),l*=t.axisExpandWidth/c,l?mh(l,o,a,"all"):u="none";else{var f=o[1]-o[0],p=a[1]*s/f;o=[VK(0,p-f/2)],o[1]=zK(a[1],o[0]+f),o[0]=o[1]-f}return{axisExpandWindow:o,behavior:u}},n}();function S1(n,e){return zK(VK(n,e[0]),e[1])}function wxe(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function xxe(n,e){var t=e.layoutLength,r=e.axisExpandWidth,o=e.axisCount,i=e.axisCollapseWidth,a=e.winInnerIndices,s,l=i,u=!1,c;return n<a[0]?(s=n*i,c=i):n<=a[1]?(s=e.axisExpandWindow0Pos+n*r-e.axisExpandWindow[0],l=r,u=!0):(s=t-(o-1-n)*i,c=i),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function Sxe(n,e){var t=[];return n.eachComponent("parallel",function(r,o){var i=new bxe(r,n,e);i.name="parallel_"+o,i.resize(r,e),r.coordinateSystem=i,i.model=r,t.push(i)}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var o=r.getReferringComponents("parallel",Qn).models[0];r.coordinateSystem=o.coordinateSystem}}),t}var Cxe={create:Sxe},sD=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return zd([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var r=this.activeIntervals=We(t);if(r)for(var o=r.length-1;o>=0;o--)vi(r[o])},e.prototype.getActiveState=function(t){var r=this.activeIntervals;if(!r.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(r.length===1){var o=r[0];if(o[0]<=t&&t<=o[1])return"active"}else for(var i=0,a=r.length;i<a;i++)if(r[i][0]<=t&&t<=r[i][1])return"active";return"inactive"},e}(Ct);Vn(sD,Hp);var Hd=!0,Lm=Math.min,ap=Math.max,kxe=Math.pow,_xe=1e4,Ixe=6,Txe=6,MB="globalPan",Axe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Dxe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},LB={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Rxe=0,J$=function(n){K(e,n);function e(t){var r=n.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=t,r.group=new Xe,r._uid="brushController_"+Rxe++,R(Oxe,function(o,i){this._handlers[i]=Re(o,this)},r),r}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var r=this._zr;this._enableGlobalPan||wbe(r,MB,this._uid),R(this._handlers,function(o,i){r.on(i,o)}),this._brushType=t.brushType,this._brushOption=rt(We(LB),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;xbe(t,MB,this._uid),R(this._handlers,function(r,o){t.off(o,r)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var r=this._panels={};R(t,function(o){r[o.panelId]=We(o)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=r.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=fe(t,function(h){return rt(We(LB),h,!0)});var r="\0-brush-index-",o=this._covers,i=this._covers=[],a=this,s=this._creatingCover;return new kl(o,t,u,l).add(c).update(c).remove(d).execute(),this;function l(h,f){return(h.id!=null?h.id:r+f)+"-"+h.brushType}function u(h,f){return l(h.__brushOption,f)}function c(h,f){var p=t[h];if(f!=null&&o[f]===s)i[h]=o[f];else{var g=i[h]=f!=null?(o[f].__brushOption=p,o[f]):WK(a,GK(a,p));Q$(a,g)}}function d(h){o[h]!==s&&a.group.remove(o[h])}},e.prototype.unmount=function(){return this.enableBrush(!1),lD(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(sa);function GK(n,e){var t=EC[e.brushType].createCover(n,e);return t.__brushOption=e,UK(t,e),n.group.add(t),t}function WK(n,e){var t=eP(e);return t.endCreating&&(t.endCreating(n,e),UK(e,e.__brushOption)),e}function HK(n,e){var t=e.__brushOption;eP(e).updateCoverShape(n,e,t.range,t)}function UK(n,e){var t=e.z;t==null&&(t=_xe),n.traverse(function(r){r.z=t,r.z2=t})}function Q$(n,e){eP(e).updateCommon(n,e),HK(n,e)}function eP(n){return EC[n.__brushOption.brushType]}function tP(n,e,t){var r=n._panels;if(!r)return Hd;var o,i=n._transform;return R(r,function(a){a.isTargetByCursor(e,t,i)&&(o=a)}),o}function jK(n,e){var t=n._panels;if(!t)return Hd;var r=e.__brushOption.panelId;return r!=null?t[r]:Hd}function lD(n){var e=n._covers,t=e.length;return R(e,function(r){n.group.remove(r)},n),e.length=0,!!t}function Ud(n,e){var t=fe(n._covers,function(r){var o=r.__brushOption,i=We(o.range);return{brushType:o.brushType,panelId:o.panelId,range:i}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Exe(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],r=e[0],o=t[0]-r[0],i=t[1]-r[1],a=kxe(o*o+i*i,.5);return a>Ixe}function KK(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function XK(n,e,t,r){var o=new Xe;return o.add(new It({name:"main",style:nP(t),silent:!0,draggable:!0,cursor:"move",drift:Qe(NB,n,e,o,["n","s","w","e"]),ondragend:Qe(Ud,e,{isEnd:!0})})),R(r,function(i){o.add(new It({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Qe(NB,n,e,o,i),ondragend:Qe(Ud,e,{isEnd:!0})}))}),o}function qK(n,e,t,r){var o=r.brushStyle.lineWidth||0,i=ap(o,Txe),a=t[0][0],s=t[1][0],l=a-o/2,u=s-o/2,c=t[0][1],d=t[1][1],h=c-i+o/2,f=d-i+o/2,p=c-a,g=d-s,v=p+o,m=g+o;tl(n,e,"main",a,s,p,g),r.transformable&&(tl(n,e,"w",l,u,i,m),tl(n,e,"e",h,u,i,m),tl(n,e,"n",l,u,v,i),tl(n,e,"s",l,f,v,i),tl(n,e,"nw",l,u,i,i),tl(n,e,"ne",h,u,i,i),tl(n,e,"sw",l,f,i,i),tl(n,e,"se",h,f,i,i))}function uD(n,e){var t=e.__brushOption,r=t.transformable,o=e.childAt(0);o.useStyle(nP(t)),o.attr({silent:!r,cursor:r?"move":"default"}),R([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var a=e.childOfName(i.join("")),s=i.length===1?cD(n,i[0]):Pxe(n,i);a&&a.attr({silent:!r,invisible:!r,cursor:r?Dxe[s]+"-resize":null})})}function tl(n,e,t,r,o,i,a){var s=e.childOfName(t);s&&s.setShape(Lxe(rP(n,e,[[r,o],[r+i,o+a]])))}function nP(n){return Ve({strokeNoScale:!0},n.brushStyle)}function YK(n,e,t,r){var o=[Lm(n,t),Lm(e,r)],i=[ap(n,t),ap(e,r)];return[[o[0],i[0]],[o[1],i[1]]]}function $xe(n){return Tu(n.group)}function cD(n,e){var t={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},o=lC(t[e],$xe(n));return r[o]}function Pxe(n,e){var t=[cD(n,e[0]),cD(n,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function NB(n,e,t,r,o,i){var a=t.__brushOption,s=n.toRectRange(a.range),l=ZK(e,o,i);R(r,function(u){var c=Axe[u];s[c[0]][c[1]]+=l[c[0]]}),a.range=n.fromRectRange(YK(s[0][0],s[1][0],s[0][1],s[1][1])),Q$(e,t),Ud(e,{isEnd:!1})}function Mxe(n,e,t,r){var o=e.__brushOption.range,i=ZK(n,t,r);R(o,function(a){a[0]+=i[0],a[1]+=i[1]}),Q$(n,e),Ud(n,{isEnd:!1})}function ZK(n,e,t){var r=n.group,o=r.transformCoordToLocal(e,t),i=r.transformCoordToLocal(0,0);return[o[0]-i[0],o[1]-i[1]]}function rP(n,e,t){var r=jK(n,e);return r&&r!==Hd?r.clipPath(t,n._transform):We(t)}function Lxe(n){var e=Lm(n[0][0],n[1][0]),t=Lm(n[0][1],n[1][1]),r=ap(n[0][0],n[1][0]),o=ap(n[0][1],n[1][1]);return{x:e,y:t,width:r-e,height:o-t}}function Nxe(n,e,t){if(!(!n._brushType||Fxe(n,e.offsetX,e.offsetY))){var r=n._zr,o=n._covers,i=tP(n,e,t);if(!n._dragging)for(var a=0;a<o.length;a++){var s=o[a].__brushOption;if(i&&(i===Hd||s.panelId===i.panelId)&&EC[s.brushType].contain(o[a],t[0],t[1]))return}i&&r.setCursorStyle("crosshair")}}function dD(n){var e=n.event;e.preventDefault&&e.preventDefault()}function hD(n,e,t){return n.childOfName("main").contain(e,t)}function JK(n,e,t,r){var o=n._creatingCover,i=n._creatingPanel,a=n._brushOption,s;if(n._track.push(t.slice()),Exe(n)||o){if(i&&!o){a.brushMode==="single"&&lD(n);var l=We(a);l.brushType=OB(l.brushType,i),l.panelId=i===Hd?null:i.panelId,o=n._creatingCover=GK(n,l),n._covers.push(o)}if(o){var u=EC[OB(n._brushType,i)],c=o.__brushOption;c.range=u.getCreatingRange(rP(n,o,n._track)),r&&(WK(n,o),u.updateCommon(n,o)),HK(n,o),s={isEnd:r}}}else r&&a.brushMode==="single"&&a.removeOnClick&&tP(n,e,t)&&lD(n)&&(s={isEnd:r,removeOnClick:!0});return s}function OB(n,e){return n==="auto"?e.defaultBrushType:n}var Oxe={mousedown:function(n){if(this._dragging)FB(this,n);else if(!n.target||!n.target.draggable){dD(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var t=this._creatingPanel=tP(this,n,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=n.offsetX,t=n.offsetY,r=this.group.transformCoordToLocal(e,t);if(Nxe(this,n,r),this._dragging){dD(n);var o=JK(this,n,r,!1);o&&Ud(this,o)}},mouseup:function(n){FB(this,n)}};function FB(n,e){if(n._dragging){dD(e);var t=e.offsetX,r=e.offsetY,o=n.group.transformCoordToLocal(t,r),i=JK(n,e,o,!0);n._dragging=!1,n._track=[],n._creatingCover=null,i&&Ud(n,i)}}function Fxe(n,e,t){var r=n._zr;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}var EC={lineX:BB(0),lineY:BB(1),rect:{createCover:function(n,e){function t(r){return r}return XK({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=KK(n);return YK(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,r){qK(n,e,t,r)},updateCommon:uD,contain:hD},polygon:{createCover:function(n,e){var t=new Xe;return t.add(new No({name:"main",style:nP(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new Po({name:"main",draggable:!0,drift:Qe(Mxe,n,e),ondragend:Qe(Ud,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,r){e.childAt(0).setShape({points:rP(n,e,t)})},updateCommon:uD,contain:hD}};function BB(n){return{createCover:function(e,t){return XK({toRectRange:function(r){var o=[r,[0,100]];return n&&o.reverse(),o},fromRectRange:function(r){return r[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=KK(e),r=Lm(t[0][n],t[1][n]),o=ap(t[0][n],t[1][n]);return[r,o]},updateCoverShape:function(e,t,r,o){var i,a=jK(e,t);if(a!==Hd&&a.getLinearBrushOtherExtent)i=a.getLinearBrushOtherExtent(n);else{var s=e._zr;i=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[r,i];n&&l.reverse(),qK(e,t,l,o)},updateCommon:uD,contain:hD}}function QK(n){return n=oP(n),function(e){return VE(e,n)}}function eX(n,e){return n=oP(n),function(t){var r=e??t,o=r?n.width:n.height,i=r?n.x:n.y;return[i,i+(o||0)]}}function tX(n,e,t){var r=oP(n);return function(o,i){return r.contain(i[0],i[1])&&!TC(o,e,t)}}function oP(n){return lt.create(n)}var Bxe=["axisLine","axisTickLabel","axisName"],zxe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){n.prototype.init.apply(this,arguments),(this._brushController=new J$(r.getZr())).on("brush",Re(this._onBrush,this))},e.prototype.render=function(t,r,o,i){if(!Vxe(t,r,i)){this.axisModel=t,this.api=o,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Xe,this.group.add(this._axisGroup),!!t.get("show")){var s=Wxe(t,r),l=s.coordinateSystem,u=t.getAreaSelectStyle(),c=u.width,d=t.axis.dim,h=l.getAxisLayout(d),f=oe({strokeContainThreshold:c},h),p=new Ao(t,f);R(Bxe,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(f,u,t,s,c,o),My(a,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,r,o,i,a,s){var l=o.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),d=lt.create({x:l[0],y:-a/2,width:u,height:a});d.x-=c,d.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:QK(d),isTargetByCursor:tX(d,s,i),getLinearBrushOtherExtent:eX(d,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(Gxe(o))},e.prototype._onBrush=function(t){var r=t.areas,o=this.axisModel,i=o.axis,a=fe(r,function(s){return[i.coordToData(s.range[0],!0),i.coordToData(s.range[1],!0)]});(!o.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:o.id,intervals:a})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(Cn);function Vxe(n,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===n}function Gxe(n){var e=n.axis;return fe(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function Wxe(n,e){return e.getComponent("parallel",n.get("parallelIndex"))}var Hxe={type:"axisAreaSelect",event:"axisAreaSelected"};function Uxe(n){n.registerAction(Hxe,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}var jxe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function nX(n){n.registerComponentView(fxe),n.registerComponentModel(gxe),n.registerCoordinateSystem("parallel",Cxe),n.registerPreprocessor(uxe),n.registerComponentModel(sD),n.registerComponentView(zxe),ip(n,"parallel",sD,jxe),Uxe(n)}function Kxe(n){pt(nX),n.registerChartView(txe),n.registerSeriesModel(oxe),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,lxe)}var Xxe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return n}(),qxe=function(n){K(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Xxe},e.prototype.buildPath=function(t,r){var o=r.extent;t.moveTo(r.x1,r.y1),t.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),r.orient==="vertical"?(t.lineTo(r.x2+o,r.y2),t.bezierCurveTo(r.cpx2+o,r.cpy2,r.cpx1+o,r.cpy1,r.x1+o,r.y1)):(t.lineTo(r.x2,r.y2+o),t.bezierCurveTo(r.cpx2,r.cpy2+o,r.cpx1,r.cpy1+o,r.x1,r.y1+o)),t.closePath()},e.prototype.highlight=function(){Sl(this)},e.prototype.downplay=function(){Cl(this)},e}(vt),Yxe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return e.prototype.render=function(t,r,o){var i=this,a=t.getGraph(),s=this.group,l=t.layoutInfo,u=l.width,c=l.height,d=t.getData(),h=t.getData("edge"),f=t.get("orient");this._model=t,s.removeAll(),s.x=l.x,s.y=l.y,a.eachEdge(function(p){var g=new qxe,v=Ye(g);v.dataIndex=p.dataIndex,v.seriesIndex=t.seriesIndex,v.dataType="edge";var m=p.getModel(),y=m.getModel("lineStyle"),b=y.get("curveness"),w=p.node1.getLayout(),x=p.node1.getModel(),S=x.get("localX"),C=x.get("localY"),k=p.node2.getLayout(),_=p.node2.getModel(),I=_.get("localX"),T=_.get("localY"),A=p.getLayout(),D,E,$,P,N,M,L,V;g.shape.extent=Math.max(1,A.dy),g.shape.orient=f,f==="vertical"?(D=(S!=null?S*u:w.x)+A.sy,E=(C!=null?C*c:w.y)+w.dy,$=(I!=null?I*u:k.x)+A.ty,P=T!=null?T*c:k.y,N=D,M=E*(1-b)+P*b,L=$,V=E*b+P*(1-b)):(D=(S!=null?S*u:w.x)+w.dx,E=(C!=null?C*c:w.y)+A.sy,$=I!=null?I*u:k.x,P=(T!=null?T*c:k.y)+A.ty,N=D*(1-b)+$*b,M=E,L=D*b+$*(1-b),V=P),g.setShape({x1:D,y1:E,x2:$,y2:P,cpx1:N,cpy1:M,cpx2:L,cpy2:V}),g.useStyle(y.getItemStyle()),zB(g.style,f,p);var W=""+m.get("value"),j=Cr(m,"edgeLabel");Hr(g,j,{labelFetcher:{getFormattedLabel:function(se,ge,ye,ve,de,Se){return t.getFormattedLabel(se,ge,"edge",ve,$a(de,j.normal&&j.normal.get("formatter"),W),Se)}},labelDataIndex:p.dataIndex,defaultText:W}),g.setTextConfig({position:"inside"});var Q=m.getModel("emphasis");Wr(g,m,"lineStyle",function(se){var ge=se.getItemStyle();return zB(ge,f,p),ge}),s.add(g),h.setItemGraphicEl(p.dataIndex,g);var te=Q.get("focus");On(g,te==="adjacency"?p.getAdjacentDataIndices():te==="trajectory"?p.getTrajectoryDataIndices():te,Q.get("blurScope"),Q.get("disabled"))}),a.eachNode(function(p){var g=p.getLayout(),v=p.getModel(),m=v.get("localX"),y=v.get("localY"),b=v.getModel("emphasis"),w=v.get(["itemStyle","borderRadius"])||0,x=new It({shape:{x:m!=null?m*u:g.x,y:y!=null?y*c:g.y,width:g.dx,height:g.dy,r:w},style:v.getModel("itemStyle").getItemStyle(),z2:10});Hr(x,Cr(v),{labelFetcher:{getFormattedLabel:function(C,k){return t.getFormattedLabel(C,k,"node")}},labelDataIndex:p.dataIndex,defaultText:p.id}),x.disableLabelAnimation=!0,x.setStyle("fill",p.getVisual("color")),x.setStyle("decal",p.getVisual("style").decal),Wr(x,v),s.add(x),d.setItemGraphicEl(p.dataIndex,x),Ye(x).dataType="node";var S=b.get("focus");On(x,S==="adjacency"?p.getAdjacentDataIndices():S==="trajectory"?p.getTrajectoryDataIndices():S,b.get("blurScope"),b.get("disabled"))}),d.eachItemGraphicEl(function(p,g){var v=d.getItemModel(g);v.get("draggable")&&(p.drift=function(m,y){i._focusAdjacencyDisabled=!0,this.shape.x+=m,this.shape.y+=y,this.dirty(),o.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:d.getRawIndex(g),localX:this.shape.x/u,localY:this.shape.y/c})},p.ondragend=function(){i._focusAdjacencyDisabled=!1},p.draggable=!0,p.cursor="move")}),!this._data&&t.isAnimationEnabled()&&s.setClipPath(Zxe(s.getBoundingRect(),t,function(){s.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(on);function zB(n,e,t){switch(n.fill){case"source":n.fill=t.node1.getVisual("color"),n.decal=t.node1.getVisual("style").decal;break;case"target":n.fill=t.node2.getVisual("color"),n.decal=t.node2.getVisual("style").decal;break;case"gradient":var r=t.node1.getVisual("color"),o=t.node2.getVisual("color");De(r)&&De(o)&&(n.fill=new Dp(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:r,offset:0},{color:o,offset:1}]))}}function Zxe(n,e,t){var r=new It({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return bn(r,{shape:{width:n.width+20}},e,t),r}var Jxe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){var o=t.edges||t.links,i=t.data||t.nodes,a=t.levels;this.levelModels=[];for(var s=this.levelModels,l=0;l<a.length;l++)a[l].depth!=null&&a[l].depth>=0&&(s[a[l].depth]=new tn(a[l],this,r));if(i&&o){var u=FK(i,o,this,!0,c);return u.data}function c(d,h){d.wrapMethod("getItemModel",function(f,p){var g=f.parentModel,v=g.getData().getItemLayout(p);if(v){var m=v.depth,y=g.levelModels[m];y&&(f.parentModel=y)}return f}),h.wrapMethod("getItemModel",function(f,p){var g=f.parentModel,v=g.getGraph().getEdgeByIndex(p),m=v.node1.getLayout();if(m){var y=m.depth,b=g.levelModels[y];b&&(f.parentModel=b)}return f})}},e.prototype.setNodePosition=function(t,r){var o=this.option.data||this.option.nodes,i=o[t];i.localX=r[0],i.localY=r[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,r,o){function i(f){return isNaN(f)||f==null}if(o==="edge"){var a=this.getDataParams(t,o),s=a.data,l=a.value,u=s.source+" -- "+s.target;return kr("nameValue",{name:u,value:l,noValue:i(l)})}else{var c=this.getGraph().getNodeByIndex(t),d=c.getLayout().value,h=this.getDataParams(t,o).data.name;return kr("nameValue",{name:h!=null?h+"":null,value:d,noValue:i(d)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,r){var o=n.prototype.getDataParams.call(this,t,r);if(o.value==null&&r==="node"){var i=this.getGraph().getNodeByIndex(t),a=i.getLayout().value;o.value=a}return o},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(gn);function Qxe(n,e){n.eachSeriesByType("sankey",function(t){var r=t.get("nodeWidth"),o=t.get("nodeGap"),i=eSe(t,e);t.layoutInfo=i;var a=i.width,s=i.height,l=t.getGraph(),u=l.nodes,c=l.edges;nSe(u);var d=Ht(u,function(g){return g.getLayout().value===0}),h=d.length!==0?0:t.get("layoutIterations"),f=t.get("orient"),p=t.get("nodeAlign");tSe(u,c,r,o,a,s,h,f,p)})}function eSe(n,e){return er(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function tSe(n,e,t,r,o,i,a,s,l){rSe(n,e,t,o,i,s,l),sSe(n,e,i,o,r,a,s),vSe(n,s)}function nSe(n){R(n,function(e){var t=Ru(e.outEdges,_x),r=Ru(e.inEdges,_x),o=e.getValue()||0,i=Math.max(t,r,o);e.setLayout({value:i},!0)})}function rSe(n,e,t,r,o,i,a){for(var s=[],l=[],u=[],c=[],d=0,h=0;h<e.length;h++)s[h]=1;for(var h=0;h<n.length;h++)l[h]=n[h].inEdges.length,l[h]===0&&u.push(n[h]);for(var f=-1;u.length;){for(var p=0;p<u.length;p++){var g=u[p],v=g.hostGraph.data.getRawDataItem(g.dataIndex),m=v.depth!=null&&v.depth>=0;m&&v.depth>f&&(f=v.depth),g.setLayout({depth:m?v.depth:d},!0),i==="vertical"?g.setLayout({dy:t},!0):g.setLayout({dx:t},!0);for(var y=0;y<g.outEdges.length;y++){var b=g.outEdges[y],w=e.indexOf(b);s[w]=0;var x=b.node2,S=n.indexOf(x);--l[S]===0&&c.indexOf(x)<0&&c.push(x)}}++d,u=c,c=[]}for(var h=0;h<s.length;h++)if(s[h]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var C=f>d-1?f:d-1;a&&a!=="left"&&oSe(n,a,i,C);var k=i==="vertical"?(o-t)/C:(r-t)/C;aSe(n,k,i)}function rX(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return e.depth!=null&&e.depth>=0}function oSe(n,e,t,r){if(e==="right"){for(var o=[],i=n,a=0;i.length;){for(var s=0;s<i.length;s++){var l=i[s];l.setLayout({skNodeHeight:a},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];o.indexOf(c.node1)<0&&o.push(c.node1)}}i=o,o=[],++a}R(n,function(d){rX(d)||d.setLayout({depth:Math.max(0,r-d.getLayout().skNodeHeight)},!0)})}else e==="justify"&&iSe(n,r)}function iSe(n,e){R(n,function(t){!rX(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}function aSe(n,e,t){R(n,function(r){var o=r.getLayout().depth*e;t==="vertical"?r.setLayout({y:o},!0):r.setLayout({x:o},!0)})}function sSe(n,e,t,r,o,i,a){var s=lSe(n,a);uSe(s,e,t,r,o,a),AI(s,o,t,r,a);for(var l=1;i>0;i--)l*=.99,cSe(s,l,a),AI(s,o,t,r,a),gSe(s,l,a),AI(s,o,t,r,a)}function lSe(n,e){var t=[],r=e==="vertical"?"y":"x",o=fA(n,function(i){return i.getLayout()[r]});return o.keys.sort(function(i,a){return i-a}),R(o.keys,function(i){t.push(o.buckets.get(i))}),t}function uSe(n,e,t,r,o,i){var a=1/0;R(n,function(s){var l=s.length,u=0;R(s,function(d){u+=d.getLayout().value});var c=i==="vertical"?(r-(l-1)*o)/u:(t-(l-1)*o)/u;c<a&&(a=c)}),R(n,function(s){R(s,function(l,u){var c=l.getLayout().value*a;i==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),R(e,function(s){var l=+s.getValue()*a;s.setLayout({dy:l},!0)})}function AI(n,e,t,r,o){var i=o==="vertical"?"x":"y";R(n,function(a){a.sort(function(g,v){return g.getLayout()[i]-v.getLayout()[i]});for(var s,l,u,c=0,d=a.length,h=o==="vertical"?"dx":"dy",f=0;f<d;f++)l=a[f],u=c-l.getLayout()[i],u>0&&(s=l.getLayout()[i]+u,o==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[i]+l.getLayout()[h]+e;var p=o==="vertical"?r:t;if(u=c-e-p,u>0){s=l.getLayout()[i]-u,o==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var f=d-2;f>=0;--f)l=a[f],u=l.getLayout()[i]+l.getLayout()[h]+e-c,u>0&&(s=l.getLayout()[i]-u,o==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[i]}})}function cSe(n,e,t){R(n.slice().reverse(),function(r){R(r,function(o){if(o.outEdges.length){var i=Ru(o.outEdges,dSe,t)/Ru(o.outEdges,_x);if(isNaN(i)){var a=o.outEdges.length;i=a?Ru(o.outEdges,hSe,t)/a:0}if(t==="vertical"){var s=o.getLayout().x+(i-zu(o,t))*e;o.setLayout({x:s},!0)}else{var l=o.getLayout().y+(i-zu(o,t))*e;o.setLayout({y:l},!0)}}})})}function dSe(n,e){return zu(n.node2,e)*n.getValue()}function hSe(n,e){return zu(n.node2,e)}function fSe(n,e){return zu(n.node1,e)*n.getValue()}function pSe(n,e){return zu(n.node1,e)}function zu(n,e){return e==="vertical"?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function _x(n){return n.getValue()}function Ru(n,e,t){for(var r=0,o=n.length,i=-1;++i<o;){var a=+e(n[i],t);isNaN(a)||(r+=a)}return r}function gSe(n,e,t){R(n,function(r){R(r,function(o){if(o.inEdges.length){var i=Ru(o.inEdges,fSe,t)/Ru(o.inEdges,_x);if(isNaN(i)){var a=o.inEdges.length;i=a?Ru(o.inEdges,pSe,t)/a:0}if(t==="vertical"){var s=o.getLayout().x+(i-zu(o,t))*e;o.setLayout({x:s},!0)}else{var l=o.getLayout().y+(i-zu(o,t))*e;o.setLayout({y:l},!0)}}})})}function vSe(n,e){var t=e==="vertical"?"x":"y";R(n,function(r){r.outEdges.sort(function(o,i){return o.node2.getLayout()[t]-i.node2.getLayout()[t]}),r.inEdges.sort(function(o,i){return o.node1.getLayout()[t]-i.node1.getLayout()[t]})}),R(n,function(r){var o=0,i=0;R(r.outEdges,function(a){a.setLayout({sy:o},!0),o+=a.getLayout().dy}),R(r.inEdges,function(a){a.setLayout({ty:i},!0),i+=a.getLayout().dy})})}function mSe(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph(),r=t.nodes,o=t.edges;if(r.length){var i=1/0,a=-1/0;R(r,function(s){var l=s.getLayout().value;l<i&&(i=l),l>a&&(a=l)}),R(r,function(s){var l=new xr({type:"color",mappingMethod:"linear",dataExtent:[i,a],visual:e.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}o.length&&R(o,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function ySe(n){n.registerChartView(Yxe),n.registerSeriesModel(Jxe),n.registerLayout(Qxe),n.registerVisual(mSe),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(r){r.setNodePosition(e.dataIndex,[e.localX,e.localY])})})}var oX=function(){function n(){}return n.prototype.getInitialData=function(e,t){var r,o=t.getComponent("xAxis",this.get("xAxisIndex")),i=t.getComponent("yAxis",this.get("yAxisIndex")),a=o.get("type"),s=i.get("type"),l;a==="category"?(e.layout="horizontal",r=o.getOrdinalMeta(),l=!0):s==="category"?(e.layout="vertical",r=i.getOrdinalMeta(),l=!0):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,d=this._baseAxisDim=u[c],h=u[1-c],f=[o,i],p=f[c].get("type"),g=f[1-c].get("type"),v=e.data;if(v&&l){var m=[];R(v,function(w,x){var S;ce(w)?(S=w.slice(),w.unshift(x)):ce(w.value)?(S=oe({},w),S.value=S.value.slice(),w.value.unshift(x)):S=w,m.push(S)}),e.data=m}var y=this.defaultValueDimensions,b=[{name:d,type:fx(p),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:fx(g),dimsDef:y.slice()}];return Up(this,{coordDimensions:b,dimensionsCount:y.length+1,encodeDefaulter:Qe($H,b,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n}(),iX=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(gn);Vn(iX,oX,!0);var bSe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){var i=t.getData(),a=this.group,s=this._data;this._data||a.removeAll();var l=t.get("layout")==="horizontal"?1:0;i.diff(s).add(function(u){if(i.hasValue(u)){var c=i.getItemLayout(u),d=VB(c,i,u,l,!0);i.setItemGraphicEl(u,d),a.add(d)}}).update(function(u,c){var d=s.getItemGraphicEl(c);if(!i.hasValue(u)){a.remove(d);return}var h=i.getItemLayout(u);d?(Wa(d),aX(h,d,i,u)):d=VB(h,i,u,l),a.add(d),i.setItemGraphicEl(u,d)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&a.remove(c)}).execute(),this._data=i},e.prototype.remove=function(t){var r=this.group,o=this._data;this._data=null,o&&o.eachItemGraphicEl(function(i){i&&r.remove(i)})},e.type="boxplot",e}(on),wSe=function(){function n(){}return n}(),xSe=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;return r.type="boxplotBoxPath",r}return e.prototype.getDefaultShape=function(){return new wSe},e.prototype.buildPath=function(t,r){var o=r.points,i=0;for(t.moveTo(o[i][0],o[i][1]),i++;i<4;i++)t.lineTo(o[i][0],o[i][1]);for(t.closePath();i<o.length;i++)t.moveTo(o[i][0],o[i][1]),i++,t.lineTo(o[i][0],o[i][1])},e}(vt);function VB(n,e,t,r,o){var i=n.ends,a=new xSe({shape:{points:o?SSe(i,r,n):i}});return aX(n,a,e,t,o),a}function aX(n,e,t,r,o){var i=t.hostModel,a=dh[o?"initProps":"updateProps"];a(e,{shape:{points:n.ends}},i,r),e.useStyle(t.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=t.getItemModel(r),l=s.getModel("emphasis");Wr(e,s),On(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function SSe(n,e,t){return fe(n,function(r){return r=r.slice(),r[e]=t.initBaseline,r})}var Kv=R;function CSe(n){var e=kSe(n);Kv(e,function(t){var r=t.seriesModels;r.length&&(_Se(t),Kv(r,function(o,i){ISe(o,t.boxOffsetList[i],t.boxWidthList[i])}))})}function kSe(n){var e=[],t=[];return n.eachSeriesByType("boxplot",function(r){var o=r.getBaseAxis(),i=ct(t,o);i<0&&(i=t.length,t[i]=o,e[i]={axis:o,seriesModels:[]}),e[i].seriesModels.push(r)}),e}function _Se(n){var e=n.axis,t=n.seriesModels,r=t.length,o=n.boxWidthList=[],i=n.boxOffsetList=[],a=[],s;if(e.type==="category")s=e.getBandWidth();else{var l=0;Kv(t,function(p){l=Math.max(l,p.getData().count())});var u=e.getExtent();s=Math.abs(u[1]-u[0])/l}Kv(t,function(p){var g=p.get("boxWidth");ce(g)||(g=[g,g]),a.push([_e(g[0],s)||0,_e(g[1],s)||0])});var c=s*.8-2,d=c/r*.3,h=(c-d*(r-1))/r,f=h/2-c/2;Kv(t,function(p,g){i.push(f),f+=d+h,o.push(Math.min(Math.max(h,a[g][0]),a[g][1]))})}function ISe(n,e,t){var r=n.coordinateSystem,o=n.getData(),i=t/2,a=n.get("layout")==="horizontal"?0:1,s=1-a,l=["x","y"],u=o.mapDimension(l[a]),c=o.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var d=0;d<o.count();d++){var h=o.get(u,d),f=b(h,c[2],d),p=b(h,c[0],d),g=b(h,c[1],d),v=b(h,c[3],d),m=b(h,c[4],d),y=[];w(y,g,!1),w(y,v,!0),y.push(p,g,m,v),x(y,p),x(y,m),x(y,f),o.setItemLayout(d,{initBaseline:f[s],ends:y})}function b(S,C,k){var _=o.get(C,k),I=[];I[a]=S,I[s]=_;var T;return isNaN(S)||isNaN(_)?T=[NaN,NaN]:(T=r.dataToPoint(I),T[a]+=e),T}function w(S,C,k){var _=C.slice(),I=C.slice();_[a]+=i,I[a]-=i,k?S.push(_,I):S.push(I,_)}function x(S,C){var k=C.slice(),_=C.slice();k[a]-=i,_[a]+=i,S.push(k,_)}}function TSe(n,e){e=e||{};for(var t=[],r=[],o=e.boundIQR,i=o==="none"||o===0,a=0;a<n.length;a++){var s=vi(n[a].slice()),l=uw(s,.25),u=uw(s,.5),c=uw(s,.75),d=s[0],h=s[s.length-1],f=(o??1.5)*(c-l),p=i?d:Math.max(d,l-f),g=i?h:Math.min(h,c+f),v=e.itemNameFormatter,m=ze(v)?v({value:a}):De(v)?v.replace("{value}",a+""):a+"";t.push([m,p,l,u,c,g]);for(var y=0;y<s.length;y++){var b=s[y];if(b<p||b>g){var w=[m,b];r.push(w)}}}return{boxData:t,outliers:r}}var ASe={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==co){var r="";zt(r)}var o=TSe(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:o.boxData},{data:o.outliers}]}};function DSe(n){n.registerSeriesModel(iX),n.registerChartView(bSe),n.registerLayout(CSe),n.registerTransform(ASe)}var RSe=["color","borderColor"],ESe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,r,o){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,r,o,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,r):this._incrementalRenderNormal(t,r)},e.prototype.eachRendered=function(t){Qu(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t){var r=t.getData(),o=this._data,i=this.group,a=r.getLayout("isSimpleBox"),s=t.get("clip",!0),l=t.coordinateSystem,u=l.getArea&&l.getArea();this._data||i.removeAll(),r.diff(o).add(function(c){if(r.hasValue(c)){var d=r.getItemLayout(c);if(s&&GB(u,d))return;var h=DI(d,c,!0);bn(h,{shape:{points:d.ends}},t,c),RI(h,r,c,a),i.add(h),r.setItemGraphicEl(c,h)}}).update(function(c,d){var h=o.getItemGraphicEl(d);if(!r.hasValue(c)){i.remove(h);return}var f=r.getItemLayout(c);if(s&&GB(u,f)){i.remove(h);return}h?(Pt(h,{shape:{points:f.ends}},t,c),Wa(h)):h=DI(f),RI(h,r,c,a),i.add(h),r.setItemGraphicEl(c,h)}).remove(function(c){var d=o.getItemGraphicEl(c);d&&i.remove(d)}).execute(),this._data=r},e.prototype._renderLarge=function(t){this._clear(),WB(t,this.group);var r=t.get("clip",!0)?zy(t.coordinateSystem,!1,t):null;r?this.group.setClipPath(r):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,r){for(var o=r.getData(),i=o.getLayout("isSimpleBox"),a;(a=t.next())!=null;){var s=o.getItemLayout(a),l=DI(s);RI(l,o,a,i),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,r){WB(r,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(on),$Se=function(){function n(){}return n}(),PSe=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;return r.type="normalCandlestickBox",r}return e.prototype.getDefaultShape=function(){return new $Se},e.prototype.buildPath=function(t,r){var o=r.points;this.__simpleBox?(t.moveTo(o[4][0],o[4][1]),t.lineTo(o[6][0],o[6][1])):(t.moveTo(o[0][0],o[0][1]),t.lineTo(o[1][0],o[1][1]),t.lineTo(o[2][0],o[2][1]),t.lineTo(o[3][0],o[3][1]),t.closePath(),t.moveTo(o[4][0],o[4][1]),t.lineTo(o[5][0],o[5][1]),t.moveTo(o[6][0],o[6][1]),t.lineTo(o[7][0],o[7][1]))},e}(vt);function DI(n,e,t){var r=n.ends;return new PSe({shape:{points:t?MSe(r,n):r},z2:100})}function GB(n,e){for(var t=!0,r=0;r<e.ends.length;r++)if(n.contain(e.ends[r][0],e.ends[r][1])){t=!1;break}return t}function RI(n,e,t,r){var o=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=r,Wr(n,o)}function MSe(n,e){return fe(n,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var LSe=function(){function n(){}return n}(),EI=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;return r.type="largeCandlestickBox",r}return e.prototype.getDefaultShape=function(){return new LSe},e.prototype.buildPath=function(t,r){for(var o=r.points,i=0;i<o.length;)if(this.__sign===o[i++]){var a=o[i++];t.moveTo(a,o[i++]),t.lineTo(a,o[i++])}else i+=3},e}(vt);function WB(n,e,t,r){var o=n.getData(),i=o.getLayout("largePoints"),a=new EI({shape:{points:i},__sign:1,ignoreCoarsePointer:!0});e.add(a);var s=new EI({shape:{points:i},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var l=new EI({shape:{points:i},__sign:0,ignoreCoarsePointer:!0});e.add(l),$I(1,a,n),$I(-1,s,n),$I(0,l,n),r&&(a.incremental=!0,s.incremental=!0),t&&t.push(a,s)}function $I(n,e,t,r){var o=t.get(["itemStyle",n>0?"borderColor":"borderColor0"])||t.get(["itemStyle",n>0?"color":"color0"]);n===0&&(o=t.get(["itemStyle","borderColorDoji"]));var i=t.getModel("itemStyle").getItemStyle(RSe);e.useStyle(i),e.style.fill=null,e.style.stroke=o}var sX=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,r,o){var i=r.getItemLayout(t);return i&&o.rect(i.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(gn);Vn(sX,oX,!0);function NSe(n){!n||!ce(n.series)||R(n.series,function(e){Ge(e)&&e.type==="k"&&(e.type="candlestick")})}var OSe=["itemStyle","borderColor"],FSe=["itemStyle","borderColor0"],BSe=["itemStyle","borderColorDoji"],zSe=["itemStyle","color"],VSe=["itemStyle","color0"],GSe={seriesType:"candlestick",plan:Bp(),performRawSeries:!0,reset:function(n,e){function t(i,a){return a.get(i>0?zSe:VSe)}function r(i,a){return a.get(i===0?BSe:i>0?OSe:FSe)}if(!e.isSeriesFiltered(n)){var o=n.pipelineContext.large;return!o&&{progress:function(i,a){for(var s;(s=i.next())!=null;){var l=a.getItemModel(s),u=a.getItemLayout(s).sign,c=l.getItemStyle();c.fill=t(u,l),c.stroke=r(u,l)||c.fill;var d=a.ensureUniqueItemVisual(s,"style");oe(d,c)}}}}}},WSe={seriesType:"candlestick",plan:Bp(),reset:function(n){var e=n.coordinateSystem,t=n.getData(),r=HSe(n,t),o=0,i=1,a=["x","y"],s=t.getDimensionIndex(t.mapDimension(a[o])),l=fe(t.mapDimensionsAll(a[i]),t.getDimensionIndex,t),u=l[0],c=l[1],d=l[2],h=l[3];if(t.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),s<0||l.length<4)return;return{progress:n.pipelineContext.large?p:f};function f(g,v){for(var m,y=v.getStore();(m=g.next())!=null;){var b=y.get(s,m),w=y.get(u,m),x=y.get(c,m),S=y.get(d,m),C=y.get(h,m),k=Math.min(w,x),_=Math.max(w,x),I=N(k,b),T=N(_,b),A=N(S,b),D=N(C,b),E=[];M(E,T,0),M(E,I,1),E.push(V(D),V(T),V(A),V(I));var $=v.getItemModel(m),P=!!$.get(["itemStyle","borderColorDoji"]);v.setItemLayout(m,{sign:HB(y,m,w,x,c,P),initBaseline:w>x?T[i]:I[i],ends:E,brushRect:L(S,C,b)})}function N(W,j){var Q=[];return Q[o]=j,Q[i]=W,isNaN(j)||isNaN(W)?[NaN,NaN]:e.dataToPoint(Q)}function M(W,j,Q){var te=j.slice(),se=j.slice();te[o]=hw(te[o]+r/2,1,!1),se[o]=hw(se[o]-r/2,1,!0),Q?W.push(te,se):W.push(se,te)}function L(W,j,Q){var te=N(W,Q),se=N(j,Q);return te[o]-=r/2,se[o]-=r/2,{x:te[0],y:te[1],width:r,height:se[1]-te[1]}}function V(W){return W[o]=hw(W[o],1),W}}function p(g,v){for(var m=xs(g.count*4),y=0,b,w=[],x=[],S,C=v.getStore(),k=!!n.get(["itemStyle","borderColorDoji"]);(S=g.next())!=null;){var _=C.get(s,S),I=C.get(u,S),T=C.get(c,S),A=C.get(d,S),D=C.get(h,S);if(isNaN(_)||isNaN(A)||isNaN(D)){m[y++]=NaN,y+=3;continue}m[y++]=HB(C,S,I,T,c,k),w[o]=_,w[i]=A,b=e.dataToPoint(w,null,x),m[y++]=b?b[0]:NaN,m[y++]=b?b[1]:NaN,w[i]=D,b=e.dataToPoint(w,null,x),m[y++]=b?b[1]:NaN}v.setLayout("largePoints",m)}}};function HB(n,e,t,r,o,i){var a;return t>r?a=-1:t<r?a=1:a=i?0:e>0?n.get(o,e-1)<=r?1:-1:1,a}function HSe(n,e){var t=n.getBaseAxis(),r,o=t.type==="category"?t.getBandWidth():(r=t.getExtent(),Math.abs(r[1]-r[0])/e.count()),i=_e(et(n.get("barMaxWidth"),o),o),a=_e(et(n.get("barMinWidth"),1),o),s=n.get("barWidth");return s!=null?_e(s,o):Math.max(Math.min(o/2,i),a)}function USe(n){n.registerChartView(ESe),n.registerSeriesModel(sX),n.registerPreprocessor(NSe),n.registerVisual(GSe),n.registerLayout(WSe)}function UB(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(r){r.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var jSe=function(n){K(e,n);function e(t,r){var o=n.call(this)||this,i=new Fy(t,r),a=new Xe;return o.add(i),o.add(a),o.updateData(t,r),o}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var r=t.symbolType,o=t.color,i=t.rippleNumber,a=this.childAt(1),s=0;s<i;s++){var l=Un(r,-1,-1,2,2,o);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/i*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),a.add(l)}UB(a,t)},e.prototype.updateEffectAnimation=function(t){for(var r=this._effectCfg,o=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],a=0;a<i.length;a++){var s=i[a];if(r[s]!==t[s]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}UB(o,t)},e.prototype.highlight=function(){Sl(this)},e.prototype.downplay=function(){Cl(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,r){var o=this,i=t.hostModel;this.childAt(0).updateData(t,r);var a=this.childAt(1),s=t.getItemModel(r),l=t.getItemVisual(r,"symbol"),u=Vp(t.getItemVisual(r,"symbolSize")),c=t.getItemVisual(r,"style"),d=c&&c.fill,h=s.getModel("emphasis");a.setScale(u),a.traverse(function(v){v.setStyle("fill",d)});var f=ph(t.getItemVisual(r,"symbolOffset"),u);f&&(a.x=f[0],a.y=f[1]);var p=t.getItemVisual(r,"symbolRotate");a.rotation=(p||0)*Math.PI/180||0;var g={};g.showEffectOn=i.get("showEffectOn"),g.rippleScale=s.get(["rippleEffect","scale"]),g.brushType=s.get(["rippleEffect","brushType"]),g.period=s.get(["rippleEffect","period"])*1e3,g.effectOffset=r/t.count(),g.z=i.getShallow("z")||0,g.zlevel=i.getShallow("zlevel")||0,g.symbolType=l,g.color=d,g.rippleEffectColor=s.get(["rippleEffect","color"]),g.rippleNumber=s.get(["rippleEffect","number"]),g.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(v){v==="emphasis"?g.showEffectOn!=="render"&&o.startEffectAnimation(g):v==="normal"&&g.showEffectOn!=="render"&&o.stopEffectAnimation()}),this._effectCfg=g,On(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(Xe),KSe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._symbolDraw=new By(jSe)},e.prototype.render=function(t,r,o){var i=t.getData(),a=this._symbolDraw;a.updateData(i,{clipShape:this._getClipShape(t)}),this.group.add(a.group)},e.prototype._getClipShape=function(t){var r=t.coordinateSystem,o=r&&r.getArea&&r.getArea();return t.get("clip",!0)?o:null},e.prototype.updateTransform=function(t,r,o){var i=t.getData();this.group.dirty();var a=Vy("").reset(t,r,o);a.progress&&a.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var r=t.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=EG(r.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,r){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(on),XSe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,r){return qs(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,r,o){return o.point(r.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(gn);function qSe(n){n.registerChartView(KSe),n.registerSeriesModel(XSe),n.registerLayout(Vy("effectScatter"))}var lX=function(n){K(e,n);function e(t,r,o){var i=n.call(this)||this;return i.add(i.createLine(t,r,o)),i._updateEffectSymbol(t,r),i}return e.prototype.createLine=function(t,r,o){return new Y$(t,r,o)},e.prototype._updateEffectSymbol=function(t,r){var o=t.getItemModel(r),i=o.getModel("effect"),a=i.get("symbolSize"),s=i.get("symbol");ce(a)||(a=[a,a]);var l=t.getItemVisual(r,"style"),u=i.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=Un(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(i.getItemStyle(["color"])),c.scaleX=a[0],c.scaleY=a[1],c.setColor(u),this._symbolType=s,this._symbolScale=a,this._updateEffectAnimation(t,i,r))},e.prototype._updateEffectAnimation=function(t,r,o){var i=this.childAt(1);if(i){var a=t.getItemLayout(o),s=r.get("period")*1e3,l=r.get("loop"),u=r.get("roundTrip"),c=r.get("constantSpeed"),d=mr(r.get("delay"),function(f){return f/t.count()*s/3});if(i.ignore=!0,this._updateAnimationPoints(i,a),c>0&&(s=this._getLineLength(i)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){i.stopAnimation();var h=void 0;ze(d)?h=d(o):h=d,i.__t>0&&(h=-s*i.__t),this._animateSymbol(i,s,h,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(t,r,o,i,a){if(r>0){t.__t=0;var s=this,l=t.animate("",i).when(a?r*2:r,{__t:a?2:1}).delay(o).during(function(){s._updateSymbolPosition(t)});i||l.done(function(){s.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return cl(t.__p1,t.__cp1)+cl(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,r){t.__p1=r[0],t.__p2=r[1],t.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},e.prototype.updateData=function(t,r,o){this.childAt(0).updateData(t,r,o),this._updateEffectSymbol(t,r)},e.prototype._updateSymbolPosition=function(t){var r=t.__p1,o=t.__p2,i=t.__cp1,a=t.__t<1?t.__t:2-t.__t,s=[t.x,t.y],l=s.slice(),u=Dr,c=ZT;s[0]=u(r[0],i[0],o[0],a),s[1]=u(r[1],i[1],o[1],a);var d=t.__t<1?c(r[0],i[0],o[0],a):c(o[0],i[0],r[0],1-a),h=t.__t<1?c(r[1],i[1],o[1],a):c(o[1],i[1],r[1],1-a);t.rotation=-Math.atan2(h,d)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=cl(l,s)*1.05,a===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):t.__lastT===1?t.scaleY=2*cl(r,s):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=s[0],t.y=s[1]},e.prototype.updateLayout=function(t,r){this.childAt(0).updateLayout(t,r);var o=t.getItemModel(r).getModel("effect");this._updateEffectAnimation(t,o,r)},e}(Xe),uX=function(n){K(e,n);function e(t,r,o){var i=n.call(this)||this;return i._createPolyline(t,r,o),i}return e.prototype._createPolyline=function(t,r,o){var i=t.getItemLayout(r),a=new No({shape:{points:i}});this.add(a),this._updateCommonStl(t,r,o)},e.prototype.updateData=function(t,r,o){var i=t.hostModel,a=this.childAt(0),s={shape:{points:t.getItemLayout(r)}};Pt(a,s,i,r),this._updateCommonStl(t,r,o)},e.prototype._updateCommonStl=function(t,r,o){var i=this.childAt(0),a=t.getItemModel(r),s=o&&o.emphasisLineStyle,l=o&&o.focus,u=o&&o.blurScope,c=o&&o.emphasisDisabled;if(!o||t.hasItemOption){var d=a.getModel("emphasis");s=d.getModel("lineStyle").getLineStyle(),c=d.get("disabled"),l=d.get("focus"),u=d.get("blurScope")}i.useStyle(t.getItemVisual(r,"style")),i.style.fill=null,i.style.strokeNoScale=!0;var h=i.ensureState("emphasis");h.style=s,On(this,l,u,c)},e.prototype.updateLayout=function(t,r){var o=this.childAt(0);o.setShape("points",t.getItemLayout(r))},e}(Xe),YSe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return e.prototype.createLine=function(t,r,o){return new uX(t,r,o)},e.prototype._updateAnimationPoints=function(t,r){this._points=r;for(var o=[0],i=0,a=1;a<r.length;a++){var s=r[a-1],l=r[a];i+=cl(s,l),o.push(i)}if(i===0){this._length=0;return}for(var a=0;a<o.length;a++)o[a]/=i;this._offsets=o,this._length=i},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var r=t.__t<1?t.__t:2-t.__t,o=this._points,i=this._offsets,a=o.length;if(i){var s=this._lastFrame,l;if(r<this._lastFramePercent){var u=Math.min(s+1,a-1);for(l=u;l>=0&&!(i[l]<=r);l--);l=Math.min(l,a-2)}else{for(l=s;l<a&&!(i[l]>r);l++);l=Math.min(l-1,a-2)}var c=(r-i[l])/(i[l+1]-i[l]),d=o[l],h=o[l+1];t.x=d[0]*(1-c)+c*h[0],t.y=d[1]*(1-c)+c*h[1];var f=t.__t<1?h[0]-d[0]:d[0]-h[0],p=t.__t<1?h[1]-d[1]:d[1]-h[1];t.rotation=-Math.atan2(p,f)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=r,t.ignore=!1}},e}(lX),ZSe=function(){function n(){this.polyline=!1,this.curveness=0,this.segs=[]}return n}(),JSe=function(n){K(e,n);function e(t){var r=n.call(this,t)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ZSe},e.prototype.buildPath=function(t,r){var o=r.segs,i=r.curveness,a;if(r.polyline)for(a=this._off;a<o.length;){var s=o[a++];if(s>0){t.moveTo(o[a++],o[a++]);for(var l=1;l<s;l++)t.lineTo(o[a++],o[a++])}}else for(a=this._off;a<o.length;){var u=o[a++],c=o[a++],d=o[a++],h=o[a++];if(t.moveTo(u,c),i>0){var f=(u+d)/2-(c-h)*i,p=(c+h)/2-(d-u)*i;t.quadraticCurveTo(f,p,d,h)}else t.lineTo(d,h)}this.incremental&&(this._off=a,this.notClear=!0)},e.prototype.findDataIndex=function(t,r){var o=this.shape,i=o.segs,a=o.curveness,s=this.style.lineWidth;if(o.polyline)for(var l=0,u=0;u<i.length;){var c=i[u++];if(c>0)for(var d=i[u++],h=i[u++],f=1;f<c;f++){var p=i[u++],g=i[u++];if(iu(d,h,p,g,s,t,r))return l}l++}else for(var l=0,u=0;u<i.length;){var d=i[u++],h=i[u++],p=i[u++],g=i[u++];if(a>0){var v=(d+p)/2-(h-g)*a,m=(h+g)/2-(p-d)*a;if(CW(d,h,v,m,p,g,s,t,r))return l}else if(iu(d,h,p,g,s,t,r))return l;l++}return-1},e.prototype.contain=function(t,r){var o=this.transformCoordToLocal(t,r),i=this.getBoundingRect();if(t=o[0],r=o[1],i.contain(t,r)){var a=this.hoverDataIdx=this.findDataIndex(t,r);return a>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape,o=r.segs,i=1/0,a=1/0,s=-1/0,l=-1/0,u=0;u<o.length;){var c=o[u++],d=o[u++];i=Math.min(c,i),s=Math.max(c,s),a=Math.min(d,a),l=Math.max(d,l)}t=this._rect=new lt(i,a,s,l)}return t},e}(vt),QSe=function(){function n(){this.group=new Xe}return n.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(e,t){var r=this._newAdded[0],o=t.getLayout("linesPoints"),i=r&&r.shape.segs;if(i&&i.length<2e4){var a=i.length,s=new Float32Array(a+o.length);s.set(i),s.set(o,a),r.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:o}),this._setCommon(l,t),l.__startIndex=e.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new JSe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},n.prototype._setCommon=function(e,t,r){var o=t.hostModel;e.setShape({polyline:o.get("polyline"),curveness:o.get(["lineStyle","curveness"])}),e.useStyle(o.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var i=t.getVisual("style");i&&i.stroke&&e.setStyle("stroke",i.stroke),e.setStyle("fill",null);var a=Ye(e);a.seriesIndex=o.seriesIndex,e.on("mousemove",function(s){a.dataIndex=null;var l=e.hoverDataIdx;l>0&&(a.dataIndex=l+e.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),cX={seriesType:"lines",plan:Bp(),reset:function(n){var e=n.coordinateSystem;if(e){var t=n.get("polyline"),r=n.pipelineContext.large;return{progress:function(o,i){var a=[];if(r){var s=void 0,l=o.end-o.start;if(t){for(var u=0,c=o.start;c<o.end;c++)u+=n.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var d=0,h=[],c=o.start;c<o.end;c++){var f=n.getLineCoords(c,a);t&&(s[d++]=f);for(var p=0;p<f;p++)h=e.dataToPoint(a[p],!1,h),s[d++]=h[0],s[d++]=h[1]}i.setLayout("linesPoints",s)}else for(var c=o.start;c<o.end;c++){var g=i.getItemModel(c),f=n.getLineCoords(c,a),v=[];if(t)for(var m=0;m<f;m++)v.push(e.dataToPoint(a[m]));else{v[0]=e.dataToPoint(a[0]),v[1]=e.dataToPoint(a[1]);var y=g.get(["lineStyle","curveness"]);+y&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*y,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*y])}i.setItemLayout(c,v)}}}}}},eCe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){var i=t.getData(),a=this._updateLineDraw(i,t),s=t.get("zlevel"),l=t.get(["effect","trailLength"]),u=o.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),a.updateData(i);var d=t.get("clip",!0)&&zy(t.coordinateSystem,!1,t);d?this.group.setClipPath(d):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,r,o){var i=t.getData(),a=this._updateLineDraw(i,t);a.incrementalPrepareUpdate(i),this._clearLayer(o),this._finished=!1},e.prototype.incrementalRender=function(t,r,o){this._lineDraw.incrementalUpdate(t,r.getData()),this._finished=t.end===r.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,r,o){var i=t.getData(),a=t.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var s=cX.reset(t,r,o);s.progress&&s.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(o)},e.prototype._updateLineDraw=function(t,r){var o=this._lineDraw,i=this._showEffect(r),a=!!r.get("polyline"),s=r.pipelineContext,l=s.large;return(!o||i!==this._hasEffet||a!==this._isPolyline||l!==this._isLargeDraw)&&(o&&o.remove(),o=this._lineDraw=l?new QSe:new Z$(a?i?YSe:uX:i?lX:Y$),this._hasEffet=i,this._isPolyline=a,this._isLargeDraw=l),this.group.add(o.group),o},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var r=t.getZr(),o=r.painter.getType()==="svg";!o&&this._lastZlevel!=null&&r.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.type="lines",e}(on),tCe=typeof Uint32Array>"u"?Array:Uint32Array,nCe=typeof Float64Array>"u"?Array:Float64Array;function jB(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=fe(e,function(t){var r=[t[0].coord,t[1].coord],o={coords:r};return t[0].name&&(o.fromName=t[0].name),t[1].name&&(o.toName=t[1].name),WS([o,t[0],t[1]])}))}var rCe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.init=function(t){t.data=t.data||[],jB(t);var r=this._processFlatCoordsArray(t.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(t.data=new Float32Array(r.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(jB(t),t.data){var r=this._processFlatCoordsArray(t.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(t.data=new Float32Array(r.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var r=this._processFlatCoordsArray(t.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=um(this._flatCoords,r.flatCoords),this._flatCoordsOffset=um(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),t.data=new Float32Array(r.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var r=this.getData().getItemModel(t),o=r.option instanceof Array?r.option:r.getShallow("coords");return o},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,r){if(this._flatCoordsOffset){for(var o=this._flatCoordsOffset[t*2],i=this._flatCoordsOffset[t*2+1],a=0;a<i;a++)r[a]=r[a]||[],r[a][0]=this._flatCoords[o+a*2],r[a][1]=this._flatCoords[o+a*2+1];return i}else{for(var s=this._getCoordsFromItemModel(t),a=0;a<s.length;a++)r[a]=r[a]||[],r[a][0]=s[a][0],r[a][1]=s[a][1];return s.length}},e.prototype._processFlatCoordsArray=function(t){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),Rt(t[0])){for(var o=t.length,i=new tCe(o),a=new nCe(o),s=0,l=0,u=0,c=0;c<o;){u++;var d=t[c++];i[l++]=s+r,i[l++]=d;for(var h=0;h<d;h++){var f=t[c++],p=t[c++];a[s++]=f,a[s++]=p}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,l),flatCoords:a,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,r){var o=new ao(["value"],this);return o.hasItemOption=!1,o.initData(t.data,[],function(i,a,s,l){if(i instanceof Array)return NaN;o.hasItemOption=!0;var u=i.value;if(u!=null)return u instanceof Array?u[l]:u}),o},e.prototype.formatTooltip=function(t,r,o){var i=this.getData(),a=i.getItemModel(t),s=a.get("name");if(s)return s;var l=a.get("fromName"),u=a.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),kr("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),r=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&r>0?r+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(gn);function C1(n){return n instanceof Array||(n=[n,n]),n}var oCe={seriesType:"lines",reset:function(n){var e=C1(n.get("symbol")),t=C1(n.get("symbolSize")),r=n.getData();r.setVisual("fromSymbol",e&&e[0]),r.setVisual("toSymbol",e&&e[1]),r.setVisual("fromSymbolSize",t&&t[0]),r.setVisual("toSymbolSize",t&&t[1]);function o(i,a){var s=i.getItemModel(a),l=C1(s.getShallow("symbol",!0)),u=C1(s.getShallow("symbolSize",!0));l[0]&&i.setItemVisual(a,"fromSymbol",l[0]),l[1]&&i.setItemVisual(a,"toSymbol",l[1]),u[0]&&i.setItemVisual(a,"fromSymbolSize",u[0]),u[1]&&i.setItemVisual(a,"toSymbolSize",u[1])}return{dataEach:r.hasItemOption?o:null}}};function iCe(n){n.registerChartView(eCe),n.registerSeriesModel(rCe),n.registerLayout(cX),n.registerVisual(oCe)}var aCe=256,sCe=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=za.createCanvas();this.canvas=e}return n.prototype.update=function(e,t,r,o,i,a){var s=this._getBrush(),l=this._getGradient(i,"inRange"),u=this._getGradient(i,"outOfRange"),c=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),f=e.length;d.width=t,d.height=r;for(var p=0;p<f;++p){var g=e[p],v=g[0],m=g[1],y=g[2],b=o(y);h.globalAlpha=b,h.drawImage(s,v-c,m-c)}if(!d.width||!d.height)return d;for(var w=h.getImageData(0,0,d.width,d.height),x=w.data,S=0,C=x.length,k=this.minOpacity,_=this.maxOpacity,I=_-k;S<C;){var b=x[S+3]/256,T=Math.floor(b*(aCe-1))*4;if(b>0){var A=a(b)?l:u;b>0&&(b=b*I+k),x[S++]=A[T],x[S++]=A[T+1],x[S++]=A[T+2],x[S++]=A[T+3]*b*256}else S+=4}return h.putImageData(w,0,0),d},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=za.createCanvas()),t=this.pointSize+this.blurSize,r=t*2;e.width=r,e.height=r;var o=e.getContext("2d");return o.clearRect(0,0,r,r),o.shadowOffsetX=r,o.shadowBlur=this.blurSize,o.shadowColor="#000",o.beginPath(),o.arc(-t,t,this.pointSize,0,Math.PI*2,!0),o.closePath(),o.fill(),e},n.prototype._getGradient=function(e,t){for(var r=this._gradientPixels,o=r[t]||(r[t]=new Uint8ClampedArray(256*4)),i=[0,0,0,0],a=0,s=0;s<256;s++)e[t](s/255,!0,i),o[a++]=i[0],o[a++]=i[1],o[a++]=i[2],o[a++]=i[3];return o},n}();function lCe(n,e,t){var r=n[1]-n[0];e=fe(e,function(a){return{interval:[(a.interval[0]-n[0])/r,(a.interval[1]-n[0])/r]}});var o=e.length,i=0;return function(a){var s;for(s=i;s<o;s++){var l=e[s].interval;if(l[0]<=a&&a<=l[1]){i=s;break}}if(s===o)for(s=i-1;s>=0;s--){var l=e[s].interval;if(l[0]<=a&&a<=l[1]){i=s;break}}return s>=0&&s<o&&t[s]}}function uCe(n,e){var t=n[1]-n[0];return e=[(e[0]-n[0])/t,(e[1]-n[0])/t],function(r){return r>=e[0]&&r<=e[1]}}function KB(n){var e=n.dimensions;return e[0]==="lng"&&e[1]==="lat"}var cCe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){var i;r.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===t&&(i=s)})}),this._progressiveEls=null,this.group.removeAll();var a=t.coordinateSystem;a.type==="cartesian2d"||a.type==="calendar"?this._renderOnCartesianAndCalendar(t,o,0,t.getData().count()):KB(a)&&this._renderOnGeo(a,t,i,o)},e.prototype.incrementalPrepareRender=function(t,r,o){this.group.removeAll()},e.prototype.incrementalRender=function(t,r,o,i){var a=r.coordinateSystem;a&&(KB(a)?this.render(r,o,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,i,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Qu(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,r,o,i,a){var s=t.coordinateSystem,l=gh(s,"cartesian2d"),u,c,d,h;if(l){var f=s.getAxis("x"),p=s.getAxis("y");u=f.getBandWidth()+.5,c=p.getBandWidth()+.5,d=f.scale.getExtent(),h=p.scale.getExtent()}for(var g=this.group,v=t.getData(),m=t.getModel(["emphasis","itemStyle"]).getItemStyle(),y=t.getModel(["blur","itemStyle"]).getItemStyle(),b=t.getModel(["select","itemStyle"]).getItemStyle(),w=t.get(["itemStyle","borderRadius"]),x=Cr(t),S=t.getModel("emphasis"),C=S.get("focus"),k=S.get("blurScope"),_=S.get("disabled"),I=l?[v.mapDimension("x"),v.mapDimension("y"),v.mapDimension("value")]:[v.mapDimension("time"),v.mapDimension("value")],T=o;T<i;T++){var A=void 0,D=v.getItemVisual(T,"style");if(l){var E=v.get(I[0],T),$=v.get(I[1],T);if(isNaN(v.get(I[2],T))||isNaN(E)||isNaN($)||E<d[0]||E>d[1]||$<h[0]||$>h[1])continue;var P=s.dataToPoint([E,$]);A=new It({shape:{x:P[0]-u/2,y:P[1]-c/2,width:u,height:c},style:D})}else{if(isNaN(v.get(I[1],T)))continue;A=new It({z2:1,shape:s.dataToRect([v.get(I[0],T)]).contentShape,style:D})}if(v.hasItemOption){var N=v.getItemModel(T),M=N.getModel("emphasis");m=M.getModel("itemStyle").getItemStyle(),y=N.getModel(["blur","itemStyle"]).getItemStyle(),b=N.getModel(["select","itemStyle"]).getItemStyle(),w=N.get(["itemStyle","borderRadius"]),C=M.get("focus"),k=M.get("blurScope"),_=M.get("disabled"),x=Cr(N)}A.shape.r=w;var L=t.getRawValue(T),V="-";L&&L[2]!=null&&(V=L[2]+""),Hr(A,x,{labelFetcher:t,labelDataIndex:T,defaultOpacity:D.opacity,defaultText:V}),A.ensureState("emphasis").style=m,A.ensureState("blur").style=y,A.ensureState("select").style=b,On(A,C,k,_),A.incremental=a,a&&(A.states.emphasis.hoverLayer=!0),g.add(A),v.setItemGraphicEl(T,A),this._progressiveEls&&this._progressiveEls.push(A)}},e.prototype._renderOnGeo=function(t,r,o,i){var a=o.targetVisuals.inRange,s=o.targetVisuals.outOfRange,l=r.getData(),u=this._hmLayer||this._hmLayer||new sCe;u.blurSize=r.get("blurSize"),u.pointSize=r.get("pointSize"),u.minOpacity=r.get("minOpacity"),u.maxOpacity=r.get("maxOpacity");var c=t.getViewRect().clone(),d=t.getRoamTransform();c.applyTransform(d);var h=Math.max(c.x,0),f=Math.max(c.y,0),p=Math.min(c.width+c.x,i.getWidth()),g=Math.min(c.height+c.y,i.getHeight()),v=p-h,m=g-f,y=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],b=l.mapArray(y,function(C,k,_){var I=t.dataToPoint([C,k]);return I[0]-=h,I[1]-=f,I.push(_),I}),w=o.getExtent(),x=o.type==="visualMap.continuous"?uCe(w,o.option.range):lCe(w,o.getPieceList(),o.option.selected);u.update(b,v,m,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:s.color.getColorMapper()},x);var S=new Lr({style:{width:v,height:m,x:h,y:f,image:u.canvas},silent:!0});this.group.add(S)},e.type="heatmap",e}(on),dCe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return qs(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=Fp.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(gn);function hCe(n){n.registerChartView(cCe),n.registerSeriesModel(dCe)}var fCe=["itemStyle","borderWidth"],XB=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],PI=new Nl,pCe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){var i=this.group,a=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),d=l.master.getRect(),h={ecSize:{width:o.getWidth(),height:o.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[d.x,d.x+d.width],[d.y,d.y+d.height]],isHorizontal:c,valueDim:XB[+c],categoryDim:XB[1-+c]};a.diff(s).add(function(p){if(a.hasValue(p)){var g=YB(a,p),v=qB(a,p,g,h),m=ZB(a,h,v);a.setItemGraphicEl(p,m),i.add(m),QB(m,h,v)}}).update(function(p,g){var v=s.getItemGraphicEl(g);if(!a.hasValue(p)){i.remove(v);return}var m=YB(a,p),y=qB(a,p,m,h),b=vX(a,y);v&&b!==v.__pictorialShapeStr&&(i.remove(v),a.setItemGraphicEl(p,null),v=null),v?xCe(v,h,y):v=ZB(a,h,y,!0),a.setItemGraphicEl(p,v),v.__pictorialSymbolMeta=y,i.add(v),QB(v,h,y)}).remove(function(p){var g=s.getItemGraphicEl(p);g&&JB(s,p,g.__pictorialSymbolMeta.animationModel,g)}).execute();var f=t.get("clip",!0)?zy(t.coordinateSystem,!1,t):null;return f?i.setClipPath(f):i.removeClipPath(),this._data=a,this.group},e.prototype.remove=function(t,r){var o=this.group,i=this._data;t.get("animation")?i&&i.eachItemGraphicEl(function(a){JB(i,Ye(a).dataIndex,t,a)}):o.removeAll()},e.type="pictorialBar",e}(on);function qB(n,e,t,r){var o=n.getItemLayout(e),i=t.get("symbolRepeat"),a=t.get("symbolClip"),s=t.get("symbolPosition")||"start",l=t.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=t.get("symbolPatternSize")||2,d=t.isAnimationEnabled(),h={dataIndex:e,layout:o,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:i,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:d?t:null,hoverScale:d&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};gCe(t,i,o,r,h),vCe(n,e,o,i,a,h.boundingLength,h.pxSign,c,r,h),mCe(t,h.symbolScale,u,r,h);var f=h.symbolSize,p=ph(t.get("symbolOffset"),f);return yCe(t,f,o,i,a,p,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,r,h),h}function gCe(n,e,t,r,o){var i=r.valueDim,a=n.get("symbolBoundingData"),s=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(t[i.wh]<=0),c;if(ce(a)){var d=[MI(s,a[0])-l,MI(s,a[1])-l];d[1]<d[0]&&d.reverse(),c=d[u]}else a!=null?c=MI(s,a)-l:e?c=r.coordSysExtent[i.index][u]-l:c=t[i.wh];o.boundingLength=c,e&&(o.repeatCutLength=t[i.wh]),o.pxSign=c>0?1:-1}function MI(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function vCe(n,e,t,r,o,i,a,s,l,u){var c=l.valueDim,d=l.categoryDim,h=Math.abs(t[d.wh]),f=n.getItemVisual(e,"symbolSize"),p;ce(f)?p=f.slice():f==null?p=["100%","100%"]:p=[f,f],p[d.index]=_e(p[d.index],h),p[c.index]=_e(p[c.index],r?h:Math.abs(i)),u.symbolSize=p;var g=u.symbolScale=[p[0]/s,p[1]/s];g[c.index]*=(l.isHorizontal?-1:1)*a}function mCe(n,e,t,r,o){var i=n.get(fCe)||0;i&&(PI.attr({scaleX:e[0],scaleY:e[1],rotation:t}),PI.updateTransform(),i/=PI.getLineScale(),i*=e[r.valueDim.index]),o.valueLineWidth=i||0}function yCe(n,e,t,r,o,i,a,s,l,u,c,d){var h=c.categoryDim,f=c.valueDim,p=d.pxSign,g=Math.max(e[f.index]+s,0),v=g;if(r){var m=Math.abs(l),y=mr(n.get("symbolMargin"),"15%")+"",b=!1;y.lastIndexOf("!")===y.length-1&&(b=!0,y=y.slice(0,y.length-1));var w=_e(y,e[f.index]),x=Math.max(g+w*2,0),S=b?0:w*2,C=_E(r),k=C?r:e6((m+S)/x),_=m-k*g;w=_/2/(b?k:Math.max(k-1,1)),x=g+w*2,S=b?0:w*2,!C&&r!=="fixed"&&(k=u?e6((Math.abs(u)+S)/x):0),v=k*x-S,d.repeatTimes=k,d.symbolMargin=w}var I=p*(v/2),T=d.pathPosition=[];T[h.index]=t[h.wh]/2,T[f.index]=a==="start"?I:a==="end"?l-I:l/2,i&&(T[0]+=i[0],T[1]+=i[1]);var A=d.bundlePosition=[];A[h.index]=t[h.xy],A[f.index]=t[f.xy];var D=d.barRectShape=oe({},t);D[f.wh]=p*Math.max(Math.abs(t[f.wh]),Math.abs(T[f.index]+I)),D[h.wh]=t[h.wh];var E=d.clipShape={};E[h.xy]=-t[h.xy],E[h.wh]=c.ecSize[h.wh],E[f.xy]=0,E[f.wh]=t[f.wh]}function dX(n){var e=n.symbolPatternSize,t=Un(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function hX(n,e,t,r){var o=n.__pictorialBundle,i=t.symbolSize,a=t.valueLineWidth,s=t.pathPosition,l=e.valueDim,u=t.repeatTimes||0,c=0,d=i[e.valueDim.index]+a+t.symbolMargin*2;for(iP(n,function(g){g.__pictorialAnimationIndex=c,g.__pictorialRepeatTimes=u,c<u?Gf(g,null,p(c),t,r):Gf(g,null,{scaleX:0,scaleY:0},t,r,function(){o.remove(g)}),c++});c<u;c++){var h=dX(t);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,o.add(h);var f=p(c);Gf(h,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},t,r)}function p(g){var v=s.slice(),m=t.pxSign,y=g;return(t.symbolRepeatDirection==="start"?m>0:m<0)&&(y=u-1-g),v[l.index]=d*(y-u/2+.5)+s[l.index],{x:v[0],y:v[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function fX(n,e,t,r){var o=n.__pictorialBundle,i=n.__pictorialMainPath;i?Gf(i,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,r):(i=n.__pictorialMainPath=dX(t),o.add(i),Gf(i,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,r))}function pX(n,e,t){var r=oe({},e.barRectShape),o=n.__pictorialBarRect;o?Gf(o,null,{shape:r},e,t):(o=n.__pictorialBarRect=new It({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),o.disableMorphing=!0,n.add(o))}function gX(n,e,t,r){if(t.symbolClip){var o=n.__pictorialClipPath,i=oe({},t.clipShape),a=e.valueDim,s=t.animationModel,l=t.dataIndex;if(o)Pt(o,{shape:i},s,l);else{i[a.wh]=0,o=new It({shape:i}),n.__pictorialBundle.setClipPath(o),n.__pictorialClipPath=o;var u={};u[a.wh]=t.clipShape[a.wh],dh[r?"updateProps":"initProps"](o,{shape:u},s,l)}}}function YB(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=bCe,t.isAnimationEnabled=wCe,t}function bCe(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function wCe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function ZB(n,e,t,r){var o=new Xe,i=new Xe;return o.add(i),o.__pictorialBundle=i,i.x=t.bundlePosition[0],i.y=t.bundlePosition[1],t.symbolRepeat?hX(o,e,t):fX(o,e,t),pX(o,t,r),gX(o,e,t,r),o.__pictorialShapeStr=vX(n,t),o.__pictorialSymbolMeta=t,o}function xCe(n,e,t){var r=t.animationModel,o=t.dataIndex,i=n.__pictorialBundle;Pt(i,{x:t.bundlePosition[0],y:t.bundlePosition[1]},r,o),t.symbolRepeat?hX(n,e,t,!0):fX(n,e,t,!0),pX(n,t,!0),gX(n,e,t,!0)}function JB(n,e,t,r){var o=r.__pictorialBarRect;o&&o.removeTextContent();var i=[];iP(r,function(a){i.push(a)}),r.__pictorialMainPath&&i.push(r.__pictorialMainPath),r.__pictorialClipPath&&(t=null),R(i,function(a){Fu(a,{scaleX:0,scaleY:0},t,e,function(){r.parent&&r.parent.remove(r)})}),n.setItemGraphicEl(e,null)}function vX(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function iP(n,e,t){R(n.__pictorialBundle.children(),function(r){r!==n.__pictorialBarRect&&e.call(t,r)})}function Gf(n,e,t,r,o,i){e&&n.attr(e),r.symbolClip&&!o?t&&n.attr(t):t&&dh[o?"updateProps":"initProps"](n,t,r.animationModel,r.dataIndex,i)}function QB(n,e,t){var r=t.dataIndex,o=t.itemModel,i=o.getModel("emphasis"),a=i.getModel("itemStyle").getItemStyle(),s=o.getModel(["blur","itemStyle"]).getItemStyle(),l=o.getModel(["select","itemStyle"]).getItemStyle(),u=o.getShallow("cursor"),c=i.get("focus"),d=i.get("blurScope"),h=i.get("scale");iP(n,function(g){if(g instanceof Lr){var v=g.style;g.useStyle(oe({image:v.image,x:v.x,y:v.y,width:v.width,height:v.height},t.style))}else g.useStyle(t.style);var m=g.ensureState("emphasis");m.style=a,h&&(m.scaleX=g.scaleX*1.1,m.scaleY=g.scaleY*1.1),g.ensureState("blur").style=s,g.ensureState("select").style=l,u&&(g.cursor=u),g.z2=t.z2});var f=e.valueDim.posDesc[+(t.boundingLength>0)],p=n.__pictorialBarRect;p.ignoreClip=!0,Hr(p,Cr(o),{labelFetcher:e.seriesModel,labelDataIndex:r,defaultText:op(e.seriesModel.getData(),r),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:f}),On(n,c,d,i.get("disabled"))}function e6(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}var SCe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=ec(Dm.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(Dm);function CCe(n){n.registerChartView(pCe),n.registerSeriesModel(SCe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Qe(JU,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,QU("pictorialBar"))}var kCe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return e.prototype.render=function(t,r,o){var i=t.getData(),a=this,s=this.group,l=t.getLayerSeries(),u=i.getLayout("layoutInfo"),c=u.rect,d=u.boundaryGap;s.x=0,s.y=c.y+d[0];function h(v){return v.name}var f=new kl(this._layersSeries||[],l,h,h),p=[];f.add(Re(g,this,"add")).update(Re(g,this,"update")).remove(Re(g,this,"remove")).execute();function g(v,m,y){var b=a._layers;if(v==="remove"){s.remove(b[m]);return}for(var w=[],x=[],S,C=l[m].indices,k=0;k<C.length;k++){var _=i.getItemLayout(C[k]),I=_.x,T=_.y0,A=_.y;w.push(I,T),x.push(I,T+A),S=i.getItemVisual(C[k],"style")}var D,E=i.getItemLayout(C[0]),$=t.getModel("label"),P=$.get("margin"),N=t.getModel("emphasis");if(v==="add"){var M=p[m]=new Xe;D=new Vj({shape:{points:w,stackedOnPoints:x,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),M.add(D),s.add(M),t.isAnimationEnabled()&&D.setClipPath(_Ce(D.getBoundingRect(),t,function(){D.removeClipPath()}))}else{var M=b[y];D=M.childAt(0),s.add(M),p[m]=M,Pt(D,{shape:{points:w,stackedOnPoints:x}},t),Wa(D)}Hr(D,Cr(t),{labelDataIndex:C[k-1],defaultText:i.getName(C[k-1]),inheritColor:S.fill},{normal:{verticalAlign:"middle"}}),D.setTextConfig({position:null,local:!0});var L=D.getTextContent();L&&(L.x=E.x-P,L.y=E.y0+E.y/2),D.useStyle(S),i.setItemGraphicEl(m,D),Wr(D,t),On(D,N.get("focus"),N.get("blurScope"),N.get("disabled"))}this._layersSeries=l,this._layers=p},e.type="themeRiver",e}(on);function _Ce(n,e,t){var r=new It({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return bn(r,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},e,t),r}var LI=2,ICe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wy(Re(this.getData,this),Re(this.getRawData,this))},e.prototype.fixData=function(t){var r=t.length,o={},i=fA(t,function(h){return o.hasOwnProperty(h[0]+"")||(o[h[0]+""]=-1),h[2]}),a=[];i.buckets.each(function(h,f){a.push({name:f,dataList:h})});for(var s=a.length,l=0;l<s;++l){for(var u=a[l].name,c=0;c<a[l].dataList.length;++c){var d=a[l].dataList[c][0]+"";o[d]=l}for(var d in o)o.hasOwnProperty(d)&&o[d]!==l&&(o[d]=l,t[r]=[d,0,u],r++)}return t},e.prototype.getInitialData=function(t,r){for(var o=this.getReferringComponents("singleAxis",Qn).models[0],i=o.get("type"),a=Ht(t.data,function(p){return p[2]!==void 0}),s=this.fixData(a||[]),l=[],u=this.nameMap=Pe(),c=0,d=0;d<s.length;++d)l.push(s[d][LI]),u.get(s[d][LI])||(u.set(s[d][LI],c),c++);var h=Gp(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:fx(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,f=new ao(h,this);return f.initData(s),f},e.prototype.getLayerSeries=function(){for(var t=this.getData(),r=t.count(),o=[],i=0;i<r;++i)o[i]=i;var a=t.mapDimension("single"),s=fA(o,function(u){return t.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(d,h){return t.get(a,d)-t.get(a,h)}),l.push({name:c,indices:u})}),l},e.prototype.getAxisTooltipData=function(t,r,o){ce(t)||(t=t?[t]:[]);for(var i=this.getData(),a=this.getLayerSeries(),s=[],l=a.length,u,c=0;c<l;++c){for(var d=Number.MAX_VALUE,h=-1,f=a[c].indices.length,p=0;p<f;++p){var g=i.get(t[0],a[c].indices[p]),v=Math.abs(g-r);v<=d&&(u=g,d=v,h=a[c].indices[p])}s.push(h)}return{dataIndices:s,nestestValue:u}},e.prototype.formatTooltip=function(t,r,o){var i=this.getData(),a=i.getName(t),s=i.get(i.mapDimension("value"),t);return kr("nameValue",{name:a,value:s})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(gn);function TCe(n,e){n.eachSeriesByType("themeRiver",function(t){var r=t.getData(),o=t.coordinateSystem,i={},a=o.getRect();i.rect=a;var s=t.get("boundaryGap"),l=o.getAxis();if(i.boundaryGap=s,l.orient==="horizontal"){s[0]=_e(s[0],a.height),s[1]=_e(s[1],a.height);var u=a.height-s[0]-s[1];t6(r,t,u)}else{s[0]=_e(s[0],a.width),s[1]=_e(s[1],a.width);var c=a.width-s[0]-s[1];t6(r,t,c)}r.setLayout("layoutInfo",i)})}function t6(n,e,t){if(n.count())for(var r=e.coordinateSystem,o=e.getLayerSeries(),i=n.mapDimension("single"),a=n.mapDimension("value"),s=fe(o,function(v){return fe(v.indices,function(m){var y=r.dataToPoint(n.get(i,m));return y[1]=n.get(a,m),y})}),l=ACe(s),u=l.y0,c=t/l.max,d=o.length,h=o[0].indices.length,f,p=0;p<h;++p){f=u[p]*c,n.setItemLayout(o[0].indices[p],{layerIndex:0,x:s[0][p][0],y0:f,y:s[0][p][1]*c});for(var g=1;g<d;++g)f+=s[g-1][p][1]*c,n.setItemLayout(o[g].indices[p],{layerIndex:g,x:s[g][p][0],y0:f,y:s[g][p][1]*c})}}function ACe(n){for(var e=n.length,t=n[0].length,r=[],o=[],i=0,a=0;a<t;++a){for(var s=0,l=0;l<e;++l)s+=n[l][a][1];s>i&&(i=s),r.push(s)}for(var u=0;u<t;++u)o[u]=(i-r[u])/2;i=0;for(var c=0;c<t;++c){var d=r[c]+o[c];d>i&&(i=d)}return{y0:o,max:i}}function DCe(n){n.registerChartView(kCe),n.registerSeriesModel(ICe),n.registerLayout(TCe),n.registerProcessor(Gy("themeRiver"))}var RCe=2,ECe=4,n6=function(n){K(e,n);function e(t,r,o,i){var a=n.call(this)||this;a.z2=RCe,a.textConfig={inside:!0},Ye(a).seriesIndex=r.seriesIndex;var s=new _t({z2:ECe,silent:t.getModel().get(["label","silent"])});return a.setTextContent(s),a.updateData(!0,t,r,o,i),a}return e.prototype.updateData=function(t,r,o,i,a){this.node=r,r.piece=this,o=o||this._seriesModel,i=i||this._ecModel;var s=this;Ye(s).dataIndex=r.dataIndex;var l=r.getModel(),u=l.getModel("emphasis"),c=r.getLayout(),d=oe({},c);d.label=null;var h=r.getVisual("style");h.lineJoin="bevel";var f=r.getVisual("decal");f&&(h.decal=rp(f,a));var p=wd(l.getModel("itemStyle"),d,!0);oe(d,p),R(Eo,function(y){var b=s.ensureState(y),w=l.getModel([y,"itemStyle"]);b.style=w.getItemStyle();var x=wd(w,d);x&&(b.shape=x)}),t?(s.setShape(d),s.shape.r=c.r0,bn(s,{shape:{r:c.r}},o,r.dataIndex)):(Pt(s,{shape:d},o),Wa(s)),s.useStyle(h),this._updateLabel(o);var g=l.getShallow("cursor");g&&s.attr("cursor",g),this._seriesModel=o||this._seriesModel,this._ecModel=i||this._ecModel;var v=u.get("focus"),m=v==="ancestor"?r.getAncestorsIndices():v==="descendant"?r.getDescendantIndices():v;On(this,m,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t){var r=this,o=this.node.getModel(),i=o.getModel("label"),a=this.node.getLayout(),s=a.endAngle-a.startAngle,l=(a.startAngle+a.endAngle)/2,u=Math.cos(l),c=Math.sin(l),d=this,h=d.getTextContent(),f=this.node.dataIndex,p=i.get("minAngle")/180*Math.PI,g=i.get("show")&&!(p!=null&&Math.abs(s)<p);h.ignore=!g,R(mm,function(m){var y=m==="normal"?o.getModel("label"):o.getModel([m,"label"]),b=m==="normal",w=b?h:h.ensureState(m),x=t.getFormattedLabel(f,m);b&&(x=x||r.node.name),w.style=dn(y,{},null,m!=="normal",!0),x&&(w.style.text=x);var S=y.get("show");S!=null&&!b&&(w.ignore=!S);var C=v(y,"position"),k=b?d:d.states[m],_=k.style.fill;k.textConfig={outsideFill:y.get("color")==="inherit"?_:null,inside:C!=="outside"};var I,T=v(y,"distance")||0,A=v(y,"align"),D=v(y,"rotate"),E=Math.PI*.5,$=Math.PI*1.5,P=mi(D==="tangential"?Math.PI/2-l:l),N=P>E&&!Qf(P-E)&&P<$;C==="outside"?(I=a.r+T,A=N?"right":"left"):!A||A==="center"?(s===2*Math.PI&&a.r0===0?I=0:I=(a.r+a.r0)/2,A="center"):A==="left"?(I=a.r0+T,A=N?"right":"left"):A==="right"&&(I=a.r-T,A=N?"left":"right"),w.style.align=A,w.style.verticalAlign=v(y,"verticalAlign")||"middle",w.x=I*u+a.cx,w.y=I*c+a.cy;var M=0;D==="radial"?M=mi(-l)+(N?Math.PI:0):D==="tangential"?M=mi(Math.PI/2-l)+(N?Math.PI:0):Rt(D)&&(M=D*Math.PI/180),w.rotation=mi(M)});function v(m,y){var b=m.get(y);return b??i.get(y)}h.dirtyStyle()},e}($o),fD="sunburstRootToNode",r6="sunburstHighlight",$Ce="sunburstUnhighlight";function PCe(n){n.registerAction({type:fD,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},r);function r(o,i){var a=Em(e,[fD],o);if(a){var s=o.getViewRoot();s&&(e.direction=U$(s,a.node)?"rollUp":"drillDown"),o.resetViewRoot(a.node)}}}),n.registerAction({type:r6,update:"none"},function(e,t,r){e=oe({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},o);function o(i){var a=Em(e,[r6],i);a&&(e.dataIndex=a.node.dataIndex)}r.dispatchAction(oe(e,{type:"highlight"}))}),n.registerAction({type:$Ce,update:"updateView"},function(e,t,r){e=oe({},e),r.dispatchAction(oe(e,{type:"downplay"}))})}var MCe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o,i){var a=this;this.seriesModel=t,this.api=o,this.ecModel=r;var s=t.getData(),l=s.tree.root,u=t.getViewRoot(),c=this.group,d=t.get("renderLabelForZeroData"),h=[];u.eachNode(function(y){h.push(y)});var f=this._oldChildren||[];p(h,f),m(l,u),this._initEvents(),this._oldChildren=h;function p(y,b){if(y.length===0&&b.length===0)return;new kl(b,y,w,w).add(x).update(x).remove(Qe(x,null)).execute();function w(S){return S.getId()}function x(S,C){var k=S==null?null:y[S],_=C==null?null:b[C];g(k,_)}}function g(y,b){if(!d&&y&&!y.getValue()&&(y=null),y!==l&&b!==l){if(b&&b.piece)y?(b.piece.updateData(!1,y,t,r,o),s.setItemGraphicEl(y.dataIndex,b.piece)):v(b);else if(y){var w=new n6(y,t,r,o);c.add(w),s.setItemGraphicEl(y.dataIndex,w)}}}function v(y){y&&y.piece&&(c.remove(y.piece),y.piece=null)}function m(y,b){b.depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,y,t,r,o):(a.virtualPiece=new n6(y,t,r,o),c.add(a.virtualPiece)),b.piece.off("click"),a.virtualPiece.on("click",function(w){a._rootToNode(b.parentNode)})):a.virtualPiece&&(c.remove(a.virtualPiece),a.virtualPiece=null)}},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(r){var o=!1,i=t.seriesModel.getViewRoot();i.eachNode(function(a){if(!o&&a.piece&&a.piece===r.target){var s=a.getModel().get("nodeClick");if(s==="rootToNode")t._rootToNode(a);else if(s==="link"){var l=a.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";rx(u,c)}}o=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:fD,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,r){var o=r.getData(),i=o.getItemLayout(0);if(i){var a=t[0]-i.cx,s=t[1]-i.cy,l=Math.sqrt(a*a+s*s);return l<=i.r&&l>=i.r0}},e.type="sunburst",e}(on),LCe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t,r){var o={name:t.name,children:t.data};mX(o);var i=this._levelModels=fe(t.levels||[],function(l){return new tn(l,this,r)},this),a=H$.createTree(o,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var d=a.getNodeByDataIndex(c),h=i[d.depth];return h&&(u.parentModel=h),u})}return a.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(t);return r.treePathInfo=DC(o,this),r},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var r=this.getRawData().tree.root;(!t||t!==r&&!r.contains(t))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){SK(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(gn);function mX(n){var e=0;R(n.children,function(r){mX(r);var o=r.value;ce(o)&&(o=o[0]),e+=o});var t=n.value;ce(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ce(n.value)?n.value[0]=t:n.value=t}var o6=Math.PI/180;function NCe(n,e,t){e.eachSeriesByType(n,function(r){var o=r.get("center"),i=r.get("radius");ce(i)||(i=[0,i]),ce(o)||(o=[o,o]);var a=t.getWidth(),s=t.getHeight(),l=Math.min(a,s),u=_e(o[0],a),c=_e(o[1],s),d=_e(i[0],l/2),h=_e(i[1],l/2),f=-r.get("startAngle")*o6,p=r.get("minAngle")*o6,g=r.getData().tree.root,v=r.getViewRoot(),m=v.depth,y=r.get("sort");y!=null&&yX(v,y);var b=0;R(v.children,function(P){!isNaN(P.getValue())&&b++});var w=v.getValue(),x=Math.PI/(w||b)*2,S=v.depth>0,C=v.height-(S?-1:1),k=(h-d)/(C||1),_=r.get("clockwise"),I=r.get("stillShowZeroSum"),T=_?1:-1,A=function(P,N){if(P){var M=N;if(P!==g){var L=P.getValue(),V=w===0&&I?x:L*x;V<p&&(V=p),M=N+T*V;var W=P.depth-m-(S?-1:1),j=d+k*W,Q=d+k*(W+1),te=r.getLevelModel(P);if(te){var se=te.get("r0",!0),ge=te.get("r",!0),ye=te.get("radius",!0);ye!=null&&(se=ye[0],ge=ye[1]),se!=null&&(j=_e(se,l/2)),ge!=null&&(Q=_e(ge,l/2))}P.setLayout({angle:V,startAngle:N,endAngle:M,clockwise:_,cx:u,cy:c,r0:j,r:Q})}if(P.children&&P.children.length){var ve=0;R(P.children,function(de){ve+=A(de,N+ve)})}return M-N}};if(S){var D=d,E=d+k,$=Math.PI*2;g.setLayout({angle:$,startAngle:f,endAngle:f+$,clockwise:_,cx:u,cy:c,r0:D,r:E})}A(v,f)})}function yX(n,e){var t=n.children||[];n.children=OCe(t,e),t.length&&R(n.children,function(r){yX(r,e)})}function OCe(n,e){if(ze(e)){var t=fe(n,function(o,i){var a=o.getValue();return{params:{depth:o.depth,height:o.height,dataIndex:o.dataIndex,getValue:function(){return a}},index:i}});return t.sort(function(o,i){return e(o.params,i.params)}),fe(t,function(o){return n[o.index]})}else{var r=e==="asc";return n.sort(function(o,i){var a=(o.getValue()-i.getValue())*(r?1:-1);return a===0?(o.dataIndex-i.dataIndex)*(r?-1:1):a})}}function FCe(n){var e={};function t(r,o,i){for(var a=r;a&&a.depth>1;)a=a.parentNode;var s=o.getColorFromPalette(a.name||a.dataIndex+"",e);return r.depth>1&&De(s)&&(s=Uw(s,(r.depth-1)/(i-1)*.5)),s}n.eachSeriesByType("sunburst",function(r){var o=r.getData(),i=o.tree;i.eachNode(function(a){var s=a.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=t(a,r,i.root.height));var u=o.ensureUniqueItemVisual(a.dataIndex,"style");oe(u,l)})})}function BCe(n){n.registerChartView(MCe),n.registerSeriesModel(LCe),n.registerLayout(Qe(NCe,"sunburst")),n.registerProcessor(Qe(Gy,"sunburst")),n.registerVisual(FCe),PCe(n)}var i6={color:"fill",borderColor:"stroke"},zCe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},yl=Tt(),VCe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,r){return qs(null,this)},e.prototype.getDataParams=function(t,r,o){var i=n.prototype.getDataParams.call(this,t,r);return o&&(i.info=yl(o).info),i},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(gn);function GCe(n,e){return e=e||[0,0],fe(["x","y"],function(t,r){var o=this.getAxis(t),i=e[r],a=n[r]/2;return o.type==="category"?o.getBandWidth():Math.abs(o.dataToCoord(i-a)-o.dataToCoord(i+a))},this)}function WCe(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:Re(GCe,n)}}}function HCe(n,e){return e=e||[0,0],fe([0,1],function(t){var r=e[t],o=n[t]/2,i=[],a=[];return i[t]=r-o,a[t]=r+o,i[1-t]=a[1-t]=e[1-t],Math.abs(this.dataToPoint(i)[t]-this.dataToPoint(a)[t])},this)}function UCe(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:Re(HCe,n)}}}function jCe(n,e){var t=this.getAxis(),r=e instanceof Array?e[0]:e,o=(n instanceof Array?n[0]:n)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(r-o)-t.dataToCoord(r+o))}function KCe(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:Re(jCe,n)}}}function XCe(n,e){return e=e||[0,0],fe(["Radius","Angle"],function(t,r){var o="get"+t+"Axis",i=this[o](),a=e[r],s=n[r]/2,l=i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-s)-i.dataToCoord(a+s));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function qCe(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:r[1],r0:r[0]},api:{coord:function(o){var i=e.dataToRadius(o[0]),a=t.dataToAngle(o[1]),s=n.coordToPoint([i,a]);return s.push(i,a*Math.PI/180),s},size:Re(XCe,n)}}}function YCe(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(r,o){return n.dataToPoint(r,o)}}}}function bX(n,e,t,r){return n&&(n.legacy||n.legacy!==!1&&!t&&!r&&e!=="tspan"&&(e==="text"||$e(n,"text")))}function wX(n,e,t){var r=n,o,i,a;if(e==="text")a=r;else{a={},$e(r,"text")&&(a.text=r.text),$e(r,"rich")&&(a.rich=r.rich),$e(r,"textFill")&&(a.fill=r.textFill),$e(r,"textStroke")&&(a.stroke=r.textStroke),$e(r,"fontFamily")&&(a.fontFamily=r.fontFamily),$e(r,"fontSize")&&(a.fontSize=r.fontSize),$e(r,"fontStyle")&&(a.fontStyle=r.fontStyle),$e(r,"fontWeight")&&(a.fontWeight=r.fontWeight),i={type:"text",style:a,silent:!0},o={};var s=$e(r,"textPosition");t?o.position=s?r.textPosition:"inside":s&&(o.position=r.textPosition),$e(r,"textPosition")&&(o.position=r.textPosition),$e(r,"textOffset")&&(o.offset=r.textOffset),$e(r,"textRotation")&&(o.rotation=r.textRotation),$e(r,"textDistance")&&(o.distance=r.textDistance)}return a6(a,n),R(a.rich,function(l){a6(l,l)}),{textConfig:o,textContent:i}}function a6(n,e){e&&(e.font=e.textFont||e.font,$e(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),$e(e,"textAlign")&&(n.align=e.textAlign),$e(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),$e(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),$e(e,"textWidth")&&(n.width=e.textWidth),$e(e,"textHeight")&&(n.height=e.textHeight),$e(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),$e(e,"textPadding")&&(n.padding=e.textPadding),$e(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),$e(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),$e(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),$e(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),$e(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),$e(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),$e(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function s6(n,e,t){var r=n;r.textPosition=r.textPosition||t.position||"inside",t.offset!=null&&(r.textOffset=t.offset),t.rotation!=null&&(r.textRotation=t.rotation),t.distance!=null&&(r.textDistance=t.distance);var o=r.textPosition.indexOf("inside")>=0,i=n.fill||"#000";l6(r,e);var a=r.textFill==null;return o?a&&(r.textFill=t.insideFill||"#fff",!r.textStroke&&t.insideStroke&&(r.textStroke=t.insideStroke),!r.textStroke&&(r.textStroke=i),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(a&&(r.textFill=n.fill||t.outsideFill||"#000"),!r.textStroke&&t.outsideStroke&&(r.textStroke=t.outsideStroke)),r.text=e.text,r.rich=e.rich,R(e.rich,function(s){l6(s,s)}),r}function l6(n,e){e&&($e(e,"fill")&&(n.textFill=e.fill),$e(e,"stroke")&&(n.textStroke=e.fill),$e(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),$e(e,"font")&&(n.font=e.font),$e(e,"fontStyle")&&(n.fontStyle=e.fontStyle),$e(e,"fontWeight")&&(n.fontWeight=e.fontWeight),$e(e,"fontSize")&&(n.fontSize=e.fontSize),$e(e,"fontFamily")&&(n.fontFamily=e.fontFamily),$e(e,"align")&&(n.textAlign=e.align),$e(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),$e(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),$e(e,"width")&&(n.textWidth=e.width),$e(e,"height")&&(n.textHeight=e.height),$e(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),$e(e,"padding")&&(n.textPadding=e.padding),$e(e,"borderColor")&&(n.textBorderColor=e.borderColor),$e(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),$e(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),$e(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),$e(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),$e(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),$e(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),$e(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),$e(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),$e(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),$e(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var xX={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},u6=yt(xX);na(Os,function(n,e){return n[e]=1,n},{});Os.join(", ");var Ix=["","style","shape","extra"],sp=Tt();function aP(n,e,t,r,o){var i=n+"Animation",a=Rp(n,r,o)||{},s=sp(e).userDuring;return a.duration>0&&(a.during=s?Re(t2e,{el:e,userDuring:s}):null,a.setToFinal=!0,a.scope=n),oe(a,t[i]),a}function yw(n,e,t,r){r=r||{};var o=r.dataIndex,i=r.isInit,a=r.clearStyle,s=t.isAnimationEnabled(),l=sp(n),u=e.style;l.userDuring=e.during;var c={},d={};if(r2e(n,e,d),d6("shape",e,d),d6("extra",e,d),!i&&s&&(n2e(n,e,c),c6("shape",n,e,c),c6("extra",n,e,c),o2e(n,e,u,c)),d.style=u,ZCe(n,d,a),QCe(n,e),s)if(i){var h={};R(Ix,function(p){var g=p?e[p]:e;g&&g.enterFrom&&(p&&(h[p]=h[p]||{}),oe(p?h[p]:h,g.enterFrom))});var f=aP("enter",n,e,t,o);f.duration>0&&n.animateFrom(h,f)}else JCe(n,e,o||0,t,c);SX(n,e),u?n.dirty():n.markRedraw()}function SX(n,e){for(var t=sp(n).leaveToProps,r=0;r<Ix.length;r++){var o=Ix[r],i=o?e[o]:e;i&&i.leaveTo&&(t||(t=sp(n).leaveToProps={}),o&&(t[o]=t[o]||{}),oe(o?t[o]:t,i.leaveTo))}}function $C(n,e,t,r){if(n){var o=n.parent,i=sp(n).leaveToProps;if(i){var a=aP("update",n,e,t,0);a.done=function(){o.remove(n)},n.animateTo(i,a)}else o.remove(n)}}function Ed(n){return n==="all"}function ZCe(n,e,t){var r=e.style;if(!n.isGroup&&r){if(t){n.useStyle({});for(var o=n.animators,i=0;i<o.length;i++){var a=o[i];a.targetName==="style"&&a.changeTarget(n.style)}}n.setStyle(r)}e&&(e.style=null,e&&n.attr(e),e.style=r)}function JCe(n,e,t,r,o){if(o){var i=aP("update",n,e,r,t);i.duration>0&&n.animateFrom(o,i)}}function QCe(n,e){$e(e,"silent")&&(n.silent=e.silent),$e(e,"ignore")&&(n.ignore=e.ignore),n instanceof ra&&$e(e,"invisible")&&(n.invisible=e.invisible),n instanceof vt&&$e(e,"autoBatch")&&(n.autoBatch=e.autoBatch)}var as={},e2e={setTransform:function(n,e){return as.el[n]=e,this},getTransform:function(n){return as.el[n]},setShape:function(n,e){var t=as.el,r=t.shape||(t.shape={});return r[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=as.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=as.el,r=t.style;return r&&(r[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=as.el.style;if(e)return e[n]},setExtra:function(n,e){var t=as.el.extra||(as.el.extra={});return t[n]=e,this},getExtra:function(n){var e=as.el.extra;if(e)return e[n]}};function t2e(){var n=this,e=n.el;if(e){var t=sp(e).userDuring,r=n.userDuring;if(t!==r){n.el=n.userDuring=null;return}as.el=e,r(e2e)}}function c6(n,e,t,r){var o=t[n];if(o){var i=e[n],a;if(i){var s=t.transition,l=o.transition;if(l)if(!a&&(a=r[n]={}),Ed(l))oe(a,i);else for(var u=rn(l),c=0;c<u.length;c++){var d=u[c],h=i[d];a[d]=h}else if(Ed(s)||ct(s,n)>=0){!a&&(a=r[n]={});for(var f=yt(i),c=0;c<f.length;c++){var d=f[c],h=i[d];i2e(o[d],h)&&(a[d]=h)}}}}}function d6(n,e,t){var r=e[n];if(r)for(var o=t[n]={},i=yt(r),a=0;a<i.length;a++){var s=i[a];o[s]=Ov(r[s])}}function n2e(n,e,t){for(var r=e.transition,o=Ed(r)?Os:rn(r||[]),i=0;i<o.length;i++){var a=o[i];if(!(a==="style"||a==="shape"||a==="extra")){var s=n[a];t[a]=s}}}function r2e(n,e,t){for(var r=0;r<u6.length;r++){var o=u6[r],i=xX[o],a=e[o];a&&(t[i[0]]=a[0],t[i[1]]=a[1])}for(var r=0;r<Os.length;r++){var s=Os[r];e[s]!=null&&(t[s]=e[s])}}function o2e(n,e,t,r){if(t){var o=n.style,i;if(o){var a=t.transition,s=e.transition;if(a&&!Ed(a)){var l=rn(a);!i&&(i=r.style={});for(var u=0;u<l.length;u++){var c=l[u],d=o[c];i[c]=d}}else if(n.getAnimationStyleProps&&(Ed(s)||Ed(a)||ct(s,"style")>=0)){var h=n.getAnimationStyleProps(),f=h?h.style:null;if(f){!i&&(i=r.style={});for(var p=yt(t),u=0;u<p.length;u++){var c=p[u];if(f[c]){var d=o[c];i[c]=d}}}}}}}function i2e(n,e){return Gr(n)?n!==e:n!=null&&isFinite(n)}var CX=Tt(),a2e=["percent","easing","shape","style","extra"];function kX(n){n.stopAnimation("keyframe"),n.attr(CX(n))}function Tx(n,e,t){if(!(!t.isAnimationEnabled()||!e)){if(ce(e)){R(e,function(s){Tx(n,s,t)});return}var r=e.keyframes,o=e.duration;if(t&&o==null){var i=Rp("enter",t,0);o=i&&i.duration}if(!(!r||!o)){var a=CX(n);R(Ix,function(s){if(!(s&&!n[s])){var l;r.sort(function(u,c){return u.percent-c.percent}),R(r,function(u){var c=n.animators,d=s?u[s]:u;if(d){var h=yt(d);if(s||(h=Ht(h,function(g){return ct(a2e,g)<0})),!!h.length){l||(l=n.animate(s,e.loop,!0),l.scope="keyframe");for(var f=0;f<c.length;f++)c[f]!==l&&c[f].targetName===l.targetName&&c[f].stopTracks(h);s&&(a[s]=a[s]||{});var p=s?a[s]:a;R(h,function(g){p[g]=((s?n[s]:n)||{})[g]}),l.whenWithKeys(o*u.percent,d,h,u.easing)}}}),l&&l.delay(e.delay||0).duration(o).start(e.easing)}})}}}var bl="emphasis",vu="normal",sP="blur",lP="select",Vu=[vu,bl,sP,lP],NI={normal:["itemStyle"],emphasis:[bl,"itemStyle"],blur:[sP,"itemStyle"],select:[lP,"itemStyle"]},OI={normal:["label"],emphasis:[bl,"label"],blur:[sP,"label"],select:[lP,"label"]},s2e=["x","y"],l2e="e\0\0",Pi={normal:{},emphasis:{},blur:{},select:{}},u2e={cartesian2d:WCe,geo:UCe,single:KCe,polar:qCe,calendar:YCe};function pD(n){return n instanceof vt}function gD(n){return n instanceof ra}function c2e(n,e){e.copyTransform(n),gD(e)&&gD(n)&&(e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e.invisible=n.invisible,e.ignore=n.ignore,pD(e)&&pD(n)&&e.setShape(n.shape))}var d2e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o,i){this._progressiveEls=null;var a=this._data,s=t.getData(),l=this.group,u=h6(t,s,r,o);a||l.removeAll(),s.diff(a).add(function(d){FI(o,null,d,u(d,i),t,l,s)}).remove(function(d){var h=a.getItemGraphicEl(d);h&&$C(h,yl(h).option,t)}).update(function(d,h){var f=a.getItemGraphicEl(h);FI(o,f,d,u(d,i),t,l,s)}).execute();var c=t.get("clip",!0)?zy(t.coordinateSystem,!1,t):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},e.prototype.incrementalPrepareRender=function(t,r,o){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,r,o,i,a){var s=r.getData(),l=h6(r,s,o,i),u=this._progressiveEls=[];function c(f){f.isGroup||(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}for(var d=t.start;d<t.end;d++){var h=FI(null,null,d,l(d,a),r,this.group,s);h&&(h.traverse(c),u.push(h))}},e.prototype.eachRendered=function(t){Qu(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,r,o,i){var a=r.element;if(a==null||o.name===a)return!0;for(;(o=o.__hostTarget||o.parent)&&o!==this.group;)if(o.name===a)return!0;return!1},e.type="custom",e}(on);function uP(n){var e=n.type,t;if(e==="path"){var r=n.shape,o=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,i=TX(r);t=Py(i,null,o,r.layout||"center"),yl(t).customPathData=i}else if(e==="image")t=new Lr({}),yl(t).customImagePath=n.style.image;else if(e==="text")t=new _t({});else if(e==="group")t=new Xe;else{if(e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var a=sC(e);if(!a){var s="";zt(s)}t=new a}return yl(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function cP(n,e,t,r,o,i,a){kX(e);var s=o&&o.normal.cfg;s&&e.setTextConfig(s),r&&r.transition==null&&(r.transition=s2e);var l=r&&r.style;if(l){if(e.type==="text"){var u=l;$e(u,"textFill")&&(u.fill=u.textFill),$e(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,d=pD(e)?l.decal:null;n&&d&&(d.dirty=!0,c=rp(d,n)),l.__decalPattern=c}if(gD(e)&&l){var c=l.__decalPattern;c&&(l.decal=c)}yw(e,r,i,{dataIndex:t,isInit:a,clearStyle:!0}),Tx(e,r.keyframeAnimation,i)}function _X(n,e,t,r,o){var i=e.isGroup?null:e,a=o&&o[n].cfg;if(i){var s=i.ensureState(n);if(r===!1){var l=i.getState(n);l&&(l.style=null)}else s.style=r||null;a&&(s.textConfig=a),Vd(i)}}function h2e(n,e,t){if(!n.isGroup){var r=n,o=t.currentZ,i=t.currentZLevel;r.z=o,r.zlevel=i;var a=e.z2;a!=null&&(r.z2=a||0);for(var s=0;s<Vu.length;s++)f2e(r,e,Vu[s])}}function f2e(n,e,t){var r=t===vu,o=r?e:Ax(e,t),i=o?o.z2:null,a;i!=null&&(a=r?n:n.ensureState(t),a.z2=i||0)}function h6(n,e,t,r){var o=n.get("renderItem"),i=n.coordinateSystem,a={};i&&(a=i.prepareCustoms?i.prepareCustoms(i):u2e[i.type](i));for(var s=Ve({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:w,style:S,ordinalRawValue:x,styleEmphasis:C,visual:I,barLayout:T,currentSeriesIndices:A,font:D},a.api||{}),l={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:p2e(n.getData())},u,c,d={},h={},f={},p={},g=0;g<Vu.length;g++){var v=Vu[g];f[v]=n.getModel(NI[v]),p[v]=n.getModel(OI[v])}function m(E){return E===u?c||(c=e.getItemModel(E)):e.getItemModel(E)}function y(E,$){return e.hasItemOption?E===u?d[$]||(d[$]=m(E).getModel(NI[$])):m(E).getModel(NI[$]):f[$]}function b(E,$){return e.hasItemOption?E===u?h[$]||(h[$]=m(E).getModel(OI[$])):m(E).getModel(OI[$]):p[$]}return function(E,$){return u=E,c=null,d={},h={},o&&o(Ve({dataIndexInside:E,dataIndex:e.getRawIndex(E),actionType:$?$.type:null},l),s)};function w(E,$){return $==null&&($=u),e.getStore().get(e.getDimensionIndex(E||0),$)}function x(E,$){$==null&&($=u),E=E||0;var P=e.getDimensionInfo(E);if(!P){var N=e.getDimensionIndex(E);return N>=0?e.getStore().get(N,$):void 0}var M=e.get(P.name,$),L=P&&P.ordinalMeta;return L?L.categories[M]:M}function S(E,$){$==null&&($=u);var P=e.getItemVisual($,"style"),N=P&&P.fill,M=P&&P.opacity,L=y($,vu).getItemStyle();N!=null&&(L.fill=N),M!=null&&(L.opacity=M);var V={inheritColor:De(N)?N:"#000"},W=b($,vu),j=dn(W,null,V,!1,!0);j.text=W.getShallow("show")?et(n.getFormattedLabel($,vu),op(e,$)):null;var Q=tx(W,V,!1);return _(E,L),L=s6(L,j,Q),E&&k(L,E),L.legacy=!0,L}function C(E,$){$==null&&($=u);var P=y($,bl).getItemStyle(),N=b($,bl),M=dn(N,null,null,!0,!0);M.text=N.getShallow("show")?$a(n.getFormattedLabel($,bl),n.getFormattedLabel($,vu),op(e,$)):null;var L=tx(N,null,!0);return _(E,P),P=s6(P,M,L),E&&k(P,E),P.legacy=!0,P}function k(E,$){for(var P in $)$e($,P)&&(E[P]=$[P])}function _(E,$){E&&(E.textFill&&($.textFill=E.textFill),E.textPosition&&($.textPosition=E.textPosition))}function I(E,$){if($==null&&($=u),$e(i6,E)){var P=e.getItemVisual($,"style");return P?P[i6[E]]:null}if($e(zCe,E))return e.getItemVisual($,E)}function T(E){if(i.type==="cartesian2d"){var $=i.getBaseAxis();return Gve(Ve({axis:$},E))}}function A(){return t.getCurrentSeriesIndices()}function D(E){return GE(E,t)}}function p2e(n){var e={};return R(n.dimensions,function(t){var r=n.getDimensionInfo(t);if(!r.isExtraCoord){var o=r.coordDim,i=e[o]=e[o]||[];i[r.coordDimIndex]=n.getDimensionIndex(t)}}),e}function FI(n,e,t,r,o,i,a){if(!r){i.remove(e);return}var s=dP(n,e,t,r,o,i);return s&&a.setItemGraphicEl(t,s),s&&On(s,r.focus,r.blurScope,r.emphasisDisabled),s}function dP(n,e,t,r,o,i){var a=-1,s=e;e&&IX(e,r,o)&&(a=ct(i.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=uP(r),s&&c2e(s,u)),r.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),Pi.normal.cfg=Pi.normal.conOpt=Pi.emphasis.cfg=Pi.emphasis.conOpt=Pi.blur.cfg=Pi.blur.conOpt=Pi.select.cfg=Pi.select.conOpt=null,Pi.isLegacy=!1,v2e(u,t,r,o,l,Pi),g2e(u,t,r,o,l),cP(n,u,t,r,Pi,o,l),$e(r,"info")&&(yl(u).info=r.info);for(var c=0;c<Vu.length;c++){var d=Vu[c];if(d!==vu){var h=Ax(r,d),f=hP(r,h,d);_X(d,u,h,f,Pi)}}return h2e(u,r,o),r.type==="group"&&m2e(n,u,t,r,o),a>=0?i.replaceAt(u,a):i.add(u),u}function IX(n,e,t){var r=yl(n),o=e.type,i=e.shape,a=e.style;return t.isUniversalTransitionEnabled()||o!=null&&o!==r.customGraphicType||o==="path"&&x2e(i)&&TX(i)!==r.customPathData||o==="image"&&$e(a,"image")&&a.image!==r.customImagePath}function g2e(n,e,t,r,o){var i=t.clipPath;if(i===!1)n&&n.getClipPath()&&n.removeClipPath();else if(i){var a=n.getClipPath();a&&IX(a,i,r)&&(a=null),a||(a=uP(i),n.setClipPath(a)),cP(null,a,e,i,null,r,o)}}function v2e(n,e,t,r,o,i){if(!n.isGroup){f6(t,null,i),f6(t,bl,i);var a=i.normal.conOpt,s=i.emphasis.conOpt,l=i.blur.conOpt,u=i.select.conOpt;if(a!=null||s!=null||u!=null||l!=null){var c=n.getTextContent();if(a===!1)c&&n.removeTextContent();else{a=i.normal.conOpt=a||{type:"text"},c?c.clearStates():(c=uP(a),n.setTextContent(c)),cP(null,c,e,a,null,r,o);for(var d=a&&a.style,h=0;h<Vu.length;h++){var f=Vu[h];if(f!==vu){var p=i[f].conOpt;_X(f,c,p,hP(a,p,f),null)}}d?c.dirty():c.markRedraw()}}}}function f6(n,e,t){var r=e?Ax(n,e):n,o=e?hP(n,r,bl):n.style,i=n.type,a=r?r.textConfig:null,s=n.textContent,l=s?e?Ax(s,e):s:null;if(o&&(t.isLegacy||bX(o,i,!!a,!!l))){t.isLegacy=!0;var u=wX(o,i,!e);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var d=e?t[e]:t.normal;d.cfg=a,d.conOpt=l}function Ax(n,e){return e?n?n[e]:null:n}function hP(n,e,t){var r=e&&e.style;return r==null&&t===bl&&n&&(r=n.styleEmphasis),r}function m2e(n,e,t,r,o){var i=r.children,a=i?i.length:0,s=r.$mergeChildren,l=s==="byName"||r.diffChildrenByName,u=s===!1;if(!(!a&&!l&&!u)){if(l){b2e({api:n,oldChildren:e.children()||[],newChildren:i||[],dataIndex:t,seriesModel:o,group:e});return}u&&e.removeAll();for(var c=0;c<a;c++){var d=i[c],h=e.childAt(c);d?(d.ignore==null&&(d.ignore=!1),dP(n,h,t,d,o,e)):h.ignore=!0}for(var f=e.childCount()-1;f>=c;f--){var p=e.childAt(f);y2e(e,p,o)}}}function y2e(n,e,t){e&&$C(e,yl(n).option,t)}function b2e(n){new kl(n.oldChildren,n.newChildren,p6,p6,n).add(g6).update(g6).remove(w2e).execute()}function p6(n,e){var t=n&&n.name;return t??l2e+e}function g6(n,e){var t=this.context,r=n!=null?t.newChildren[n]:null,o=e!=null?t.oldChildren[e]:null;dP(t.api,o,t.dataIndex,r,t.seriesModel,t.group)}function w2e(n){var e=this.context,t=e.oldChildren[n];t&&$C(t,yl(t).option,e.seriesModel)}function TX(n){return n&&(n.pathData||n.d)}function x2e(n){return n&&($e(n,"pathData")||$e(n,"d"))}function S2e(n){n.registerChartView(d2e),n.registerSeriesModel(VCe)}var ld=Tt(),v6=We,BI=Re,fP=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,r,o){var i=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!o&&this._lastValue===i&&this._lastStatus===a)){this._lastValue=i,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||a==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,i,e,t,r);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new Xe,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),r.getZr().add(s);else{var h=Qe(m6,t,d);this.updatePointerEl(s,u,h),this.updateLabelEl(s,u,h,t)}b6(s,t,!0),this._renderHandle(i)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var r=t.get("animation"),o=e.axis,i=o.type==="category",a=t.get("snap");if(!a&&!i)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(i&&o.getBandWidth()>s)return!0;if(a){var l=O$(e).seriesDataCount,u=o.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},n.prototype.makeElOption=function(e,t,r,o,i){},n.prototype.createPointerEl=function(e,t,r,o){var i=t.pointer;if(i){var a=ld(e).pointerEl=new dh[i.type](v6(t.pointer));e.add(a)}},n.prototype.createLabelEl=function(e,t,r,o){if(t.label){var i=ld(e).labelEl=new _t(v6(t.label));e.add(i),y6(i,o)}},n.prototype.updatePointerEl=function(e,t,r){var o=ld(e).pointerEl;o&&t.pointer&&(o.setStyle(t.pointer.style),r(o,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,r,o){var i=ld(e).labelEl;i&&(i.setStyle(t.label.style),r(i,{x:t.label.x,y:t.label.y}),y6(i,o))},n.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),o=this._handle,i=t.getModel("handle"),a=t.get("status");if(!i.get("show")||!a||a==="hide"){o&&r.remove(o),this._handle=null;return}var s;this._handle||(s=!0,o=this._handle=Ep(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){xl(u.event)},onmousedown:BI(this._onHandleDragMove,this,0,0),drift:BI(this._onHandleDragMove,this),ondragend:BI(this._onHandleDragEnd,this)}),r.add(o)),b6(o,t,!1),o.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");ce(l)||(l=[l,l]),o.scaleX=l[0]/2,o.scaleY=l[1]/2,zp(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},n.prototype._moveHandleToValue=function(e,t){m6(this._axisPointerModel,!t&&this._moveAnimation,this._handle,zI(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var o=this.updateHandleTransform(zI(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=o,r.stopAnimation(),r.attr(zI(o)),ld(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,o=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),o&&t.remove(o),this._group=null,this._handle=null,this._payloadInfo=null),Cm(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},n}();function m6(n,e,t,r){AX(ld(t).lastProp,r)||(ld(t).lastProp=r,e?Pt(t,r,n):(t.stopAnimation(),t.attr(r)))}function AX(n,e){if(Ge(n)&&Ge(e)){var t=!0;return R(e,function(r,o){t=t&&AX(n[o],r)}),!!t}else return n===e}function y6(n,e){n[e.get(["label","show"])?"show":"hide"]()}function zI(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function b6(n,e,t){var r=e.get("z"),o=e.get("zlevel");n&&n.traverse(function(i){i.type!=="group"&&(r!=null&&(i.z=r),o!=null&&(i.zlevel=o),i.silent=t)})}function pP(n){var e=n.get("type"),t=n.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function DX(n,e,t,r,o){var i=t.get("value"),a=RX(i,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=fh(s.get("padding")||0),u=s.getFont(),c=Ay(a,u),d=o.position,h=c.width+l[1]+l[3],f=c.height+l[0]+l[2],p=o.align;p==="right"&&(d[0]-=h),p==="center"&&(d[0]-=h/2);var g=o.verticalAlign;g==="bottom"&&(d[1]-=f),g==="middle"&&(d[1]-=f/2),C2e(d,h,f,r);var v=s.get("backgroundColor");(!v||v==="auto")&&(v=e.get(["axisLine","lineStyle","color"])),n.label={x:d[0],y:d[1],style:dn(s,{text:a,font:u,fill:s.getTextColor(),padding:l,backgroundColor:v}),z2:10}}function C2e(n,e,t,r){var o=r.getWidth(),i=r.getHeight();n[0]=Math.min(n[0]+e,o)-e,n[1]=Math.min(n[1]+t,i)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function RX(n,e,t,r,o){n=e.scale.parse(n);var i=e.scale.getLabel({value:n},{precision:o.precision}),a=o.formatter;if(a){var s={value:I$(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};R(r,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,d=u&&u.getDataParams(c);d&&s.seriesData.push(d)}),De(a)?i=a.replace("{value}",i):ze(a)&&(i=a(s))}return i}function gP(n,e,t){var r=Zo();return Ju(r,r,t.rotation),Va(r,r,t.position),La([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function EX(n,e,t,r,o,i){var a=Ao.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=o.get(["label","margin"]),DX(e,r,o,i,{position:gP(r.axis,n,t),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function vP(n,e,t){return t=t||0,{x1:n[t],y1:n[1-t],x2:e[t],y2:e[1-t]}}function $X(n,e,t){return t=t||0,{x:n[t],y:n[1-t],width:e[t],height:e[1-t]}}function w6(n,e,t,r,o,i){return{cx:n,cy:e,r0:t,r,startAngle:o,endAngle:i,clockwise:!0}}var k2e=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,o,i,a){var s=o.axis,l=s.grid,u=i.get("type"),c=x6(l,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var h=pP(i),f=_2e[u](s,d,c);f.style=h,t.graphicKey=f.type,t.pointer=f}var p=YA(l.model,o);EX(r,t,p,o,i,a)},e.prototype.getHandleTransform=function(t,r,o){var i=YA(r.axis.grid.model,r,{labelInside:!1});i.labelMargin=o.get(["handle","margin"]);var a=gP(r.axis,t,i);return{x:a[0],y:a[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,o,i){var a=o.axis,s=a.grid,l=a.getGlobalExtent(!0),u=x6(s,a).getOtherAxis(a).getGlobalExtent(),c=a.dim==="x"?0:1,d=[t.x,t.y];d[c]+=r[c],d[c]=Math.min(l[1],d[c]),d[c]=Math.max(l[0],d[c]);var h=(u[1]+u[0])/2,f=[h,h];f[c]=d[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:f,tooltipOption:p[c]}},e}(fP);function x6(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var _2e={line:function(n,e,t){var r=vP([e,t[0]],[e,t[1]],S6(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=Math.max(1,n.getBandWidth()),o=t[1]-t[0];return{type:"Rect",shape:$X([e-r/2,t[0]],[r,o],S6(n))}}};function S6(n){return n.dim==="x"?0:1}var I2e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Ct),pl=Tt(),T2e=R;function PX(n,e,t){if(!At.node){var r=e.getZr();pl(r).records||(pl(r).records={}),A2e(r,e);var o=pl(r).records[n]||(pl(r).records[n]={});o.handler=t}}function A2e(n,e){if(pl(n).initialized)return;pl(n).initialized=!0,t("click",Qe(C6,"click")),t("mousemove",Qe(C6,"mousemove")),t("globalout",R2e);function t(r,o){n.on(r,function(i){var a=E2e(e);T2e(pl(n).records,function(s){s&&o(s,i,a.dispatchAction)}),D2e(a.pendings,e)})}}function D2e(n,e){var t=n.showTip.length,r=n.hideTip.length,o;t?o=n.showTip[t-1]:r&&(o=n.hideTip[r-1]),o&&(o.dispatchAction=null,e.dispatchAction(o))}function R2e(n,e,t){n.handler("leave",null,t)}function C6(n,e,t,r){e.handler(n,t,r)}function E2e(n){var e={showTip:[],hideTip:[]},t=function(r){var o=e[r.type];o?o.push(r):(r.dispatchAction=t,n.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function vD(n,e){if(!At.node){var t=e.getZr(),r=(pl(t).records||{})[n];r&&(pl(t).records[n]=null)}}var $2e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){var i=r.getComponent("tooltip"),a=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";PX("axisPointer",o,function(s,l,u){a!=="none"&&(s==="leave"||a.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){vD("axisPointer",r)},e.prototype.dispose=function(t,r){vD("axisPointer",r)},e.type="axisPointer",e}(Cn);function MX(n,e){var t=[],r=n.seriesIndex,o;if(r==null||!(o=e.getSeriesByIndex(r)))return{point:[]};var i=o.getData(),a=Bd(i,n);if(a==null||a<0||ce(a))return{point:[]};var s=i.getItemGraphicEl(a),l=o.coordinateSystem;if(o.getTooltipPosition)t=o.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(n.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),d=c.dim,h=u.dim,f=d==="x"||d==="radius"?1:0,p=i.mapDimension(h),g=[];g[f]=i.get(p,a),g[1-f]=i.get(i.getCalculationInfo("stackResultDimension"),a),t=l.dataToPoint(g)||[]}else t=l.dataToPoint(i.getValues(fe(l.dimensions,function(m){return i.mapDimension(m)}),a))||[];else if(s){var v=s.getBoundingRect().clone();v.applyTransform(s.transform),t=[v.x+v.width/2,v.y+v.height/2]}return{point:t,el:s}}var k6=Tt();function P2e(n,e,t){var r=n.currTrigger,o=[n.x,n.y],i=n,a=n.dispatchAction||Re(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){bw(o)&&(o=MX({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},e).point);var l=bw(o),u=i.axesInfo,c=s.axesInfo,d=r==="leave"||bw(o),h={},f={},p={list:[],map:{}},g={showPointer:Qe(L2e,f),showTooltip:Qe(N2e,p)};R(s.coordSysMap,function(m,y){var b=l||m.containPoint(o);R(s.coordSysAxesInfo[y],function(w,x){var S=w.axis,C=z2e(u,w);if(!d&&b&&(!u||C)){var k=C&&C.value;k==null&&!l&&(k=S.pointToData(o)),k!=null&&_6(w,k,g,!1,h)}})});var v={};return R(c,function(m,y){var b=m.linkGroup;b&&!f[y]&&R(b.axesInfo,function(w,x){var S=f[x];if(w!==m&&S){var C=S.value;b.mapper&&(C=m.axis.scale.parse(b.mapper(C,I6(w),I6(m)))),v[m.key]=C}})}),R(v,function(m,y){_6(c[y],m,g,!0,h)}),O2e(f,c,h),F2e(p,o,n,a),B2e(c,a,t),h}}function _6(n,e,t,r,o){var i=n.axis;if(!(i.scale.isBlank()||!i.containData(e))){if(!n.involveSeries){t.showPointer(n,e);return}var a=M2e(e,n),s=a.payloadBatch,l=a.snapToValue;s[0]&&o.seriesIndex==null&&oe(o,s[0]),!r&&n.snap&&i.containData(l)&&l!=null&&(e=l),t.showPointer(n,e,s),t.showTooltip(n,a,l)}}function M2e(n,e){var t=e.axis,r=t.dim,o=n,i=[],a=Number.MAX_VALUE,s=-1;return R(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(r),d,h;if(l.getAxisTooltipData){var f=l.getAxisTooltipData(c,n,t);h=f.dataIndices,d=f.nestestValue}else{if(h=l.getData().indicesOfNearest(c[0],n,t.type==="category"?.5:null),!h.length)return;d=l.getData().get(c[0],h[0])}if(!(d==null||!isFinite(d))){var p=n-d,g=Math.abs(p);g<=a&&((g<a||p>=0&&s<0)&&(a=g,s=p,o=d,i.length=0),R(h,function(v){i.push({seriesIndex:l.seriesIndex,dataIndexInside:v,dataIndex:l.getData().getRawIndex(v)})}))}}),{payloadBatch:i,snapToValue:o}}function L2e(n,e,t,r){n[e.key]={value:t,payloadBatch:r}}function N2e(n,e,t,r){var o=t.payloadBatch,i=e.axis,a=i.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!o.length)){var l=e.coordSys.model,u=Rm(l),c=n.map[u];c||(c=n.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(c)),c.dataByAxis.push({axisDim:i.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function O2e(n,e,t){var r=t.axesInfo=[];R(e,function(o,i){var a=o.axisPointerModel.option,s=n[i];s?(!o.useHandle&&(a.status="show"),a.value=s.value,a.seriesDataIndices=(s.payloadBatch||[]).slice()):!o.useHandle&&(a.status="hide"),a.status==="show"&&r.push({axisDim:o.axis.dim,axisIndex:o.axis.model.componentIndex,value:a.value})})}function F2e(n,e,t,r){if(bw(e)||!n.list.length){r({type:"hideTip"});return}var o=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:n.list})}function B2e(n,e,t){var r=t.getZr(),o="axisPointerLastHighlights",i=k6(r)[o]||{},a=k6(r)[o]={};R(n,function(u,c){var d=u.axisPointerModel.option;d.status==="show"&&u.triggerEmphasis&&R(d.seriesDataIndices,function(h){var f=h.seriesIndex+" | "+h.dataIndex;a[f]=h})});var s=[],l=[];R(i,function(u,c){!a[c]&&l.push(u)}),R(a,function(u,c){!i[c]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function z2e(n,e){for(var t=0;t<(n||[]).length;t++){var r=n[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function I6(n){var e=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function bw(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function jy(n){vh.registerAxisPointerClass("CartesianAxisPointer",k2e),n.registerComponentModel(I2e),n.registerComponentView($2e),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!ce(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=Y0e(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},P2e)}function V2e(n){pt(sK),pt(jy)}var G2e=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,o,i,a){var s=o.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),d=s.dataToCoord(r),h=i.get("type");if(h&&h!=="none"){var f=pP(i),p=H2e[h](s,l,d,c);p.style=f,t.graphicKey=p.type,t.pointer=p}var g=i.get(["label","margin"]),v=W2e(r,o,i,l,g);DX(t,o,i,a,v)},e}(fP);function W2e(n,e,t,r,o){var i=e.axis,a=i.dataToCoord(n),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,c,d;if(i.dim==="radius"){var h=Zo();Ju(h,h,s),Va(h,h,[r.cx,r.cy]),u=La([a,-o],h);var f=e.getModel("axisLabel").get("rotate")||0,p=Ao.innerTextLayout(s,f*Math.PI/180,-1);c=p.textAlign,d=p.textVerticalAlign}else{var g=l[1];u=r.coordToPoint([g+o,a]);var v=r.cx,m=r.cy;c=Math.abs(u[0]-v)/g<.3?"center":u[0]>v?"left":"right",d=Math.abs(u[1]-m)/g<.3?"middle":u[1]>m?"top":"bottom"}return{position:u,align:c,verticalAlign:d}}var H2e={line:function(n,e,t,r){return n.dim==="angle"?{type:"Line",shape:vP(e.coordToPoint([r[0],t]),e.coordToPoint([r[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,r){var o=Math.max(1,n.getBandWidth()),i=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:w6(e.cx,e.cy,r[0],r[1],(-t-o/2)*i,(-t+o/2)*i)}:{type:"Sector",shape:w6(e.cx,e.cy,t-o/2,t+o/2,0,Math.PI*2)}}},U2e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var r,o=this.ecModel;return o.eachComponent(t,function(i){i.getCoordSysModel()===this&&(r=i)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(Ct),mP=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Qn).models[0]},e.type="polarAxis",e}(Ct);Vn(mP,Hp);var j2e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e}(mP),K2e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e}(mP),yP=function(n){K(e,n);function e(t,r){return n.call(this,"radius",t,r)||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e}(da);yP.prototype.dataToRadius=da.prototype.dataToCoord;yP.prototype.radiusToData=da.prototype.coordToData;var X2e=Tt(),bP=function(n){K(e,n);function e(t,r){return n.call(this,"angle",t,r||[0,360])||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,r=t.getLabelModel(),o=t.scale,i=o.getExtent(),a=o.count();if(i[1]-i[0]<1)return 0;var s=i[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),u=Math.abs(l),c=Ay(s==null?"":s+"",r.getFont(),"center","top"),d=Math.max(c.height,7),h=d/u;isNaN(h)&&(h=1/0);var f=Math.max(0,Math.floor(h)),p=X2e(t.model),g=p.lastAutoInterval,v=p.lastTickCount;return g!=null&&v!=null&&Math.abs(g-f)<=1&&Math.abs(v-a)<=1&&g>f?f=g:(p.lastTickCount=a,p.lastAutoInterval=f),f},e}(da);bP.prototype.dataToAngle=da.prototype.dataToCoord;bP.prototype.angleToData=da.prototype.coordToData;var LX=["radius","angle"],q2e=function(){function n(e){this.dimensions=LX,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new yP,this._angleAxis=new bP,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],r=this._angleAxis,o=this._radiusAxis;return r.scale.type===e&&t.push(r),o.scale.type===e&&t.push(o),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},n.prototype.pointToData=function(e,t){var r=this.pointToCoord(e);return[this._radiusAxis.radiusToData(r[0],t),this._angleAxis.angleToData(r[1],t)]},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,o=this.getAngleAxis(),i=o.getExtent(),a=Math.min(i[0],i[1]),s=Math.max(i[0],i[1]);o.inverse?a=s-360:s=a+360;var l=Math.sqrt(t*t+r*r);t/=l,r/=l;for(var u=Math.atan2(-r,t)/Math.PI*180,c=u<a?1:-1;u<a||u>s;)u+=c*360;return[l,u]},n.prototype.coordToPoint=function(e){var t=e[0],r=e[1]/180*Math.PI,o=Math.cos(r)*t+this.cx,i=-Math.sin(r)*t+this.cy;return[o,i]},n.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),r=t.getExtent().slice();r[0]>r[1]&&r.reverse();var o=e.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-o[0]*i,endAngle:-o[1]*i,clockwise:e.inverse,contain:function(a,s){var l=a-this.cx,u=s-this.cy,c=l*l+u*u-1e-4,d=this.r,h=this.r0;return c<=d*d&&c>=h*h}}},n.prototype.convertToPixel=function(e,t,r){var o=T6(t);return o===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var o=T6(t);return o===this?this.pointToData(r):null},n}();function T6(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const Y2e=q2e;function Z2e(n,e,t){var r=e.get("center"),o=t.getWidth(),i=t.getHeight();n.cx=_e(r[0],o),n.cy=_e(r[1],i);var a=n.getRadiusAxis(),s=Math.min(o,i)/2,l=e.get("radius");l==null?l=[0,"100%"]:ce(l)||(l=[0,l]);var u=[_e(l[0],s),_e(l[1],s)];a.inverse?a.setExtent(u[1],u[0]):a.setExtent(u[0],u[1])}function J2e(n,e){var t=this,r=t.getAngleAxis(),o=t.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),n.eachSeries(function(s){if(s.coordinateSystem===t){var l=s.getData();R(px(l,"radius"),function(u){o.scale.unionExtentFromData(l,u)}),R(px(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),Wd(r.scale,r.model),Wd(o.scale,o.model),r.type==="category"&&!r.onBand){var i=r.getExtent(),a=360/r.scale.count();r.inverse?i[1]+=a:i[1]-=a,r.setExtent(i[0],i[1])}}function Q2e(n){return n.mainType==="angleAxis"}function A6(n,e){var t;if(n.type=e.get("type"),n.scale=Oy(e),n.onBand=e.get("boundaryGap")&&n.type==="category",n.inverse=e.get("inverse"),Q2e(e)){n.inverse=n.inverse!==e.get("clockwise");var r=e.get("startAngle"),o=(t=e.get("endAngle"))!==null&&t!==void 0?t:r+(n.inverse?-360:360);n.setExtent(r,o)}e.axis=n,n.model=e}var eke={dimensions:LX,create:function(n,e){var t=[];return n.eachComponent("polar",function(r,o){var i=new Y2e(o+"");i.update=J2e;var a=i.getRadiusAxis(),s=i.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");A6(a,l),A6(s,u),Z2e(i,r,e),t.push(i),r.coordinateSystem=i,i.model=r}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var o=r.getReferringComponents("polar",Qn).models[0];r.coordinateSystem=o.coordinateSystem}}),t}},tke=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function k1(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var r=n.coordToPoint([e[0],t]),o=n.coordToPoint([e[1],t]);return{x1:r[0],y1:r[1],x2:o[0],y2:o[1]}}function _1(n){var e=n.getRadiusAxis();return e.inverse?0:1}function D6(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var nke=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var o=t.axis,i=o.polar,a=i.getRadiusAxis().getExtent(),s=o.getTicksCoords(),l=o.getMinorTicksCoords(),u=fe(o.getViewLabels(),function(c){c=We(c);var d=o.scale,h=d.type==="ordinal"?d.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=o.dataToCoord(h),c});D6(u),D6(s),R(tke,function(c){t.get([c,"show"])&&(!o.scale.isBlank()||c==="axisLine")&&rke[c](this.group,t,i,s,l,a,u)},this)}},e.type="angleAxis",e}(vh),rke={axisLine:function(n,e,t,r,o,i){var a=e.getModel(["axisLine","lineStyle"]),s=t.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=_1(t),d=c?0:1,h,f=Math.abs(u[1]-u[0])===360?"Circle":"Arc";i[d]===0?h=new dh[f]({shape:{cx:t.cx,cy:t.cy,r:i[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:a.getLineStyle(),z2:1,silent:!0}):h=new Ey({shape:{cx:t.cx,cy:t.cy,r:i[c],r0:i[d]},style:a.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,n.add(h)},axisTick:function(n,e,t,r,o,i){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=i[_1(t)],u=fe(r,function(c){return new yr({shape:k1(t,[l,l+s],c.coord)})});n.add(fi(u,{style:Ve(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,r,o,i){if(o.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=i[_1(t)],c=[],d=0;d<o.length;d++)for(var h=0;h<o[d].length;h++)c.push(new yr({shape:k1(t,[u,u+l],o[d][h].coord)}));n.add(fi(c,{style:Ve(s.getModel("lineStyle").getLineStyle(),Ve(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,r,o,i,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");R(a,function(d,h){var f=l,p=d.tickValue,g=i[_1(t)],v=t.coordToPoint([g+u,d.coord]),m=t.cx,y=t.cy,b=Math.abs(v[0]-m)/g<.3?"center":v[0]>m?"left":"right",w=Math.abs(v[1]-y)/g<.3?"middle":v[1]>y?"top":"bottom";if(s&&s[p]){var x=s[p];Ge(x)&&x.textStyle&&(f=new tn(x.textStyle,l,l.ecModel))}var S=new _t({silent:Ao.isLabelSilent(e),style:dn(f,{x:v[0],y:v[1],fill:f.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:d.formattedLabel,align:b,verticalAlign:w})});if(n.add(S),c){var C=Ao.makeAxisEventDataBase(e);C.targetType="axisLabel",C.value=d.rawLabel,Ye(S).eventData=C}},this)},splitLine:function(n,e,t,r,o,i){var a=e.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=0;d<r.length;d++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new yr({shape:k1(t,i,r[d].coord)}))}for(var d=0;d<c.length;d++)n.add(fi(c[d],{style:Ve({stroke:l[d%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,r,o,i){if(o.length){for(var a=e.getModel("minorSplitLine"),s=a.getModel("lineStyle"),l=[],u=0;u<o.length;u++)for(var c=0;c<o[u].length;c++)l.push(new yr({shape:k1(t,i,o[u][c].coord)}));n.add(fi(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,r,o,i){if(r.length){var a=e.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=Math.PI/180,h=-r[0].coord*d,f=Math.min(i[0],i[1]),p=Math.max(i[0],i[1]),g=e.get("clockwise"),v=1,m=r.length;v<=m;v++){var y=v===m?r[0].coord:r[v].coord,b=u++%l.length;c[b]=c[b]||[],c[b].push(new $o({shape:{cx:t.cx,cy:t.cy,r0:f,r:p,startAngle:h,endAngle:-y*d,clockwise:g},silent:!0})),h=-y*d}for(var v=0;v<c.length;v++)n.add(fi(c[v],{style:Ve({fill:l[v%l.length]},s.getAreaStyle()),silent:!0}))}}},oke=["axisLine","axisTickLabel","axisName"],ike=["splitLine","splitArea","minorSplitLine"],ake=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var o=this._axisGroup,i=this._axisGroup=new Xe;this.group.add(i);var a=t.axis,s=a.polar,l=s.getAngleAxis(),u=a.getTicksCoords(),c=a.getMinorTicksCoords(),d=l.getExtent()[0],h=a.getExtent(),f=lke(s,t,d),p=new Ao(t,f);R(oke,p.add,p),i.add(p.getGroup()),My(o,i,t),R(ike,function(g){t.get([g,"show"])&&!a.scale.isBlank()&&ske[g](this.group,t,s,d,h,u,c)},this)}},e.type="radiusAxis",e}(vh),ske={splitLine:function(n,e,t,r,o,i){var a=e.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color"),u=0,c=t.getAngleAxis(),d=Math.PI/180,h=c.getExtent(),f=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var p=[],g=0;g<i.length;g++){var v=u++%l.length;p[v]=p[v]||[],p[v].push(new dh[f]({shape:{cx:t.cx,cy:t.cy,r:Math.max(i[g].coord,0),startAngle:-h[0]*d,endAngle:-h[1]*d,clockwise:c.inverse}}))}for(var g=0;g<p.length;g++)n.add(fi(p[g],{style:Ve({stroke:l[g%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,r,o,i,a){if(a.length){for(var s=e.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<a.length;c++)for(var d=0;d<a[c].length;d++)u.push(new Nl({shape:{cx:t.cx,cy:t.cy,r:a[c][d].coord}}));n.add(fi(u,{style:Ve({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,r,o,i){if(i.length){var a=e.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=i[0].coord,h=1;h<i.length;h++){var f=u++%l.length;c[f]=c[f]||[],c[f].push(new $o({shape:{cx:t.cx,cy:t.cy,r0:d,r:i[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),d=i[h].coord}for(var h=0;h<c.length;h++)n.add(fi(c[h],{style:Ve({fill:l[h%l.length]},s.getAreaStyle()),silent:!0}))}}};function lke(n,e,t){return{position:[n.cx,n.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function NX(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function OX(n,e){return e.dim+n.model.componentIndex}function uke(n,e,t){var r={},o=cke(Ht(e.getSeriesByType(n),function(i){return!e.isSeriesFiltered(i)&&i.coordinateSystem&&i.coordinateSystem.type==="polar"}));e.eachSeriesByType(n,function(i){if(i.coordinateSystem.type==="polar"){var a=i.getData(),s=i.coordinateSystem,l=s.getBaseAxis(),u=OX(s,l),c=NX(i),d=o[u][c],h=d.offset,f=d.width,p=s.getOtherAxis(l),g=i.coordinateSystem.cx,v=i.coordinateSystem.cy,m=i.get("barMinHeight")||0,y=i.get("barMinAngle")||0;r[c]=r[c]||[];for(var b=a.mapDimension(p.dim),w=a.mapDimension(l.dim),x=_l(a,b),S=l.dim!=="radius"||!i.get("roundCap",!0),C=p.model,k=C.get("startValue"),_=p.dataToCoord(k||0),I=0,T=a.count();I<T;I++){var A=a.get(b,I),D=a.get(w,I),E=A>=0?"p":"n",$=_;x&&(r[c][D]||(r[c][D]={p:_,n:_}),$=r[c][D][E]);var P=void 0,N=void 0,M=void 0,L=void 0;if(p.dim==="radius"){var V=p.dataToCoord(A)-_,W=l.dataToCoord(D);Math.abs(V)<m&&(V=(V<0?-1:1)*m),P=$,N=$+V,M=W-h,L=M-f,x&&(r[c][D][E]=N)}else{var j=p.dataToCoord(A,S)-_,Q=l.dataToCoord(D);Math.abs(j)<y&&(j=(j<0?-1:1)*y),P=Q+h,N=P+f,M=$,L=$+j,x&&(r[c][D][E]=L)}a.setItemLayout(I,{cx:g,cy:v,r0:P,r:N,startAngle:-M*Math.PI/180,endAngle:-L*Math.PI/180,clockwise:M>=L})}}})}function cke(n){var e={};R(n,function(r,o){var i=r.getData(),a=r.coordinateSystem,s=a.getBaseAxis(),l=OX(a,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/i.count(),d=e[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=d.stacks;e[l]=d;var f=NX(r);h[f]||d.autoWidthCount++,h[f]=h[f]||{width:0,maxWidth:0};var p=_e(r.get("barWidth"),c),g=_e(r.get("barMaxWidth"),c),v=r.get("barGap"),m=r.get("barCategoryGap");p&&!h[f].width&&(p=Math.min(d.remainedWidth,p),h[f].width=p,d.remainedWidth-=p),g&&(h[f].maxWidth=g),v!=null&&(d.gap=v),m!=null&&(d.categoryGap=m)});var t={};return R(e,function(r,o){t[o]={};var i=r.stacks,a=r.bandWidth,s=_e(r.categoryGap,a),l=_e(r.gap,1),u=r.remainedWidth,c=r.autoWidthCount,d=(u-s)/(c+(c-1)*l);d=Math.max(d,0),R(i,function(g,v){var m=g.maxWidth;m&&m<d&&(m=Math.min(m,u),g.width&&(m=Math.min(m,g.width)),u-=m,g.width=m,c--)}),d=(u-s)/(c+(c-1)*l),d=Math.max(d,0);var h=0,f;R(i,function(g,v){g.width||(g.width=d),f=g,h+=g.width*(1+l)}),f&&(h-=f.width*l);var p=-h/2;R(i,function(g,v){t[o][v]=t[o][v]||{offset:p,width:g.width},p+=g.width*(1+l)})}),t}var dke={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},hke={splitNumber:5},fke=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e}(Cn);function pke(n){pt(jy),vh.registerAxisPointerClass("PolarAxisPointer",G2e),n.registerCoordinateSystem("polar",eke),n.registerComponentModel(U2e),n.registerComponentView(fke),ip(n,"angle",j2e,dke),ip(n,"radius",K2e,hke),n.registerComponentView(nke),n.registerComponentView(ake),n.registerLayout(Qe(uke,"bar"))}function mD(n,e){e=e||{};var t=n.coordinateSystem,r=n.axis,o={},i=r.position,a=r.orient,s=t.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};o.position=[a==="vertical"?u.vertical[i]:l[0],a==="horizontal"?u.horizontal[i]:l[3]];var c={horizontal:0,vertical:1};o.rotation=Math.PI/2*c[a];var d={top:-1,bottom:1,right:1,left:-1};o.labelDirection=o.tickDirection=o.nameDirection=d[i],n.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),mr(e.labelInside,n.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var h=e.rotate;return h==null&&(h=n.get(["axisLabel","rotate"])),o.labelRotation=i==="top"?-h:h,o.z2=1,o}var gke=["axisLine","axisTickLabel","axisName"],vke=["splitArea","splitLine"],mke=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,r,o,i){var a=this.group;a.removeAll();var s=this._axisGroup;this._axisGroup=new Xe;var l=mD(t),u=new Ao(t,l);R(gke,u.add,u),a.add(this._axisGroup),a.add(u.getGroup()),R(vke,function(c){t.get([c,"show"])&&yke[c](this,this.group,this._axisGroup,t)},this),My(s,this._axisGroup,t),n.prototype.render.call(this,t,r,o,i)},e.prototype.remove=function(){oK(this)},e.type="singleAxis",e}(vh),yke={splitLine:function(n,e,t,r){var o=r.axis;if(!o.scale.isBlank()){var i=r.getModel("splitLine"),a=i.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=a.get("width"),u=r.coordinateSystem.getRect(),c=o.isHorizontal(),d=[],h=0,f=o.getTicksCoords({tickModel:i}),p=[],g=[],v=0;v<f.length;++v){var m=o.toGlobalCoord(f[v].coord);c?(p[0]=m,p[1]=u.y,g[0]=m,g[1]=u.y+u.height):(p[0]=u.x,p[1]=m,g[0]=u.x+u.width,g[1]=m);var y=new yr({shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},silent:!0});tp(y.shape,l);var b=h++%s.length;d[b]=d[b]||[],d[b].push(y)}for(var w=a.getLineStyle(["color"]),v=0;v<d.length;++v)e.add(fi(d[v],{style:Ve({stroke:s[v%s.length]},w),silent:!0}))}},splitArea:function(n,e,t,r){rK(n,t,r,r)}},ww=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(Ct);Vn(ww,Hp.prototype);var bke=function(n){K(e,n);function e(t,r,o,i,a){var s=n.call(this,t,r,o)||this;return s.type=i||"value",s.position=a||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,r){return this.coordinateSystem.pointToData(t)[0]},e}(da),FX=["single"],wke=function(){function n(e,t,r){this.type="single",this.dimension="single",this.dimensions=FX,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,r)}return n.prototype._init=function(e,t,r){var o=this.dimension,i=new bke(o,Oy(e),[0,0],e.get("type"),e.get("position")),a=i.type==="category";i.onBand=a&&e.get("boundaryGap"),i.inverse=e.get("inverse"),i.orient=e.get("orient"),e.axis=i,i.model=e,i.coordinateSystem=this,this._axis=i},n.prototype.update=function(e,t){e.eachSeries(function(r){if(r.coordinateSystem===this){var o=r.getData();R(o.mapDimensionsAll(this.dimension),function(i){this._axis.scale.unionExtentFromData(o,i)},this),Wd(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){this._rect=er({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,r=t.isHorizontal(),o=r?[0,e.width]:[0,e.height],i=t.inverse?1:0;t.setExtent(o[i],o[1-i]),this._updateAxisTransform(t,r?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var r=e.getExtent(),o=r[0]+r[1],i=e.isHorizontal();e.toGlobalCoord=i?function(a){return a+t}:function(a){return o-a+t},e.toLocalCoord=i?function(a){return a-t}:function(a){return o-a+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),r=this.getAxis(),o=r.orient;return o==="horizontal"?r.contain(r.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:r.contain(r.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},n.prototype.dataToPoint=function(e){var t=this.getAxis(),r=this.getRect(),o=[],i=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),o[i]=t.toGlobalCoord(t.dataToCoord(+e)),o[1-i]=i===0?r.y+r.height/2:r.x+r.width/2,o},n.prototype.convertToPixel=function(e,t,r){var o=R6(t);return o===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var o=R6(t);return o===this?this.pointToData(r):null},n}();function R6(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function xke(n,e){var t=[];return n.eachComponent("singleAxis",function(r,o){var i=new wke(r,n,e);i.name="single_"+o,i.resize(r,e),r.coordinateSystem=i,t.push(i)}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var o=r.getReferringComponents("singleAxis",Qn).models[0];r.coordinateSystem=o&&o.coordinateSystem}}),t}var Ske={create:xke,dimensions:FX},E6=["x","y"],Cke=["width","height"],kke=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,o,i,a){var s=o.axis,l=s.coordinateSystem,u=VI(l,1-Dx(s)),c=l.dataToPoint(r)[0],d=i.get("type");if(d&&d!=="none"){var h=pP(i),f=_ke[d](s,c,u);f.style=h,t.graphicKey=f.type,t.pointer=f}var p=mD(o);EX(r,t,p,o,i,a)},e.prototype.getHandleTransform=function(t,r,o){var i=mD(r,{labelInside:!1});i.labelMargin=o.get(["handle","margin"]);var a=gP(r.axis,t,i);return{x:a[0],y:a[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,o,i){var a=o.axis,s=a.coordinateSystem,l=Dx(a),u=VI(s,l),c=[t.x,t.y];c[l]+=r[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var d=VI(s,1-l),h=(d[1]+d[0])/2,f=[h,h];return f[l]=c[l],{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:f,tooltipOption:{verticalAlign:"middle"}}},e}(fP),_ke={line:function(n,e,t){var r=vP([e,t[0]],[e,t[1]],Dx(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=n.getBandWidth(),o=t[1]-t[0];return{type:"Rect",shape:$X([e-r/2,t[0]],[r,o],Dx(n))}}};function Dx(n){return n.isHorizontal()?0:1}function VI(n,e){var t=n.getRect();return[t[E6[e]],t[E6[e]]+t[Cke[e]]]}var Ike=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e}(Cn);function Tke(n){pt(jy),vh.registerAxisPointerClass("SingleAxisPointer",kke),n.registerComponentView(Ike),n.registerComponentView(mke),n.registerComponentModel(ww),ip(n,"single",ww,ww.defaultOption),n.registerCoordinateSystem("single",Ske)}var Ake=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,o){var i=Lp(t);n.prototype.init.apply(this,arguments),$6(t,i)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),$6(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(Ct);function $6(n,e){var t=n.cellSize,r;ce(t)?r=t:r=n.cellSize=[t,t],r.length===1&&(r[1]=r[0]);var o=fe([0,1],function(i){return Rfe(e,i)&&(r[i]="auto"),r[i]!=null&&r[i]!=="auto"});Bu(n,e,{type:"box",ignoreSize:o})}var Dke=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){var i=this.group;i.removeAll();var a=t.coordinateSystem,s=a.getRangeInfo(),l=a.getOrient(),u=r.getLocaleModel();this._renderDayRect(t,s,i),this._renderLines(t,s,l,i),this._renderYearText(t,s,l,i),this._renderMonthText(t,u,l,i),this._renderWeekText(t,u,s,l,i)},e.prototype._renderDayRect=function(t,r,o){for(var i=t.coordinateSystem,a=t.getModel("itemStyle").getItemStyle(),s=i.getCellWidth(),l=i.getCellHeight(),u=r.start.time;u<=r.end.time;u=i.getNextNDay(u,1).time){var c=i.dataToRect([u],!1).tl,d=new It({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:a});o.add(d)}},e.prototype._renderLines=function(t,r,o,i){var a=this,s=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var d=r.start,h=0;d.time<=r.end.time;h++){p(d.formatedDate),h===0&&(d=s.getDateInfo(r.start.y+"-"+r.start.m));var f=d.date;f.setMonth(f.getMonth()+1),d=s.getDateInfo(f)}p(s.getNextNDay(r.end.time,1).formatedDate);function p(g){a._firstDayOfMonth.push(s.getDateInfo(g)),a._firstDayPoints.push(s.dataToRect([g],!1).tl);var v=a._getLinePointsOfOneWeek(t,g,o);a._tlpoints.push(v[0]),a._blpoints.push(v[v.length-1]),u&&a._drawSplitline(v,l,i)}u&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,c,o),l,i),u&&this._drawSplitline(a._getEdgesPoints(a._blpoints,c,o),l,i)},e.prototype._getEdgesPoints=function(t,r,o){var i=[t[0].slice(),t[t.length-1].slice()],a=o==="horizontal"?0:1;return i[0][a]=i[0][a]-r/2,i[1][a]=i[1][a]+r/2,i},e.prototype._drawSplitline=function(t,r,o){var i=new No({z2:20,shape:{points:t},style:r});o.add(i)},e.prototype._getLinePointsOfOneWeek=function(t,r,o){for(var i=t.coordinateSystem,a=i.getDateInfo(r),s=[],l=0;l<7;l++){var u=i.getNextNDay(a.time,l),c=i.dataToRect([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[o==="horizontal"?"bl":"tr"]}return s},e.prototype._formatterLabel=function(t,r){return De(t)&&t?Ife(t,r):ze(t)?t(r):r.nameMap},e.prototype._yearTextPositionControl=function(t,r,o,i,a){var s=r[0],l=r[1],u=["center","bottom"];i==="bottom"?(l+=a,u=["center","top"]):i==="left"?s-=a:i==="right"?(s+=a,u=["center","top"]):l-=a;var c=0;return(i==="left"||i==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,r,o,i){var a=t.getModel("yearLabel");if(a.get("show")){var s=a.get("margin"),l=a.get("position");l||(l=o!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,d=(u[0][1]+u[1][1])/2,h=o==="horizontal"?0:1,f={top:[c,u[h][1]],bottom:[c,u[1-h][1]],left:[u[1-h][0],d],right:[u[h][0],d]},p=r.start.y;+r.end.y>+r.start.y&&(p=p+"-"+r.end.y);var g=a.get("formatter"),v={start:r.start.y,end:r.end.y,nameMap:p},m=this._formatterLabel(g,v),y=new _t({z2:30,style:dn(a,{text:m})});y.attr(this._yearTextPositionControl(y,f[l],o,l,s)),i.add(y)}},e.prototype._monthTextPositionControl=function(t,r,o,i,a){var s="left",l="top",u=t[0],c=t[1];return o==="horizontal"?(c=c+a,r&&(s="center"),i==="start"&&(l="bottom")):(u=u+a,r&&(l="middle"),i==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},e.prototype._renderMonthText=function(t,r,o,i){var a=t.getModel("monthLabel");if(a.get("show")){var s=a.get("nameMap"),l=a.get("margin"),u=a.get("position"),c=a.get("align"),d=[this._tlpoints,this._blpoints];(!s||De(s))&&(s&&(r=_A(s)||r),s=r.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,f=o==="horizontal"?0:1;l=u==="start"?-l:l;for(var p=c==="center",g=0;g<d[h].length-1;g++){var v=d[h][g].slice(),m=this._firstDayOfMonth[g];if(p){var y=this._firstDayPoints[g];v[f]=(y[f]+d[0][g+1][f])/2}var b=a.get("formatter"),w=s[+m.m-1],x={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:w},S=this._formatterLabel(b,x),C=new _t({z2:30,style:oe(dn(a,{text:S}),this._monthTextPositionControl(v,p,o,u,l))});i.add(C)}}},e.prototype._weekTextPositionControl=function(t,r,o,i,a){var s="center",l="middle",u=t[0],c=t[1],d=o==="start";return r==="horizontal"?(u=u+i+(d?1:-1)*a[0]/2,s=d?"right":"left"):(c=c+i+(d?1:-1)*a[1]/2,l=d?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},e.prototype._renderWeekText=function(t,r,o,i,a){var s=t.getModel("dayLabel");if(s.get("show")){var l=t.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),d=s.get("margin"),h=l.getFirstDayOfWeek();if(!c||De(c)){c&&(r=_A(c)||r);var f=r.get(["time","dayOfWeekShort"]);c=f||fe(r.get(["time","dayOfWeekAbbr"]),function(x){return x[0]})}var p=l.getNextNDay(o.end.time,7-o.lweek).time,g=[l.getCellWidth(),l.getCellHeight()];d=_e(d,Math.min(g[1],g[0])),u==="start"&&(p=l.getNextNDay(o.start.time,-(7+o.fweek)).time,d=-d);for(var v=0;v<7;v++){var m=l.getNextNDay(p,v),y=l.dataToRect([m.time],!1).center,b=v;b=Math.abs((v+h)%7);var w=new _t({z2:30,style:oe(dn(s,{text:c[b]}),this._weekTextPositionControl(y,i,u,d,g))});a.add(w)}}},e.type="calendar",e}(Cn),GI=864e5,Rke=function(){function n(e,t,r){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){e=xi(e);var t=e.getFullYear(),r=e.getMonth()+1,o=r<10?"0"+r:""+r,i=e.getDate(),a=i<10?"0"+i:""+i,s=e.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:t+"",m:o,d:a,day:s,time:e.getTime(),formatedDate:t+"-"+o+"-"+a,date:e}},n.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},n.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,o=["width","height"],i=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[r,7]:[7,r];R([0,1],function(d){c(i,d)&&(a[o[d]]=i[d]*s[d])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=er(a,l);R([0,1],function(d){c(i,d)||(i[d]=u[o[d]]/s[d])});function c(d,h){return d[h]!=null&&d[h]!=="auto"}this._sw=i[0],this._sh=i[1]},n.prototype.dataToPoint=function(e,t){ce(e)&&(e=e[0]),t==null&&(t=!0);var r=this.getDateInfo(e),o=this._rangeInfo,i=r.formatedDate;if(t&&!(r.time>=o.start.time&&r.time<o.end.time+GI))return[NaN,NaN];var a=r.day,s=this._getRangeInfo([o.start.time,i]).nthWeek;return this._orient==="vertical"?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToRect=function(e,t){var r=this.dataToPoint(e,t);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,r=Math.floor((e[1]-this._rect.y)/this._sh)+1,o=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,t-1,o):this._getDateByWeeksAndDay(t,r-1,o)},n.prototype.convertToPixel=function(e,t,r){var o=P6(t);return o===this?o.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var o=P6(t);return o===this?o.pointToData(r):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(ce(e)&&e.length===1&&(e=e[0]),ce(e))t=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(t=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var o=this.getDateInfo(r),i=o.date;i.setMonth(i.getMonth()+1);var a=this.getNextNDay(i,-1);t=[o.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(t=[r,r])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r;t[0].time>t[1].time&&(r=!0,t.reverse());var o=Math.floor(t[1].time/GI)-Math.floor(t[0].time/GI)+1,i=new Date(t[0].time),a=i.getDate(),s=t[1].date.getDate();i.setDate(a+o-1);var l=i.getDate();if(l!==s)for(var u=i.getTime()-t[1].time>0?1:-1;(l=i.getDate())!==s&&(i.getTime()-t[1].time)*u>0;)o-=u,i.setDate(l-u);var c=Math.floor((o+t[0].day+6)/7),d=r?-c+1:c-1;return r&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:o,weeks:c,nthWeek:d,fweek:t[0].day,lweek:t[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,r){var o=this._getRangeInfo(r);if(e>o.weeks||e===0&&t<o.fweek||e===o.weeks&&t>o.lweek)return null;var i=(e-1)*7-o.fweek+t,a=new Date(o.start.time);return a.setDate(+o.start.d+i),this.getDateInfo(a)},n.create=function(e,t){var r=[];return e.eachComponent("calendar",function(o){var i=new n(o);r.push(i),o.coordinateSystem=i}),e.eachSeries(function(o){o.get("coordinateSystem")==="calendar"&&(o.coordinateSystem=r[o.get("calendarIndex")||0])}),r},n.dimensions=["time","value"],n}();function P6(n){var e=n.calendarModel,t=n.seriesModel,r=e?e.coordinateSystem:t?t.coordinateSystem:null;return r}function Eke(n){n.registerComponentModel(Ake),n.registerComponentView(Dke),n.registerCoordinateSystem("calendar",Rke)}function $ke(n,e){var t=n.existing;if(e.id=n.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var r=e.parentOption;r?e.parentId=r.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function M6(n,e){var t;return R(e,function(r){n[r]!=null&&n[r]!=="auto"&&(t=!0)}),t}function Pke(n,e,t){var r=oe({},t),o=n[e],i=t.$action||"merge";i==="merge"?o?(rt(o,r,!0),Bu(o,r,{ignoreSize:!0}),TH(t,o),I1(t,o),I1(t,o,"shape"),I1(t,o,"style"),I1(t,o,"extra"),t.clipPath=o.clipPath):n[e]=r:i==="replace"?n[e]=r:i==="remove"&&o&&(n[e]=null)}var BX=["transition","enterFrom","leaveTo"],Mke=BX.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function I1(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),!(!n||!e))for(var r=t?BX:Mke,o=0;o<r.length;o++){var i=r[o];n[i]==null&&e[i]!=null&&(n[i]=e[i])}}function Lke(n,e){if(n&&(n.hv=e.hv=[M6(e,["left","right"]),M6(e,["top","bottom"])],n.type==="group")){var t=n,r=e;t.width==null&&(t.width=r.width=0),t.height==null&&(t.height=r.height=0)}}var Nke=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,r){var o=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,r),this.option.elements=o},e.prototype.optionUpdated=function(t,r){var o=this.option,i=(r?o:t).elements,a=o.elements=r?[]:o.elements,s=[];this._flatten(i,s,null);var l=fW(a,s,"normalMerge"),u=this._elOptionsToUpdate=[];R(l,function(c,d){var h=c.newOption;h&&(u.push(h),$ke(c,h),Pke(a,d,h),Lke(a[d],h))},this),o.elements=Ht(a,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(t,r,o){R(t,function(i){if(i){o&&(i.parentOption=o),r.push(i);var a=i.children;a&&a.length&&this._flatten(a,r,i),delete i.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(Ct),L6={path:null,compoundPath:null,group:Xe,image:Lr,text:_t},Vi=Tt(),Oke=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=Pe()},e.prototype.render=function(t,r,o){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,o)},e.prototype._updateElements=function(t){var r=t.useElOptionsToUpdate();if(r){var o=this._elMap,i=this.group,a=t.get("z"),s=t.get("zlevel");R(r,function(l){var u=ir(l.id,null),c=u!=null?o.get(u):null,d=ir(l.parentId,null),h=d!=null?o.get(d):i,f=l.type,p=l.style;f==="text"&&p&&l.hv&&l.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var g=l.textContent,v=l.textConfig;if(p&&bX(p,f,!!v,!!g)){var m=wX(p,f,!0);!v&&m.textConfig&&(v=l.textConfig=m.textConfig),!g&&m.textContent&&(g=m.textContent)}var y=Fke(l),b=l.$action||"merge",w=b==="merge",x=b==="replace";if(w){var S=!c,C=c;S?C=N6(u,h,l.type,o):(C&&(Vi(C).isNew=!1),kX(C)),C&&(yw(C,y,t,{isInit:S}),O6(C,l,a,s))}else if(x){xw(c,l,o,t);var k=N6(u,h,l.type,o);k&&(yw(k,y,t,{isInit:!0}),O6(k,l,a,s))}else b==="remove"&&(SX(c,l),xw(c,l,o,t));var _=o.get(u);if(_&&g)if(w){var I=_.getTextContent();I?I.attr(g):_.setTextContent(new _t(g))}else x&&_.setTextContent(new _t(g));if(_){var T=l.clipPath;if(T){var A=T.type,D=void 0,S=!1;if(w){var E=_.getClipPath();S=!E||Vi(E).type!==A,D=S?yD(A):E}else x&&(S=!0,D=yD(A));_.setClipPath(D),yw(D,T,t,{isInit:S}),Tx(D,T.keyframeAnimation,t)}var $=Vi(_);_.setTextConfig(v),$.option=l,Bke(_,t,l),$p({el:_,componentModel:t,itemName:_.name,itemTooltipOption:l.tooltip}),Tx(_,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,r){for(var o=t.option.elements,i=this.group,a=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],c=0;c<o.length;c++){var d=o[c],h=ir(d.id,null),f=h!=null?a.get(h):null;if(!(!f||!f.isGroup)){var p=f.parent,g=p===i,v=Vi(f),m=Vi(p);v.width=_e(v.option.width,g?s:m.width)||0,v.height=_e(v.option.height,g?l:m.height)||0}}for(var c=o.length-1;c>=0;c--){var d=o[c],h=ir(d.id,null),f=h!=null?a.get(h):null;if(f){var p=f.parent,m=Vi(p),y=p===i?{width:s,height:l}:{width:m.width,height:m.height},b={},w=pC(f,d,y,null,{hv:d.hv,boundingMode:d.bounding},b);if(!Vi(f).isNew&&w){for(var x=d.transition,S={},C=0;C<u.length;C++){var k=u[C],_=b[k];x&&(Ed(x)||ct(x,k)>=0)?S[k]=_:f[k]=_}Pt(f,S,t,0)}else f.attr(b)}}},e.prototype._clear=function(){var t=this,r=this._elMap;r.each(function(o){xw(o,Vi(o).option,r,t._lastGraphicModel)}),this._elMap=Pe()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(Cn);function yD(n){var e=$e(L6,n)?L6[n]:sC(n),t=new e({});return Vi(t).type=n,t}function N6(n,e,t,r){var o=yD(t);return e.add(o),r.set(n,o),Vi(o).id=n,Vi(o).isNew=!0,o}function xw(n,e,t,r){var o=n&&n.parent;o&&(n.type==="group"&&n.traverse(function(i){xw(i,e,t,r)}),$C(n,e,r),t.removeKey(Vi(n).id))}function O6(n,e,t,r){n.isGroup||R([["cursor",ra.prototype.cursor],["zlevel",r||0],["z",t||0],["z2",0]],function(o){var i=o[0];$e(e,i)?n[i]=et(e[i],o[1]):n[i]==null&&(n[i]=o[1])}),R(yt(e),function(o){if(o.indexOf("on")===0){var i=e[o];n[o]=ze(i)?i:null}}),$e(e,"draggable")&&(n.draggable=e.draggable),e.name!=null&&(n.name=e.name),e.id!=null&&(n.id=e.id)}function Fke(n){return n=oe({},n),R(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(IH),function(e){delete n[e]}),n}function Bke(n,e,t){var r=Ye(n).eventData;!n.silent&&!n.ignore&&!r&&(r=Ye(n).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:n.name}),r&&(r.info=t.info)}function zke(n){n.registerComponentModel(Nke),n.registerComponentView(Oke),n.registerPreprocessor(function(e){var t=e.graphic;ce(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var F6=["x","y","radius","angle","single"],Vke=["cartesian2d","polar","singleAxis"];function Gke(n){var e=n.get("coordinateSystem");return ct(Vke,e)>=0}function mu(n){return n+"Axis"}function Wke(n,e){var t=Pe(),r=[],o=Pe();n.eachComponent({mainType:"dataZoom",query:e},function(c){o.get(c.uid)||s(c)});var i;do i=!1,n.eachComponent("dataZoom",a);while(i);function a(c){!o.get(c.uid)&&l(c)&&(s(c),i=!0)}function s(c){o.set(c.uid,!0),r.push(c),u(c)}function l(c){var d=!1;return c.eachTargetAxis(function(h,f){var p=t.get(h);p&&p[f]&&(d=!0)}),d}function u(c){c.eachTargetAxis(function(d,h){(t.get(d)||t.set(d,[]))[h]=!0})}return r}function zX(n){var e=n.ecModel,t={infoList:[],infoMap:Pe()};return n.eachTargetAxis(function(r,o){var i=e.getComponent(mu(r),o);if(i){var a=i.getCoordSysModel();if(a){var s=a.uid,l=t.infoMap.get(s);l||(l={model:a,axisModels:[]},t.infoList.push(l),t.infoMap.set(s,l)),l.axisModels.push(i)}}}),t}var WI=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),Nm=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,r,o){var i=B6(t);this.settledOption=i,this.mergeDefaultAndTheme(t,o),this._doInit(i)},e.prototype.mergeOption=function(t){var r=B6(t);rt(this.option,t,!0),rt(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var o=this.settledOption;R([["start","startValue"],["end","endValue"]],function(i,a){this._rangePropMode[a]==="value"&&(r[i[0]]=o[i[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=Pe(),o=this._fillSpecifiedTargetAxis(r);o?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return R(F6,function(o){var i=this.getReferringComponents(mu(o),fde);if(i.specified){r=!0;var a=new WI;R(i.models,function(s){a.add(s.componentIndex)}),t.set(o,a)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(t,r){var o=this.ecModel,i=!0;if(i){var a=r==="vertical"?"y":"x",s=o.findComponents({mainType:a+"Axis"});l(s,a)}if(i){var s=o.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}});l(s,"single")}function l(u,c){var d=u[0];if(d){var h=new WI;if(h.add(d.componentIndex),t.set(c,h),i=!1,c==="x"||c==="y"){var f=d.getReferringComponents("grid",Qn).models[0];f&&R(u,function(p){d.componentIndex!==p.componentIndex&&f===p.getReferringComponents("grid",Qn).models[0]&&h.add(p.componentIndex)})}}}i&&R(F6,function(u){if(i){var c=o.findComponents({mainType:mu(u),filter:function(h){return h.get("type",!0)==="category"}});if(c[0]){var d=new WI;d.add(c[0].componentIndex),t.set(u,d),i=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var r=this._rangePropMode,o=this.get("rangeMode");R([["start","startValue"],["end","endValue"]],function(i,a){var s=t[i[0]]!=null,l=t[i[1]]!=null;s&&!l?r[a]="percent":!s&&l?r[a]="value":o?r[a]=o[a]:s&&(r[a]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,o){t==null&&(t=this.ecModel.getComponent(mu(r),o))},this),t},e.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(o,i){R(o.indexList,function(a){t.call(r,i,a)})})},e.prototype.getAxisProxy=function(t,r){var o=this.getAxisModel(t,r);if(o)return o.__dzAxisProxy},e.prototype.getAxisModel=function(t,r){var o=this._targetAxisInfoMap.get(t);if(o&&o.indexMap[r])return this.ecModel.getComponent(mu(t),r)},e.prototype.setRawRange=function(t){var r=this.option,o=this.settledOption;R([["start","startValue"],["end","endValue"]],function(i){(t[i[0]]!=null||t[i[1]]!=null)&&(r[i[0]]=o[i[0]]=t[i[0]],r[i[1]]=o[i[1]]=t[i[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var r=this.option;R(["start","startValue","end","endValue"],function(o){r[o]=t[o]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,r){if(t==null&&r==null){var o=this.findRepresentativeAxisProxy();if(o)return o.getDataValueWindow()}else return this.getAxisProxy(t,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,o=this._targetAxisInfoMap.keys(),i=0;i<o.length;i++)for(var a=o[i],s=this._targetAxisInfoMap.get(a),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(a,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Ct);function B6(n){var e={};return R(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}var Hke=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(Nm),wP=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o,i){this.dataZoomModel=t,this.ecModel=r,this.api=o},e.type="dataZoom",e}(Cn),Uke=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(wP),vf=R,z6=vi,jke=function(){function n(e,t,r,o){this._dimName=e,this._axisIndex=t,this.ecModel=o,this._dataZoomModel=r}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(Gke(t)){var r=mu(this._dimName),o=t.getReferringComponents(r,Qn).models[0];o&&this._axisIndex===o.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return We(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t=this._dataExtent,r=this.getAxisModel(),o=r.axis.scale,i=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[],u;vf(["start","end"],function(h,f){var p=e[h],g=e[h+"Value"];i[f]==="percent"?(p==null&&(p=a[f]),g=o.parse(Wt(p,a,t))):(u=!0,g=g==null?t[f]:o.parse(g),p=Wt(g,t,a)),l[f]=g==null||isNaN(g)?t[f]:g,s[f]=p==null||isNaN(p)?a[f]:p}),z6(l),z6(s);var c=this._minMaxSpan;u?d(l,s,t,a,!1):d(s,l,a,t,!0);function d(h,f,p,g,v){var m=v?"Span":"ValueSpan";mh(0,h,p,"all",c["min"+m],c["max"+m]);for(var y=0;y<2;y++)f[y]=Wt(h[y],p,g,!0),v&&(f[y]=o.parse(f[y]))}return{valueWindow:l,percentWindow:s}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=Kke(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var r=this._dimName,o=this.getTargetSeriesModels(),i=e.get("filterMode"),a=this._valueWindow;if(i==="none")return;vf(o,function(l){var u=l.getData(),c=u.mapDimensionsAll(r);if(c.length){if(i==="weakFilter"){var d=u.getStore(),h=fe(c,function(f){return u.getDimensionIndex(f)},u);u.filterSelf(function(f){for(var p,g,v,m=0;m<c.length;m++){var y=d.get(h[m],f),b=!isNaN(y),w=y<a[0],x=y>a[1];if(b&&!w&&!x)return!0;b&&(v=!0),w&&(p=!0),x&&(g=!0)}return v&&p&&g})}else vf(c,function(f){if(i==="empty")l.setData(u=u.map(f,function(g){return s(g)?g:NaN}));else{var p={};p[f]=a,u.selectRange(p)}});vf(c,function(f){u.setApproximateExtent(a,f)})}});function s(l){return l>=a[0]&&l<=a[1]}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;vf(["min","max"],function(o){var i=t.get(o+"Span"),a=t.get(o+"ValueSpan");a!=null&&(a=this.getAxisModel().axis.scale.parse(a)),a!=null?i=Wt(r[0]+a,r,[0,100],!0):i!=null&&(a=Wt(i,[0,100],r,!0)-r[0]),e[o+"Span"]=i,e[o+"ValueSpan"]=a},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(t){var o=SE(r,[0,500]);o=Math.min(o,20);var i=e.axis.scale.rawExtentInfo;t[0]!==0&&i.setDeterminedMinMax("min",+r[0].toFixed(o)),t[1]!==100&&i.setDeterminedMinMax("max",+r[1].toFixed(o)),i.freeze()}},n}();function Kke(n,e,t){var r=[1/0,-1/0];vf(t,function(a){cme(r,a.getData(),e)});var o=n.getAxisModel(),i=rj(o.axis.scale,o,r).calculate();return[i.min,i.max]}var Xke={getTargetSeries:function(n){function e(o){n.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(a,s){var l=n.getComponent(mu(a),s);o(a,s,l,i)})})}e(function(o,i,a,s){a.__dzAxisProxy=null});var t=[];e(function(o,i,a,s){a.__dzAxisProxy||(a.__dzAxisProxy=new jke(o,i,s,n),t.push(a.__dzAxisProxy))});var r=Pe();return R(t,function(o){R(o.getTargetSeriesModels(),function(i){r.set(i.uid,i)})}),r},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,o){t.getAxisProxy(r,o).reset(t)}),t.eachTargetAxis(function(r,o){t.getAxisProxy(r,o).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var o=r.getDataPercentWindow(),i=r.getDataValueWindow();t.setCalculatedRange({start:o[0],end:o[1],startValue:i[0],endValue:i[1]})}})}};function qke(n){n.registerAction("dataZoom",function(e,t){var r=Wke(t,e);R(r,function(o){o.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var V6=!1;function xP(n){V6||(V6=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,Xke),qke(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Yke(n){n.registerComponentModel(Hke),n.registerComponentView(Uke),xP(n)}var Wi=function(){function n(){}return n}(),VX={};function mf(n,e){VX[n]=e}function GX(n){return VX[n]}var Zke=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;R(this.option.feature,function(r,o){var i=GX(o);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(t)),rt(r,i.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Ct);function Jke(n,e,t){var r=e.getBoxLayoutParams(),o=e.get("padding"),i={width:t.getWidth(),height:t.getHeight()},a=er(r,i,o);Ad(e.get("orient"),n,e.get("itemGap"),a.width,a.height),pC(n,r,i,o)}function WX(n,e){var t=fh(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),n=new It({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),n}var Qke=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,o,i){var a=this.group;if(a.removeAll(),!t.get("show"))return;var s=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},c=this._features||(this._features={}),d=[];R(u,function(p,g){d.push(g)}),new kl(this._featureNames||[],d).add(h).update(h).remove(Qe(h,null)).execute(),this._featureNames=d;function h(p,g){var v=d[p],m=d[g],y=u[v],b=new tn(y,t,t.ecModel),w;if(i&&i.newTitle!=null&&i.featureName===v&&(y.title=i.newTitle),v&&!m){if(e_e(v))w={onclick:b.option.onclick,featureName:v};else{var x=GX(v);if(!x)return;w=new x}c[v]=w}else if(w=c[m],!w)return;w.uid=Mp("toolbox-feature"),w.model=b,w.ecModel=r,w.api=o;var S=w instanceof Wi;if(!v&&m){S&&w.dispose&&w.dispose(r,o);return}if(!b.get("show")||S&&w.unusable){S&&w.remove&&w.remove(r,o);return}f(b,w,v),b.setIconStatus=function(C,k){var _=this.option,I=this.iconPaths;_.iconStatus=_.iconStatus||{},_.iconStatus[C]=k,I[C]&&(k==="emphasis"?Sl:Cl)(I[C])},w instanceof Wi&&w.render&&w.render(b,r,o,i)}function f(p,g,v){var m=p.getModel("iconStyle"),y=p.getModel(["emphasis","iconStyle"]),b=g instanceof Wi&&g.getIcons?g.getIcons():p.get("icon"),w=p.get("title")||{},x,S;De(b)?(x={},x[v]=b):x=b,De(w)?(S={},S[v]=w):S=w;var C=p.iconPaths={};R(x,function(k,_){var I=Ep(k,{},{x:-s/2,y:-s/2,width:s,height:s});I.setStyle(m.getItemStyle());var T=I.ensureState("emphasis");T.style=y.getItemStyle();var A=new _t({style:{text:S[_],align:y.get("textAlign"),borderRadius:y.get("textBorderRadius"),padding:y.get("textPadding"),fill:null,font:GE({fontStyle:y.get("textFontStyle"),fontFamily:y.get("textFontFamily"),fontSize:y.get("textFontSize"),fontWeight:y.get("textFontWeight")},r)},ignore:!0});I.setTextContent(A),$p({el:I,componentModel:t,itemName:_,formatterParamsExtra:{title:S[_]}}),I.__title=S[_],I.on("mouseover",function(){var D=y.getItemStyle(),E=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";A.setStyle({fill:y.get("textFill")||D.fill||D.stroke||"#000",backgroundColor:y.get("textBackgroundColor")}),I.setTextConfig({position:y.get("textPosition")||E}),A.ignore=!t.get("showTitle"),o.enterEmphasis(this)}).on("mouseout",function(){p.get(["iconStatus",_])!=="emphasis"&&o.leaveEmphasis(this),A.hide()}),(p.get(["iconStatus",_])==="emphasis"?Sl:Cl)(I),a.add(I),I.on("click",Re(g.onclick,g,r,o,_)),C[_]=I})}Jke(a,t,o),a.add(WX(a.getBoundingRect(),t)),l||a.eachChild(function(p){var g=p.__title,v=p.ensureState("emphasis"),m=v.textConfig||(v.textConfig={}),y=p.getTextContent(),b=y&&y.ensureState("emphasis");if(b&&!ze(b)&&g){var w=b.style||(b.style={}),x=Ay(g,_t.makeFont(w)),S=p.x+a.x,C=p.y+a.y+s,k=!1;C+x.height>o.getHeight()&&(m.position="top",k=!0);var _=k?-5-x.height:s+10;S+x.width/2>o.getWidth()?(m.position=["100%",_],w.align="right"):S-x.width/2<0&&(m.position=[0,_],w.align="left")}})},e.prototype.updateView=function(t,r,o,i){R(this._features,function(a){a instanceof Wi&&a.updateView&&a.updateView(a.model,r,o,i)})},e.prototype.remove=function(t,r){R(this._features,function(o){o instanceof Wi&&o.remove&&o.remove(t,r)}),this.group.removeAll()},e.prototype.dispose=function(t,r){R(this._features,function(o){o instanceof Wi&&o.dispose&&o.dispose(t,r)})},e.type="toolbox",e}(Cn);function e_e(n){return n.indexOf("my")===0}var t_e=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){var o=this.model,i=o.get("name")||t.get("title.0.text")||"echarts",a=r.getZr().painter.getType()==="svg",s=a?"svg":o.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:o.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:o.get("connectedBackgroundColor"),excludeComponents:o.get("excludeComponents"),pixelRatio:o.get("pixelRatio")}),u=At.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=i+"."+s,c.target="_blank",c.href=l;var d=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(d)}else if(window.navigator.msSaveOrOpenBlob||a){var h=l.split(","),f=h[0].indexOf("base64")>-1,p=a?decodeURIComponent(h[1]):h[1];f&&(p=window.atob(p));var g=i+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var v=p.length,m=new Uint8Array(v);v--;)m[v]=p.charCodeAt(v);var y=new Blob([m]);window.navigator.msSaveOrOpenBlob(y,g)}else{var b=document.createElement("iframe");document.body.appendChild(b);var w=b.contentWindow,x=w.document;x.open("image/svg+xml","replace"),x.write(p),x.close(),w.focus(),x.execCommand("SaveAs",!0,g),document.body.removeChild(b)}}else{var S=o.get("lang"),C='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(S&&S[0]||"")+'" /></body>',k=window.open();k.document.write(C),k.document.title=i}},e.getDefaultOption=function(t){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},e}(Wi),G6="__ec_magicType_stack__",n_e=[["line","bar"],["stack"]],r_e=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,r=t.get("icon"),o={};return R(t.get("type"),function(i){r[i]&&(o[i]=r[i])}),o},e.getDefaultOption=function(t){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(t,r,o){var i=this.model,a=i.get(["seriesIndex",o]);if(W6[o]){var s={series:[]},l=function(d){var h=d.subType,f=d.id,p=W6[o](h,f,d,i);p&&(Ve(p,d.option),s.series.push(p));var g=d.coordinateSystem;if(g&&g.type==="cartesian2d"&&(o==="line"||o==="bar")){var v=g.getAxesByScale("ordinal")[0];if(v){var m=v.dim,y=m+"Axis",b=d.getReferringComponents(y,Qn).models[0],w=b.componentIndex;s[y]=s[y]||[];for(var x=0;x<=w;x++)s[y][w]=s[y][w]||{};s[y][w].boundaryGap=o==="bar"}}};R(n_e,function(d){ct(d,o)>=0&&R(d,function(h){i.setIconStatus(h,"normal")})}),i.setIconStatus(o,"emphasis"),t.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},l);var u,c=o;o==="stack"&&(u=rt({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),i.get(["iconStatus",o])!=="emphasis"&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},e}(Wi),W6={line:function(n,e,t,r){if(n==="bar")return rt({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(n,e,t,r){if(n==="line")return rt({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(n,e,t,r){var o=t.get("stack")===G6;if(n==="line"||n==="bar")return r.setIconStatus("stack",o?"normal":"emphasis"),rt({id:e,stack:o?"":G6},r.get(["option","stack"])||{},!0)}};Xa({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});var PC=new Array(60).join("-"),lp="	";function o_e(n){var e={},t=[],r=[];return n.eachRawSeries(function(o){var i=o.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var a=i.getBaseAxis();if(a.type==="category"){var s=a.dim+"_"+a.index;e[s]||(e[s]={categoryAxis:a,valueAxis:i.getOtherAxis(a),series:[]},r.push({axisDim:a.dim,axisIndex:a.index})),e[s].series.push(o)}else t.push(o)}else t.push(o)}),{seriesGroupByCategoryAxis:e,other:t,meta:r}}function i_e(n){var e=[];return R(n,function(t,r){var o=t.categoryAxis,i=t.valueAxis,a=i.dim,s=[" "].concat(fe(t.series,function(f){return f.name})),l=[o.model.getCategories()];R(t.series,function(f){var p=f.getRawData();l.push(f.getRawData().mapArray(p.mapDimension(a),function(g){return g}))});for(var u=[s.join(lp)],c=0;c<l[0].length;c++){for(var d=[],h=0;h<l.length;h++)d.push(l[h][c]);u.push(d.join(lp))}e.push(u.join(`
`))}),e.join(`

`+PC+`

`)}function a_e(n){return fe(n,function(e){var t=e.getRawData(),r=[e.name],o=[];return t.each(t.dimensions,function(){for(var i=arguments.length,a=arguments[i-1],s=t.getName(a),l=0;l<i-1;l++)o[l]=arguments[l];r.push((s?s+lp:"")+o.join(lp))}),r.join(`
`)}).join(`

`+PC+`

`)}function s_e(n){var e=o_e(n);return{value:Ht([i_e(e.seriesGroupByCategoryAxis),a_e(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+PC+`

`),meta:e.meta}}function Rx(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function l_e(n){var e=n.slice(0,n.indexOf(`
`));if(e.indexOf(lp)>=0)return!0}var bD=new RegExp("["+lp+"]+","g");function u_e(n){for(var e=n.split(/\n+/g),t=Rx(e.shift()).split(bD),r=[],o=fe(t,function(l){return{name:l,data:[]}}),i=0;i<e.length;i++){var a=Rx(e[i]).split(bD);r.push(a.shift());for(var s=0;s<a.length;s++)o[s]&&(o[s].data[i]=a[s])}return{series:o,categories:r}}function c_e(n){for(var e=n.split(/\n+/g),t=Rx(e.shift()),r=[],o=0;o<e.length;o++){var i=Rx(e[o]);if(i){var a=i.split(bD),s="",l=void 0,u=!1;isNaN(a[0])?(u=!0,s=a[0],a=a.slice(1),r[o]={name:s,value:[]},l=r[o].value):l=r[o]=[];for(var c=0;c<a.length;c++)l.push(+a[c]);l.length===1&&(u?r[o].value=l[0]:r[o]=l[0])}}return{name:t,data:r}}function d_e(n,e){var t=n.split(new RegExp(`
*`+PC+`
*`,"g")),r={series:[]};return R(t,function(o,i){if(l_e(o)){var a=u_e(o),s=e[i],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:a.categories},r.series=r.series.concat(a.series))}else{var a=c_e(o);r.series.push(a)}}),r}var h_e=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var o=r.getDom(),i=this.model;this._dom&&o.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=i.get("lang")||[];s.innerHTML=l[0]||i.get("title"),s.style.cssText="margin:10px 20px",s.style.color=i.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var d=i.get("optionToContent"),h=i.get("contentToOption"),f=s_e(t);if(ze(d)){var p=d(r.getOption());De(p)?u.innerHTML=p:Od(p)&&u.appendChild(p)}else{c.readOnly=i.get("readOnly");var g=c.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=i.get("textColor"),g.borderColor=i.get("textareaBorderColor"),g.backgroundColor=i.get("textareaColor"),c.value=f.value,u.appendChild(c)}var v=f.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",b=document.createElement("div"),w=document.createElement("div");y+=";background-color:"+i.get("buttonColor"),y+=";color:"+i.get("buttonTextColor");var x=this;function S(){o.removeChild(a),x._dom=null}YT(b,"click",S),YT(w,"click",function(){if(h==null&&d!=null||h!=null&&d==null){S();return}var C;try{ze(h)?C=h(u,r.getOption()):C=d_e(c.value,v)}catch(k){throw S(),new Error("Data view format error "+k)}C&&r.dispatchAction({type:"changeDataView",newOption:C}),S()}),b.innerHTML=l[1],w.innerHTML=l[2],w.style.cssText=b.style.cssText=y,!i.get("readOnly")&&m.appendChild(w),m.appendChild(b),a.appendChild(s),a.appendChild(u),a.appendChild(m),u.style.height=o.clientHeight-80+"px",o.appendChild(a),this._dom=a},e.prototype.remove=function(t,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.getDefaultOption=function(t){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},e}(Wi);function f_e(n,e){return fe(n,function(t,r){var o=e&&e[r];if(Ge(o)&&!ce(o)){var i=Ge(t)&&!ce(t);i||(t={value:t});var a=o.name!=null&&t.name==null;return t=Ve(t,o),a&&delete t.name,t}else return t})}Xa({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];R(n.newOption.series,function(r){var o=e.getSeriesByName(r.name)[0];if(!o)t.push(oe({type:"scatter"},r));else{var i=o.get("data");t.push({name:r.name,data:f_e(r.data,i)})}}),e.mergeOption(Ve({series:t},n.newOption))});var HX=R,UX=Tt();function p_e(n,e){var t=SP(n);HX(e,function(r,o){for(var i=t.length-1;i>=0;i--){var a=t[i];if(a[o])break}if(i<0){var s=n.queryComponents({mainType:"dataZoom",subType:"select",id:o})[0];if(s){var l=s.getPercentRange();t[0][o]={dataZoomId:o,start:l[0],end:l[1]}}}}),t.push(e)}function g_e(n){var e=SP(n),t=e[e.length-1];e.length>1&&e.pop();var r={};return HX(t,function(o,i){for(var a=e.length-1;a>=0;a--)if(o=e[a][i],o){r[i]=o;break}}),r}function v_e(n){UX(n).snapshots=null}function m_e(n){return SP(n).length}function SP(n){var e=UX(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var y_e=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){v_e(t),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return r},e}(Wi);Xa({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});var b_e=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],CP=function(){function n(e,t,r){var o=this;this._targetInfoList=[];var i=H6(t,e);R(w_e,function(a,s){(!r||!r.include||ct(r.include,s)>=0)&&a(i,o._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(r,o,i){if((r.coordRanges||(r.coordRanges=[])).push(o),!r.coordRange){r.coordRange=o;var a=HI[r.brushType](0,i,o);r.__rangeOffset={offset:X6[r.brushType](a.values,r.range,[1,1]),xyMinMax:a.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,r){R(e,function(o){var i=this.findTargetInfo(o,t);i&&i!==!0&&R(i.coordSyses,function(a){var s=HI[o.brushType](1,a,o.range,!0);r(o,s.values,a,t)})},this)},n.prototype.setInputRanges=function(e,t){R(e,function(r){var o=this.findTargetInfo(r,t);if(r.range=r.range||[],o&&o!==!0){r.panelId=o.panelId;var i=HI[r.brushType](0,o.coordSys,r.coordRange),a=r.__rangeOffset;r.range=a?X6[r.brushType](i.values,a.offset,x_e(i.xyMinMax,a.xyMinMax)):i.values}},this)},n.prototype.makePanelOpts=function(e,t){return fe(this._targetInfoList,function(r){var o=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:t?t(r):null,clipPath:QK(o),isTargetByCursor:tX(o,e,r.coordSysModel),getLinearBrushOtherExtent:eX(o)}})},n.prototype.controlSeries=function(e,t,r){var o=this.findTargetInfo(e,r);return o===!0||o&&ct(o.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var r=this._targetInfoList,o=H6(t,e),i=0;i<r.length;i++){var a=r[i],s=e.panelId;if(s){if(a.panelId===s)return a}else for(var l=0;l<U6.length;l++)if(U6[l](o,a))return a}return!0},n}();function wD(n){return n[0]>n[1]&&n.reverse(),n}function H6(n,e){return Bv(n,e,{includeMainTypes:b_e})}var w_e={grid:function(n,e){var t=n.xAxisModels,r=n.yAxisModels,o=n.gridModels,i=Pe(),a={},s={};!t&&!r&&!o||(R(t,function(l){var u=l.axis.grid.model;i.set(u.id,u),a[u.id]=!0}),R(r,function(l){var u=l.axis.grid.model;i.set(u.id,u),s[u.id]=!0}),R(o,function(l){i.set(l.id,l),a[l.id]=!0,s[l.id]=!0}),i.each(function(l){var u=l.coordinateSystem,c=[];R(u.getCartesians(),function(d,h){(ct(t,d.getAxis("x").model)>=0||ct(r,d.getAxis("y").model)>=0)&&c.push(d)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:j6.grid,xAxisDeclared:a[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,e){R(n.geoModels,function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:j6.geo})})}},U6=[function(n,e){var t=n.xAxisModel,r=n.yAxisModel,o=n.gridModel;return!o&&t&&(o=t.axis.grid.model),!o&&r&&(o=r.axis.grid.model),o&&o===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],j6={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(Tu(n)),e}},HI={lineX:Qe(K6,0),lineY:Qe(K6,1),rect:function(n,e,t,r){var o=n?e.pointToData([t[0][0],t[1][0]],r):e.dataToPoint([t[0][0],t[1][0]],r),i=n?e.pointToData([t[0][1],t[1][1]],r):e.dataToPoint([t[0][1],t[1][1]],r),a=[wD([o[0],i[0]]),wD([o[1],i[1]])];return{values:a,xyMinMax:a}},polygon:function(n,e,t,r){var o=[[1/0,-1/0],[1/0,-1/0]],i=fe(t,function(a){var s=n?e.pointToData(a,r):e.dataToPoint(a,r);return o[0][0]=Math.min(o[0][0],s[0]),o[1][0]=Math.min(o[1][0],s[1]),o[0][1]=Math.max(o[0][1],s[0]),o[1][1]=Math.max(o[1][1],s[1]),s});return{values:i,xyMinMax:o}}};function K6(n,e,t,r){var o=t.getAxis(["x","y"][n]),i=wD(fe([0,1],function(s){return e?o.coordToData(o.toLocalCoord(r[s]),!0):o.toGlobalCoord(o.dataToCoord(r[s]))})),a=[];return a[n]=i,a[1-n]=[NaN,NaN],{values:i,xyMinMax:a}}var X6={lineX:Qe(q6,0),lineY:Qe(q6,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return fe(n,function(r,o){return[r[0]-t[0]*e[o][0],r[1]-t[1]*e[o][1]]})}};function q6(n,e,t,r){return[e[0]-r[n]*t[0],e[1]-r[n]*t[1]]}function x_e(n,e){var t=Y6(n),r=Y6(e),o=[t[0]/r[0],t[1]/r[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function Y6(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var xD=R,S_e=lde("toolbox-dataZoom_"),C_e=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,o,i){this._brushController||(this._brushController=new J$(o.getZr()),this._brushController.on("brush",Re(this._onBrush,this)).mount()),I_e(t,r,this,i,o),__e(t,r)},e.prototype.onclick=function(t,r,o){k_e[o].call(this)},e.prototype.remove=function(t,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var r=t.areas;if(!t.isEnd||!r.length)return;var o={},i=this.ecModel;this._brushController.updateCovers([]);var a=new CP(kP(this.model),i,{include:["grid"]});a.matchOutputRanges(r,i,function(u,c,d){if(d.type==="cartesian2d"){var h=u.brushType;h==="rect"?(s("x",d,c[0]),s("y",d,c[1])):s({lineX:"x",lineY:"y"}[h],d,c)}}),p_e(i,o),this._dispatchZoomAction(o);function s(u,c,d){var h=c.getAxis(u),f=h.model,p=l(u,f,i),g=p.findRepresentativeAxisProxy(f).getMinMaxSpan();(g.minValueSpan!=null||g.maxValueSpan!=null)&&(d=mh(0,d.slice(),h.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),p&&(o[p.id]={dataZoomId:p.id,startValue:d[0],endValue:d[1]})}function l(u,c,d){var h;return d.eachComponent({mainType:"dataZoom",subType:"select"},function(f){var p=f.getAxisModel(u,c.componentIndex);p&&(h=f)}),h}},e.prototype._dispatchZoomAction=function(t){var r=[];xD(t,function(o,i){r.push(We(o))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(t){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},e}(Wi),k_e={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(g_e(this.ecModel))}};function kP(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function __e(n,e){n.setIconStatus("back",m_e(e)>1?"emphasis":"normal")}function I_e(n,e,t,r,o){var i=t._isZoomActive;r&&r.type==="takeGlobalCursor"&&(i=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),t._isZoomActive=i,n.setIconStatus("zoom",i?"emphasis":"normal");var a=new CP(kP(n),e,{include:["grid"]}),s=a.makePanelOpts(o,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(i&&s.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}Nfe("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var r=e.getModel(t),o=[],i=kP(r),a=Bv(n,i);xD(a.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),xD(a.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var d=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:S_e+u+d};h[c]=d,o.push(h)}return o});function T_e(n){n.registerComponentModel(Zke),n.registerComponentView(Qke),mf("saveAsImage",t_e),mf("magicType",r_e),mf("dataView",h_e),mf("dataZoom",C_e),mf("restore",y_e),pt(Yke)}var A_e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Ct);function jX(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function KX(n){if(At.domSupported){for(var e=document.documentElement.style,t=0,r=n.length;t<r;t++)if(n[t]in e)return n[t]}}var XX=KX(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),D_e=KX(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function qX(n,e){if(!n)return e;e=YE(e,!0);var t=n.indexOf(e);return n=t===-1?e:"-"+n.slice(0,t)+"-"+e,n.toLowerCase()}function R_e(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?t[e]:null}var E_e=qX(D_e,"transition"),_P=qX(XX,"transform"),$_e="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(At.transform3dSupported?"will-change:transform;":"");function P_e(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function M_e(n,e,t){if(!De(t)||t==="inside")return"";var r=n.get("backgroundColor"),o=n.get("borderWidth");e=Gd(e);var i=P_e(t),a=Math.max(Math.round(o)*1.5,6),s="",l=_P+":",u;ct(["left","right"],i)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=i==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=i==="top"?225:45)+"deg)");var c=u*Math.PI/180,d=a+o,h=d*Math.abs(Math.cos(c))+d*Math.abs(Math.sin(c)),f=Math.round(((h-Math.SQRT2*o)/2+Math.SQRT2*o-(h-d)/2)*100)/100;s+=";"+i+":-"+f+"px";var p=e+" solid "+o+"px;",g=["position:absolute;width:"+a+"px;height:"+a+"px;z-index:-1;",s+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+g.join("")+'"></div>'}function L_e(n,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+n/2+"s "+t,o="opacity"+r+",visibility"+r;return e||(r=" "+n+"s "+t,o+=At.transformSupported?","+_P+r:",left"+r+",top"+r),E_e+":"+o}function Z6(n,e,t){var r=n.toFixed(0)+"px",o=e.toFixed(0)+"px";if(!At.transformSupported)return t?"top:"+o+";left:"+r+";":[["top",o],["left",r]];var i=At.transform3dSupported,a="translate"+(i?"3d":"")+"("+r+","+o+(i?",0":"")+")";return t?"top:0;left:0;"+_P+":"+a+";":[["top",0],["left",0],[XX,a]]}function N_e(n){var e=[],t=n.get("fontSize"),r=n.getTextColor();r&&e.push("color:"+r),e.push("font:"+n.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var o=n.get("textShadowColor"),i=n.get("textShadowBlur")||0,a=n.get("textShadowOffsetX")||0,s=n.get("textShadowOffsetY")||0;return o&&i&&e.push("text-shadow:"+a+"px "+s+"px "+i+"px "+o),R(["decoration","align"],function(l){var u=n.get(l);u&&e.push("text-"+l+":"+u)}),e.join(";")}function O_e(n,e,t){var r=[],o=n.get("transitionDuration"),i=n.get("backgroundColor"),a=n.get("shadowBlur"),s=n.get("shadowColor"),l=n.get("shadowOffsetX"),u=n.get("shadowOffsetY"),c=n.getModel("textStyle"),d=oU(n,"html"),h=l+"px "+u+"px "+a+"px "+s;return r.push("box-shadow:"+h),e&&o&&r.push(L_e(o,t)),i&&r.push("background-color:"+i),R(["width","color","radius"],function(f){var p="border-"+f,g=YE(p),v=n.get(g);v!=null&&r.push(p+":"+v+(f==="color"?"":"px"))}),r.push(N_e(c)),d!=null&&r.push("padding:"+fh(d).join("px ")+"px"),r.join(";")+";"}function J6(n,e,t,r,o){var i=e&&e.painter;if(t){var a=i&&i.getViewportRoot();a&&Mue(n,a,t,r,o)}else{n[0]=r,n[1]=o;var s=i&&i.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var F_e=function(){function n(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,At.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=e.getZr(),i=t.appendTo,a=i&&(De(i)?document.querySelector(i):Od(i)?i:ze(i)&&i(e.getDom()));J6(this._styleCoord,o,a,e.getWidth()/2,e.getHeight()/2),(a||e.getDom()).appendChild(r),this._api=e,this._container=a;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=o.handler,c=o.painter.getViewportRoot();Oi(c,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),r=R_e(t,"position"),o=t.style;o.position!=="absolute"&&r!=="absolute"&&(o.position="relative")}var i=e.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,o=r.style,i=this._styleCoord;r.innerHTML?o.cssText=$_e+O_e(e,!this._firstShow,this._longHide)+Z6(i[0],i[1],!0)+("border-color:"+Gd(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):o.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,r,o,i){var a=this.el;if(e==null){a.innerHTML="";return}var s="";if(De(i)&&r.get("trigger")==="item"&&!jX(r)&&(s=M_e(r,o,i)),De(e))a.innerHTML=e+s;else if(e){a.innerHTML="",ce(e)||(e=[e]);for(var l=0;l<e.length;l++)Od(e[l])&&e[l].parentNode!==a&&a.appendChild(e[l]);if(s&&a.childNodes.length){var u=document.createElement("div");u.innerHTML=s,a.appendChild(u)}}},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var r=this._styleCoord;if(J6(r,this._zr,this._container,e,t),r[0]!=null&&r[1]!=null){var o=this.el.style,i=Z6(r[0],r[1]);R(i,function(a){o[a[0]]=a[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",At.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Re(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},n}(),B_e=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),ez(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,r,o,i){var a=this;Ge(e)&&zt(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new _t({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:o,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:oU(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),R(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){a.el.style[u]=r.get(u)}),R(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){a.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=Q6(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},n.prototype.moveTo=function(e,t){var r=this.el;if(r){var o=this._styleCoord;ez(o,this._zr,e,t),e=o[0],t=o[1];var i=r.style,a=tu(i.borderWidth||0),s=Q6(i);r.x=e+a+s.left,r.y=t+a+s.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Re(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function tu(n){return Math.max(0,n)}function Q6(n){var e=tu(n.shadowBlur||0),t=tu(n.shadowOffsetX||0),r=tu(n.shadowOffsetY||0);return{left:tu(e-t),right:tu(e+t),top:tu(e-r),bottom:tu(e+r)}}function ez(n,e,t,r){n[0]=t,n[1]=r,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var z_e=new It({shape:{x:-1,y:-1,width:2,height:2}}),V_e=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(At.node||!r.getDom())){var o=t.getComponent("tooltip"),i=this._renderMode=gde(o.get("renderMode"));this._tooltipContent=i==="richText"?new B_e(r):new F_e(r,{appendTo:o.get("appendToBody",!0)?"body":o.get("appendTo",!0)})}},e.prototype.render=function(t,r,o){if(!(At.node||!o.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=o;var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?zp(this,"_updatePosition",50,"fixRate"):Cm(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");PX("itemTooltip",this._api,Re(function(o,i,a){r!=="none"&&(r.indexOf(o)>=0?this._tryShow(i,a):o==="leave"&&this._hide(a))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,o=this._api,i=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!o.isDisposed()&&a.manuallyShowTip(t,r,o,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,o,i){if(!(i.from===this.uid||At.node||!o.getDom())){var a=tz(i,o);this._ticket="";var s=i.dataByCoordSys,l=U_e(i,r,o);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:i.position,positionDefault:"bottom"},a)}else if(i.tooltip&&i.x!=null&&i.y!=null){var c=z_e;c.x=i.x,c.y=i.y,c.update(),Ye(c).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:c},a)}else if(s)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:s,tooltipOption:i.tooltipOption},a);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,o,i))return;var d=MX(i,r),h=d.point[0],f=d.point[1];h!=null&&f!=null&&this._tryShow({offsetX:h,offsetY:f,target:d.el,position:i.position,positionDefault:"bottom"},a)}else i.x!=null&&i.y!=null&&(o.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:o.getZr().findHover(i.x,i.y).target},a))}},e.prototype.manuallyHideTip=function(t,r,o,i){var a=this._tooltipContent;this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(tz(i,o))},e.prototype._manuallyAxisShowTip=function(t,r,o,i){var a=i.seriesIndex,s=i.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(a==null||s==null||l==null)){var u=r.getSeriesByIndex(a);if(u){var c=u.getData(),d=Ug([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return o.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:i.position}),!0}}},e.prototype._tryShow=function(t,r){var o=t.target,i=this._tooltipModel;if(i){this._lastX=t.offsetX,this._lastY=t.offsetY;var a=t.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,t);else if(o){var s=Ye(o);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;md(o,function(c){if(Ye(c).dataIndex!=null)return l=c,!0;if(Ye(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(t,l,r):u?this._showComponentItemTooltip(t,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var o=t.get("showDelay");r=Re(r,this),clearTimeout(this._showTimout),o>0?this._showTimout=setTimeout(r,o):r()},e.prototype._showAxisTooltip=function(t,r){var o=this._ecModel,i=this._tooltipModel,a=[r.offsetX,r.offsetY],s=Ug([r.tooltipOption],i),l=this._renderMode,u=[],c=kr("section",{blocks:[],noHeader:!0}),d=[],h=new D_;R(t,function(y){R(y.dataByAxis,function(b){var w=o.getComponent(b.axisDim+"Axis",b.axisIndex),x=b.value;if(!(!w||x==null)){var S=RX(x,w.axis,o,b.seriesDataIndices,b.valueLabelOpt),C=kr("section",{header:S,noHeader:!Ki(S),sortBlocks:!0,blocks:[]});c.blocks.push(C),R(b.seriesDataIndices,function(k){var _=o.getSeriesByIndex(k.seriesIndex),I=k.dataIndexInside,T=_.getDataParams(I);if(!(T.dataIndex<0)){T.axisDim=b.axisDim,T.axisIndex=b.axisIndex,T.axisType=b.axisType,T.axisId=b.axisId,T.axisValue=I$(w.axis,{value:x}),T.axisValueLabel=S,T.marker=h.makeTooltipMarker("item",Gd(T.color),l);var A=V5(_.formatTooltip(I,!0,null)),D=A.frag;if(D){var E=Ug([_],i).get("valueFormatter");C.blocks.push(E?oe({valueFormatter:E},D):D)}A.text&&d.push(A.text),u.push(T)}})}})}),c.blocks.reverse(),d.reverse();var f=r.position,p=s.get("order"),g=K5(c,h,l,p,o.get("useUTC"),s.get("textStyle"));g&&d.unshift(g);var v=l==="richText"?`

`:"<br/>",m=d.join(v);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(s,f,a[0],a[1],this._tooltipContent,u):this._showTooltipContent(s,m,u,Math.random()+"",a[0],a[1],f,null,h)})},e.prototype._showSeriesItemTooltip=function(t,r,o){var i=this._ecModel,a=Ye(r),s=a.seriesIndex,l=i.getSeriesByIndex(s),u=a.dataModel||l,c=a.dataIndex,d=a.dataType,h=u.getData(d),f=this._renderMode,p=t.positionDefault,g=Ug([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),v=g.get("trigger");if(!(v!=null&&v!=="item")){var m=u.getDataParams(c,d),y=new D_;m.marker=y.makeTooltipMarker("item",Gd(m.color),f);var b=V5(u.formatTooltip(c,!1,d)),w=g.get("order"),x=g.get("valueFormatter"),S=b.frag,C=S?K5(x?oe({valueFormatter:x},S):S,y,f,w,i.get("useUTC"),g.get("textStyle")):b.text,k="item_"+u.name+"_"+c;this._showOrMove(g,function(){this._showTooltipContent(g,C,m,k,t.offsetX,t.offsetY,t.position,t.target,y)}),o({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,o){var i=this._renderMode==="html",a=Ye(r),s=a.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(De(l)){var c=l;l={content:c,formatter:c},u=!0}u&&i&&l.content&&(l=We(l),l.content=Co(l.content));var d=[l],h=this._ecModel.getComponent(a.componentMainType,a.componentIndex);h&&d.push(h),d.push({formatter:l.content});var f=t.positionDefault,p=Ug(d,this._tooltipModel,f?{position:f}:null),g=p.get("content"),v=Math.random()+"",m=new D_;this._showOrMove(p,function(){var y=We(p.get("formatterParams")||{});this._showTooltipContent(p,g,y,v,t.offsetX,t.offsetY,t.position,r,m)}),o({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,o,i,a,s,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var d=this._tooltipContent;d.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var f=r,p=this._getNearestPoint([a,s],o,t.get("trigger"),t.get("borderColor")),g=p.color;if(h)if(De(h)){var v=t.ecModel.get("useUTC"),m=ce(o)?o[0]:o,y=m&&m.axisType&&m.axisType.indexOf("time")>=0;f=h,y&&(f=Ly(m.axisValue,f,v)),f=ZE(f,o,!0)}else if(ze(h)){var b=Re(function(w,x){w===this._ticket&&(d.setContent(x,c,t,g,l),this._updatePosition(t,l,a,s,d,o,u))},this);this._ticket=i,f=h(o,i,b)}else f=h;d.setContent(f,c,t,g,l),d.show(t,g),this._updatePosition(t,l,a,s,d,o,u)}},e.prototype._getNearestPoint=function(t,r,o,i){if(o==="axis"||ce(r))return{color:i||(this._renderMode==="html"?"#fff":"none")};if(!ce(r))return{color:i||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,o,i,a,s,l){var u=this._api.getWidth(),c=this._api.getHeight();r=r||t.get("position");var d=a.getSize(),h=t.get("align"),f=t.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),ze(r)&&(r=r([o,i],s,a.el,p,{viewSize:[u,c],contentSize:d.slice()})),ce(r))o=_e(r[0],u),i=_e(r[1],c);else if(Ge(r)){var g=r;g.width=d[0],g.height=d[1];var v=er(g,{width:u,height:c});o=v.x,i=v.y,h=null,f=null}else if(De(r)&&l){var m=H_e(r,p,d,t.get("borderWidth"));o=m[0],i=m[1]}else{var m=G_e(o,i,a,u,c,h?null:20,f?null:20);o=m[0],i=m[1]}if(h&&(o-=nz(h)?d[0]/2:h==="right"?d[0]:0),f&&(i-=nz(f)?d[1]/2:f==="bottom"?d[1]:0),jX(t)){var m=W_e(o,i,a,u,c);o=m[0],i=m[1]}a.moveTo(o,i)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var o=this._lastDataByCoordSys,i=this._cbParamsList,a=!!o&&o.length===t.length;return a&&R(o,function(s,l){var u=s.dataByAxis||[],c=t[l]||{},d=c.dataByAxis||[];a=a&&u.length===d.length,a&&R(u,function(h,f){var p=d[f]||{},g=h.seriesDataIndices||[],v=p.seriesDataIndices||[];a=a&&h.value===p.value&&h.axisType===p.axisType&&h.axisId===p.axisId&&g.length===v.length,a&&R(g,function(m,y){var b=v[y];a=a&&m.seriesIndex===b.seriesIndex&&m.dataIndex===b.dataIndex}),i&&R(h.seriesDataIndices,function(m){var y=m.seriesIndex,b=r[y],w=i[y];b&&w&&w.data!==b.data&&(a=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!a},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){At.node||!r.getDom()||(Cm(this,"_updatePosition"),this._tooltipContent.dispose(),vD("itemTooltip",r))},e.type="tooltip",e}(Cn);function Ug(n,e,t){var r=e.ecModel,o;t?(o=new tn(t,r,r),o=new tn(e.option,o,r)):o=e;for(var i=n.length-1;i>=0;i--){var a=n[i];a&&(a instanceof tn&&(a=a.get("tooltip",!0)),De(a)&&(a={formatter:a}),a&&(o=new tn(a,o,r)))}return o}function tz(n,e){return n.dispatchAction||Re(e.dispatchAction,e)}function G_e(n,e,t,r,o,i,a){var s=t.getSize(),l=s[0],u=s[1];return i!=null&&(n+l+i+2>r?n-=l+i:n+=i),a!=null&&(e+u+a>o?e-=u+a:e+=a),[n,e]}function W_e(n,e,t,r,o){var i=t.getSize(),a=i[0],s=i[1];return n=Math.min(n+a,r)-a,e=Math.min(e+s,o)-s,n=Math.max(n,0),e=Math.max(e,0),[n,e]}function H_e(n,e,t,r){var o=t[0],i=t[1],a=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=e.width,c=e.height;switch(n){case"inside":s=e.x+u/2-o/2,l=e.y+c/2-i/2;break;case"top":s=e.x+u/2-o/2,l=e.y-i-a;break;case"bottom":s=e.x+u/2-o/2,l=e.y+c+a;break;case"left":s=e.x-o-a,l=e.y+c/2-i/2;break;case"right":s=e.x+u+a,l=e.y+c/2-i/2}return[s,l]}function nz(n){return n==="center"||n==="middle"}function U_e(n,e,t){var r=TE(n).queryOptionMap,o=r.keys()[0];if(!(!o||o==="series")){var i=Dy(e,o,r.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}),a=i.models[0];if(a){var s=t.getViewOfComponentModel(a),l;if(s.group.traverse(function(u){var c=Ye(u).tooltipConfig;if(c&&c.name===n.name)return l=u,!0}),l)return{componentMainType:o,componentIndex:a.componentIndex,el:l}}}}function j_e(n){pt(jy),n.registerComponentModel(A_e),n.registerComponentView(V_e),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},zn),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},zn)}var K_e=["rect","polygon","keep","clear"];function X_e(n,e){var t=rn(n?n.brush:[]);if(t.length){var r=[];R(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var o=n&&n.toolbox;ce(o)&&(o=o[0]),o||(o={feature:{}},n.toolbox=[o]);var i=o.feature||(o.feature={}),a=i.brush||(i.brush={}),s=a.type||(a.type=[]);s.push.apply(s,r),q_e(s),e&&!s.length&&s.push.apply(s,K_e)}}function q_e(n){var e={};R(n,function(t){e[t]=1}),n.length=0,R(e,function(t,r){n.push(r)})}var rz=R;function oz(n){if(n){for(var e in n)if(n.hasOwnProperty(e))return!0}}function SD(n,e,t){var r={};return rz(e,function(i){var a=r[i]=o();rz(n[i],function(s,l){if(xr.isValidType(l)){var u={type:l,visual:s};t&&t(u,i),a[l]=new xr(u),l==="opacity"&&(u=We(u),u.type="colorAlpha",a.__hidden.__alphaForOpacity=new xr(u))}})}),r;function o(){var i=function(){};i.prototype.__hidden=i.prototype;var a=new i;return a}}function YX(n,e,t){var r;R(t,function(o){e.hasOwnProperty(o)&&oz(e[o])&&(r=!0)}),r&&R(t,function(o){e.hasOwnProperty(o)&&oz(e[o])?n[o]=We(e[o]):delete n[o]})}function Y_e(n,e,t,r,o,i){var a={};R(n,function(d){var h=xr.prepareVisualTypes(e[d]);a[d]=h});var s;function l(d){return u$(t,s,d)}function u(d,h){pU(t,s,d,h)}t.each(c);function c(d,h){s=d;var f=t.getRawDataItem(s);if(!(f&&f.visualMap===!1))for(var p=r.call(o,d),g=e[p],v=a[p],m=0,y=v.length;m<y;m++){var b=v[m];g[b]&&g[b].applyVisual(d,l,u)}}}function Z_e(n,e,t,r){var o={};return R(n,function(i){var a=xr.prepareVisualTypes(e[i]);o[i]=a}),{progress:function(a,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(x){return u$(s,d,x)}function c(x,S){pU(s,d,x,S)}for(var d,h=s.getStore();(d=a.next())!=null;){var f=s.getRawDataItem(d);if(!(f&&f.visualMap===!1))for(var p=r!=null?h.get(l,d):d,g=t(p),v=e[g],m=o[g],y=0,b=m.length;y<b;y++){var w=m[y];v[w]&&v[w].applyVisual(p,u,c)}}}}}function J_e(n){var e=n.brushType,t={point:function(r){return iz[e].point(r,t,n)},rect:function(r){return iz[e].rect(r,t,n)}};return t}var iz={lineX:az(0),lineY:az(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&ad(t.range,n[0],n[1])},rect:function(n,e,t){var r=t.range;if(!n||r.length<=1)return!1;var o=n.x,i=n.y,a=n.width,s=n.height,l=r[0];if(ad(r,o,i)||ad(r,o+a,i)||ad(r,o,i+s)||ad(r,o+a,i+s)||lt.create(n).contain(l[0],l[1])||cv(o,i,o+a,i,r)||cv(o,i,o,i+s,r)||cv(o+a,i,o+a,i+s,r)||cv(o,i+s,o+a,i+s,r))return!0}}};function az(n){var e=["x","y"],t=["width","height"];return{point:function(r,o,i){if(r){var a=i.range,s=r[n];return jg(s,a)}},rect:function(r,o,i){if(r){var a=i.range,s=[r[e[n]],r[e[n]]+r[t[n]]];return s[1]<s[0]&&s.reverse(),jg(s[0],a)||jg(s[1],a)||jg(a[0],s)||jg(a[1],s)}}}}function jg(n,e){return e[0]<=n&&n<=e[1]}var sz=["inBrush","outOfBrush"],UI="__ecBrushSelect",CD="__ecInBrushSelectEvent";function ZX(n){n.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new CP(e.option,n);t.setInputRanges(e.areas,n)})}function Q_e(n,e,t){var r=[],o,i;n.eachComponent({mainType:"brush"},function(a){t&&t.type==="takeGlobalCursor"&&a.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),ZX(n),n.eachComponent({mainType:"brush"},function(a,s){var l={brushId:a.id,brushIndex:s,brushName:a.name,areas:We(a.areas),selected:[]};r.push(l);var u=a.option,c=u.brushLink,d=[],h=[],f=[],p=!1;s||(o=u.throttleType,i=u.throttleDelay);var g=fe(a.areas,function(x){var S=rIe[x.brushType],C=Ve({boundingRect:S?S(x):void 0},x);return C.selectors=J_e(C),C}),v=SD(a.option,sz,function(x){x.mappingMethod="fixed"});ce(c)&&R(c,function(x){d[x]=1});function m(x){return c==="all"||!!d[x]}function y(x){return!!x.length}n.eachSeries(function(x,S){var C=f[S]=[];x.subType==="parallel"?b(x,S):w(x,S,C)});function b(x,S){var C=x.coordinateSystem;p=p||C.hasAxisBrushed(),m(S)&&C.eachActiveState(x.getData(),function(k,_){k==="active"&&(h[_]=1)})}function w(x,S,C){if(!(!x.brushSelector||nIe(a,S))&&(R(g,function(_){a.brushTargetManager.controlSeries(_,x,n)&&C.push(_),p=p||y(C)}),m(S)&&y(C))){var k=x.getData();k.each(function(_){lz(x,C,k,_)&&(h[_]=1)})}}n.eachSeries(function(x,S){var C={seriesId:x.id,seriesIndex:S,seriesName:x.name,dataIndex:[]};l.selected.push(C);var k=f[S],_=x.getData(),I=m(S)?function(T){return h[T]?(C.dataIndex.push(_.getRawIndex(T)),"inBrush"):"outOfBrush"}:function(T){return lz(x,k,_,T)?(C.dataIndex.push(_.getRawIndex(T)),"inBrush"):"outOfBrush"};(m(S)?p:y(k))&&Y_e(sz,v,_,I)})}),eIe(e,o,i,r,t)}function eIe(n,e,t,r,o){if(o){var i=n.getZr();if(!i[CD]){i[UI]||(i[UI]=tIe);var a=zp(i,UI,t,e);a(n,r)}}}function tIe(n,e){if(!n.isDisposed()){var t=n.getZr();t[CD]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[CD]=!1}}function lz(n,e,t,r){for(var o=0,i=e.length;o<i;o++){var a=e[o];if(n.brushSelector(r,t,a.selectors,a))return!0}}function nIe(n,e){var t=n.option.seriesIndex;return t!=null&&t!=="all"&&(ce(t)?ct(t,e)<0:e!==t)}var rIe={rect:function(n){return uz(n.range)},polygon:function(n){for(var e,t=n.range,r=0,o=t.length;r<o;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var i=t[r];i[0]<e[0][0]&&(e[0][0]=i[0]),i[0]>e[0][1]&&(e[0][1]=i[0]),i[1]<e[1][0]&&(e[1][0]=i[1]),i[1]>e[1][1]&&(e[1][1]=i[1])}return e&&uz(e)}};function uz(n){return new lt(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var oIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r,this.model,(this._brushController=new J$(r.getZr())).on("brush",Re(this._onBrush,this)).mount()},e.prototype.render=function(t,r,o,i){this.model=t,this._updateController(t,r,o,i)},e.prototype.updateTransform=function(t,r,o,i){ZX(r),this._updateController(t,r,o,i)},e.prototype.updateVisual=function(t,r,o,i){this.updateTransform(t,r,o,i)},e.prototype.updateView=function(t,r,o,i){this._updateController(t,r,o,i)},e.prototype._updateController=function(t,r,o,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(o)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var r=this.model.id,o=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:We(o),$from:r}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:We(o),$from:r})},e.type="brush",e}(Cn),iIe="#ddd",aIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,r){var o=this.option;!r&&YX(o,t,["inBrush","outOfBrush"]);var i=o.inBrush=o.inBrush||{};o.outOfBrush=o.outOfBrush||{color:iIe},i.hasOwnProperty("liftZ")||(i.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=fe(t,function(r){return cz(this.option,r)},this))},e.prototype.setBrushOption=function(t){this.brushOption=cz(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(Ct);function cz(n,e){return rt({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new tn(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}var sIe=["rect","polygon","lineX","lineY","keep","clear"],lIe=function(n){K(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,o){var i,a,s;r.eachComponent({mainType:"brush"},function(l){i=l.brushType,a=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=i,this._brushMode=a,R(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?a==="multiple":l==="clear"?s:l===i)?"emphasis":"normal")})},e.prototype.updateView=function(t,r,o){this.render(t,r,o)},e.prototype.getIcons=function(){var t=this.model,r=t.get("icon",!0),o={};return R(t.get("type",!0),function(i){r[i]&&(o[i]=r[i])}),o},e.prototype.onclick=function(t,r,o){var i=this._brushType,a=this._brushMode;o==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:o==="keep"?i:i===o?!1:o,brushMode:o==="keep"?a==="multiple"?"single":"multiple":a}})},e.getDefaultOption=function(t){var r={show:!0,type:sIe.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return r},e}(Wi);function uIe(n){n.registerComponentView(oIe),n.registerComponentModel(aIe),n.registerPreprocessor(X_e),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,Q_e),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(r){r.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},zn),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},zn),mf("brush",lIe)}var cIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Ct),dIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,o){if(this.group.removeAll(),!!t.get("show")){var i=this.group,a=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=et(t.get("textBaseline"),t.get("textVerticalAlign")),c=new _t({style:dn(a,{text:t.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),d=c.getBoundingRect(),h=t.get("subtext"),f=new _t({style:dn(s,{text:h,fill:s.getTextColor(),y:d.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),g=t.get("sublink"),v=t.get("triggerEvent",!0);c.silent=!p&&!v,f.silent=!g&&!v,p&&c.on("click",function(){rx(p,"_"+t.get("target"))}),g&&f.on("click",function(){rx(g,"_"+t.get("subtarget"))}),Ye(c).eventData=Ye(f).eventData=v?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(c),h&&i.add(f);var m=i.getBoundingRect(),y=t.getBoxLayoutParams();y.width=m.width,y.height=m.height;var b=er(y,{width:o.getWidth(),height:o.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?b.y+=b.height:u==="middle"&&(b.y+=b.height/2),u=u||"top"),i.x=b.x,i.y=b.y,i.markRedraw();var w={align:l,verticalAlign:u};c.setStyle(w),f.setStyle(w),m=i.getBoundingRect();var x=b.margin,S=t.getItemStyle(["color","opacity"]);S.fill=t.get("backgroundColor");var C=new It({shape:{x:m.x-x[3],y:m.y-x[0],width:m.width+x[1]+x[3],height:m.height+x[0]+x[2],r:t.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});i.add(C)}},e.type="title",e}(Cn);function hIe(n){n.registerComponentModel(cIe),n.registerComponentView(dIe)}var dz=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,r,o){this.mergeDefaultAndTheme(t,o),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var r=this._data.count();this.option.loop?t=(t%r+r)%r:(t>=r&&(t=r-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,r=t.data||[],o=t.axisType,i=this._names=[],a;o==="category"?(a=[],R(r,function(u,c){var d=ir(Tp(u),""),h;Ge(u)?(h=We(u),h.value=c):h=c,a.push(h),i.push(d)})):a=r;var s={category:"ordinal",time:"time",value:"number"}[o]||"number",l=this._data=new ao([{name:"value",type:s}],this);l.initData(a,i)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(Ct),JX=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=ec(dz.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(dz);Vn(JX,vC.prototype);var fIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e}(Cn),pIe=function(n){K(e,n);function e(t,r,o,i){var a=n.call(this,t,r,o)||this;return a.type=i||"value",a}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(da),jI=Math.PI,hz=Tt(),gIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.api=r},e.prototype.render=function(t,r,o){if(this.model=t,this.api=o,this.ecModel=r,this.group.removeAll(),t.get("show",!0)){var i=this._layout(t,o),a=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(i,t);t.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return kr("nameValue",{noName:!0,value:c})},R(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](i,a,l,t)},this),this._renderAxisLabel(i,s,l,t),this._position(i,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,r){var o=t.get(["label","position"]),i=t.get("orient"),a=mIe(t,r),s;o==null||o==="auto"?s=i==="horizontal"?a.y+a.height/2<r.getHeight()/2?"-":"+":a.x+a.width/2<r.getWidth()/2?"+":"-":De(o)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][o]:s=o;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:jI/2},d=i==="vertical"?a.height:a.width,h=t.getModel("controlStyle"),f=h.get("show",!0),p=f?h.get("itemSize"):0,g=f?h.get("itemGap"):0,v=p+g,m=t.get(["label","rotate"])||0;m=m*jI/180;var y,b,w,x=h.get("position",!0),S=f&&h.get("showPlayBtn",!0),C=f&&h.get("showPrevBtn",!0),k=f&&h.get("showNextBtn",!0),_=0,I=d;x==="left"||x==="bottom"?(S&&(y=[0,0],_+=v),C&&(b=[_,0],_+=v),k&&(w=[I-p,0],I-=v)):(S&&(y=[I-p,0],I-=v),C&&(b=[0,0],_+=v),k&&(w=[I-p,0],I-=v));var T=[_,I];return t.get("inverse")&&T.reverse(),{viewRect:a,mainLength:d,orient:i,rotation:c[i],labelRotation:m,labelPosOpt:s,labelAlign:t.get(["label","align"])||l[i],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[i],playPosition:y,prevBtnPosition:b,nextBtnPosition:w,axisExtent:T,controlSize:p,controlGap:g}},e.prototype._position=function(t,r){var o=this._mainGroup,i=this._labelGroup,a=t.viewRect;if(t.orient==="vertical"){var s=Zo(),l=a.x,u=a.y+a.height;Va(s,s,[-l,-u]),Ju(s,s,-jI/2),Va(s,s,[l,u]),a=a.clone(),a.applyTransform(s)}var c=y(a),d=y(o.getBoundingRect()),h=y(i.getBoundingRect()),f=[o.x,o.y],p=[i.x,i.y];p[0]=f[0]=c[0][0];var g=t.labelPosOpt;if(g==null||De(g)){var v=g==="+"?0:1;b(f,d,c,1,v),b(p,h,c,1,1-v)}else{var v=g>=0?0:1;b(f,d,c,1,v),p[1]=f[1]+g}o.setPosition(f),i.setPosition(p),o.rotation=i.rotation=t.rotation,m(o),m(i);function m(w){w.originX=c[0][0]-w.x,w.originY=c[1][0]-w.y}function y(w){return[[w.x,w.x+w.width],[w.y,w.y+w.height]]}function b(w,x,S,C,k){w[C]+=S[C][k]-x[C][k]}},e.prototype._createAxis=function(t,r){var o=r.getData(),i=r.get("axisType"),a=vIe(r,i);a.getTicks=function(){return o.mapArray(["value"],function(u){return{value:u}})};var s=o.getDataExtent("value");a.setExtent(s[0],s[1]),a.calcNiceTicks();var l=new pIe("value",a,t.axisExtent,i);return l.model=r,l},e.prototype._createGroup=function(t){var r=this[t]=new Xe;return this.group.add(r),r},e.prototype._renderAxisLine=function(t,r,o,i){var a=o.getExtent();if(i.get(["lineStyle","show"])){var s=new yr({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:oe({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new yr({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:Ve({lineCap:"round",lineWidth:s.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},e.prototype._renderAxisTick=function(t,r,o,i){var a=this,s=i.getData(),l=o.scale.getTicks();this._tickSymbols=[],R(l,function(u){var c=o.dataToCoord(u.value),d=s.getItemModel(u.value),h=d.getModel("itemStyle"),f=d.getModel(["emphasis","itemStyle"]),p=d.getModel(["progress","itemStyle"]),g={x:c,y:0,onclick:Re(a._changeTimeline,a,u.value)},v=fz(d,h,r,g);v.ensureState("emphasis").style=f.getItemStyle(),v.ensureState("progress").style=p.getItemStyle(),Iu(v);var m=Ye(v);d.get("tooltip")?(m.dataIndex=u.value,m.dataModel=i):m.dataIndex=m.dataModel=null,a._tickSymbols.push(v)})},e.prototype._renderAxisLabel=function(t,r,o,i){var a=this,s=o.getLabelModel();if(s.get("show")){var l=i.getData(),u=o.getViewLabels();this._tickLabels=[],R(u,function(c){var d=c.tickValue,h=l.getItemModel(d),f=h.getModel("label"),p=h.getModel(["emphasis","label"]),g=h.getModel(["progress","label"]),v=o.dataToCoord(c.tickValue),m=new _t({x:v,y:0,rotation:t.labelRotation-t.rotation,onclick:Re(a._changeTimeline,a,d),silent:!1,style:dn(f,{text:c.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});m.ensureState("emphasis").style=dn(p),m.ensureState("progress").style=dn(g),r.add(m),Iu(m),hz(m).dataIndex=d,a._tickLabels.push(m)})}},e.prototype._renderControl=function(t,r,o,i){var a=t.controlSize,s=t.rotation,l=i.getModel("controlStyle").getItemStyle(),u=i.getModel(["emphasis","controlStyle"]).getItemStyle(),c=i.getPlayState(),d=i.get("inverse",!0);h(t.nextBtnPosition,"next",Re(this._changeTimeline,this,d?"-":"+")),h(t.prevBtnPosition,"prev",Re(this._changeTimeline,this,d?"+":"-")),h(t.playPosition,c?"stop":"play",Re(this._handlePlayClick,this,!c),!0);function h(f,p,g,v){if(f){var m=Ga(et(i.get(["controlStyle",p+"BtnSize"]),a),a),y=[0,-m/2,m,m],b=yIe(i,p+"Icon",y,{x:f[0],y:f[1],originX:a/2,originY:0,rotation:v?-s:0,rectHover:!0,style:l,onclick:g});b.ensureState("emphasis").style=u,r.add(b),Iu(b)}}},e.prototype._renderCurrentPointer=function(t,r,o,i){var a=i.getData(),s=i.getCurrentIndex(),l=a.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(d){d.draggable=!0,d.drift=Re(u._handlePointerDrag,u),d.ondragend=Re(u._handlePointerDragend,u),pz(d,u._progressLine,s,o,i,!0)},onUpdate:function(d){pz(d,u._progressLine,s,o,i)}};this._currentPointer=fz(l,l,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,r,o){this._clearTimer(),this._pointerChangeTimeline([o.offsetX,o.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,r){var o=this._toAxisCoord(t)[0],i=this._axis,a=vi(i.getExtent().slice());o>a[1]&&(o=a[1]),o<a[0]&&(o=a[0]),this._currentPointer.x=o,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=o,s.dirty());var l=this._findNearestTick(o),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=t.model;t._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var r=this._mainGroup.getLocalTransform();return La(t,r,!0)},e.prototype._findNearestTick=function(t){var r=this.model.getData(),o=1/0,i,a=this._axis;return r.each(["value"],function(s,l){var u=a.dataToCoord(s),c=Math.abs(u-t);c<o&&(o=c,i=l)}),i},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var r=this.model.getCurrentIndex();t==="+"?t=r+1:t==="-"&&(t=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),r=this._tickSymbols,o=this._tickLabels;if(r)for(var i=0;i<r.length;i++)r&&r[i]&&r[i].toggleState("progress",i<t);if(o)for(var i=0;i<o.length;i++)o&&o[i]&&o[i].toggleState("progress",hz(o[i]).dataIndex<=t)},e.type="timeline.slider",e}(fIe);function vIe(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new _C({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new k$({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new Il}}function mIe(n,e){return er(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},n.get("padding"))}function yIe(n,e,t,r){var o=r.style,i=Ep(n.get(["controlStyle",e]),r||{},new lt(t[0],t[1],t[2],t[3]));return o&&i.setStyle(o),i}function fz(n,e,t,r,o,i){var a=e.get("color");if(o)o.setColor(a),t.add(o),i&&i.onUpdate(o);else{var s=n.get("symbol");o=Un(s,-1,-1,2,2,a),o.setStyle("strokeNoScale",!0),t.add(o),i&&i.onCreate(o)}var l=e.getItemStyle(["color"]);o.setStyle(l),r=rt({rectHover:!0,z2:100},r,!0);var u=Vp(n.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var c=ph(n.get("symbolOffset"),u);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var d=n.get("symbolRotate");return r.rotation=(d||0)*Math.PI/180||0,o.attr(r),o.updateTransform(),o}function pz(n,e,t,r,o,i){if(!n.dragging){var a=o.getModel("checkpointStyle"),s=r.dataToCoord(o.getData().get("value",t));if(i||!a.get("animation",!0))n.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}function bIe(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,r){var o=t.getComponent("timeline");return o&&e.currentIndex!=null&&(o.setCurrentIndex(e.currentIndex),!o.get("loop",!0)&&o.isIndexMax()&&o.getPlayState()&&(o.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:o.get("replaceMerge",!0)}),Ve({currentIndex:o.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var r=t.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}function wIe(n){var e=n&&n.timeline;ce(e)||(e=e?[e]:[]),R(e,function(t){t&&xIe(t)})}function xIe(n){var e=n.type,t={number:"value",time:"time"};if(t[e]&&(n.axisType=t[e],delete n.type),gz(n),ud(n,"controlPosition")){var r=n.controlStyle||(n.controlStyle={});ud(r,"position")||(r.position=n.controlPosition),r.position==="none"&&!ud(r,"show")&&(r.show=!1,delete r.position),delete n.controlPosition}R(n.data||[],function(o){Ge(o)&&!ce(o)&&(!ud(o,"value")&&ud(o,"name")&&(o.value=o.name),gz(o))})}function gz(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),r=n.label||n.label||{},o=r.normal||(r.normal={}),i={normal:1,emphasis:1};R(r,function(a,s){!i[s]&&!ud(o,s)&&(o[s]=a)}),t.label&&!ud(r,"emphasis")&&(r.emphasis=t.label,delete t.label)}function ud(n,e){return n.hasOwnProperty(e)}function SIe(n){n.registerComponentModel(JX),n.registerComponentView(gIe),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),bIe(n),n.registerPreprocessor(wIe)}function IP(n,e){if(!n)return!1;for(var t=ce(n)?n:[n],r=0;r<t.length;r++)if(t[r]&&t[r][e])return!0;return!1}function T1(n){Fd(n,"label",["show"])}var A1=Tt(),Al=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return e.prototype.init=function(t,r,o){this.mergeDefaultAndTheme(t,o),this._mergeOption(t,o,!1,!0)},e.prototype.isAnimationEnabled=function(){if(At.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,r){this._mergeOption(t,r,!1,!1)},e.prototype._mergeOption=function(t,r,o,i){var a=this.mainType;o||r.eachSeries(function(s){var l=s.get(this.mainType,!0),u=A1(s)[a];if(!l||!l.data){A1(s)[a]=null;return}u?u._mergeOption(l,r,!0):(i&&T1(l),R(l.data,function(c){c instanceof Array?(T1(c[0]),T1(c[1])):T1(c)}),u=this.createMarkerModelFromSeries(l,this,r),oe(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),A1(s)[a]=u},this)},e.prototype.formatTooltip=function(t,r,o){var i=this.getData(),a=this.getRawValue(t),s=i.getName(t);return kr("section",{header:this.name,blocks:[kr("nameValue",{name:s,value:a,noName:!s,noValue:a==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,r){var o=vC.prototype.getDataParams.call(this,t,r),i=this.__hostSeries;return i&&(o.seriesId=i.id,o.seriesName=i.name,o.seriesType=i.subType),o},e.getMarkerModelFromSeries=function(t,r){return A1(t)[r]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(Ct);Vn(Al,vC.prototype);var CIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,o){return new e(t,r,o)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(Al);function kD(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function kIe(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function D1(n,e,t,r,o,i){var a=[],s=_l(e,r),l=s?e.getCalculationInfo("stackResultDimension"):r,u=TP(e,l,n),c=e.indicesOfNearest(l,u)[0];a[o]=e.get(t,c),a[i]=e.get(l,c);var d=e.get(r,c),h=Aa(e.get(r,c));return h=Math.min(h,20),h>=0&&(a[i]=+a[i].toFixed(h)),[a,d]}var KI={min:Qe(D1,"min"),max:Qe(D1,"max"),average:Qe(D1,"average"),median:Qe(D1,"median")};function Om(n,e){if(e){var t=n.getData(),r=n.coordinateSystem,o=r&&r.dimensions;if(!kIe(e)&&!ce(e.coord)&&ce(o)){var i=QX(e,t,r,n);if(e=We(e),e.type&&KI[e.type]&&i.baseAxis&&i.valueAxis){var a=ct(o,i.baseAxis.dim),s=ct(o,i.valueAxis.dim),l=KI[e.type](t,i.baseDataDim,i.valueDataDim,a,s);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!ce(o))e.coord=[];else for(var u=e.coord,c=0;c<2;c++)KI[u[c]]&&(u[c]=TP(t,t.mapDimension(o[c]),u[c]));return e}}function QX(n,e,t,r){var o={};return n.valueIndex!=null||n.valueDim!=null?(o.valueDataDim=n.valueIndex!=null?e.getDimension(n.valueIndex):n.valueDim,o.valueAxis=t.getAxis(_Ie(r,o.valueDataDim)),o.baseAxis=t.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=r.getBaseAxis(),o.valueAxis=t.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function _Ie(n,e){var t=n.getData().getDimensionInfo(e);return t&&t.coordDim}function Fm(n,e){return n&&n.containData&&e.coord&&!kD(e)?n.containData(e.coord):!0}function IIe(n,e,t){return n&&n.containZone&&e.coord&&t.coord&&!kD(e)&&!kD(t)?n.containZone(e.coord,t.coord):!0}function eq(n,e){return n?function(t,r,o,i){var a=i<2?t.coord&&t.coord[i]:t.value;return Du(a,e[i])}:function(t,r,o,i){return Du(t.value,e[i])}}function TP(n,e,t){if(t==="average"){var r=0,o=0;return n.each(e,function(i,a){isNaN(i)||(r+=i,o++)}),r/o}else return t==="median"?n.getMedian(e):n.getDataExtent(e)[t==="max"?1:0]}var XI=Tt(),AP=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=Pe()},e.prototype.render=function(t,r,o){var i=this,a=this.markerGroupMap;a.each(function(s){XI(s).keep=!1}),r.eachSeries(function(s){var l=Al.getMarkerModelFromSeries(s,i.type);l&&i.renderSeries(s,l,r,o)}),a.each(function(s){!XI(s).keep&&i.group.remove(s.group)})},e.prototype.markKeep=function(t){XI(t).keep=!0},e.prototype.toggleBlurSeries=function(t,r){var o=this;R(t,function(i){var a=Al.getMarkerModelFromSeries(i,o.type);if(a){var s=a.getData();s.eachItemGraphicEl(function(l){l&&(r?NW(l):ME(l))})}})},e.type="marker",e}(Cn);function vz(n,e,t){var r=e.coordinateSystem;n.each(function(o){var i=n.getItemModel(o),a,s=_e(i.get("x"),t.getWidth()),l=_e(i.get("y"),t.getHeight());if(!isNaN(s)&&!isNaN(l))a=[s,l];else if(e.getMarkerPosition)a=e.getMarkerPosition(n.getValues(n.dimensions,o));else if(r){var u=n.get(r.dimensions[0],o),c=n.get(r.dimensions[1],o);a=r.dataToPoint([u,c])}isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l),n.setItemLayout(o,a)})}var TIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,o){r.eachSeries(function(i){var a=Al.getMarkerModelFromSeries(i,"markPoint");a&&(vz(a.getData(),i,o),this.markerGroupMap.get(i.id).updateLayout())},this)},e.prototype.renderSeries=function(t,r,o,i){var a=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new By),d=AIe(a,t,r);r.setData(d),vz(r.getData(),t,i),d.each(function(h){var f=d.getItemModel(h),p=f.getShallow("symbol"),g=f.getShallow("symbolSize"),v=f.getShallow("symbolRotate"),m=f.getShallow("symbolOffset"),y=f.getShallow("symbolKeepAspect");if(ze(p)||ze(g)||ze(v)||ze(m)){var b=r.getRawValue(h),w=r.getDataParams(h);ze(p)&&(p=p(b,w)),ze(g)&&(g=g(b,w)),ze(v)&&(v=v(b,w)),ze(m)&&(m=m(b,w))}var x=f.getModel("itemStyle").getItemStyle(),S=Ny(l,"color");x.fill||(x.fill=S),d.setItemVisual(h,{symbol:p,symbolSize:g,symbolRotate:v,symbolOffset:m,symbolKeepAspect:y,style:x})}),c.updateData(d),this.group.add(c.group),d.eachItemGraphicEl(function(h){h.traverse(function(f){Ye(f).dataModel=r})}),this.markKeep(c),c.group.silent=r.get("silent")||t.get("silent")},e.type="markPoint",e}(AP);function AIe(n,e,t){var r;n?r=fe(n&&n.dimensions,function(s){var l=e.getData().getDimensionInfo(e.getData().mapDimension(s))||{};return oe(oe({},l),{name:s,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var o=new ao(r,t),i=fe(t.get("data"),Qe(Om,e));n&&(i=Ht(i,Qe(Fm,n)));var a=eq(!!n,r);return o.initData(i,null,a),o}function DIe(n){n.registerComponentModel(CIe),n.registerComponentView(TIe),n.registerPreprocessor(function(e){IP(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var RIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,o){return new e(t,r,o)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(Al),R1=Tt(),EIe=function(n,e,t,r){var o=n.getData(),i;if(ce(r))i=r;else{var a=r.type;if(a==="min"||a==="max"||a==="average"||a==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)s=e.getAxis(r.yAxis!=null?"y":"x"),l=mr(r.yAxis,r.xAxis);else{var u=QX(r,o,e,n);s=u.valueAxis;var c=x$(o,u.valueDataDim);l=TP(o,c,a)}var d=s.dim==="x"?0:1,h=1-d,f=We(r),p={coord:[]};f.type=null,f.coord=[],f.coord[h]=-1/0,p.coord[h]=1/0;var g=t.get("precision");g>=0&&Rt(l)&&(l=+l.toFixed(Math.min(g,20))),f.coord[d]=p.coord[d]=l,i=[f,p,{type:a,valueIndex:r.valueIndex,value:l}]}else i=[]}var v=[Om(n,i[0]),Om(n,i[1]),oe({},i[2])];return v[2].type=v[2].type||null,rt(v[2],v[0]),rt(v[2],v[1]),v};function Ex(n){return!isNaN(n)&&!isFinite(n)}function mz(n,e,t,r){var o=1-n,i=r.dimensions[n];return Ex(e[o])&&Ex(t[o])&&e[n]===t[n]&&r.getAxis(i).containData(e[n])}function $Ie(n,e){if(n.type==="cartesian2d"){var t=e[0].coord,r=e[1].coord;if(t&&r&&(mz(1,t,r,n)||mz(0,t,r,n)))return!0}return Fm(n,e[0])&&Fm(n,e[1])}function qI(n,e,t,r,o){var i=r.coordinateSystem,a=n.getItemModel(e),s,l=_e(a.get("x"),o.getWidth()),u=_e(a.get("y"),o.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition)s=r.getMarkerPosition(n.getValues(n.dimensions,e));else{var c=i.dimensions,d=n.get(c[0],e),h=n.get(c[1],e);s=i.dataToPoint([d,h])}if(gh(i,"cartesian2d")){var f=i.getAxis("x"),p=i.getAxis("y"),c=i.dimensions;Ex(n.get(c[0],e))?s[0]=f.toGlobalCoord(f.getExtent()[t?0:1]):Ex(n.get(c[1],e))&&(s[1]=p.toGlobalCoord(p.getExtent()[t?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}n.setItemLayout(e,s)}var PIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,o){r.eachSeries(function(i){var a=Al.getMarkerModelFromSeries(i,"markLine");if(a){var s=a.getData(),l=R1(a).from,u=R1(a).to;l.each(function(c){qI(l,c,!0,i,o),qI(u,c,!1,i,o)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,r,o,i){var a=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new Z$);this.group.add(c.group);var d=MIe(a,t,r),h=d.from,f=d.to,p=d.line;R1(r).from=h,R1(r).to=f,r.setData(p);var g=r.get("symbol"),v=r.get("symbolSize"),m=r.get("symbolRotate"),y=r.get("symbolOffset");ce(g)||(g=[g,g]),ce(v)||(v=[v,v]),ce(m)||(m=[m,m]),ce(y)||(y=[y,y]),d.from.each(function(w){b(h,w,!0),b(f,w,!1)}),p.each(function(w){var x=p.getItemModel(w).getModel("lineStyle").getLineStyle();p.setItemLayout(w,[h.getItemLayout(w),f.getItemLayout(w)]),x.stroke==null&&(x.stroke=h.getItemVisual(w,"style").fill),p.setItemVisual(w,{fromSymbolKeepAspect:h.getItemVisual(w,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(w,"symbolOffset"),fromSymbolRotate:h.getItemVisual(w,"symbolRotate"),fromSymbolSize:h.getItemVisual(w,"symbolSize"),fromSymbol:h.getItemVisual(w,"symbol"),toSymbolKeepAspect:f.getItemVisual(w,"symbolKeepAspect"),toSymbolOffset:f.getItemVisual(w,"symbolOffset"),toSymbolRotate:f.getItemVisual(w,"symbolRotate"),toSymbolSize:f.getItemVisual(w,"symbolSize"),toSymbol:f.getItemVisual(w,"symbol"),style:x})}),c.updateData(p),d.line.eachItemGraphicEl(function(w){Ye(w).dataModel=r,w.traverse(function(x){Ye(x).dataModel=r})});function b(w,x,S){var C=w.getItemModel(x);qI(w,x,S,t,i);var k=C.getModel("itemStyle").getItemStyle();k.fill==null&&(k.fill=Ny(l,"color")),w.setItemVisual(x,{symbolKeepAspect:C.get("symbolKeepAspect"),symbolOffset:et(C.get("symbolOffset",!0),y[S?0:1]),symbolRotate:et(C.get("symbolRotate",!0),m[S?0:1]),symbolSize:et(C.get("symbolSize"),v[S?0:1]),symbol:et(C.get("symbol",!0),g[S?0:1]),style:k})}this.markKeep(c),c.group.silent=r.get("silent")||t.get("silent")},e.type="markLine",e}(AP);function MIe(n,e,t){var r;n?r=fe(n&&n.dimensions,function(u){var c=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return oe(oe({},c),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var o=new ao(r,t),i=new ao(r,t),a=new ao([],t),s=fe(t.get("data"),Qe(EIe,e,n,t));n&&(s=Ht(s,Qe($Ie,n)));var l=eq(!!n,r);return o.initData(fe(s,function(u){return u[0]}),null,l),i.initData(fe(s,function(u){return u[1]}),null,l),a.initData(fe(s,function(u){return u[2]})),a.hasItemOption=!0,{from:o,to:i,line:a}}function LIe(n){n.registerComponentModel(RIe),n.registerComponentView(PIe),n.registerPreprocessor(function(e){IP(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var NIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,o){return new e(t,r,o)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(Al),E1=Tt(),OIe=function(n,e,t,r){var o=r[0],i=r[1];if(!(!o||!i)){var a=Om(n,o),s=Om(n,i),l=a.coord,u=s.coord;l[0]=mr(l[0],-1/0),l[1]=mr(l[1],-1/0),u[0]=mr(u[0],1/0),u[1]=mr(u[1],1/0);var c=WS([{},a,s]);return c.coord=[a.coord,s.coord],c.x0=a.x,c.y0=a.y,c.x1=s.x,c.y1=s.y,c}};function $x(n){return!isNaN(n)&&!isFinite(n)}function yz(n,e,t,r){var o=1-n;return $x(e[o])&&$x(t[o])}function FIe(n,e){var t=e.coord[0],r=e.coord[1],o={coord:t,x:e.x0,y:e.y0},i={coord:r,x:e.x1,y:e.y1};return gh(n,"cartesian2d")?t&&r&&(yz(1,t,r)||yz(0,t,r))?!0:IIe(n,o,i):Fm(n,o)||Fm(n,i)}function bz(n,e,t,r,o){var i=r.coordinateSystem,a=n.getItemModel(e),s,l=_e(a.get(t[0]),o.getWidth()),u=_e(a.get(t[1]),o.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition){var c=n.getValues(["x0","y0"],e),d=n.getValues(["x1","y1"],e),h=i.clampData(c),f=i.clampData(d),p=[];t[0]==="x0"?p[0]=h[0]>f[0]?d[0]:c[0]:p[0]=h[0]>f[0]?c[0]:d[0],t[1]==="y0"?p[1]=h[1]>f[1]?d[1]:c[1]:p[1]=h[1]>f[1]?c[1]:d[1],s=r.getMarkerPosition(p,t,!0)}else{var g=n.get(t[0],e),v=n.get(t[1],e),m=[g,v];i.clampData&&i.clampData(m,m),s=i.dataToPoint(m,!0)}if(gh(i,"cartesian2d")){var y=i.getAxis("x"),b=i.getAxis("y"),g=n.get(t[0],e),v=n.get(t[1],e);$x(g)?s[0]=y.toGlobalCoord(y.getExtent()[t[0]==="x0"?0:1]):$x(v)&&(s[1]=b.toGlobalCoord(b.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var wz=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],BIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,o){r.eachSeries(function(i){var a=Al.getMarkerModelFromSeries(i,"markArea");if(a){var s=a.getData();s.each(function(l){var u=fe(wz,function(d){return bz(s,l,d,i,o)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,r,o,i){var a=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new Xe});this.group.add(c.group),this.markKeep(c);var d=zIe(a,t,r);r.setData(d),d.each(function(h){var f=fe(wz,function(k){return bz(d,h,k,t,i)}),p=a.getAxis("x").scale,g=a.getAxis("y").scale,v=p.getExtent(),m=g.getExtent(),y=[p.parse(d.get("x0",h)),p.parse(d.get("x1",h))],b=[g.parse(d.get("y0",h)),g.parse(d.get("y1",h))];vi(y),vi(b);var w=!(v[0]>y[1]||v[1]<y[0]||m[0]>b[1]||m[1]<b[0]),x=!w;d.setItemLayout(h,{points:f,allClipped:x});var S=d.getItemModel(h).getModel("itemStyle").getItemStyle(),C=Ny(l,"color");S.fill||(S.fill=C,De(S.fill)&&(S.fill=fm(S.fill,.4))),S.stroke||(S.stroke=C),d.setItemVisual(h,"style",S)}),d.diff(E1(c).data).add(function(h){var f=d.getItemLayout(h);if(!f.allClipped){var p=new Po({shape:{points:f.points}});d.setItemGraphicEl(h,p),c.group.add(p)}}).update(function(h,f){var p=E1(c).data.getItemGraphicEl(f),g=d.getItemLayout(h);g.allClipped?p&&c.group.remove(p):(p?Pt(p,{shape:{points:g.points}},r,h):p=new Po({shape:{points:g.points}}),d.setItemGraphicEl(h,p),c.group.add(p))}).remove(function(h){var f=E1(c).data.getItemGraphicEl(h);c.group.remove(f)}).execute(),d.eachItemGraphicEl(function(h,f){var p=d.getItemModel(f),g=d.getItemVisual(f,"style");h.useStyle(d.getItemVisual(f,"style")),Hr(h,Cr(p),{labelFetcher:r,labelDataIndex:f,defaultText:d.getName(f)||"",inheritColor:De(g.fill)?fm(g.fill,1):"#000"}),Wr(h,p),On(h,null,null,p.get(["emphasis","disabled"])),Ye(h).dataModel=r}),E1(c).data=d,c.group.silent=r.get("silent")||t.get("silent")},e.type="markArea",e}(AP);function zIe(n,e,t){var r,o,i=["x0","y0","x1","y1"];if(n){var a=fe(n&&n.dimensions,function(u){var c=e.getData(),d=c.getDimensionInfo(c.mapDimension(u))||{};return oe(oe({},d),{name:u,ordinalMeta:null})});o=fe(i,function(u,c){return{name:u,type:a[c%2].type}}),r=new ao(o,t)}else o=[{name:"value",type:"float"}],r=new ao(o,t);var s=fe(t.get("data"),Qe(OIe,e,n,t));n&&(s=Ht(s,Qe(FIe,n)));var l=n?function(u,c,d,h){var f=u.coord[Math.floor(h/2)][h%2];return Du(f,o[h])}:function(u,c,d,h){return Du(u.value,o[h])};return r.initData(s,null,l),r.hasItemOption=!0,r}function VIe(n){n.registerComponentModel(NIe),n.registerComponentView(BIe),n.registerPreprocessor(function(e){IP(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var GIe=function(n,e){if(e==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},_D=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,o){this.mergeDefaultAndTheme(t,o),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,o=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),ce(r)&&R(r,function(i,a){De(i)&&(i={type:i}),r[a]=rt(i,GIe(o,i.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,o=0;o<t.length;o++){var i=t[o].get("name");if(this.isSelected(i)){this.select(i),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],o=[];t.eachRawSeries(function(l){var u=l.name;o.push(u);var c;if(l.legendVisualProvider){var d=l.legendVisualProvider,h=d.getAllNames();t.isSeriesFiltered(l)||(o=o.concat(h)),h.length?r=r.concat(h):c=!0}else c=!0;c&&IE(l)&&r.push(l.name)}),this._availableNames=o;var i=this.get("data")||r,a=Pe(),s=fe(i,function(l){return(De(l)||Rt(l))&&(l={name:l}),a.get(l.name)?null:(a.set(l.name,!0),new tn(l,this,this.ecModel))},this);this._data=Ht(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,o=this.get("selectedMode");if(o==="single"){var i=this._data;R(i,function(a){r[a.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;R(t,function(o){r[o.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;R(t,function(o){var i=o.get("name",!0);r.hasOwnProperty(i)||(r[i]=!0),r[i]=!r[i]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&ct(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Ct),Jh=Qe,ID=R,$1=Xe,tq=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new $1),this.group.add(this._selectorGroup=new $1),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,o){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var a=t.get("align"),s=t.get("orient");(!a||a==="auto")&&(a=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(a,t,r,o,l,s,u);var c=t.getBoxLayoutParams(),d={width:o.getWidth(),height:o.getHeight()},h=t.get("padding"),f=er(c,d,h),p=this.layoutInner(t,a,f,i,l,u),g=er(Ve({width:p.width,height:p.height},c),d,h);this.group.x=g.x-p.x,this.group.y=g.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=WX(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,o,i,a,s,l){var u=this.getContentGroup(),c=Pe(),d=r.get("selectedMode"),h=[];o.eachRawSeries(function(f){!f.get("legendHoverLink")&&h.push(f.id)}),ID(r.getData(),function(f,p){var g=f.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var v=new $1;v.newline=!0,u.add(v);return}var m=o.getSeriesByName(g)[0];if(!c.get(g))if(m){var y=m.getData(),b=y.getVisual("legendLineStyle")||{},w=y.getVisual("legendIcon"),x=y.getVisual("style"),S=this._createItem(m,g,p,f,r,t,b,x,w,d,i);S.on("click",Jh(xz,g,null,i,h)).on("mouseover",Jh(TD,m.name,null,i,h)).on("mouseout",Jh(AD,m.name,null,i,h)),o.ssr&&S.eachChild(function(C){var k=Ye(C);k.seriesIndex=m.seriesIndex,k.dataIndex=p,k.ssrType="legend"}),c.set(g,!0)}else o.eachRawSeries(function(C){if(!c.get(g)&&C.legendVisualProvider){var k=C.legendVisualProvider;if(!k.containName(g))return;var _=k.indexOfName(g),I=k.getItemVisual(_,"style"),T=k.getItemVisual(_,"legendIcon"),A=To(I.fill);A&&A[3]===0&&(A[3]=.2,I=oe(oe({},I),{fill:Ma(A,"rgba")}));var D=this._createItem(C,g,p,f,r,t,{},I,T,d,i);D.on("click",Jh(xz,null,g,i,h)).on("mouseover",Jh(TD,null,g,i,h)).on("mouseout",Jh(AD,null,g,i,h)),o.ssr&&D.eachChild(function(E){var $=Ye(E);$.seriesIndex=C.seriesIndex,$.dataIndex=p,$.ssrType="legend"}),c.set(g,!0)}},this)},this),a&&this._createSelector(a,r,i,s,l)},e.prototype._createSelector=function(t,r,o,i,a){var s=this.getSelectorGroup();ID(t,function(u){var c=u.type,d=new _t({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){o.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(d);var h=r.getModel("selectorLabel"),f=r.getModel(["emphasis","selectorLabel"]);Hr(d,{normal:h,emphasis:f},{defaultText:u.title}),Iu(d)})},e.prototype._createItem=function(t,r,o,i,a,s,l,u,c,d,h){var f=t.visualDrawType,p=a.get("itemWidth"),g=a.get("itemHeight"),v=a.isSelected(r),m=i.get("symbolRotate"),y=i.get("symbolKeepAspect"),b=i.get("icon");c=b||c||"roundRect";var w=WIe(c,i,l,u,f,v,h),x=new $1,S=i.getModel("textStyle");if(ze(t.getLegendIcon)&&(!b||b==="inherit"))x.add(t.getLegendIcon({itemWidth:p,itemHeight:g,icon:c,iconRotate:m,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:y}));else{var C=b==="inherit"&&t.getData().getVisual("symbol")?m==="inherit"?t.getData().getVisual("symbolRotate"):m:0;x.add(HIe({itemWidth:p,itemHeight:g,icon:c,iconRotate:C,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:y}))}var k=s==="left"?p+5:-5,_=s,I=a.get("formatter"),T=r;De(I)&&I?T=I.replace("{name}",r??""):ze(I)&&(T=I(r));var A=v?S.getTextColor():i.get("inactiveColor");x.add(new _t({style:dn(S,{text:T,x:k,y:g/2,fill:A,align:_,verticalAlign:"middle"},{inheritColor:A})}));var D=new It({shape:x.getBoundingRect(),style:{fill:"transparent"}}),E=i.getModel("tooltip");return E.get("show")&&$p({el:D,componentModel:a,itemName:r,itemTooltipOption:E.option}),x.add(D),x.eachChild(function($){$.silent=!0}),D.silent=!d,this.getContentGroup().add(x),Iu(x),x.__legendDataIndex=o,x},e.prototype.layoutInner=function(t,r,o,i,a,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Ad(t.get("orient"),l,t.get("itemGap"),o.width,o.height);var c=l.getBoundingRect(),d=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),a){Ad("horizontal",u,t.get("selectorItemGap",!0));var h=u.getBoundingRect(),f=[-h.x,-h.y],p=t.get("selectorButtonGap",!0),g=t.getOrient().index,v=g===0?"width":"height",m=g===0?"height":"width",y=g===0?"y":"x";s==="end"?f[g]+=c[v]+p:d[g]+=h[v]+p,f[1-g]+=c[m]/2-h[m]/2,u.x=f[0],u.y=f[1],l.x=d[0],l.y=d[1];var b={x:0,y:0};return b[v]=c[v]+p+h[v],b[m]=Math.max(c[m],h[m]),b[y]=Math.min(0,h[y]+f[1-g]),b}else return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Cn);function WIe(n,e,t,r,o,i,a){function s(v,m){v.lineWidth==="auto"&&(v.lineWidth=m.lineWidth>0?2:0),ID(v,function(y,b){v[b]==="inherit"&&(v[b]=m[b])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=n.lastIndexOf("empty",0)===0?"fill":"stroke",d=l.getShallow("decal");u.decal=!d||d==="inherit"?r.decal:rp(d,a),u.fill==="inherit"&&(u.fill=r[o]),u.stroke==="inherit"&&(u.stroke=r[c]),u.opacity==="inherit"&&(u.opacity=(o==="fill"?r:t).opacity),s(u,r);var h=e.getModel("lineStyle"),f=h.getLineStyle();if(s(f,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),f.stroke==="auto"&&(f.stroke=r.fill),!i){var p=e.get("inactiveBorderWidth"),g=u[c];u.lineWidth=p==="auto"?r.lineWidth>0&&g?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),f.stroke=h.get("inactiveColor"),f.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:f}}function HIe(n){var e=n.icon||"roundRect",t=Un(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function xz(n,e,t,r){AD(n,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:n??e}),TD(n,e,t,r)}function nq(n){for(var e=n.getZr().storage.getDisplayList(),t,r=0,o=e.length;r<o&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function TD(n,e,t,r){nq(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:r})}function AD(n,e,t,r){nq(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:r})}function UIe(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function Kg(n,e,t){var r={},o=n==="toggleSelected",i;return t.eachComponent("legend",function(a){o&&i!=null?a[i?"select":"unSelect"](e.name):n==="allSelect"||n==="inverseSelect"?a[n]():(a[n](e.name),i=a.isSelected(e.name));var s=a.getData();R(s,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var c=a.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&c:r[u]=c}})}),n==="allSelect"||n==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function jIe(n){n.registerAction("legendToggleSelect","legendselectchanged",Qe(Kg,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",Qe(Kg,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",Qe(Kg,"inverseSelect")),n.registerAction("legendSelect","legendselected",Qe(Kg,"select")),n.registerAction("legendUnSelect","legendunselected",Qe(Kg,"unSelect"))}function rq(n){n.registerComponentModel(_D),n.registerComponentView(tq),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,UIe),n.registerSubTypeDefaulter("legend",function(){return"plain"}),jIe(n)}var KIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,o){var i=Lp(t);n.prototype.init.call(this,t,r,o),Sz(this,t,i)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),Sz(this,this.option,t)},e.type="legend.scroll",e.defaultOption=ec(_D.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(_D);function Sz(n,e,t){var r=n.getOrient(),o=[1,1];o[r.index]=0,Bu(e,t,{type:"box",ignoreSize:!!o})}var Cz=Xe,YI=["width","height"],ZI=["x","y"],XIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new Cz),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Cz)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,o,i,a,s,l){var u=this;n.prototype.renderInner.call(this,t,r,o,i,a,s,l);var c=this._controllerGroup,d=r.get("pageIconSize",!0),h=ce(d)?d:[d,d];p("pagePrev",0);var f=r.getModel("pageTextStyle");c.add(new _t({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(g,v){var m=g+"DataIndex",y=Ep(r.get("pageIcons",!0)[r.getOrient().name][v],{onclick:Re(u._pageGo,u,m,r,i)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});y.name=g,c.add(y)}},e.prototype.layoutInner=function(t,r,o,i,a,s){var l=this.getSelectorGroup(),u=t.getOrient().index,c=YI[u],d=ZI[u],h=YI[1-u],f=ZI[1-u];a&&Ad("horizontal",l,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),g=l.getBoundingRect(),v=[-g.x,-g.y],m=We(o);a&&(m[c]=o[c]-g[c]-p);var y=this._layoutContentAndController(t,i,m,u,c,h,f,d);if(a){if(s==="end")v[u]+=y[c]+p;else{var b=g[c]+p;v[u]-=b,y[d]-=b}y[c]+=g[c]+p,v[1-u]+=y[f]+y[h]/2-g[h]/2,y[h]=Math.max(y[h],g[h]),y[f]=Math.min(y[f],g[f]+v[1-u]),l.x=v[0],l.y=v[1],l.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,r,o,i,a,s,l,u){var c=this.getContentGroup(),d=this._containerGroup,h=this._controllerGroup;Ad(t.get("orient"),c,t.get("itemGap"),i?o.width:null,i?null:o.height),Ad("horizontal",h,t.get("pageButtonItemGap",!0));var f=c.getBoundingRect(),p=h.getBoundingRect(),g=this._showController=f[a]>o[a],v=[-f.x,-f.y];r||(v[i]=c[u]);var m=[0,0],y=[-p.x,-p.y],b=et(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(g){var w=t.get("pageButtonPosition",!0);w==="end"?y[i]+=o[a]-p[a]:m[i]+=p[a]+b}y[1-i]+=f[s]/2-p[s]/2,c.setPosition(v),d.setPosition(m),h.setPosition(y);var x={x:0,y:0};if(x[a]=g?o[a]:f[a],x[s]=Math.max(f[s],p[s]),x[l]=Math.min(0,p[l]+y[1-i]),d.__rectSize=o[a],g){var S={x:0,y:0};S[a]=Math.max(o[a]-p[a]-b,0),S[s]=x[s],d.setClipPath(new It({shape:S})),d.__rectSize=S[a]}else h.eachChild(function(k){k.attr({invisible:!0,silent:!0})});var C=this._getPageInfo(t);return C.pageIndex!=null&&Pt(c,{x:C.contentPosition[0],y:C.contentPosition[1]},g?t:null),this._updatePageInfoView(t,C),x},e.prototype._pageGo=function(t,r,o){var i=this._getPageInfo(r)[t];i!=null&&o.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var o=this._controllerGroup;R(["pagePrev","pageNext"],function(c){var d=c+"DataIndex",h=r[d]!=null,f=o.childOfName(c);f&&(f.setStyle("fill",h?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),f.cursor=h?"pointer":"default")});var i=o.childOfName("pageText"),a=t.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;i&&a&&i.setStyle("text",De(a)?a.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):a({current:l,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),o=this.getContentGroup(),i=this._containerGroup.__rectSize,a=t.getOrient().index,s=YI[a],l=ZI[a],u=this._findTargetItemIndex(r),c=o.children(),d=c[u],h=c.length,f=h?1:0,p={contentPosition:[o.x,o.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return p;var g=w(d);p.contentPosition[a]=-g.s;for(var v=u+1,m=g,y=g,b=null;v<=h;++v)b=w(c[v]),(!b&&y.e>m.s+i||b&&!x(b,m.s))&&(y.i>m.i?m=y:m=b,m&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=m.i),++p.pageCount)),y=b;for(var v=u-1,m=g,y=g,b=null;v>=-1;--v)b=w(c[v]),(!b||!x(y,b.s))&&m.i<y.i&&(y=m,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=m.i),++p.pageCount,++p.pageIndex),m=b;return p;function w(S){if(S){var C=S.getBoundingRect(),k=C[l]+S[l];return{s:k,e:k+C[s],i:S.__legendDataIndex}}}function x(S,C){return S.e>=C&&S.s<=C+i}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,o=this.getContentGroup(),i;return o.eachChild(function(a,s){var l=a.__legendDataIndex;i==null&&l!=null&&(i=s),l===t&&(r=s)}),r??i},e.type="legend.scroll",e}(tq);function qIe(n){n.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(o){o.setScrollDataIndex(r)})})}function YIe(n){pt(rq),n.registerComponentModel(KIe),n.registerComponentView(XIe),qIe(n)}function ZIe(n){pt(rq),pt(YIe)}var JIe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=ec(Nm.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Nm),DP=Tt();function QIe(n,e,t){DP(n).coordSysRecordMap.each(function(r){var o=r.dataZoomInfoMap.get(e.uid);o&&(o.getRange=t)})}function eTe(n,e){for(var t=DP(n).coordSysRecordMap,r=t.keys(),o=0;o<r.length;o++){var i=r[o],a=t.get(i),s=a.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||oq(t,a))}}}function oq(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function tTe(n,e){var t={model:e,containsPoint:Qe(rTe,e),dispatchAction:Qe(nTe,n),dataZoomInfoMap:null,controller:null},r=t.controller=new Hy(n.getZr());return R(["pan","zoom","scrollMove"],function(o){r.on(o,function(i){var a=[];t.dataZoomInfoMap.each(function(s){if(i.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[o],u=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,i);!s.model.get("disabled",!0)&&u&&a.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),a.length&&t.dispatchAction(a)})}),t}function nTe(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function rTe(n,e,t,r){return n.coordinateSystem.containPoint([t,r])}function oTe(n){var e,t="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return n.each(function(i){var a=i.model,s=a.get("disabled",!0)?!1:a.get("zoomLock",!0)?"move":!0;r[t+s]>r[t+e]&&(e=s),o=o&&a.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}}}function iTe(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var r=DP(t),o=r.coordSysRecordMap||(r.coordSysRecordMap=Pe());o.each(function(i){i.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(i){var a=zX(i);R(a.infoList,function(s){var l=s.model.uid,u=o.get(l)||o.set(l,tTe(t,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Pe());c.set(i.uid,{dzReferCoordSysInfo:s,model:i,getRange:null})})}),o.each(function(i){var a=i.controller,s,l=i.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){oq(o,i);return}var c=oTe(l);a.enable(c.controlType,c.opt),a.setPointerChecker(i.containsPoint),zp(i,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var aTe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,r,o){if(n.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),QIe(o,t,{pan:Re(JI.pan,this),zoom:Re(JI.zoom,this),scrollMove:Re(JI.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){eTe(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(wP),JI={zoom:function(n,e,t,r){var o=this.range,i=o.slice(),a=n.axisModels[0];if(a){var s=QI[e](null,[r.originX,r.originY],a,t,n),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(i[1]-i[0])+i[0],u=Math.max(1/r.scale,0);i[0]=(i[0]-l)*u+l,i[1]=(i[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(mh(0,i,[0,100],0,c.minSpan,c.maxSpan),this.range=i,o[0]!==i[0]||o[1]!==i[1])return i}},pan:kz(function(n,e,t,r,o,i){var a=QI[r]([i.oldX,i.oldY],[i.newX,i.newY],e,o,t);return a.signal*(n[1]-n[0])*a.pixel/a.pixelLength}),scrollMove:kz(function(n,e,t,r,o,i){var a=QI[r]([0,0],[i.scrollDelta,i.scrollDelta],e,o,t);return a.signal*(n[1]-n[0])*i.scrollDelta})};function kz(n){return function(e,t,r,o){var i=this.range,a=i.slice(),s=e.axisModels[0];if(s){var l=n(a,s,e,t,r,o);if(mh(l,a,[0,100],"all"),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}}}var QI={grid:function(n,e,t,r,o){var i=t.axis,a={},s=o.model.coordinateSystem.getRect();return n=n||[0,0],i.dim==="x"?(a.pixel=e[0]-n[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=i.inverse?1:-1):(a.pixel=e[1]-n[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=i.inverse?-1:1),a},polar:function(n,e,t,r,o){var i=t.axis,a={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return n=n?s.pointToCoord(n):[0,0],e=s.pointToCoord(e),t.mainType==="radiusAxis"?(a.pixel=e[0]-n[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=i.inverse?1:-1):(a.pixel=e[1]-n[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=i.inverse?-1:1),a},singleAxis:function(n,e,t,r,o){var i=t.axis,a=o.model.coordinateSystem.getRect(),s={};return n=n||[0,0],i.orient==="horizontal"?(s.pixel=e[0]-n[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=i.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=i.inverse?-1:1),s}};function iq(n){xP(n),n.registerComponentModel(JIe),n.registerComponentView(aTe),iTe(n)}var sTe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=ec(Nm.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Nm),Xg=It,_z=7,lTe=1,eT=30,uTe=7,qg="horizontal",Iz="vertical",cTe=5,dTe=["line","bar","candlestick","scatter"],hTe={easing:"cubicOut",duration:100,delay:0},fTe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,r){this.api=r,this._onBrush=Re(this._onBrush,this),this._onBrushEnd=Re(this._onBrushEnd,this)},e.prototype.render=function(t,r,o,i){if(n.prototype.render.apply(this,arguments),zp(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!i||i.type!=="dataZoom"||i.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Cm(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new Xe;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,o=t.get("brushSelect"),i=o?uTe:0,a=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===qg?{right:s.width-a.x-a.width,top:s.height-eT-_z-i,width:a.width,height:eT}:{right:_z,top:a.y,width:eT,height:a.height},u=Lp(t.option);R(["right","top","width","height"],function(d){u[d]==="ph"&&(u[d]=l[d])});var c=er(u,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===Iz&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,r=this._location,o=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),a=i&&i.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(o===qg&&!a?{scaleY:l?1:-1,scaleX:1}:o===qg&&a?{scaleY:l?1:-1,scaleX:-1}:o===Iz&&!a?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([s]);t.x=r.x-u.x,t.y=r.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,o=this._displayables.sliderGroup,i=t.get("brushSelect");o.add(new Xg({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var a=new Xg({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:Re(this._onClickPanel,this)}),s=this.api.getZr();i?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),o.add(a)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,o=this._shadowSize||[],i=t.series,a=i.getRawData(),s=i.getShadowDim&&i.getShadowDim(),l=s&&a.getDimensionInfo(s)?i.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(a!==this._shadowData||l!==this._shadowDim||r[0]!==o[0]||r[1]!==o[1]){var d=a.getDataExtent(l),h=(d[1]-d[0])*.3;d=[d[0]-h,d[1]+h];var f=[0,r[1]],p=[0,r[0]],g=[[r[0],0],[0,0]],v=[],m=p[1]/(a.count()-1),y=0,b=Math.round(a.count()/r[0]),w;a.each([l],function(_,I){if(b>0&&I%b){y+=m;return}var T=_==null||isNaN(_)||_==="",A=T?0:Wt(_,d,f,!0);T&&!w&&I?(g.push([g[g.length-1][0],0]),v.push([v[v.length-1][0],0])):!T&&w&&(g.push([y,0]),v.push([y,0])),g.push([y,A]),v.push([y,A]),y+=m,w=T}),u=this._shadowPolygonPts=g,c=this._shadowPolylinePts=v}this._shadowData=a,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var x=this.dataZoomModel;function S(_){var I=x.getModel(_?"selectedDataBackground":"dataBackground"),T=new Xe,A=new Po({shape:{points:u},segmentIgnoreThreshold:1,style:I.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),D=new No({shape:{points:c},segmentIgnoreThreshold:1,style:I.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return T.add(A),T.add(D),T}for(var C=0;C<3;C++){var k=S(C===1);this._displayables.sliderGroup.add(k),this._displayables.dataShadowSegs.push(k)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,r=t.get("showDataShadow");if(r!==!1){var o,i=this.ecModel;return t.eachTargetAxis(function(a,s){var l=t.getAxisProxy(a,s).getTargetSeriesModels();R(l,function(u){if(!o&&!(r!==!0&&ct(dTe,u.get("type"))<0)){var c=i.getComponent(mu(a),s).axis,d=pTe(a),h,f=u.coordinateSystem;d!=null&&f.getOtherAxis&&(h=f.getOtherAxis(c).inverse),d=u.getData().mapDimension(d),o={thisAxis:c,series:u,thisDim:a,otherDim:d,otherAxisInverse:h}}},this)},this),o}},e.prototype._renderHandle=function(){var t=this.group,r=this._displayables,o=r.handles=[null,null],i=r.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,d=l.get("brushSelect"),h=r.filler=new Xg({silent:d,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(h),a.add(new Xg({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:lTe,fill:"rgba(0,0,0,0)"}})),R([0,1],function(b){var w=l.get("handleIcon");!ax[w]&&w.indexOf("path://")<0&&w.indexOf("image://")<0&&(w="path://"+w);var x=Un(w,-1,0,2,2,null,!0);x.attr({cursor:Tz(this._orient),draggable:!0,drift:Re(this._onDragMove,this,b),ondragend:Re(this._onDragEnd,this),onmouseover:Re(this._showDataInfo,this,!0),onmouseout:Re(this._showDataInfo,this,!1),z2:5});var S=x.getBoundingRect(),C=l.get("handleSize");this._handleHeight=_e(C,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,x.setStyle(l.getModel("handleStyle").getItemStyle()),x.style.strokeNoScale=!0,x.rectHover=!0,x.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Iu(x);var k=l.get("handleColor");k!=null&&(x.style.fill=k),a.add(o[b]=x);var _=l.getModel("textStyle");t.add(i[b]=new _t({silent:!0,invisible:!0,style:dn(_,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:_.getTextColor(),font:_.getFont()}),z2:10}))},this);var f=h;if(d){var p=_e(l.get("moveHandleSize"),s[1]),g=r.moveHandle=new It({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:p}}),v=p*.8,m=r.moveHandleIcon=Un(l.get("moveHandleIcon"),-v/2,-v/2,v,v,"#fff",!0);m.silent=!0,m.y=s[1]+p/2-.5,g.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(s[1]/2,Math.max(p,10));f=r.moveZone=new It({invisible:!0,shape:{y:s[1]-y,height:p+y}}),f.on("mouseover",function(){u.enterEmphasis(g)}).on("mouseout",function(){u.leaveEmphasis(g)}),a.add(g),a.add(m),a.add(f)}f.attr({draggable:!0,cursor:Tz(this._orient),drift:Re(this._onDragMove,this,"all"),ondragstart:Re(this._showDataInfo,this,!0),ondragend:Re(this._onDragEnd,this),onmouseover:Re(this._showDataInfo,this,!0),onmouseout:Re(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[Wt(t[0],[0,100],r,!0),Wt(t[1],[0,100],r,!0)]},e.prototype._updateInterval=function(t,r){var o=this.dataZoomModel,i=this._handleEnds,a=this._getViewExtent(),s=o.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];mh(r,i,a,o.get("zoomLock")?"all":t,s.minSpan!=null?Wt(s.minSpan,l,a,!0):null,s.maxSpan!=null?Wt(s.maxSpan,l,a,!0):null);var u=this._range,c=this._range=vi([Wt(i[0],a,l,!0),Wt(i[1],a,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(t){var r=this._displayables,o=this._handleEnds,i=vi(o.slice()),a=this._size;R([0,1],function(f){var p=r.handles[f],g=this._handleHeight;p.attr({scaleX:g/2,scaleY:g/2,x:o[f]+(f?-1:1),y:a[1]/2-g/2})},this),r.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:a[1]});var s={x:i[0],width:i[1]-i[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,i[0],i[1],a[0]],c=0;c<l.length;c++){var d=l[c],h=d.getClipPath();h||(h=new It,d.setClipPath(h)),h.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:a[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,o=this._displayables,i=o.handleLabels,a=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,d=t?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(d[0],u),this._formatLabel(d[1],u)]}}var h=vi(this._handleEnds.slice());f.call(this,0),f.call(this,1);function f(p){var g=Tu(o.handles[p].parent,this.group),v=lC(p===0?"right":"left",g),m=this._handleWidth/2+cTe,y=La([h[p]+(p===0?-m:m),this._size[1]/2],g);i[p].setStyle({x:y[0],y:y[1],verticalAlign:a===qg?"middle":v,align:a===qg?v:"center",text:s[p]})}},e.prototype._formatLabel=function(t,r){var o=this.dataZoomModel,i=o.get("labelFormatter"),a=o.get("labelPrecision");(a==null||a==="auto")&&(a=r.getPixelPrecision());var s=t==null||isNaN(t)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(a,20));return ze(i)?i(t,s):De(i)?i.replace("{value}",s):s},e.prototype._showDataInfo=function(t){t=this._dragging||t;var r=this._displayables,o=r.handleLabels;o[0].attr("invisible",!t),o[1].attr("invisible",!t),r.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},e.prototype._onDragMove=function(t,r,o,i){this._dragging=!0,xl(i.event);var a=this._displayables.sliderGroup.getLocalTransform(),s=La([r,o],a,!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var r=this._size,o=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(o[0]<0||o[0]>r[0]||o[1]<0||o[1]>r[1])){var i=this._handleEnds,a=(i[0]+i[1])/2,s=this._updateInterval("all",o[0]-a);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var r=t.offsetX,o=t.offsetY;this._brushStart=new at(r,o),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var o=r.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(o.width)<5)){var a=this._getViewExtent(),s=[0,100];this._range=vi([Wt(o.x,a,s,!0),Wt(o.x+o.width,a,s,!0)]),this._handleEnds=[o.x,o.x+o.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(xl(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,r){var o=this._displayables,i=this.dataZoomModel,a=o.brushRect;a||(a=o.brushRect=new Xg({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),o.sliderGroup.add(a)),a.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,r),c=l.transformCoordToLocal(s.x,s.y),d=this._size;u[0]=Math.max(Math.min(d[0],u[0]),0),a.setShape({x:c[0],y:0,width:u[0]-c[0],height:d[1]})},e.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?hTe:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var t,r=zX(this.dataZoomModel).infoList;if(!t&&r.length){var o=r[0].model.coordinateSystem;t=o.getRect&&o.getRect()}if(!t){var i=this.api.getWidth(),a=this.api.getHeight();t={x:i*.2,y:a*.2,width:i*.6,height:a*.6}}return t},e.type="dataZoom.slider",e}(wP);function pTe(n){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[n]}function Tz(n){return n==="vertical"?"ns-resize":"ew-resize"}function aq(n){n.registerComponentModel(sTe),n.registerComponentView(fTe),xP(n)}function gTe(n){pt(iq),pt(aq)}var sq={get:function(n,e,t){var r=We((vTe[n]||{})[e]);return t&&ce(r)?r[r.length-1]:r}},vTe={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Az=xr.mapVisual,mTe=xr.eachVisual,yTe=ce,Dz=R,bTe=vi,wTe=Wt,Px=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,r,o){this.mergeDefaultAndTheme(t,o)},e.prototype.optionUpdated=function(t,r){var o=this.option;!r&&YX(o,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var r=this.stateList;t=Re(t,this),this.controllerVisuals=SD(this.option.controller,r,t),this.targetVisuals=SD(this.option.target,r,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,r=[];return t==null||t==="all"?this.ecModel.eachSeries(function(o,i){r.push(i)}):r=rn(t),r},e.prototype.eachTargetSeries=function(t,r){R(this.getTargetSeriesIndices(),function(o){var i=this.ecModel.getSeriesByIndex(o);i&&t.call(r,i)},this)},e.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(o){o===t&&(r=!0)}),r},e.prototype.formatValueText=function(t,r,o){var i=this.option,a=i.precision,s=this.dataBound,l=i.formatter,u;o=o||["<",">"],ce(t)&&(t=t.slice(),u=!0);var c=r?t:u?[d(t[0]),d(t[1])]:d(t);if(De(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(ze(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===s[0]?o[0]+" "+c[1]:t[1]===s[1]?o[1]+" "+c[0]:c[0]+" - "+c[1];return c;function d(h){return h===s[0]?"min":h===s[1]?"max":(+h).toFixed(Math.min(a,20))}},e.prototype.resetExtent=function(){var t=this.option,r=bTe([t.min,t.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(r!=null)return t.getDimensionIndex(r);for(var o=t.dimensions,i=o.length-1;i>=0;i--){var a=o[i],s=t.getDimensionInfo(a);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,o={inRange:r.inRange,outOfRange:r.outOfRange},i=r.target||(r.target={}),a=r.controller||(r.controller={});rt(i,o),rt(a,o);var s=this.isCategory();l.call(this,i),l.call(this,a),u.call(this,i,"inRange","outOfRange"),c.call(this,a);function l(d){yTe(r.color)&&!d.inRange&&(d.inRange={color:r.color.slice().reverse()}),d.inRange=d.inRange||{color:t.get("gradientColor")}}function u(d,h,f){var p=d[h],g=d[f];p&&!g&&(g=d[f]={},Dz(p,function(v,m){if(xr.isValidType(m)){var y=sq.get(m,"inactive",s);y!=null&&(g[m]=y,m==="color"&&!g.hasOwnProperty("opacity")&&!g.hasOwnProperty("colorAlpha")&&(g.opacity=[0,0]))}}))}function c(d){var h=(d.inRange||{}).symbol||(d.outOfRange||{}).symbol,f=(d.inRange||{}).symbolSize||(d.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),g=this.getItemSymbol(),v=g||"roundRect";Dz(this.stateList,function(m){var y=this.itemSize,b=d[m];b||(b=d[m]={color:s?p:[p]}),b.symbol==null&&(b.symbol=h&&We(h)||(s?v:[v])),b.symbolSize==null&&(b.symbolSize=f&&We(f)||(s?y[0]:[y[0],y[0]])),b.symbol=Az(b.symbol,function(S){return S==="none"?v:S});var w=b.symbolSize;if(w!=null){var x=-1/0;mTe(w,function(S){S>x&&(x=S)}),b.symbolSize=Az(w,function(S){return wTe(S,[0,x],[0,y[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(Ct),Rz=[20,140],xTe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(o){o.mappingMethod="linear",o.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=Rz[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=Rz[1])},e.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):ce(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),R(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),r=vi((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},e.prototype.getValueState=function(t){var r=this.option.range,o=this.getExtent();return(r[0]<=o[0]||r[0]<=t)&&(r[1]>=o[1]||t<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(o){var i=[],a=o.getData();a.each(this.getDataDimensionIndex(a),function(s,l){t[0]<=s&&s<=t[1]&&i.push(l)},this),r.push({seriesId:o.id,dataIndex:i})},this),r},e.prototype.getVisualMeta=function(t){var r=Ez(this,"outOfRange",this.getExtent()),o=Ez(this,"inRange",this.option.range.slice()),i=[];function a(f,p){i.push({value:f,color:t(f,p)})}for(var s=0,l=0,u=o.length,c=r.length;l<c&&(!o.length||r[l]<=o[0]);l++)r[l]<o[s]&&a(r[l],"outOfRange");for(var d=1;s<u;s++,d=0)d&&i.length&&a(o[s],"outOfRange"),a(o[s],"inRange");for(var d=1;l<c;l++)(!o.length||o[o.length-1]<r[l])&&(d&&(i.length&&a(i[i.length-1].value,"outOfRange"),d=0),a(r[l],"outOfRange"));var h=i.length;return{stops:i,outerColors:[h?i[0].color:"transparent",h?i[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=ec(Px.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(Px);function Ez(n,e,t){if(t[0]===t[1])return t.slice();for(var r=200,o=(t[1]-t[0])/r,i=t[0],a=[],s=0;s<=r&&i<t[1];s++)a.push(i),i+=o;return a.push(t[1]),a}var lq=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r},e.prototype.render=function(t,r,o,i){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,r,o,i)},e.prototype.renderBackground=function(t){var r=this.visualMapModel,o=fh(r.get("padding")||0),i=t.getBoundingRect();t.add(new It({z2:-1,silent:!0,shape:{x:i.x-o[3],y:i.y-o[0],width:i.width+o[3]+o[1],height:i.height+o[0]+o[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,r,o){o=o||{};var i=o.forceState,a=this.visualMapModel,s={};if(r==="color"){var l=a.get("contentColor");s.color=l}function u(f){return s[f]}function c(f,p){s[f]=p}var d=a.controllerVisuals[i||a.getValueState(t)],h=xr.prepareVisualTypes(d);return R(h,function(f){var p=d[f];o.convertOpacityToAlpha&&f==="opacity"&&(f="colorAlpha",p=d.__alphaForOpacity),xr.dependsOn(f,r)&&p&&p.applyVisual(t,u,c)}),s[r]},e.prototype.positionGroup=function(t){var r=this.visualMapModel,o=this.api;pC(t,r.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()})},e.prototype.doRender=function(t,r,o,i){},e.type="visualMap",e}(Cn),$z=[["left","right","width"],["top","bottom","height"]];function uq(n,e,t){var r=n.option,o=r.align;if(o!=null&&o!=="auto")return o;for(var i={width:e.getWidth(),height:e.getHeight()},a=r.orient==="horizontal"?1:0,s=$z[a],l=[0,null,10],u={},c=0;c<3;c++)u[$z[1-a][c]]=l[c],u[s[c]]=c===2?t[0]:r[s[c]];var d=[["x","width",3],["y","height",0]][a],h=er(u,i,r.padding);return s[(h.margin[d[2]]||0)+h[d[0]]+h[d[1]]*.5<i[d[1]]*.5?0:1]}function Sw(n,e){return R(n||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var ss=Wt,STe=R,Pz=Math.min,tT=Math.max,CTe=12,kTe=6,_Te=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,r){n.prototype.init.call(this,t,r),this._hoverLinkFromSeriesMouseOver=Re(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Re(this._hideIndicator,this)},e.prototype.doRender=function(t,r,o,i){(!i||i.type!=="selectDataRange"||i.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var o=t.get("text");this._renderEndsText(r,o,0),this._renderEndsText(r,o,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(t,r,o){if(r){var i=r[1-o];i=i!=null?i+"":"";var a=this.visualMapModel,s=a.get("textGap"),l=a.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,o===0?-s:l[1]+s],u),d=this._applyTransform(o===0?"bottom":"top",u),h=this._orient,f=this.visualMapModel.textStyleModel;this.group.add(new _t({style:dn(f,{x:c[0],y:c[1],verticalAlign:h==="horizontal"?"middle":d,align:h==="horizontal"?d:"center",text:i})}))}},e.prototype._renderBar=function(t){var r=this.visualMapModel,o=this._shapes,i=r.itemSize,a=this._orient,s=this._useHandle,l=uq(r,this.api,i),u=o.mainGroup=this._createBarGroup(l),c=new Xe;u.add(c),c.add(o.outOfRange=Mz()),c.add(o.inRange=Mz(null,s?Nz(this._orient):null,Re(this._dragHandle,this,"all",!1),Re(this._dragHandle,this,"all",!0))),c.setClipPath(new It({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var d=r.textStyleModel.getTextRect(""),h=tT(d.width,d.height);s&&(o.handleThumbs=[],o.handleLabels=[],o.handleLabelPoints=[],this._createHandle(r,u,0,i,h,a),this._createHandle(r,u,1,i,h,a)),this._createIndicator(r,u,i,h,a),t.add(u)},e.prototype._createHandle=function(t,r,o,i,a,s){var l=Re(this._dragHandle,this,o,!1),u=Re(this._dragHandle,this,o,!0),c=Ga(t.get("handleSize"),i[0]),d=Un(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=Nz(this._orient);d.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(m){xl(m.event)}}),d.x=i[0]/2,d.useStyle(t.getModel("handleStyle").getItemStyle()),d.setStyle({strokeNoScale:!0,strokeFirst:!0}),d.style.lineWidth*=2,d.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),gd(d,!0),r.add(d);var f=this.visualMapModel.textStyleModel,p=new _t({cursor:h,draggable:!0,drift:l,onmousemove:function(m){xl(m.event)},ondragend:u,style:dn(f,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var g=[c,0],v=this._shapes;v.handleThumbs[o]=d,v.handleLabelPoints[o]=g,v.handleLabels[o]=p},e.prototype._createIndicator=function(t,r,o,i,a){var s=Ga(t.get("indicatorSize"),o[0]),l=Un(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:o[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Lr){var c=l.style;l.useStyle(oe({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);r.add(l);var d=this.visualMapModel.textStyleModel,h=new _t({silent:!0,invisible:!0,style:dn(d,{x:0,y:0,text:""})});this.group.add(h);var f=[(a==="horizontal"?i/2:kTe)+o[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=h,p.indicatorLabelPoint=f,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,r,o,i){if(this._useHandle){if(this._dragging=!r,!r){var a=this._applyTransform([o,i],this._shapes.mainGroup,!0);this._updateInterval(t,a[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():Lz(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),o=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[ss(r[0],o,i,!0),ss(r[1],o,i,!0)]},e.prototype._updateInterval=function(t,r){r=r||0;var o=this.visualMapModel,i=this._handleEnds,a=[0,o.itemSize[1]];mh(r,i,a,t,0);var s=o.getExtent();this._dataInterval=[ss(i[0],a,s,!0),ss(i[1],a,s,!0)]},e.prototype._updateView=function(t){var r=this.visualMapModel,o=r.getExtent(),i=this._shapes,a=[0,r.itemSize[1]],s=t?a:this._handleEnds,l=this._createBarVisual(this._dataInterval,o,s,"inRange"),u=this._createBarVisual(o,o,a,"outOfRange");i.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),i.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(t,r,o,i){var a={forceState:i,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,a),l=[this.getControllerVisual(t[0],"symbolSize",a),this.getControllerVisual(t[1],"symbolSize",a)],u=this._createBarPoints(o,l);return{barColor:new Dp(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,r){var o=100,i=[],a=(t[1]-t[0])/o;i.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var s=1;s<o;s++){var l=t[0]+a*s;if(l>t[1])break;i.push({color:this.getControllerVisual(l,"color",r),offset:s/o})}return i.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),i},e.prototype._createBarPoints=function(t,r){var o=this.visualMapModel.itemSize;return[[o[0]-r[0],t[0]],[o[0],t[0]],[o[0],t[1]],[o[0]-r[1],t[1]]]},e.prototype._createBarGroup=function(t){var r=this._orient,o=this.visualMapModel.get("inverse");return new Xe(r==="horizontal"&&!o?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&o?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!o?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,r){if(this._useHandle){var o=this._shapes,i=this.visualMapModel,a=o.handleThumbs,s=o.handleLabels,l=i.itemSize,u=i.getExtent();STe([0,1],function(c){var d=a[c];d.setStyle("fill",r.handlesColor[c]),d.y=t[c];var h=ss(t[c],[0,l[1]],u,!0),f=this.getControllerVisual(h,"symbolSize");d.scaleX=d.scaleY=f/l[0],d.x=l[0]-f/2;var p=La(o.handleLabelPoints[c],Tu(d,this.group));s[c].setStyle({x:p[0],y:p[1],text:i.formatValueText(this._dataInterval[c]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",o.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,r,o,i){var a=this.visualMapModel,s=a.getExtent(),l=a.itemSize,u=[0,l[1]],c=this._shapes,d=c.indicator;if(d){d.attr("invisible",!1);var h={convertOpacityToAlpha:!0},f=this.getControllerVisual(t,"color",h),p=this.getControllerVisual(t,"symbolSize"),g=ss(t,s,u,!0),v=l[0]-p/2,m={x:d.x,y:d.y};d.y=g,d.x=v;var y=La(c.indicatorLabelPoint,Tu(d,this.group)),b=c.indicatorLabel;b.attr("invisible",!1);var w=this._applyTransform("left",c.mainGroup),x=this._orient,S=x==="horizontal";b.setStyle({text:(o||"")+a.formatValueText(r),verticalAlign:S?w:"middle",align:S?"center":w});var C={x:v,y:g,style:{fill:f}},k={style:{x:y[0],y:y[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var _={duration:100,easing:"cubicInOut",additive:!0};d.x=m.x,d.y=m.y,d.animateTo(C,_),b.animateTo(k,_)}else d.attr(C),b.attr(k);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var T=0;T<I.length;T++)this.api.enterBlur(I[T])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var o=t.visualMapModel.itemSize,i=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);i[1]=Pz(tT(0,i[1]),o[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=o[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,r){var o=this.visualMapModel,i=o.itemSize;if(o.option.hoverLink){var a=[0,i[1]],s=o.getExtent();t=Pz(tT(a[0],t),a[1]);var l=ITe(o,s,a),u=[t-l,t+l],c=ss(t,a,s,!0),d=[ss(u[0],a,s,!0),ss(u[1],a,s,!0)];u[0]<a[0]&&(d[0]=-1/0),u[1]>a[1]&&(d[1]=1/0),r&&(d[0]===-1/0?this._showIndicator(c,d[1],"< ",l):d[1]===1/0?this._showIndicator(c,d[0],"> ",l):this._showIndicator(c,c," ",l));var h=this._hoverLinkDataIndices,f=[];(r||Lz(o))&&(f=this._hoverLinkDataIndices=o.findTargetDataIndices(d));var p=dde(h,f);this._dispatchHighDown("downplay",Sw(p[0],o)),this._dispatchHighDown("highlight",Sw(p[1],o))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var r;if(md(t.target,function(l){var u=Ye(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var o=this.ecModel.getSeriesByIndex(r.seriesIndex),i=this.visualMapModel;if(i.isTargetSeries(o)){var a=o.getData(r.dataType),s=a.getStore().get(i.getDataDimensionIndex(a),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var o=0;o<r.length;o++)this.api.leaveBlur(r[o])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Sw(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,r,o,i){var a=Tu(r,i?null:this.group);return ce(t)?La(t,a,o):lC(t,a,o)},e.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(lq);function Mz(n,e,t,r){return new Po({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(o){xl(o.event)},ondragend:r})}function ITe(n,e,t){var r=CTe/2,o=n.get("hoverLinkDataSize");return o&&(r=ss(o,e,t,!0)/2),r}function Lz(n){var e=n.get("hoverLinkOnHandle");return!!(e??n.get("realtime"))}function Nz(n){return n==="vertical"?"ns-resize":"ew-resize"}var TTe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},ATe=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},DTe=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(r){var o=n.pipelineContext;!r.isTargetSeries(n)||o&&o.large||t.push(Z_e(r.stateList,r.targetVisuals,Re(r.getValueState,r),r.getDataDimensionIndex(n.getData())))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),r=[];e.eachComponent("visualMap",function(o){if(o.isTargetSeries(n)){var i=o.getVisualMeta(Re(RTe,null,n,o))||{stops:[],outerColors:[]},a=o.getDataDimensionIndex(t);a>=0&&(i.dimension=a,r.push(i))}}),n.getData().setVisual("visualMeta",r)}}];function RTe(n,e,t,r){for(var o=e.targetVisuals[r],i=xr.prepareVisualTypes(o),a={color:Ny(n.getData(),"color")},s=0,l=i.length;s<l;s++){var u=i[s],c=o[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(t,d,h)}return a.color;function d(f){return a[f]}function h(f,p){a[f]=p}}var Oz=R;function ETe(n){var e=n&&n.visualMap;ce(e)||(e=e?[e]:[]),Oz(e,function(t){if(t){Qh(t,"splitList")&&!Qh(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&ce(r)&&Oz(r,function(o){Ge(o)&&(Qh(o,"start")&&!Qh(o,"min")&&(o.min=o.start),Qh(o,"end")&&!Qh(o,"max")&&(o.max=o.end))})}})}function Qh(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var Fz=!1;function cq(n){Fz||(Fz=!0,n.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),n.registerAction(TTe,ATe),R(DTe,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(ETe))}function dq(n){n.registerComponentModel(xTe),n.registerComponentView(_Te),cq(n)}var $Te=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var o=this._mode=this._determineMode();this._pieceList=[],PTe[this._mode].call(this,this._pieceList),this._resetSelected(t,r);var i=this.option.categories;this.resetVisual(function(a,s){o==="categories"?(a.mappingMethod="category",a.categories=We(i)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=fe(this._pieceList,function(l){return l=We(l),s!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,r={},o=xr.listVisualTypes(),i=this.isCategory();R(t.pieces,function(s){R(o,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),R(r,function(s,l){var u=!1;R(this.stateList,function(c){u=u||a(t,c,l)||a(t.target,c,l)},this),!u&&R(this.stateList,function(c){(t[c]||(t[c]={}))[l]=sq.get(l,c==="inRange"?"active":"inactive",i)})},this);function a(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,r){var o=this.option,i=this._pieceList,a=(r?o:t).selected||{};if(o.selected=a,R(i,function(l,u){var c=this.getSelectedMapKey(l);a.hasOwnProperty(c)||(a[c]=!0)},this),o.selectedMode==="single"){var s=!1;R(i,function(l,u){var c=this.getSelectedMapKey(l);a[c]&&(s?a[c]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=We(t)},e.prototype.getValueState=function(t){var r=xr.findPieceIndex(t,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[],o=this._pieceList;return this.eachTargetSeries(function(i){var a=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=xr.findPieceIndex(l,o);c===t&&a.push(u)},this),r.push({seriesId:i.id,dataIndex:a})},this),r},e.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(t.value!=null)r=t.value;else{var o=t.interval||[];r=o[0]===-1/0&&o[1]===1/0?0:(o[0]+o[1])/2}return r},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var r=[],o=["",""],i=this;function a(c,d){var h=i.getRepresentValue({interval:c});d||(d=i.getValueState(h));var f=t(h,d);c[0]===-1/0?o[0]=f:c[1]===1/0?o[1]=f:r.push({value:c[0],color:f},{value:c[1],color:f})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return R(s,function(c){var d=c.interval;d&&(d[0]>u&&a([u,d[0]],"outOfRange"),a(d.slice()),u=d[1])},this),{stops:r,outerColors:o}},e.type="visualMap.piecewise",e.defaultOption=ec(Px.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(Px),PTe={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),r=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;for(var i=(r[1]-r[0])/o;+i.toFixed(t)!==i&&t<5;)t++;e.precision=t,i=+i.toFixed(t),e.minOpen&&n.push({interval:[-1/0,r[0]],close:[0,0]});for(var a=0,s=r[0];a<o;s+=i,a++){var l=a===o-1?r[1]:s+i;n.push({interval:[s,l],close:[1,1]})}e.maxOpen&&n.push({interval:[r[1],1/0],close:[0,0]}),hA(n),R(n,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(n){var e=this.option;R(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),Bz(e,n)},pieces:function(n){var e=this.option;R(e.pieces,function(t,r){Ge(t)||(t={value:t});var o={text:"",index:r};if(t.label!=null&&(o.text=t.label),t.hasOwnProperty("value")){var i=o.value=t.value;o.interval=[i,i],o.close=[1,1]}else{for(var a=o.interval=[],s=o.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],d=0;d<2;d++){for(var h=[["gte","gt","min"],["lte","lt","max"]][d],f=0;f<3&&a[d]==null;f++)a[d]=t[h[f]],s[d]=l[f],c[d]=f===2;a[d]==null&&(a[d]=u[d])}c[0]&&a[1]===1/0&&(s[0]=0),c[1]&&a[0]===-1/0&&(s[1]=0),a[0]===a[1]&&s[0]&&s[1]&&(o.value=a[0])}o.visual=xr.retrieveVisuals(t),n.push(o)},this),Bz(e,n),hA(n),R(n,function(t){var r=t.close,o=[["<",""][r[1]],[">",""][r[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,o)},this)}};function Bz(n,e){var t=n.inverse;(n.orient==="vertical"?!t:t)&&e.reverse()}var MTe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,o=r.get("textGap"),i=r.textStyleModel,a=i.getFont(),s=i.getTextColor(),l=this._getItemAlign(),u=r.itemSize,c=this._getViewData(),d=c.endsText,h=mr(r.get("showLabel",!0),!d);d&&this._renderEndsText(t,d[0],u,h,l),R(c.viewPieceList,function(f){var p=f.piece,g=new Xe;g.onclick=Re(this._onItemClick,this,p),this._enableHoverLink(g,f.indexInModelPieceList);var v=r.getRepresentValue(p);if(this._createItemSymbol(g,v,[0,0,u[0],u[1]]),h){var m=this.visualMapModel.getValueState(v);g.add(new _t({style:{x:l==="right"?-o:u[0]+o,y:u[1]/2,text:p.text,verticalAlign:"middle",align:l,font:a,fill:s,opacity:m==="outOfRange"?.5:1}}))}t.add(g)},this),d&&this._renderEndsText(t,d[1],u,h,l),Ad(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,r){var o=this;t.on("mouseover",function(){return i("highlight")}).on("mouseout",function(){return i("downplay")});var i=function(a){var s=o.visualMapModel;s.option.hoverLink&&o.api.dispatchAction({type:a,batch:Sw(s.findTargetDataIndices(r),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if(r.orient==="vertical")return uq(t,this.api,t.itemSize);var o=r.align;return(!o||o==="auto")&&(o="left"),o},e.prototype._renderEndsText=function(t,r,o,i,a){if(r){var s=new Xe,l=this.visualMapModel.textStyleModel;s.add(new _t({style:dn(l,{x:i?a==="right"?o[0]:0:o[0]/2,y:o[1]/2,verticalAlign:"middle",align:i?a:"center",text:r})})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,r=fe(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),o=t.get("text"),i=t.get("orient"),a=t.get("inverse");return(i==="horizontal"?a:!a)?r.reverse():o&&(o=o.slice().reverse()),{viewPieceList:r,endsText:o}},e.prototype._createItemSymbol=function(t,r,o){t.add(Un(this.getControllerVisual(r,"symbol"),o[0],o[1],o[2],o[3],this.getControllerVisual(r,"color")))},e.prototype._onItemClick=function(t){var r=this.visualMapModel,o=r.option,i=o.selectedMode;if(i){var a=We(o.selected),s=r.getSelectedMapKey(t);i==="single"||i===!0?(a[s]=!0,R(a,function(l,u){a[u]=u===s})):a[s]=!a[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},e.type="visualMap.piecewise",e}(lq);function hq(n){n.registerComponentModel($Te),n.registerComponentView(MTe),cq(n)}function LTe(n){pt(dq),pt(hq)}var NTe={label:{enabled:!0},decal:{show:!1}},zz=Tt(),OTe={};function FTe(n,e){var t=n.getModel("aria");if(!t.get("enabled"))return;var r=We(NTe);rt(r.label,n.getLocaleModel().get("aria"),!1),rt(t.option,r,!1),o(),i();function o(){var u=t.getModel("decal"),c=u.get("show");if(c){var d=Pe();n.eachSeries(function(h){if(!h.isColorBySeries()){var f=d.get(h.type);f||(f={},d.set(h.type,f)),zz(h).scope=f}}),n.eachRawSeries(function(h){if(n.isSeriesFiltered(h))return;if(ze(h.enableAriaDecal)){h.enableAriaDecal();return}var f=h.getData();if(h.isColorBySeries()){var y=AA(h.ecModel,h.name,OTe,n.getSeriesCount()),b=f.getVisual("decal");f.setVisual("decal",w(b,y))}else{var p=h.getRawData(),g={},v=zz(h).scope;f.each(function(x){var S=f.getRawIndex(x);g[S]=x});var m=p.count();p.each(function(x){var S=g[x],C=p.getName(x)||x+"",k=AA(h.ecModel,C,v,m),_=f.getItemVisual(S,"decal");f.setItemVisual(S,"decal",w(_,k))})}function w(x,S){var C=x?oe(oe({},S),x):S;return C.dirty=!0,C}})}}function i(){var u=e.getZr().dom;if(u){var c=n.getLocaleModel().get("aria"),d=t.getModel("label");if(d.option=Ve(d.option,c),!!d.get("enabled")){if(d.get("description")){u.setAttribute("aria-label",d.get("description"));return}var h=n.getSeriesCount(),f=d.get(["data","maxCount"])||10,p=d.get(["series","maxCount"])||10,g=Math.min(h,p),v;if(!(h<1)){var m=s();if(m){var y=d.get(["general","withTitle"]);v=a(y,{title:m})}else v=d.get(["general","withoutTitle"]);var b=[],w=h>1?d.get(["series","multiple","prefix"]):d.get(["series","single","prefix"]);v+=a(w,{seriesCount:h}),n.eachSeries(function(k,_){if(_<g){var I=void 0,T=k.get("name"),A=T?"withName":"withoutName";I=h>1?d.get(["series","multiple",A]):d.get(["series","single",A]),I=a(I,{seriesId:k.seriesIndex,seriesName:k.get("name"),seriesType:l(k.subType)});var D=k.getData();if(D.count()>f){var E=d.get(["data","partialData"]);I+=a(E,{displayCnt:f})}else I+=d.get(["data","allData"]);for(var $=d.get(["data","separator","middle"]),P=d.get(["data","separator","end"]),N=[],M=0;M<D.count();M++)if(M<f){var L=D.getName(M),V=D.getValues(M),W=d.get(["data",L?"withName":"withoutName"]);N.push(a(W,{name:L,value:V.join($)}))}I+=N.join($)+P,b.push(I)}});var x=d.getModel(["series","multiple","separator"]),S=x.get("middle"),C=x.get("end");v+=b.join(S)+C,u.setAttribute("aria-label",v)}}}}function a(u,c){if(!De(u))return u;var d=u;return R(c,function(h,f){d=d.replace(new RegExp("\\{\\s*"+f+"\\s*\\}","g"),h)}),d}function s(){var u=n.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=n.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function BTe(n){if(!(!n||!n.aria)){var e=n.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},R(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function zTe(n){n.registerPreprocessor(BTe),n.registerVisual(n.PRIORITY.VISUAL.ARIA,FTe)}var Vz={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},VTe=function(){function n(e){var t=this._condVal=De(e)?new RegExp(e):kG(e)?e:null;if(t==null){var r="";zt(r)}}return n.prototype.evaluate=function(e){var t=typeof e;return De(t)?this._condVal.test(e):Rt(t)?this._condVal.test(e+""):!1},n}(),GTe=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),WTe=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n}(),HTe=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n}(),UTe=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),jTe=function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,r=t(this.valueGetterParam),o=e?this.valueParser(r):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(e?o:r))return!1;return!0},n}();function RP(n,e){if(n===!0||n===!1){var t=new GTe;return t.value=n,t}var r="";return fq(n)||zt(r),n.and?Gz("and",n,e):n.or?Gz("or",n,e):n.not?KTe(n,e):XTe(n,e)}function Gz(n,e,t){var r=e[n],o="";ce(r)||zt(o),r.length||zt(o);var i=n==="and"?new WTe:new HTe;return i.children=fe(r,function(a){return RP(a,t)}),i.children.length||zt(o),i}function KTe(n,e){var t=n.not,r="";fq(t)||zt(r);var o=new UTe;return o.child=RP(t,e),o.child||zt(r),o}function XTe(n,e){for(var t="",r=e.prepareGetValue(n),o=[],i=yt(n),a=n.parser,s=a?UH(a):null,l=0;l<i.length;l++){var u=i[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var c=$e(Vz,u)?Vz[u]:u,d=n[u],h=s?s(d):d,f=mpe(c,h)||c==="reg"&&new VTe(h);f||zt(t),o.push(f)}}o.length||zt(t);var p=new jTe;return p.valueGetterParam=r,p.valueParser=s,p.getValue=e.getValue,p.subCondList=o,p}function fq(n){return Ge(n)&&!Gr(n)}var qTe=function(){function n(e,t){this._cond=RP(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}();function YTe(n,e){return new qTe(n,e)}var ZTe={type:"echarts:filter",transform:function(n){for(var e=n.upstream,t,r=YTe(n.config,{valueGetterAttrMap:Pe({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;$e(s,"dimension")||zt(l);var c=e.getDimensionInfo(u);return c||zt(l),{dimIdx:c.index}},getValue:function(s){return e.retrieveValueFromItem(t,s.dimIdx)}}),o=[],i=0,a=e.count();i<a;i++)t=e.getRawDataItem(i),r.evaluate()&&o.push(t);return{data:o}}},JTe={type:"echarts:sort",transform:function(n){var e=n.upstream,t=n.config,r="",o=rn(t);o.length||zt(r);var i=[];R(o,function(c){var d=c.dimension,h=c.order,f=c.parser,p=c.incomparable;if(d==null&&zt(r),h!=="asc"&&h!=="desc"&&zt(r),p&&p!=="min"&&p!=="max"){var g="";zt(g)}if(h!=="asc"&&h!=="desc"){var v="";zt(v)}var m=e.getDimensionInfo(d);m||zt(r);var y=f?UH(f):null;f&&!y&&zt(r),i.push({dimIdx:m.index,parser:y,comparator:new KH(h,p)})});var a=e.sourceFormat;a!==co&&a!==ca&&zt(r);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort(function(c,d){for(var h=0;h<i.length;h++){var f=i[h],p=e.retrieveValueFromItem(c,f.dimIdx),g=e.retrieveValueFromItem(d,f.dimIdx);f.parser&&(p=f.parser(p),g=f.parser(g));var v=f.comparator.evaluate(p,g);if(v!==0)return v}return 0}),{data:s}}};function QTe(n){n.registerTransform(ZTe),n.registerTransform(JTe)}var eAe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,r,o){n.prototype.init.call(this,t,r,o),this._sourceManager=new ZH(this),U5(this)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),U5(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Ds},e}(Ct),tAe=function(n){K(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e}(Cn);function nAe(n){n.registerComponentModel(eAe),n.registerComponentView(tAe)}var os=Bs.CMD;function If(n,e){return Math.abs(n-e)<1e-5}function DD(n){var e=n.data,t=n.len(),r=[],o,i=0,a=0,s=0,l=0;function u(D,E){o&&o.length>2&&r.push(o),o=[D,E]}function c(D,E,$,P){If(D,$)&&If(E,P)||o.push(D,E,$,P,$,P)}function d(D,E,$,P,N,M){var L=Math.abs(E-D),V=Math.tan(L/4)*4/3,W=E<D?-1:1,j=Math.cos(D),Q=Math.sin(D),te=Math.cos(E),se=Math.sin(E),ge=j*N+$,ye=Q*M+P,ve=te*N+$,de=se*M+P,Se=N*V*W,me=M*V*W;o.push(ge-Se*Q,ye+me*j,ve+Se*se,de-me*te,ve,de)}for(var h,f,p,g,v=0;v<t;){var m=e[v++],y=v===1;switch(y&&(i=e[v],a=e[v+1],s=i,l=a,(m===os.L||m===os.C||m===os.Q)&&(o=[s,l])),m){case os.M:i=s=e[v++],a=l=e[v++],u(s,l);break;case os.L:h=e[v++],f=e[v++],c(i,a,h,f),i=h,a=f;break;case os.C:o.push(e[v++],e[v++],e[v++],e[v++],i=e[v++],a=e[v++]);break;case os.Q:h=e[v++],f=e[v++],p=e[v++],g=e[v++],o.push(i+2/3*(h-i),a+2/3*(f-a),p+2/3*(h-p),g+2/3*(f-g),p,g),i=p,a=g;break;case os.A:var b=e[v++],w=e[v++],x=e[v++],S=e[v++],C=e[v++],k=e[v++]+C;v+=1;var _=!e[v++];h=Math.cos(C)*x+b,f=Math.sin(C)*S+w,y?(s=h,l=f,u(s,l)):c(i,a,h,f),i=Math.cos(k)*x+b,a=Math.sin(k)*S+w;for(var I=(_?-1:1)*Math.PI/2,T=C;_?T>k:T<k;T+=I){var A=_?Math.max(T+I,k):Math.min(T+I,k);d(T,A,b,w,x,S)}break;case os.R:s=i=e[v++],l=a=e[v++],h=s+e[v++],f=l+e[v++],u(h,l),c(h,l,h,f),c(h,f,s,f),c(s,f,s,l),c(s,l,h,l);break;case os.Z:o&&c(i,a,s,l),i=s,a=l;break}}return o&&o.length>2&&r.push(o),r}function RD(n,e,t,r,o,i,a,s,l,u){if(If(n,t)&&If(e,r)&&If(o,a)&&If(i,s)){l.push(a,s);return}var c=2/u,d=c*c,h=a-n,f=s-e,p=Math.sqrt(h*h+f*f);h/=p,f/=p;var g=t-n,v=r-e,m=o-a,y=i-s,b=g*g+v*v,w=m*m+y*y;if(b<d&&w<d){l.push(a,s);return}var x=h*g+f*v,S=-h*m-f*y,C=b-x*x,k=w-S*S;if(C<d&&x>=0&&k<d&&S>=0){l.push(a,s);return}var _=[],I=[];Ou(n,t,o,a,.5,_),Ou(e,r,i,s,.5,I),RD(_[0],I[0],_[1],I[1],_[2],I[2],_[3],I[3],l,u),RD(_[4],I[4],_[5],I[5],_[6],I[6],_[7],I[7],l,u)}function rAe(n,e){var t=DD(n),r=[];e=e||1;for(var o=0;o<t.length;o++){var i=t[o],a=[],s=i[0],l=i[1];a.push(s,l);for(var u=2;u<i.length;){var c=i[u++],d=i[u++],h=i[u++],f=i[u++],p=i[u++],g=i[u++];RD(s,l,c,d,h,f,p,g,a,e),s=p,l=g}r.push(a)}return r}function pq(n,e,t){var r=n[e],o=n[1-e],i=Math.abs(r/o),a=Math.ceil(Math.sqrt(i*t)),s=Math.floor(t/a);s===0&&(s=1,a=t);for(var l=[],u=0;u<a;u++)l.push(s);var c=a*s,d=t-c;if(d>0)for(var u=0;u<d;u++)l[u%a]+=1;return l}function Wz(n,e,t){for(var r=n.r0,o=n.r,i=n.startAngle,a=n.endAngle,s=Math.abs(a-i),l=s*o,u=o-r,c=l>Math.abs(u),d=pq([l,u],c?0:1,e),h=(c?s:u)/d.length,f=0;f<d.length;f++)for(var p=(c?u:s)/d[f],g=0;g<d[f];g++){var v={};c?(v.startAngle=i+h*f,v.endAngle=i+h*(f+1),v.r0=r+p*g,v.r=r+p*(g+1)):(v.startAngle=i+p*g,v.endAngle=i+p*(g+1),v.r0=r+h*f,v.r=r+h*(f+1)),v.clockwise=n.clockwise,v.cx=n.cx,v.cy=n.cy,t.push(v)}}function oAe(n,e,t){for(var r=n.width,o=n.height,i=r>o,a=pq([r,o],i?0:1,e),s=i?"width":"height",l=i?"height":"width",u=i?"x":"y",c=i?"y":"x",d=n[s]/a.length,h=0;h<a.length;h++)for(var f=n[l]/a[h],p=0;p<a[h];p++){var g={};g[u]=h*d,g[c]=p*f,g[s]=d,g[l]=f,g.x+=n.x,g.y+=n.y,t.push(g)}}function Hz(n,e,t,r){return n*r-t*e}function iAe(n,e,t,r,o,i,a,s){var l=t-n,u=r-e,c=a-o,d=s-i,h=Hz(c,d,l,u);if(Math.abs(h)<1e-6)return null;var f=n-o,p=e-i,g=Hz(f,p,c,d)/h;return g<0||g>1?null:new at(g*l+n,g*u+e)}function aAe(n,e,t){var r=new at;at.sub(r,t,e),r.normalize();var o=new at;at.sub(o,n,e);var i=o.dot(r);return i}function ef(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function sAe(n,e,t){for(var r=n.length,o=[],i=0;i<r;i++){var a=n[i],s=n[(i+1)%r],l=iAe(a[0],a[1],s[0],s[1],e.x,e.y,t.x,t.y);l&&o.push({projPt:aAe(l,e,t),pt:l,idx:i})}if(o.length<2)return[{points:n},{points:n}];o.sort(function(v,m){return v.projPt-m.projPt});var u=o[0],c=o[o.length-1];if(c.idx<u.idx){var d=u;u=c,c=d}for(var h=[u.pt.x,u.pt.y],f=[c.pt.x,c.pt.y],p=[h],g=[f],i=u.idx+1;i<=c.idx;i++)ef(p,n[i].slice());ef(p,f),ef(p,h);for(var i=c.idx+1;i<=u.idx+r;i++)ef(g,n[i%r].slice());return ef(g,h),ef(g,f),[{points:p},{points:g}]}function Uz(n){var e=n.points,t=[],r=[];tC(e,t,r);var o=new lt(t[0],t[1],r[0]-t[0],r[1]-t[1]),i=o.width,a=o.height,s=o.x,l=o.y,u=new at,c=new at;return i>a?(u.x=c.x=s+i/2,u.y=l,c.y=l+a):(u.y=c.y=l+a/2,u.x=s,c.x=s+i),sAe(e,u,c)}function Mx(n,e,t,r){if(t===1)r.push(e);else{var o=Math.floor(t/2),i=n(e);Mx(n,i[0],o,r),Mx(n,i[1],t-o,r)}return r}function lAe(n,e){for(var t=[],r=0;r<e;r++)t.push(NE(n));return t}function uAe(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function cAe(n){for(var e=[],t=0;t<n.length;)e.push([n[t++],n[t++]]);return e}function dAe(n,e){var t=[],r=n.shape,o;switch(n.type){case"rect":oAe(r,e,t),o=It;break;case"sector":Wz(r,e,t),o=$o;break;case"circle":Wz({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},e,t),o=$o;break;default:var i=n.getComputedTransform(),a=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,s=fe(rAe(n.getUpdatedPathProxy(),a),function(m){return cAe(m)}),l=s.length;if(l===0)Mx(Uz,{points:s[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:s[u]});else{var c=0,d=fe(s,function(m){var y=[],b=[];tC(m,y,b);var w=(b[1]-y[1])*(b[0]-y[0]);return c+=w,{poly:m,area:w}});d.sort(function(m,y){return y.area-m.area});for(var h=e,u=0;u<l;u++){var f=d[u];if(h<=0)break;var p=u===l-1?h:Math.ceil(f.area/c*e);p<0||(Mx(Uz,{points:f.poly},p,t),h-=p)}}o=Po;break}if(!o)return lAe(n,e);for(var g=[],u=0;u<t.length;u++){var v=new o;v.setShape(t[u]),uAe(n,v),g.push(v)}return g}function hAe(n,e){var t=n.length,r=e.length;if(t===r)return[n,e];for(var o=[],i=[],a=t<r?n:e,s=Math.min(t,r),l=Math.abs(r-t)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,d=[a[0],a[1]],h=l,f=2;f<s;){var p=a[f-2],g=a[f-1],v=a[f++],m=a[f++],y=a[f++],b=a[f++],w=a[f++],x=a[f++];if(h<=0){d.push(v,m,y,b,w,x);continue}for(var S=Math.min(h,c-1)+1,C=1;C<=S;C++){var k=C/S;Ou(p,v,y,w,k,o),Ou(g,m,b,x,k,i),p=o[3],g=i[3],d.push(o[1],i[1],o[2],i[2],p,g),v=o[5],m=i[5],y=o[6],b=i[6]}h-=S-1}return a===n?[d,e]:[n,d]}function jz(n,e){for(var t=n.length,r=n[t-2],o=n[t-1],i=[],a=0;a<e.length;)i[a++]=r,i[a++]=o;return i}function fAe(n,e){for(var t,r,o,i=[],a=[],s=0;s<Math.max(n.length,e.length);s++){var l=n[s],u=e[s],c=void 0,d=void 0;l?u?(t=hAe(l,u),c=t[0],d=t[1],r=c,o=d):(d=jz(o||l,l),c=l):(c=jz(r||u,u),d=u),i.push(c),a.push(d)}return[i,a]}function Kz(n){for(var e=0,t=0,r=0,o=n.length,i=0,a=o-2;i<o;a=i,i+=2){var s=n[a],l=n[a+1],u=n[i],c=n[i+1],d=s*c-u*l;e+=d,t+=(s+u)*d,r+=(l+c)*d}return e===0?[n[0]||0,n[1]||0]:[t/e/3,r/e/3,e]}function pAe(n,e,t,r){for(var o=(n.length-2)/6,i=1/0,a=0,s=n.length,l=s-2,u=0;u<o;u++){for(var c=u*6,d=0,h=0;h<s;h+=2){var f=h===0?c:(c+h-2)%l+2,p=n[f]-t[0],g=n[f+1]-t[1],v=e[h]-r[0],m=e[h+1]-r[1],y=v-p,b=m-g;d+=y*y+b*b}d<i&&(i=d,a=u)}return a}function gAe(n){for(var e=[],t=n.length,r=0;r<t;r+=2)e[r]=n[t-r-2],e[r+1]=n[t-r-1];return e}function vAe(n,e,t,r){for(var o=[],i,a=0;a<n.length;a++){var s=n[a],l=e[a],u=Kz(s),c=Kz(l);i==null&&(i=u[2]<0!=c[2]<0);var d=[],h=[],f=0,p=1/0,g=[],v=s.length;i&&(s=gAe(s));for(var m=pAe(s,l,u,c)*6,y=v-2,b=0;b<y;b+=2){var w=(m+b)%y+2;d[b+2]=s[w]-u[0],d[b+3]=s[w+1]-u[1]}d[0]=s[m]-u[0],d[1]=s[m+1]-u[1];for(var x=r/t,S=-r/2;S<=r/2;S+=x){for(var C=Math.sin(S),k=Math.cos(S),_=0,b=0;b<s.length;b+=2){var I=d[b],T=d[b+1],A=l[b]-c[0],D=l[b+1]-c[1],E=A*k-D*C,$=A*C+D*k;g[b]=E,g[b+1]=$;var P=E-I,N=$-T;_+=P*P+N*N}if(_<p){p=_,f=S;for(var M=0;M<g.length;M++)h[M]=g[M]}}o.push({from:d,to:h,fromCp:u,toCp:c,rotation:-f})}return o}function Lx(n){return n.__isCombineMorphing}var gq="__mOriginal_";function Nx(n,e,t){var r=gq+e,o=n[r]||n[e];n[r]||(n[r]=n[e]);var i=t.replace,a=t.after,s=t.before;n[e]=function(){var l=arguments,u;return s&&s.apply(this,l),i?u=i.apply(this,l):u=o.apply(this,l),a&&a.apply(this,l),u}}function Xv(n,e){var t=gq+e;n[t]&&(n[e]=n[t],n[t]=null)}function Xz(n,e){for(var t=0;t<n.length;t++)for(var r=n[t],o=0;o<r.length;){var i=r[o],a=r[o+1];r[o++]=e[0]*i+e[2]*a+e[4],r[o++]=e[1]*i+e[3]*a+e[5]}}function vq(n,e){var t=n.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),o=fAe(DD(t),DD(r)),i=o[0],a=o[1],s=n.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}s&&Xz(i,s),l&&Xz(a,l),Nx(e,"updateTransform",{replace:u}),e.transform=null;var c=vAe(i,a,10,Math.PI),d=[];Nx(e,"buildPath",{replace:function(h){for(var f=e.__morphT,p=1-f,g=[],v=0;v<c.length;v++){var m=c[v],y=m.from,b=m.to,w=m.rotation*f,x=m.fromCp,S=m.toCp,C=Math.sin(w),k=Math.cos(w);Mv(g,x,S,f);for(var _=0;_<y.length;_+=2){var I=y[_],T=y[_+1],A=b[_],D=b[_+1],E=I*p+A*f,$=T*p+D*f;d[_]=E*k-$*C+g[0],d[_+1]=E*C+$*k+g[1]}var P=d[0],N=d[1];h.moveTo(P,N);for(var _=2;_<y.length;){var A=d[_++],D=d[_++],M=d[_++],L=d[_++],V=d[_++],W=d[_++];P===A&&N===D&&M===V&&L===W?h.lineTo(V,W):h.bezierCurveTo(A,D,M,L,V,W),P=V,N=W}}}})}function EP(n,e,t){if(!n||!e)return e;var r=t.done,o=t.during;vq(n,e),e.__morphT=0;function i(){Xv(e,"buildPath"),Xv(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},Ve({during:function(a){e.dirtyShape(),o&&o(a)},done:function(){i(),r&&r()}},t)),e}function mAe(n,e,t,r,o,i){var a=16;n=o===t?0:Math.round(32767*(n-t)/(o-t)),e=i===r?0:Math.round(32767*(e-r)/(i-r));for(var s=0,l,u=(1<<a)/2;u>0;u/=2){var c=0,d=0;(n&u)>0&&(c=1),(e&u)>0&&(d=1),s+=u*u*(3*c^d),d===0&&(c===1&&(n=u-1-n,e=u-1-e),l=n,n=e,e=l)}return s}function Ox(n){var e=1/0,t=1/0,r=-1/0,o=-1/0,i=fe(n,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),d=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),t=Math.min(d,t),r=Math.max(c,r),o=Math.max(d,o),[c,d]}),a=fe(i,function(s,l){return{cp:s,z:mAe(s[0],s[1],e,t,r,o),path:n[l]}});return a.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function mq(n){return dAe(n.path,n.count)}function ED(){return{fromIndividuals:[],toIndividuals:[],count:0}}function yAe(n,e,t){var r=[];function o(x){for(var S=0;S<x.length;S++){var C=x[S];Lx(C)?o(C.childrenRef()):C instanceof vt&&r.push(C)}}o(n);var i=r.length;if(!i)return ED();var a=t.dividePath||mq,s=a({path:e,count:i});if(s.length!==i)return console.error("Invalid morphing: unmatched splitted path"),ED();r=Ox(r),s=Ox(s);for(var l=t.done,u=t.during,c=t.individualDelay,d=new fl,h=0;h<i;h++){var f=r[h],p=s[h];p.parent=e,p.copyTransform(d),c||vq(f,p)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function g(x){for(var S=0;S<s.length;S++)s[S].addSelfToZr(x)}Nx(e,"addSelfToZr",{after:function(x){g(x)}}),Nx(e,"removeSelfFromZr",{after:function(x){for(var S=0;S<s.length;S++)s[S].removeSelfFromZr(x)}});function v(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Xv(e,"addSelfToZr"),Xv(e,"removeSelfFromZr")}var m=s.length;if(c)for(var y=m,b=function(){y--,y===0&&(v(),l&&l())},h=0;h<m;h++){var w=c?Ve({delay:(t.delay||0)+c(h,m,r[h],s[h]),done:b},t):t;EP(r[h],s[h],w)}else e.__morphT=0,e.animateTo({__morphT:1},Ve({during:function(x){for(var S=0;S<m;S++){var C=s[S];C.__morphT=e.__morphT,C.dirtyShape()}u&&u(x)},done:function(){v();for(var x=0;x<n.length;x++)Xv(n[x],"updateTransform");l&&l()}},t));return e.__zr&&g(e.__zr),{fromIndividuals:r,toIndividuals:s,count:m}}function bAe(n,e,t){var r=e.length,o=[],i=t.dividePath||mq;function a(f){for(var p=0;p<f.length;p++){var g=f[p];Lx(g)?a(g.childrenRef()):g instanceof vt&&o.push(g)}}if(Lx(n)){a(n.childrenRef());var s=o.length;if(s<r)for(var l=0,u=s;u<r;u++)o.push(NE(o[l++%s]));o.length=r}else{o=i({path:n,count:r});for(var c=n.getComputedTransform(),u=0;u<o.length;u++)o[u].setLocalTransform(c);if(o.length!==r)return console.error("Invalid morphing: unmatched splitted path"),ED()}o=Ox(o),e=Ox(e);for(var d=t.individualDelay,u=0;u<r;u++){var h=d?Ve({delay:(t.delay||0)+d(u,r,o[u],e[u])},t):t;EP(o[u],e[u],h)}return{fromIndividuals:o,toIndividuals:e,count:e.length}}function qz(n){return ce(n[0])}function Yz(n,e){for(var t=[],r=n.length,o=0;o<r;o++)t.push({one:n[o],many:[]});for(var o=0;o<e.length;o++){var i=e[o].length,a=void 0;for(a=0;a<i;a++)t[a%r].many.push(e[o][a])}for(var s=0,o=r-1;o>=0;o--)if(!t[o].many.length){var l=t[s].many;if(l.length<=1)if(s)s=0;else return t;var i=l.length,u=Math.ceil(i/2);t[o].many=l.slice(u,i),t[s].many=l.slice(0,u),s++}return t}var wAe={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),r=0;r<n.count;r++){var o=NE(n.path);o.setStyle("opacity",t),e.push(o)}return e},split:null};function nT(n,e,t,r,o,i){if(!n.length||!e.length)return;var a=Rp("update",r,o);if(!(a&&a.duration>0))return;var s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},a),u,c;qz(n)&&(u=n,c=e),qz(e)&&(u=e,c=n);function d(m,y,b,w,x){var S=m.many,C=m.one;if(S.length===1&&!x){var k=y?S[0]:C,_=y?C:S[0];if(Lx(k))d({many:[k],one:_},!0,b,w,!0);else{var I=s?Ve({delay:s(b,w)},l):l;EP(k,_,I),i(k,_,k,_,I)}}else for(var T=Ve({dividePath:wAe[t],individualDelay:s&&function(N,M,L,V){return s(N+b,w)}},l),A=y?yAe(S,C,T):bAe(C,S,T),D=A.fromIndividuals,E=A.toIndividuals,$=D.length,P=0;P<$;P++){var I=s?Ve({delay:s(P,$)},l):l;i(D[P],E[P],y?S[P]:m.one,y?m.one:S[P],I)}}for(var h=u?u===n:n.length>e.length,f=u?Yz(c,u):Yz(h?e:n,[h?n:e]),p=0,g=0;g<f.length;g++)p+=f[g].many.length;for(var v=0,g=0;g<f.length;g++)d(f[g],h,v,p),v+=f[g].many.length}function ed(n){if(!n)return[];if(ce(n)){for(var e=[],t=0;t<n.length;t++)e.push(ed(n[t]));return e}var r=[];return n.traverse(function(o){o instanceof vt&&!o.disableMorphing&&!o.invisible&&!o.ignore&&r.push(o)}),r}var yq=1e4,xAe=0,Zz=1,Jz=2,SAe=Tt();function CAe(n,e){for(var t=n.dimensions,r=0;r<t.length;r++){var o=n.getDimensionInfo(t[r]);if(o&&o.otherDims[e]===0)return t[r]}}function kAe(n,e,t){var r=n.getDimensionInfo(t),o=r&&r.ordinalMeta;if(r){var i=n.get(r.name,e);return o&&o.categories[i]||i+""}}function Qz(n,e,t,r){var o=r?"itemChildGroupId":"itemGroupId",i=CAe(n,o);if(i){var a=kAe(n,e,i);return a}var s=n.getRawDataItem(e),l=r?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!r)return t||n.getId(e)}function eV(n){var e=[];return R(n,function(t){var r=t.data,o=t.dataGroupId;if(!(r.count()>yq))for(var i=r.getIndices(),a=0;a<i.length;a++)e.push({data:r,groupId:Qz(r,a,o,!1),childGroupId:Qz(r,a,o,!0),divide:t.divide,dataIndex:a})}),e}function rT(n,e,t){n.traverse(function(r){r instanceof vt&&bn(r,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function oT(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function tf(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function _Ae(n,e,t){var r=Rp("update",t,e);r&&n.traverse(function(o){if(o instanceof ra){var i=tfe(o);i&&o.animateFrom({style:i},r)}})}function IAe(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++){var o=n[r],i=e[r];if(o.data.getId(o.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function bq(n,e,t){var r=eV(n),o=eV(e);function i(b,w,x,S,C){(x||b)&&w.animateFrom({style:x&&x!==b?oe(oe({},x.style),b.style):b.style},C)}var a=!1,s=xAe,l=Pe(),u=Pe();r.forEach(function(b){b.groupId&&l.set(b.groupId,!0),b.childGroupId&&u.set(b.childGroupId,!0)});for(var c=0;c<o.length;c++){var d=o[c].groupId;if(u.get(d)){s=Zz;break}var h=o[c].childGroupId;if(h&&l.get(h)){s=Jz;break}}function f(b,w){return function(x){var S=x.data,C=x.dataIndex;return w?S.getId(C):b?s===Zz?x.childGroupId:x.groupId:s===Jz?x.childGroupId:x.groupId}}var p=IAe(r,o),g={};if(!p)for(var c=0;c<o.length;c++){var v=o[c],m=v.data.getItemGraphicEl(v.dataIndex);m&&(g[m.id]=!0)}function y(b,w){var x=r[w],S=o[b],C=S.data.hostModel,k=x.data.getItemGraphicEl(x.dataIndex),_=S.data.getItemGraphicEl(S.dataIndex);if(k===_){_&&_Ae(_,S.dataIndex,C);return}k&&g[k.id]||_&&(tf(_),k?(tf(k),oT(k),a=!0,nT(ed(k),ed(_),S.divide,C,b,i)):rT(_,C,b))}new kl(r,o,f(!0,p),f(!1,p),null,"multiple").update(y).updateManyToOne(function(b,w){var x=o[b],S=x.data,C=S.hostModel,k=S.getItemGraphicEl(x.dataIndex),_=Ht(fe(w,function(I){return r[I].data.getItemGraphicEl(r[I].dataIndex)}),function(I){return I&&I!==k&&!g[I.id]});k&&(tf(k),_.length?(R(_,function(I){tf(I),oT(I)}),a=!0,nT(ed(_),ed(k),x.divide,C,b,i)):rT(k,C,x.dataIndex))}).updateOneToMany(function(b,w){var x=r[w],S=x.data.getItemGraphicEl(x.dataIndex);if(!(S&&g[S.id])){var C=Ht(fe(b,function(_){return o[_].data.getItemGraphicEl(o[_].dataIndex)}),function(_){return _&&_!==S}),k=o[b[0]].data.hostModel;C.length&&(R(C,function(_){return tf(_)}),S?(tf(S),oT(S),a=!0,nT(ed(S),ed(C),x.divide,k,b[0],i)):R(C,function(_){return rT(_,k,b[0])}))}}).updateManyToMany(function(b,w){new kl(w,b,function(x){return r[x].data.getId(r[x].dataIndex)},function(x){return o[x].data.getId(o[x].dataIndex)}).update(function(x,S){y(b[x],w[S])}).execute()}).execute(),a&&R(e,function(b){var w=b.data,x=w.hostModel,S=x&&t.getViewOfSeriesModel(x),C=Rp("update",x,0);S&&x.isAnimationEnabled()&&C&&C.duration>0&&S.group.traverse(function(k){k instanceof vt&&!k.animators.length&&k.animateFrom({style:{opacity:0}},C)})})}function tV(n){var e=n.getModel("universalTransition").get("seriesKey");return e||n.id}function nV(n){return ce(n)?n.sort().join(","):n}function au(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function TAe(n,e){var t=Pe(),r=Pe(),o=Pe();return R(n.oldSeries,function(i,a){var s=n.oldDataGroupIds[a],l=n.oldData[a],u=tV(i),c=nV(u);r.set(c,{dataGroupId:s,data:l}),ce(u)&&R(u,function(d){o.set(d,{key:c,dataGroupId:s,data:l})})}),R(e.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var a=i.get("dataGroupId"),s=i.getData(),l=tV(i),u=nV(l),c=r.get(u);if(c)t.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:au(c.data),data:c.data}],newSeries:[{dataGroupId:a,divide:au(s),data:s}]});else if(ce(l)){var d=[];R(l,function(p){var g=r.get(p);g.data&&d.push({dataGroupId:g.dataGroupId,divide:au(g.data),data:g.data})}),d.length&&t.set(u,{oldSeries:d,newSeries:[{dataGroupId:a,data:s,divide:au(s)}]})}else{var h=o.get(l);if(h){var f=t.get(h.key);f||(f={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:au(h.data)}],newSeries:[]},t.set(h.key,f)),f.newSeries.push({dataGroupId:a,data:s,divide:au(s)})}}}}),t}function rV(n,e){for(var t=0;t<n.length;t++){var r=e.seriesIndex!=null&&e.seriesIndex===n[t].seriesIndex||e.seriesId!=null&&e.seriesId===n[t].id;if(r)return t}}function AAe(n,e,t,r){var o=[],i=[];R(rn(n.from),function(a){var s=rV(e.oldSeries,a);s>=0&&o.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:au(e.oldData[s]),groupIdDim:a.dimension})}),R(rn(n.to),function(a){var s=rV(t.updatedSeries,a);if(s>=0){var l=t.updatedSeries[s].getData();i.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:au(l),groupIdDim:a.dimension})}}),o.length>0&&i.length>0&&bq(o,i,r)}function DAe(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){R(rn(r.seriesTransition),function(o){R(rn(o.to),function(i){for(var a=r.updatedSeries,s=0;s<a.length;s++)(i.seriesIndex!=null&&i.seriesIndex===a[s].seriesIndex||i.seriesId!=null&&i.seriesId===a[s].id)&&(a[s][gw]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,r){var o=SAe(t);if(o.oldSeries&&r.updatedSeries&&r.optionChanged){var i=r.seriesTransition;if(i)R(rn(i),function(f){AAe(f,o,r,t)});else{var a=TAe(o,r);R(a.keys(),function(f){var p=a.get(f);bq(p.oldSeries,p.newSeries,t)})}R(r.updatedSeries,function(f){f[gw]&&(f[gw]=!1)})}for(var s=e.getSeries(),l=o.oldSeries=[],u=o.oldDataGroupIds=[],c=o.oldData=[],d=0;d<s.length;d++){var h=s[d].getData();h.count()<yq&&(l.push(s[d]),u.push(s[d].get("dataGroupId")),c.push(h))}})}pt([Fye]);pt([Pye]);pt([o0e,b0e,D0e,lbe,bbe,i1e,P1e,vwe,Fwe,Hwe,Qwe,Kxe,ySe,DSe,USe,qSe,iCe,hCe,CCe,DCe,BCe,S2e]);pt(V2e);pt(pke);pt(mK);pt(Tke);pt(nX);pt(Eke);pt(zke);pt(T_e);pt(j_e);pt(jy);pt(uIe);pt(hIe);pt(SIe);pt(DIe);pt(LIe);pt(VIe);pt(ZIe);pt(gTe);pt(iq);pt(aq);pt(LTe);pt(dq);pt(hq);pt(zTe);pt(QTe);pt(nAe);pt(DAe);pt(Qme);const RAe=Object.freeze(Object.defineProperty({__proto__:null,Axis:da,ChartView:on,ComponentModel:Ct,ComponentView:Cn,List:ao,Model:tn,PRIORITY:IU,SeriesModel:gn,color:pce,connect:ave,dataTool:fve,dependencies:Gge,disConnect:sve,disconnect:MU,dispose:lve,env:At,extendChartView:zme,extendComponentModel:Ome,extendComponentView:Fme,extendSeriesModel:Bme,format:_me,getCoordinateSystemDimensions:cve,getInstanceByDom:g$,getInstanceById:uve,getMap:hve,graphic:kme,helper:vme,init:ive,innerDrawElementOnCanvas:d$,matrix:Uue,number:Sme,parseGeoJSON:WA,parseGeoJson:WA,registerAction:Xa,registerCoordinateSystem:OU,registerLayout:FU,registerLoading:w$,registerLocale:UE,registerMap:BU,registerPostInit:LU,registerPostUpdate:NU,registerPreprocessor:m$,registerProcessor:y$,registerTheme:v$,registerTransform:zU,registerUpdateLifecycle:xC,registerVisual:tc,setCanvasCreator:dve,setPlatformAPI:bG,throttle:bC,time:Cme,use:pt,util:Ime,vector:Eue,version:Vge,zrUtil:kue,zrender:Yce},Symbol.toStringTag,{value:"Module"}));/*!
* sweetalert2 v11.14.0
* Released under the MIT License.
*/function wq(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function EAe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function oV(n,e){return n.get(wq(n,e))}function $Ae(n,e,t){EAe(n,e),e.set(n,t)}function PAe(n,e,t){return n.set(wq(n,e),t),t}const MAe=100,dt={},LAe=()=>{dt.previousActiveElement instanceof HTMLElement?(dt.previousActiveElement.focus(),dt.previousActiveElement=null):document.body&&document.body.focus()},NAe=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,r=window.scrollY;dt.restoreFocusTimeout=setTimeout(()=>{LAe(),e()},MAe),window.scrollTo(t,r)}),xq="swal2-",OAe=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],he=OAe.reduce((n,e)=>(n[e]=xq+e,n),{}),FAe=["success","warning","info","question","error"],Fx=FAe.reduce((n,e)=>(n[e]=xq+e,n),{}),Sq="SweetAlert2:",$P=n=>n.charAt(0).toUpperCase()+n.slice(1),ri=n=>{console.warn(`${Sq} ${typeof n=="object"?n.join(" "):n}`)},yh=n=>{console.error(`${Sq} ${n}`)},iV=[],BAe=n=>{iV.includes(n)||(iV.push(n),ri(n))},Cq=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;BAe(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},MC=n=>typeof n=="function"?n():n,PP=n=>n&&typeof n.toPromise=="function",Ky=n=>PP(n)?n.toPromise():Promise.resolve(n),MP=n=>n&&Promise.resolve(n)===n,oi=()=>document.body.querySelector(`.${he.container}`),Xy=n=>{const e=oi();return e?e.querySelector(n):null},ki=n=>Xy(`.${n}`),pn=()=>ki(he.popup),qy=()=>ki(he.icon),zAe=()=>ki(he["icon-content"]),kq=()=>ki(he.title),LP=()=>ki(he["html-container"]),_q=()=>ki(he.image),NP=()=>ki(he["progress-steps"]),LC=()=>ki(he["validation-message"]),zs=()=>Xy(`.${he.actions} .${he.confirm}`),jp=()=>Xy(`.${he.actions} .${he.cancel}`),bh=()=>Xy(`.${he.actions} .${he.deny}`),VAe=()=>ki(he["input-label"]),Kp=()=>Xy(`.${he.loader}`),Yy=()=>ki(he.actions),Iq=()=>ki(he.footer),NC=()=>ki(he["timer-progress-bar"]),OP=()=>ki(he.close),GAe=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,FP=()=>{const n=pn();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((i,a)=>{const s=parseInt(i.getAttribute("tabindex")||"0"),l=parseInt(a.getAttribute("tabindex")||"0");return s>l?1:s<l?-1:0}),r=n.querySelectorAll(GAe),o=Array.from(r).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(i=>Jo(i))},BP=()=>wl(document.body,he.shown)&&!wl(document.body,he["toast-shown"])&&!wl(document.body,he["no-backdrop"]),OC=()=>{const n=pn();return n?wl(n,he.toast):!1},WAe=()=>{const n=pn();return n?n.hasAttribute("data-loading"):!1},_i=(n,e)=>{if(n.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(a=>{n.appendChild(a)});const i=r.querySelector("body");i&&Array.from(i.childNodes).forEach(a=>{a instanceof HTMLVideoElement||a instanceof HTMLAudioElement?n.appendChild(a.cloneNode(!0)):n.appendChild(a)})}},wl=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let r=0;r<t.length;r++)if(!n.classList.contains(t[r]))return!1;return!0},HAe=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(he).includes(t)&&!Object.values(Fx).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Si=(n,e,t)=>{if(HAe(n,e),!e.customClass)return;const r=e.customClass[t];if(r){if(typeof r!="string"&&!r.forEach){ri(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof r}"`);return}en(n,r)}},FC=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${he.popup} > .${he[e]}`);case"checkbox":return n.querySelector(`.${he.popup} > .${he.checkbox} input`);case"radio":return n.querySelector(`.${he.popup} > .${he.radio} input:checked`)||n.querySelector(`.${he.popup} > .${he.radio} input:first-child`);case"range":return n.querySelector(`.${he.popup} > .${he.range} input`);default:return n.querySelector(`.${he.popup} > .${he.input}`)}},Tq=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},Aq=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(n)?n.forEach(o=>{t?o.classList.add(r):o.classList.remove(r)}):t?n.classList.add(r):n.classList.remove(r)}))},en=(n,e)=>{Aq(n,e,!0)},Vs=(n,e)=>{Aq(n,e,!1)},yu=(n,e)=>{const t=Array.from(n.children);for(let r=0;r<t.length;r++){const o=t[r];if(o instanceof HTMLElement&&wl(o,e))return o}},$d=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},Mr=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=e)},ho=n=>{n&&(n.style.display="none")},zP=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{Zy(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},aV=(n,e,t,r)=>{const o=n.querySelector(e);o&&o.style.setProperty(t,r)},Zy=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?Mr(n,t):ho(n)},Jo=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),UAe=()=>!Jo(zs())&&!Jo(bh())&&!Jo(jp()),sV=n=>n.scrollHeight>n.clientHeight,Dq=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||r>0},VP=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=NC();t&&Jo(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},jAe=()=>{const n=NC();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),r=e/t*100;n.style.width=`${r}%`},Rq=()=>typeof window>"u"||typeof document>"u",KAe=`
 <div aria-labelledby="${he.title}" aria-describedby="${he["html-container"]}" class="${he.popup}" tabindex="-1">
   <button type="button" class="${he.close}"></button>
   <ul class="${he["progress-steps"]}"></ul>
   <div class="${he.icon}"></div>
   <img class="${he.image}" />
   <h2 class="${he.title}" id="${he.title}"></h2>
   <div class="${he["html-container"]}" id="${he["html-container"]}"></div>
   <input class="${he.input}" id="${he.input}" />
   <input type="file" class="${he.file}" />
   <div class="${he.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${he.select}" id="${he.select}"></select>
   <div class="${he.radio}"></div>
   <label class="${he.checkbox}">
     <input type="checkbox" id="${he.checkbox}" />
     <span class="${he.label}"></span>
   </label>
   <textarea class="${he.textarea}" id="${he.textarea}"></textarea>
   <div class="${he["validation-message"]}" id="${he["validation-message"]}"></div>
   <div class="${he.actions}">
     <div class="${he.loader}"></div>
     <button type="button" class="${he.confirm}"></button>
     <button type="button" class="${he.deny}"></button>
     <button type="button" class="${he.cancel}"></button>
   </div>
   <div class="${he.footer}"></div>
   <div class="${he["timer-progress-bar-container"]}">
     <div class="${he["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),XAe=()=>{const n=oi();return n?(n.remove(),Vs([document.documentElement,document.body],[he["no-backdrop"],he["toast-shown"],he["has-column"]]),!0):!1},Gc=()=>{dt.currentInstance.resetValidationMessage()},qAe=()=>{const n=pn(),e=yu(n,he.input),t=yu(n,he.file),r=n.querySelector(`.${he.range} input`),o=n.querySelector(`.${he.range} output`),i=yu(n,he.select),a=n.querySelector(`.${he.checkbox} input`),s=yu(n,he.textarea);e.oninput=Gc,t.onchange=Gc,i.onchange=Gc,a.onchange=Gc,s.oninput=Gc,r.oninput=()=>{Gc(),o.value=r.value},r.onchange=()=>{Gc(),o.value=r.value}},YAe=n=>typeof n=="string"?document.querySelector(n):n,ZAe=n=>{const e=pn();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},JAe=n=>{window.getComputedStyle(n).direction==="rtl"&&en(oi(),he.rtl)},QAe=n=>{const e=XAe();if(Rq()){yh("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=he.container,e&&en(t,he["no-transition"]),_i(t,KAe);const r=YAe(n.target);r.appendChild(t),ZAe(n),JAe(r),qAe()},GP=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?eDe(n,e):n&&_i(e,n)},eDe=(n,e)=>{n.jquery?tDe(e,n):_i(e,n.toString())},tDe=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},jd=(()=>{if(Rq())return!1;const n=document.createElement("div");return typeof n.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof n.style.animation<"u"?"animationend":!1})(),nDe=(n,e)=>{const t=Yy(),r=Kp();!t||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?ho(t):Mr(t),Si(t,e,"actions"),rDe(t,r,e),_i(r,e.loaderHtml||""),Si(r,e,"loader"))};function rDe(n,e,t){const r=zs(),o=bh(),i=jp();!r||!o||!i||(iT(r,"confirm",t),iT(o,"deny",t),iT(i,"cancel",t),oDe(r,o,i,t),t.reverseButtons&&(t.toast?(n.insertBefore(i,r),n.insertBefore(o,r)):(n.insertBefore(i,e),n.insertBefore(o,e),n.insertBefore(r,e))))}function oDe(n,e,t,r){if(!r.buttonsStyling){Vs([n,e,t],he.styled);return}en([n,e,t],he.styled),r.confirmButtonColor&&(n.style.backgroundColor=r.confirmButtonColor,en(n,he["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,en(e,he["default-outline"])),r.cancelButtonColor&&(t.style.backgroundColor=r.cancelButtonColor,en(t,he["default-outline"]))}function iT(n,e,t){const r=$P(e);Zy(n,t[`show${r}Button`],"inline-block"),_i(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=he[e],Si(n,t,`${e}Button`)}const iDe=(n,e)=>{const t=OP();t&&(_i(t,e.closeButtonHtml||""),Si(t,e,"closeButton"),Zy(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},aDe=(n,e)=>{const t=oi();t&&(sDe(t,e.backdrop),lDe(t,e.position),uDe(t,e.grow),Si(t,e,"container"))};function sDe(n,e){typeof e=="string"?n.style.background=e:e||en([document.documentElement,document.body],he["no-backdrop"])}function lDe(n,e){e&&(e in he?en(n,he[e]):(ri('The "position" parameter is not valid, defaulting to "center"'),en(n,he.center)))}function uDe(n,e){e&&en(n,he[`grow-${e}`])}var An={innerParams:new WeakMap,domCache:new WeakMap};const cDe=["input","file","range","select","radio","checkbox","textarea"],dDe=(n,e)=>{const t=pn();if(!t)return;const r=An.innerParams.get(n),o=!r||e.input!==r.input;cDe.forEach(i=>{const a=yu(t,he[i]);a&&(pDe(i,e.inputAttributes),a.className=he[i],o&&ho(a))}),e.input&&(o&&hDe(e),gDe(e))},hDe=n=>{if(!n.input)return;if(!Yn[n.input]){yh(`Unexpected type of input! Expected ${Object.keys(Yn).join(" | ")}, got "${n.input}"`);return}const e=Eq(n.input);if(!e)return;const t=Yn[n.input](e,n);Mr(e),n.inputAutoFocus&&setTimeout(()=>{Tq(t)})},fDe=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},pDe=(n,e)=>{const t=pn();if(!t)return;const r=FC(t,n);if(r){fDe(r);for(const o in e)r.setAttribute(o,e[o])}},gDe=n=>{if(!n.input)return;const e=Eq(n.input);e&&Si(e,n,"input")},WP=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},Jy=(n,e,t)=>{if(t.inputLabel){const r=document.createElement("label"),o=he["input-label"];r.setAttribute("for",n.id),r.className=o,typeof t.customClass=="object"&&en(r,t.customClass.inputLabel),r.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",r)}},Eq=n=>{const e=pn();if(e)return yu(e,he[n]||he.input)},Bx=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:MP(e)||ri(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Yn={};Yn.text=Yn.email=Yn.password=Yn.number=Yn.tel=Yn.url=Yn.search=Yn.date=Yn["datetime-local"]=Yn.time=Yn.week=Yn.month=(n,e)=>(Bx(n,e.inputValue),Jy(n,n,e),WP(n,e),n.type=e.input,n);Yn.file=(n,e)=>(Jy(n,n,e),WP(n,e),n);Yn.range=(n,e)=>{const t=n.querySelector("input"),r=n.querySelector("output");return Bx(t,e.inputValue),t.type=e.input,Bx(r,e.inputValue),Jy(t,n,e),n};Yn.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");_i(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return Jy(n,n,e),n};Yn.radio=n=>(n.textContent="",n);Yn.checkbox=(n,e)=>{const t=FC(pn(),"checkbox");t.value="1",t.checked=!!e.inputValue;const r=n.querySelector("span");return _i(r,e.inputPlaceholder||e.inputLabel),t};Yn.textarea=(n,e)=>{Bx(n,e.inputValue),WP(n,e),Jy(n,n,e);const t=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(pn()).width),o=()=>{if(!document.body.contains(n))return;const i=n.offsetWidth+t(n);i>r?pn().style.width=`${i}px`:$d(pn(),"width",e.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const vDe=(n,e)=>{const t=LP();t&&(zP(t),Si(t,e,"htmlContainer"),e.html?(GP(e.html,t),Mr(t,"block")):e.text?(t.textContent=e.text,Mr(t,"block")):ho(t),dDe(n,e))},mDe=(n,e)=>{const t=Iq();t&&(zP(t),Zy(t,e.footer,"block"),e.footer&&GP(e.footer,t),Si(t,e,"footer"))},yDe=(n,e)=>{const t=An.innerParams.get(n),r=qy();if(r){if(t&&e.icon===t.icon){uV(r,e),lV(r,e);return}if(!e.icon&&!e.iconHtml){ho(r);return}if(e.icon&&Object.keys(Fx).indexOf(e.icon)===-1){yh(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),ho(r);return}Mr(r),uV(r,e),lV(r,e),en(r,e.showClass&&e.showClass.icon)}},lV=(n,e)=>{for(const[t,r]of Object.entries(Fx))e.icon!==t&&Vs(n,r);en(n,e.icon&&Fx[e.icon]),SDe(n,e),bDe(),Si(n,e,"icon")},bDe=()=>{const n=pn();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<t.length;r++)t[r].style.backgroundColor=e},wDe=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,xDe=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,uV=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,r="";e.iconHtml?r=cV(e.iconHtml):e.icon==="success"?(r=wDe,t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?r=xDe:e.icon&&(r=cV({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==r.trim()&&_i(n,r)},SDe=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])aV(n,t,"background-color",e.iconColor);aV(n,".swal2-success-ring","border-color",e.iconColor)}},cV=n=>`<div class="${he["icon-content"]}">${n}</div>`,CDe=(n,e)=>{const t=_q();if(t){if(!e.imageUrl){ho(t);return}Mr(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),$d(t,"width",e.imageWidth),$d(t,"height",e.imageHeight),t.className=he.image,Si(t,e,"image")}},kDe=(n,e)=>{const t=oi(),r=pn();if(!(!t||!r)){if(e.toast){$d(t,"width",e.width),r.style.width="100%";const o=Kp();o&&r.insertBefore(o,qy())}else $d(r,"width",e.width);$d(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),ho(LC()),_De(r,e)}},_De=(n,e)=>{const t=e.showClass||{};n.className=`${he.popup} ${Jo(n)?t.popup:""}`,e.toast?(en([document.documentElement,document.body],he["toast-shown"]),en(n,he.toast)):en(n,he.modal),Si(n,e,"popup"),typeof e.customClass=="string"&&en(n,e.customClass),e.icon&&en(n,he[`icon-${e.icon}`])},IDe=(n,e)=>{const t=NP();if(!t)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){ho(t);return}Mr(t),t.textContent="",o>=r.length&&ri("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((i,a)=>{const s=TDe(i);if(t.appendChild(s),a===o&&en(s,he["active-progress-step"]),a!==r.length-1){const l=ADe(e);t.appendChild(l)}})},TDe=n=>{const e=document.createElement("li");return en(e,he["progress-step"]),_i(e,n),e},ADe=n=>{const e=document.createElement("li");return en(e,he["progress-step-line"]),n.progressStepsDistance&&$d(e,"width",n.progressStepsDistance),e},DDe=(n,e)=>{const t=kq();t&&(zP(t),Zy(t,e.title||e.titleText,"block"),e.title&&GP(e.title,t),e.titleText&&(t.innerText=e.titleText),Si(t,e,"title"))},$q=(n,e)=>{kDe(n,e),aDe(n,e),IDe(n,e),yDe(n,e),CDe(n,e),DDe(n,e),iDe(n,e),vDe(n,e),nDe(n,e),mDe(n,e);const t=pn();typeof e.didRender=="function"&&t&&e.didRender(t),dt.eventEmitter.emit("didRender",t)},RDe=()=>Jo(pn()),Pq=()=>{var n;return(n=zs())===null||n===void 0?void 0:n.click()},EDe=()=>{var n;return(n=bh())===null||n===void 0?void 0:n.click()},$De=()=>{var n;return(n=jp())===null||n===void 0?void 0:n.click()},Xp=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Mq=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},PDe=(n,e,t)=>{Mq(n),e.toast||(n.keydownHandler=r=>LDe(e,r,t),n.keydownTarget=e.keydownListenerCapture?window:pn(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},$D=(n,e)=>{var t;const r=FP();if(r.length){n=n+e,n===r.length?n=0:n===-1&&(n=r.length-1),r[n].focus();return}(t=pn())===null||t===void 0||t.focus()},Lq=["ArrowRight","ArrowDown"],MDe=["ArrowLeft","ArrowUp"],LDe=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?NDe(e,n):e.key==="Tab"?ODe(e):[...Lq,...MDe].includes(e.key)?FDe(e.key):e.key==="Escape"&&BDe(e,n,t)))},NDe=(n,e)=>{if(!MC(e.allowEnterKey))return;const t=FC(pn(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;Pq(),n.preventDefault()}},ODe=n=>{const e=n.target,t=FP();let r=-1;for(let o=0;o<t.length;o++)if(e===t[o]){r=o;break}n.shiftKey?$D(r,-1):$D(r,1),n.stopPropagation(),n.preventDefault()},FDe=n=>{const e=Yy(),t=zs(),r=bh(),o=jp();if(!e||!t||!r||!o)return;const i=[t,r,o];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const a=Lq.includes(n)?"nextElementSibling":"previousElementSibling";let s=document.activeElement;if(s){for(let l=0;l<e.children.length;l++){if(s=s[a],!s)return;if(s instanceof HTMLButtonElement&&Jo(s))break}s instanceof HTMLButtonElement&&s.focus()}},BDe=(n,e,t)=>{MC(e.allowEscapeKey)&&(n.preventDefault(),t(Xp.esc))};var up={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const zDe=()=>{const n=oi();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},Nq=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Oq=typeof window<"u"&&!!window.GestureEvent,VDe=()=>{if(Oq&&!wl(document.body,he.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,en(document.body,he.iosfix),GDe()}},GDe=()=>{const n=oi();if(!n)return;let e;n.ontouchstart=t=>{e=WDe(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},WDe=n=>{const e=n.target,t=oi(),r=LP();return!t||!r||HDe(n)||UDe(n)?!1:e===t||!sV(t)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(sV(r)&&r.contains(e))},HDe=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",UDe=n=>n.touches&&n.touches.length>1,jDe=()=>{if(wl(document.body,he.iosfix)){const n=parseInt(document.body.style.top,10);Vs(document.body,he.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},KDe=()=>{const n=document.createElement("div");n.className=he["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let Wf=null;const XDe=n=>{Wf===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Wf=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Wf+KDe()}px`)},qDe=()=>{Wf!==null&&(document.body.style.paddingRight=`${Wf}px`,Wf=null)};function Fq(n,e,t,r){OC()?dV(n,r):(NAe(t).then(()=>dV(n,r)),Mq(dt)),Oq?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),BP()&&(qDe(),jDe(),Nq()),YDe()}function YDe(){Vs([document.documentElement,document.body],[he.shown,he["height-auto"],he["no-backdrop"],he["toast-shown"]])}function bu(n){n=JDe(n);const e=up.swalPromiseResolve.get(this),t=ZDe(this);this.isAwaitingPromise?n.isDismissed||(Qy(this),e(n)):t&&e(n)}const ZDe=n=>{const e=pn();if(!e)return!1;const t=An.innerParams.get(n);if(!t||wl(e,t.hideClass.popup))return!1;Vs(e,t.showClass.popup),en(e,t.hideClass.popup);const r=oi();return Vs(r,t.showClass.backdrop),en(r,t.hideClass.backdrop),QDe(n,e,t),!0};function Bq(n){const e=up.swalPromiseReject.get(this);Qy(this),e&&e(n)}const Qy=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,An.innerParams.get(n)||n._destroy())},JDe=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),QDe=(n,e,t)=>{const r=oi(),o=jd&&Dq(e);typeof t.willClose=="function"&&t.willClose(e),dt.eventEmitter.emit("willClose",e),o?eRe(n,e,r,t.returnFocus,t.didClose):Fq(n,r,t.returnFocus,t.didClose)},eRe=(n,e,t,r,o)=>{jd&&(dt.swalCloseEventFinishedCallback=Fq.bind(null,n,t,r,o),e.addEventListener(jd,function(i){i.target===e&&(dt.swalCloseEventFinishedCallback(),delete dt.swalCloseEventFinishedCallback)}))},dV=(n,e)=>{setTimeout(()=>{typeof e=="function"&&e.bind(n.params)(),dt.eventEmitter.emit("didClose"),n._destroy&&n._destroy()})},cp=n=>{let e=pn();if(e||new Wx,e=pn(),!e)return;const t=Kp();OC()?ho(qy()):tRe(e,n),Mr(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},tRe=(n,e)=>{const t=Yy(),r=Kp();!t||!r||(!e&&Jo(zs())&&(e=zs()),Mr(t),e&&(ho(e),r.setAttribute("data-button-to-replace",e.className),t.insertBefore(r,e)),en([n,t],he.loading))},nRe=(n,e)=>{e.input==="select"||e.input==="radio"?sRe(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(PP(e.inputValue)||MP(e.inputValue))&&(cp(zs()),lRe(n,e))},rRe=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return oRe(t);case"radio":return iRe(t);case"file":return aRe(t);default:return e.inputAutoTrim?t.value.trim():t.value}},oRe=n=>n.checked?1:0,iRe=n=>n.checked?n.value:null,aRe=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,sRe=(n,e)=>{const t=pn();if(!t)return;const r=o=>{e.input==="select"?uRe(t,zx(o),e):e.input==="radio"&&cRe(t,zx(o),e)};PP(e.inputOptions)||MP(e.inputOptions)?(cp(zs()),Ky(e.inputOptions).then(o=>{n.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):yh(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},lRe=(n,e)=>{const t=n.getInput();t&&(ho(t),Ky(e.inputValue).then(r=>{t.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,Mr(t),t.focus(),n.hideLoading()}).catch(r=>{yh(`Error in inputValue promise: ${r}`),t.value="",Mr(t),t.focus(),n.hideLoading()}))};function uRe(n,e,t){const r=yu(n,he.select);if(!r)return;const o=(i,a,s)=>{const l=document.createElement("option");l.value=s,_i(l,a),l.selected=zq(s,t.inputValue),i.appendChild(l)};e.forEach(i=>{const a=i[0],s=i[1];if(Array.isArray(s)){const l=document.createElement("optgroup");l.label=a,l.disabled=!1,r.appendChild(l),s.forEach(u=>o(l,u[1],u[0]))}else o(r,s,a)}),r.focus()}function cRe(n,e,t){const r=yu(n,he.radio);if(!r)return;e.forEach(i=>{const a=i[0],s=i[1],l=document.createElement("input"),u=document.createElement("label");l.type="radio",l.name=he.radio,l.value=a,zq(a,t.inputValue)&&(l.checked=!0);const c=document.createElement("span");_i(c,s),c.className=he.label,u.appendChild(l),u.appendChild(c),r.appendChild(u)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const zx=n=>{const e=[];return n instanceof Map?n.forEach((t,r)=>{let o=t;typeof o=="object"&&(o=zx(o)),e.push([r,o])}):Object.keys(n).forEach(t=>{let r=n[t];typeof r=="object"&&(r=zx(r)),e.push([t,r])}),e},zq=(n,e)=>!!e&&e.toString()===n.toString(),dRe=n=>{const e=An.innerParams.get(n);n.disableButtons(),e.input?Vq(n,"confirm"):UP(n,!0)},hRe=n=>{const e=An.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?Vq(n,"deny"):HP(n,!1)},fRe=(n,e)=>{n.disableButtons(),e(Xp.cancel)},Vq=(n,e)=>{const t=An.innerParams.get(n);if(!t.input){yh(`The "input" parameter is needed to be set when using returnInputValueOn${$P(e)}`);return}const r=n.getInput(),o=rRe(n,t);t.inputValidator?pRe(n,o,e):r&&!r.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||r.validationMessage)):e==="deny"?HP(n,o):UP(n,o)},pRe=(n,e,t)=>{const r=An.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>Ky(r.inputValidator(e,r.validationMessage))).then(i=>{n.enableButtons(),n.enableInput(),i?n.showValidationMessage(i):t==="deny"?HP(n,e):UP(n,e)})},HP=(n,e)=>{const t=An.innerParams.get(n||void 0);t.showLoaderOnDeny&&cp(bh()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>Ky(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(n.hideLoading(),Qy(n)):n.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>Gq(n||void 0,o))):n.close({isDenied:!0,value:e})},hV=(n,e)=>{n.close({isConfirmed:!0,value:e})},Gq=(n,e)=>{n.rejectPromise(e)},UP=(n,e)=>{const t=An.innerParams.get(n||void 0);t.showLoaderOnConfirm&&cp(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>Ky(t.preConfirm(e,t.validationMessage))).then(o=>{Jo(LC())||o===!1?(n.hideLoading(),Qy(n)):hV(n,typeof o>"u"?e:o)}).catch(o=>Gq(n||void 0,o))):hV(n,e)};function Vx(){const n=An.innerParams.get(this);if(!n)return;const e=An.domCache.get(this);ho(e.loader),OC()?n.icon&&Mr(qy()):gRe(e),Vs([e.popup,e.actions],he.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const gRe=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?Mr(e[0],"inline-block"):UAe()&&ho(n.actions)};function Wq(){const n=An.innerParams.get(this),e=An.domCache.get(this);return e?FC(e.popup,n.input):null}function Hq(n,e,t){const r=An.domCache.get(n);e.forEach(o=>{r[o].disabled=t})}function Uq(n,e){const t=pn();if(!(!t||!n))if(n.type==="radio"){const r=t.querySelectorAll(`[name="${he.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else n.disabled=e}function jq(){Hq(this,["confirmButton","denyButton","cancelButton"],!1)}function Kq(){Hq(this,["confirmButton","denyButton","cancelButton"],!0)}function Xq(){Uq(this.getInput(),!1)}function qq(){Uq(this.getInput(),!0)}function Yq(n){const e=An.domCache.get(this),t=An.innerParams.get(this);_i(e.validationMessage,n),e.validationMessage.className=he["validation-message"],t.customClass&&t.customClass.validationMessage&&en(e.validationMessage,t.customClass.validationMessage),Mr(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",he["validation-message"]),Tq(r),en(r,he.inputerror))}function Zq(){const n=An.domCache.get(this);n.validationMessage&&ho(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Vs(e,he.inputerror))}const Hf={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},vRe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],mRe={allowEnterKey:void 0},yRe=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Jq=n=>Object.prototype.hasOwnProperty.call(Hf,n),Qq=n=>vRe.indexOf(n)!==-1,eY=n=>mRe[n],bRe=n=>{Jq(n)||ri(`Unknown parameter "${n}"`)},wRe=n=>{yRe.includes(n)&&ri(`The parameter "${n}" is incompatible with toasts`)},xRe=n=>{const e=eY(n);e&&Cq(n,e)},SRe=n=>{n.backdrop===!1&&n.allowOutsideClick&&ri('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in n)bRe(e),n.toast&&wRe(e),xRe(e)};function tY(n){const e=pn(),t=An.innerParams.get(this);if(!e||wl(e,t.hideClass.popup)){ri("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=CRe(n),o=Object.assign({},t,r);$q(this,o),An.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const CRe=n=>{const e={};return Object.keys(n).forEach(t=>{Qq(t)?e[t]=n[t]:ri(`Invalid parameter to update: ${t}`)}),e};function nY(){const n=An.domCache.get(this),e=An.innerParams.get(this);if(!e){rY(this);return}n.popup&&dt.swalCloseEventFinishedCallback&&(dt.swalCloseEventFinishedCallback(),delete dt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),dt.eventEmitter.emit("didDestroy"),kRe(this)}const kRe=n=>{rY(n),delete n.params,delete dt.keydownHandler,delete dt.keydownTarget,delete dt.currentInstance},rY=n=>{n.isAwaitingPromise?(aT(An,n),n.isAwaitingPromise=!0):(aT(up,n),aT(An,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},aT=(n,e)=>{for(const t in n)n[t].delete(e)};var _Re=Object.freeze({__proto__:null,_destroy:nY,close:bu,closeModal:bu,closePopup:bu,closeToast:bu,disableButtons:Kq,disableInput:qq,disableLoading:Vx,enableButtons:jq,enableInput:Xq,getInput:Wq,handleAwaitingPromise:Qy,hideLoading:Vx,rejectPromise:Bq,resetValidationMessage:Zq,showValidationMessage:Yq,update:tY});const IRe=(n,e,t)=>{n.toast?TRe(n,e,t):(DRe(e),RRe(e),ERe(n,e,t))},TRe=(n,e,t)=>{e.popup.onclick=()=>{n&&(ARe(n)||n.timer||n.input)||t(Xp.close)}},ARe=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Gx=!1;const DRe=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(Gx=!0)}}},RRe=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(Gx=!0)}}},ERe=(n,e,t)=>{e.container.onclick=r=>{if(Gx){Gx=!1;return}r.target===e.container&&MC(n.allowOutsideClick)&&t(Xp.backdrop)}},$Re=n=>typeof n=="object"&&n.jquery,fV=n=>n instanceof Element||$Re(n),PRe=n=>{const e={};return typeof n[0]=="object"&&!fV(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,r)=>{const o=n[r];typeof o=="string"||fV(o)?e[t]=o:o!==void 0&&yh(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function MRe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return new this(...e)}function LRe(n){class e extends this{_main(r,o){return super._main(r,Object.assign({},n,o))}}return e}const NRe=()=>dt.timeout&&dt.timeout.getTimerLeft(),oY=()=>{if(dt.timeout)return jAe(),dt.timeout.stop()},iY=()=>{if(dt.timeout){const n=dt.timeout.start();return VP(n),n}},ORe=()=>{const n=dt.timeout;return n&&(n.running?oY():iY())},FRe=n=>{if(dt.timeout){const e=dt.timeout.increase(n);return VP(e,!0),e}},BRe=()=>!!(dt.timeout&&dt.timeout.isRunning());let pV=!1;const PD={};function zRe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";PD[n]=this,pV||(document.body.addEventListener("click",VRe),pV=!0)}const VRe=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in PD){const r=e.getAttribute(t);if(r){PD[t].fire({template:r});return}}};class GRe{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const r=this._getHandlersByEventName(e);r.includes(t)||r.push(t)}once(e,t){var r=this;const o=function(){r.removeListener(e,o);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];t.apply(r,a)};this.on(e,o)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,r)}catch(a){console.error(a)}})}removeListener(e,t){const r=this._getHandlersByEventName(e),o=r.indexOf(t);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}dt.eventEmitter=new GRe;const WRe=(n,e)=>{dt.eventEmitter.on(n,e)},HRe=(n,e)=>{dt.eventEmitter.once(n,e)},URe=(n,e)=>{if(!n){dt.eventEmitter.reset();return}e?dt.eventEmitter.removeListener(n,e):dt.eventEmitter.removeAllListeners(n)};var jRe=Object.freeze({__proto__:null,argsToParams:PRe,bindClickHandler:zRe,clickCancel:$De,clickConfirm:Pq,clickDeny:EDe,enableLoading:cp,fire:MRe,getActions:Yy,getCancelButton:jp,getCloseButton:OP,getConfirmButton:zs,getContainer:oi,getDenyButton:bh,getFocusableElements:FP,getFooter:Iq,getHtmlContainer:LP,getIcon:qy,getIconContent:zAe,getImage:_q,getInputLabel:VAe,getLoader:Kp,getPopup:pn,getProgressSteps:NP,getTimerLeft:NRe,getTimerProgressBar:NC,getTitle:kq,getValidationMessage:LC,increaseTimer:FRe,isDeprecatedParameter:eY,isLoading:WAe,isTimerRunning:BRe,isUpdatableParameter:Qq,isValidParameter:Jq,isVisible:RDe,mixin:LRe,off:URe,on:WRe,once:HRe,resumeTimer:iY,showLoading:cp,stopTimer:oY,toggleTimer:ORe});class KRe{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const aY=["swal-title","swal-html","swal-footer"],XRe=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return nEe(t),Object.assign(qRe(t),YRe(t),ZRe(t),JRe(t),QRe(t),eEe(t),tEe(t,aY))},qRe=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(r=>{Kd(r,["name","value"]);const o=r.getAttribute("name"),i=r.getAttribute("value");!o||!i||(typeof Hf[o]=="boolean"?e[o]=i!=="false":typeof Hf[o]=="object"?e[o]=JSON.parse(i):e[o]=i)}),e},YRe=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),i=r.getAttribute("value");!o||!i||(e[o]=new Function(`return ${i}`)())}),e},ZRe=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(r=>{Kd(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${$P(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},JRe=n=>{const e={},t=n.querySelector("swal-image");return t&&(Kd(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},QRe=n=>{const e={},t=n.querySelector("swal-icon");return t&&(Kd(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},eEe=n=>{const e={},t=n.querySelector("swal-input");t&&(Kd(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const r=Array.from(n.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{Kd(o,["value"]);const i=o.getAttribute("value");if(!i)return;const a=o.innerHTML;e.inputOptions[i]=a})),e},tEe=(n,e)=>{const t={};for(const r in e){const o=e[r],i=n.querySelector(o);i&&(Kd(i,[]),t[o.replace(/^swal-/,"")]=i.innerHTML.trim())}return t},nEe=n=>{const e=aY.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const r=t.tagName.toLowerCase();e.includes(r)||ri(`Unrecognized element <${r}>`)})},Kd=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&ri([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},sY=10,rEe=n=>{const e=oi(),t=pn();typeof n.willOpen=="function"&&n.willOpen(t),dt.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;aEe(e,t,n),setTimeout(()=>{oEe(e,t)},sY),BP()&&(iEe(e,n.scrollbarPadding,o),zDe()),!OC()&&!dt.previousActiveElement&&(dt.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),dt.eventEmitter.emit("didOpen",t),Vs(e,he["no-transition"])},lY=n=>{const e=pn();if(n.target!==e||!jd)return;const t=oi();e.removeEventListener(jd,lY),t.style.overflowY="auto"},oEe=(n,e)=>{jd&&Dq(e)?(n.style.overflowY="hidden",e.addEventListener(jd,lY)):n.style.overflowY="auto"},iEe=(n,e,t)=>{VDe(),e&&t!=="hidden"&&XDe(t),setTimeout(()=>{n.scrollTop=0})},aEe=(n,e,t)=>{en(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Mr(e,"grid"),setTimeout(()=>{en(e,t.showClass.popup),e.style.removeProperty("opacity")},sY)):Mr(e,"grid"),en([document.documentElement,document.body],he.shown),t.heightAuto&&t.backdrop&&!t.toast&&en([document.documentElement,document.body],he["height-auto"])};var gV={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function sEe(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=gV.email),n.input==="url"&&(n.inputValidator=gV.url))}function lEe(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(ri('Target parameter is not valid, defaulting to "body"'),n.target="body")}function uEe(n){sEe(n),n.showLoaderOnConfirm&&!n.preConfirm&&ri(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),lEe(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),QAe(n)}let ds;var P1=new WeakMap;class nr{constructor(){if($Ae(this,P1,void 0),typeof window>"u")return;ds=this;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const o=Object.freeze(this.constructor.argsToParams(t));this.params=o,this.isAwaitingPromise=!1,PAe(P1,this,this._main(ds.params))}_main(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(SRe(Object.assign({},t,e)),dt.currentInstance){const i=up.swalPromiseResolve.get(dt.currentInstance),{isAwaitingPromise:a}=dt.currentInstance;dt.currentInstance._destroy(),a||i({isDismissed:!0}),BP()&&Nq()}dt.currentInstance=ds;const r=dEe(e,t);uEe(r),Object.freeze(r),dt.timeout&&(dt.timeout.stop(),delete dt.timeout),clearTimeout(dt.restoreFocusTimeout);const o=hEe(ds);return $q(ds,r),An.innerParams.set(ds,r),cEe(ds,o,r)}then(e){return oV(P1,this).then(e)}finally(e){return oV(P1,this).finally(e)}}const cEe=(n,e,t)=>new Promise((r,o)=>{const i=a=>{n.close({isDismissed:!0,dismiss:a})};up.swalPromiseResolve.set(n,r),up.swalPromiseReject.set(n,o),e.confirmButton.onclick=()=>{dRe(n)},e.denyButton.onclick=()=>{hRe(n)},e.cancelButton.onclick=()=>{fRe(n,i)},e.closeButton.onclick=()=>{i(Xp.close)},IRe(t,e,i),PDe(dt,t,i),nRe(n,t),rEe(t),fEe(dt,t,i),pEe(e,t),setTimeout(()=>{e.container.scrollTop=0})}),dEe=(n,e)=>{const t=XRe(n),r=Object.assign({},Hf,e,t,n);return r.showClass=Object.assign({},Hf.showClass,r.showClass),r.hideClass=Object.assign({},Hf.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},hEe=n=>{const e={popup:pn(),container:oi(),actions:Yy(),confirmButton:zs(),denyButton:bh(),cancelButton:jp(),loader:Kp(),closeButton:OP(),validationMessage:LC(),progressSteps:NP()};return An.domCache.set(n,e),e},fEe=(n,e,t)=>{const r=NC();ho(r),e.timer&&(n.timeout=new KRe(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(Mr(r),Si(r,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&VP(e.timer)})))},pEe=(n,e)=>{if(!e.toast){if(!MC(e.allowEnterKey)){Cq("allowEnterKey"),mEe();return}gEe(n)||vEe(n,e)||$D(-1,1)}},gEe=n=>{const e=n.popup.querySelectorAll("[autofocus]");for(const t of e)if(t instanceof HTMLElement&&Jo(t))return t.focus(),!0;return!1},vEe=(n,e)=>e.focusDeny&&Jo(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&Jo(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&Jo(n.confirmButton)?(n.confirmButton.focus(),!0):!1,mEe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,e=localStorage.getItem("swal-initiation");e?(n.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}nr.prototype.disableButtons=Kq;nr.prototype.enableButtons=jq;nr.prototype.getInput=Wq;nr.prototype.disableInput=qq;nr.prototype.enableInput=Xq;nr.prototype.hideLoading=Vx;nr.prototype.disableLoading=Vx;nr.prototype.showValidationMessage=Yq;nr.prototype.resetValidationMessage=Zq;nr.prototype.close=bu;nr.prototype.closePopup=bu;nr.prototype.closeModal=bu;nr.prototype.closeToast=bu;nr.prototype.rejectPromise=Bq;nr.prototype.update=tY;nr.prototype._destroy=nY;Object.assign(nr,jRe);Object.keys(_Re).forEach(n=>{nr[n]=function(){return ds&&ds[n]?ds[n](...arguments):null}});nr.DismissReason=Xp;nr.version="11.14.0";const Wx=nr;Wx.default=Wx;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');var yEe=Uoe({name:"VueDrawingCanvas",props:{strokeType:{type:String,validator:n=>["dash","line","square","circle","triangle","half_triangle"].indexOf(n)!==-1,default:()=>"dash"},fillShape:{type:Boolean,default:()=>!1},width:{type:[String,Number],default:()=>600},height:{type:[String,Number],default:()=>400},image:{type:String,default:()=>""},eraser:{type:Boolean,default:()=>!1},color:{type:String,default:()=>"#000000"},lineWidth:{type:Number,default:()=>5},lineCap:{type:String,validator:n=>["round","square","butt"].indexOf(n)!==-1,default:()=>"round"},lineJoin:{type:String,validator:n=>["miter","round","bevel"].indexOf(n)!==-1,default:()=>"miter"},lock:{type:Boolean,default:()=>!1},styles:{type:[Array,String,Object]},classes:{type:[Array,String,Object]},backgroundColor:{type:String,default:()=>"#FFFFFF"},backgroundImage:{type:String,default:()=>null},watermark:{type:Object,default:()=>null},saveAs:{type:String,validator:n=>["jpeg","png"].indexOf(n)!==-1,default:()=>"png"},canvasId:{type:String,default:()=>"VueDrawingCanvas"},initialImage:{type:Array,default:()=>[]},additionalImages:{type:Array,default:()=>[]},outputWidth:{type:Number},outputHeight:{type:Number}},data(){return{loadedImage:null,drawing:!1,context:null,images:[],strokes:{type:"",from:{x:0,y:0},coordinates:[],color:"",width:"",fill:!1,lineCap:"",lineJoin:""},guides:[],trash:[]}},mounted(){this.setContext(),this.$nextTick(()=>{this.drawInitialImage(),this.drawAdditionalImages()})},watch:{backgroundImage:function(){this.loadedImage=null}},methods:{async setContext(){let n=document.querySelector("#"+this.canvasId);this.context=this.context?this.context:n.getContext("2d"),await this.setBackground()},drawInitialImage(){this.initialImage&&this.initialImage.length>0&&(this.images=[].concat(this.images,this.initialImage),this.redraw(!0))},drawAdditionalImages(){if(this.additionalImages&&this.additionalImages.length>0){let n=document.querySelector("#"+this.canvasId);this.additionalImages.forEach(e=>{this.drawWatermark(n,this.context,e)})}},clear(){this.context.clearRect(0,0,Number(this.width),Number(this.height))},async setBackground(){this.clear(),this.context.fillStyle=this.backgroundColor,this.context.fillRect(0,0,Number(this.width),Number(this.height)),await this.$nextTick(async()=>{await this.drawBackgroundImage()}),this.save()},async drawBackgroundImage(){if(this.loadedImage)this.context.drawImage(this.loadedImage,0,0,Number(this.width),Number(this.height));else return new Promise(n=>{if(!this.backgroundImage){n();return}const e=new Image;e.src=this.backgroundImage,e.onload=()=>{this.context.drawImage(e,0,0,Number(this.width),Number(this.height)),this.loadedImage=e,n()}})},getCoordinates(n){let e,t;if(n.touches&&n.touches.length>0){let o=document.querySelector("#"+this.canvasId).getBoundingClientRect();e=n.touches[0].clientX-o.left,t=n.touches[0].clientY-o.top}else e=n.offsetX,t=n.offsetY;return{x:e,y:t}},startDraw(n){if(!this.lock){this.drawing=!0;let e=this.getCoordinates(n);this.strokes={type:this.eraser?"eraser":this.strokeType,from:e,coordinates:[],color:this.eraser?this.backgroundColor:this.color,width:this.lineWidth,fill:this.eraser||this.strokeType==="dash"||this.strokeType==="line"?!1:this.fillShape,lineCap:this.lineCap,lineJoin:this.lineJoin},this.guides=[]}},draw(n){if(this.drawing){this.context||this.setContext();let e=this.getCoordinates(n);if(this.eraser||this.strokeType==="dash")this.strokes.coordinates.push(e),this.drawShape(this.context,this.strokes,!1);else{switch(this.strokeType){case"line":this.guides=[{x:e.x,y:e.y}];break;case"square":this.guides=[{x:e.x,y:this.strokes.from.y},{x:e.x,y:e.y},{x:this.strokes.from.x,y:e.y},{x:this.strokes.from.x,y:this.strokes.from.y}];break;case"triangle":let t=Math.floor((e.x-this.strokes.from.x)/2)<0?Math.floor((e.x-this.strokes.from.x)/2)*-1:Math.floor((e.x-this.strokes.from.x)/2),r=this.strokes.from.x<e.x?this.strokes.from.x+t:this.strokes.from.x-t;this.guides=[{x:e.x,y:this.strokes.from.y},{x:r,y:e.y},{x:this.strokes.from.x,y:this.strokes.from.y}];break;case"half_triangle":this.guides=[{x:e.x,y:this.strokes.from.y},{x:this.strokes.from.x,y:e.y},{x:this.strokes.from.x,y:this.strokes.from.y}];break;case"circle":let o=this.strokes.from.x-e.x<0?(this.strokes.from.x-e.x)*-1:this.strokes.from.x-e.x;this.guides=[{x:this.strokes.from.x>e.x?this.strokes.from.x-o:this.strokes.from.x+o,y:this.strokes.from.y},{x:o,y:o}];break}this.drawGuide(!0)}}},drawGuide(n){this.redraw(!0),this.$nextTick(()=>{this.context.strokeStyle=this.color,this.context.lineWidth=1,this.context.lineJoin=this.lineJoin,this.context.lineCap=this.lineCap,this.context.beginPath(),this.context.setLineDash([15,15]),this.strokes.type==="circle"?this.context.ellipse(this.guides[0].x,this.guides[0].y,this.guides[1].x,this.guides[1].y,0,0,Math.PI*2):(this.context.moveTo(this.strokes.from.x,this.strokes.from.y),this.guides.forEach(e=>{this.context.lineTo(e.x,e.y)}),n&&this.context.closePath()),this.context.stroke()})},drawShape(n,e,t){n.strokeStyle=e.color,n.fillStyle=e.color,n.lineWidth=e.width,n.lineJoin=e.lineJoin===void 0?this.lineJoin:e.lineJoin,n.lineCap=e.lineCap===void 0?this.lineCap:e.lineCap,n.beginPath(),n.setLineDash([]),e.type==="circle"?n.ellipse(e.coordinates[0].x,e.coordinates[0].y,e.coordinates[1].x,e.coordinates[1].y,0,0,Math.PI*2):(n.moveTo(e.from.x,e.from.y),e.coordinates.forEach(r=>{n.lineTo(r.x,r.y)}),t&&n.closePath()),e.fill?n.fill():n.stroke()},stopDraw(){this.drawing&&(this.strokes.coordinates=this.guides.length>0?this.guides:this.strokes.coordinates,this.images.push(this.strokes),this.redraw(!0),this.drawing=!1,this.trash=[])},reset(){this.lock||(this.images=[],this.strokes={type:"",coordinates:[],color:"",width:"",fill:!1,lineCap:"",lineJoin:""},this.guides=[],this.trash=[],this.redraw(!0))},undo(){if(!this.lock){let n=this.images.pop();n&&(this.trash.push(n),this.redraw(!0))}},redo(){if(!this.lock){let n=this.trash.pop();n&&(this.images.push(n),this.redraw(!0))}},async redraw(n){n=typeof n<"u"?n:!0,await this.setBackground().then(()=>{this.drawAdditionalImages()}).then(()=>{let e=document.createElement("canvas"),t=e.getContext("2d");e.width=Number(this.width),e.height=Number(this.height),t&&(this.images.forEach(r=>{t&&(t.globalCompositeOperation=r.type==="eraser"?"destination-out":"source-over",(r.type!=="circle"||r.type==="circle"&&r.coordinates.length>0)&&this.drawShape(t,r,!(r.type==="eraser"||r.type==="dash"||r.type==="line")))}),this.context.drawImage(e,0,0,Number(this.width),Number(this.height)))}).then(()=>{n&&this.save()})},wrapText(n,e,t,r,o,i){const a=/(\r\n|\n\r|\n|\r)+/g,s=/\s+/g;var l=e.split(a).filter(g=>g.length>0);for(let g=0;g<l.length;g++){for(var u=l[g].split(s).filter(v=>v.length>0),c="",d=0;d<u.length;d++){var h=c+u[d]+" ",f=n.measureText(h),p=f.width;p>o&&d>0?(this.watermark&&this.watermark.fontStyle&&this.watermark.fontStyle.drawType&&this.watermark.fontStyle.drawType==="stroke"?n.strokeText(c,t,r):n.fillText(c,t,r),c=u[d]+" ",r+=i):c=h}this.watermark&&this.watermark.fontStyle&&this.watermark.fontStyle.drawType&&this.watermark.fontStyle.drawType==="stroke"?n.strokeText(c,t,r):n.fillText(c,t,r),r+=u.length>0?i:0}},save(){let n=document.querySelector("#"+this.canvasId);if(this.watermark){let e=document.createElement("canvas"),t=e.getContext("2d");t&&(e.width=Number(this.width),e.height=Number(this.height),t.drawImage(n,0,0,Number(this.width),Number(this.height)),this.drawWatermark(e,t,this.watermark))}else{let e=document.createElement("canvas"),t=e.getContext("2d"),r=this.outputWidth===void 0?this.width:this.outputWidth,o=this.outputHeight===void 0?this.height:this.outputHeight;if(e.width=Number(r),e.height=Number(o),t)return t.drawImage(n,0,0,Number(r),Number(o)),this.$emit("update:image",e.toDataURL("image/"+this.saveAs,1)),e.toDataURL("image/"+this.saveAs,1)}},drawWatermark(n,e,t){if(t.type==="Image"){let r=t.imageStyle?t.imageStyle.width?t.imageStyle.width:Number(this.width):Number(this.width),o=t.imageStyle?t.imageStyle.height?t.imageStyle.height:Number(this.height):Number(this.height);const i=new Image;i.src=t.source,i.onload=()=>{t&&e&&e.drawImage(i,t.x,t.y,Number(r),Number(o));let a=document.createElement("canvas"),s=a.getContext("2d"),l=this.outputWidth===void 0?this.width:this.outputWidth,u=this.outputHeight===void 0?this.height:this.outputHeight;if(a.width=Number(l),a.height=Number(u),s)return s.drawImage(n,0,0,Number(l),Number(u)),this.$emit("update:image",a.toDataURL("image/"+this.saveAs,1)),a.toDataURL("image/"+this.saveAs,1)}}else if(t.type==="Text"){let r=t.fontStyle&&t.fontStyle.font?t.fontStyle.font:"20px serif",o=t.fontStyle&&t.fontStyle.textAlign?t.fontStyle.textAlign:"start",i=t.fontStyle&&t.fontStyle.textBaseline?t.fontStyle.textBaseline:"alphabetic",a=t.fontStyle&&t.fontStyle.color?t.fontStyle.color:"#000000";if(e.font=r,e.textAlign=o,e.textBaseline=i,t.fontStyle&&t.fontStyle.rotate){let d,h;t.fontStyle&&t.fontStyle.width?d=t.x+Math.floor(t.fontStyle.width/2):d=t.x,t.fontStyle&&t.fontStyle.lineHeight?h=t.y+Math.floor(t.fontStyle.lineHeight/2):h=t.y,e.translate(d,h),e.rotate(t.fontStyle.rotate*Math.PI/180),e.translate(d*-1,h*-1)}t.fontStyle&&t.fontStyle.drawType&&t.fontStyle.drawType==="stroke"?(e.strokeStyle=t.fontStyle.color,t.fontStyle&&t.fontStyle.width?this.wrapText(e,t.source,t.x,t.y,t.fontStyle.width,t.fontStyle.lineHeight):e.strokeText(t.source,t.x,t.y)):(e.fillStyle=a,t.fontStyle&&t.fontStyle.width?this.wrapText(e,t.source,t.x,t.y,t.fontStyle.width,t.fontStyle.lineHeight):e.fillText(t.source,t.x,t.y));let s=document.createElement("canvas"),l=s.getContext("2d"),u=this.outputWidth===void 0?this.width:this.outputWidth,c=this.outputHeight===void 0?this.height:this.outputHeight;if(s.width=Number(u),s.height=Number(c),l)return l.drawImage(n,0,0,Number(u),Number(c)),this.$emit("update:image",s.toDataURL("image/"+this.saveAs,1)),s.toDataURL("image/"+this.saveAs,1)}},isEmpty(){return!(this.images.length>0)},getAllStrokes(){return this.images}},render(){return Z9("canvas",{id:this.canvasId,height:Number(this.height),width:Number(this.width),style:{touchAction:"none",...this.styles},class:this.classes,onMousedown:n=>this.startDraw(n),onMousemove:n=>this.draw(n),onMouseup:()=>this.stopDraw(),onMouseleave:()=>this.stopDraw(),onTouchstart:n=>this.startDraw(n),onTouchmove:n=>this.draw(n),onTouchend:()=>this.stopDraw(),onTouchleave:()=>this.stopDraw(),onTouchcancel:()=>this.stopDraw(),onPointerdown:n=>this.startDraw(n),onPointermove:n=>this.draw(n),onPointerup:()=>this.stopDraw(),onPointerleave:()=>this.stopDraw(),onPointercancel:()=>this.stopDraw()})}});function Bm(n){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(n)}function bEe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function wEe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,SEe(r.key),r)}}function xEe(n,e,t){return e&&wEe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function SEe(n){var e=CEe(n,"string");return Bm(e)=="symbol"?e:e+""}function CEe(n,e){if(Bm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var uY=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};bEe(this,n),this.element=e,this.listener=t}return xEe(n,[{key:"bindScrollListener",value:function(){this.scrollableParents=Qae(this.element);for(var t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}])}();function zm(n){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(n)}function kEe(n){return AEe(n)||TEe(n)||IEe(n)||_Ee()}function _Ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IEe(n,e){if(n){if(typeof n=="string")return MD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?MD(n,e):void 0}}function TEe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function AEe(n){if(Array.isArray(n))return MD(n)}function MD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function DEe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function REe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,cY(r.key),r)}}function EEe(n,e,t){return e&&REe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function vV(n,e,t){return(e=cY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cY(n){var e=$Ee(n,"string");return zm(e)=="symbol"?e:e+""}function $Ee(n,e){if(zm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var dp=function(){function n(e){var t=e.init,r=e.type;DEe(this,n),vV(this,"helpers",void 0),vV(this,"type",void 0),this.helpers=new Set(t),this.type=r}return EEe(n,[{key:"add",value:function(t){this.helpers.add(t)}},{key:"update",value:function(){}},{key:"delete",value:function(t){this.helpers.delete(t)}},{key:"clear",value:function(){this.helpers.clear()}},{key:"get",value:function(t,r){var o=this._get(t,r),i=o?this._recursive(kEe(this.helpers),o):null;return Bt(i)?i:null}},{key:"_isMatched",value:function(t,r){var o,i=t==null?void 0:t.parent;return(i==null||(o=i.vnode)===null||o===void 0?void 0:o.key)===r||i&&this._isMatched(i,r)||!1}},{key:"_get",value:function(t,r){var o,i;return((o=r||(t==null?void 0:t.$slots))===null||o===void 0||(i=o.default)===null||i===void 0?void 0:i.call(o))||null}},{key:"_recursive",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=[];return o.forEach(function(a){a.children instanceof Array?i=i.concat(t._recursive(i,a.children)):a.type.name===t.type?i.push(a):Bt(a.key)&&(i=i.concat(r.filter(function(s){return t._isMatched(s,a.key)}).map(function(s){return s.vnode})))}),i}}])}();function oa(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return bse(n)}function wh(n,e){if(n){var t=n.props;if(t){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=Object.prototype.hasOwnProperty.call(t,r)?r:e;return n.type.extends.props[e].type===Boolean&&t[o]===""?!0:t[o]}}return null}var uu={_loadedStyleNames:new Set,getLoadedStyleNames:function(){return this._loadedStyleNames},isStyleNameLoaded:function(e){return this._loadedStyleNames.has(e)},setLoadedStyleName:function(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName:function(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames:function(){this._loadedStyleNames.clear()}},mV=Ft.extend({name:"common"});function Vm(n){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(n)}function PEe(n){return fY(n)||MEe(n)||hY(n)||dY()}function MEe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function M1(n,e){return fY(n)||LEe(n,e)||hY(n,e)||dY()}function dY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hY(n,e){if(n){if(typeof n=="string")return yV(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?yV(n,e):void 0}}function yV(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function LEe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=i.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,o=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}function fY(n){if(Array.isArray(n))return n}function bV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Xt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(t),!0).forEach(function(r){Cw(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Cw(n,e,t){return(e=NEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NEe(n){var e=OEe(n,"string");return Vm(e)=="symbol"?e:e+""}function OEe(n,e){if(Vm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Ot={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0},dt:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){e||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))}},dt:{immediate:!0,handler:function(e){var t=this;e?(this._loadScopedThemeStyles(e),this._themeChangeListener(function(){return t._loadScopedThemeStyles(e)})):this._unloadScopedThemeStyles()}}},scopedStyleEl:void 0,rootEl:void 0,beforeCreate:function(){var e,t,r,o,i,a,s,l,u,c,d,h=(e=this.pt)===null||e===void 0?void 0:e._usept,f=h?(t=this.pt)===null||t===void 0||(t=t.originalValue)===null||t===void 0?void 0:t[this.$.type.name]:void 0,p=h?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(o=p||f)===null||o===void 0||(o=o.hooks)===null||o===void 0||(i=o.onBeforeCreate)===null||i===void 0||i.call(o);var g=(a=this.$primevueConfig)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a._usept,v=g?(s=this.$primevue)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.pt)===null||s===void 0?void 0:s.originalValue:void 0,m=g?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=m||v)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(d=c.onBeforeCreate)===null||d===void 0||d.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){this._loadStyles(),this._hook("onBeforeMount")},mounted:function(){this.rootEl=cu(this.$el,'[data-pc-name="'.concat(_a(this.$.type.name),'"]')),this.rootEl&&(this.rootEl.setAttribute(this.$attrSelector,""),this.rootEl.$pc=Xt({name:this.$.type.name},this.$params)),this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._unloadScopedThemeStyles(),this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var t=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));t==null||t(),r==null||r()}},_mergeProps:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return zS(e)?e.apply(void 0,r):H.apply(void 0,r)},_loadStyles:function(){var e=this,t=function(){uu.isStyleNameLoaded("base")||(Ft.loadCSS(e.$styleOptions),e._loadGlobalStyles(),uu.setLoadedStyleName("base")),e._loadThemeStyles()};t(),this._themeChangeListener(t)},_loadCoreStyles:function(){var e,t;!uu.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(t=this.$style)!==null&&t!==void 0&&t.name&&(mV.loadCSS(this.$styleOptions),this.$options.style&&this.$style.loadCSS(this.$styleOptions),uu.setLoadedStyleName(this.$style.name))},_loadGlobalStyles:function(){var e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Bt(e)&&Ft.load(e,Xt({name:"global"},this.$styleOptions))},_loadThemeStyles:function(){var e,t;if(!this.isUnstyled){if(!mn.isStyleNameLoaded("common")){var r,o,i=((r=this.$style)===null||r===void 0||(o=r.getCommonTheme)===null||o===void 0?void 0:o.call(r))||{},a=i.primitive,s=i.semantic;Ft.load(a==null?void 0:a.css,Xt({name:"primitive-variables"},this.$styleOptions)),Ft.load(s==null?void 0:s.css,Xt({name:"semantic-variables"},this.$styleOptions)),Ft.loadTheme(Xt({name:"global-style"},this.$styleOptions)),mn.setLoadedStyleName("common")}if(!mn.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(t=this.$style)!==null&&t!==void 0&&t.name){var l,u,c,d,h=((l=this.$style)===null||l===void 0||(u=l.getComponentTheme)===null||u===void 0?void 0:u.call(l))||{},f=h.css;(c=this.$style)===null||c===void 0||c.load(f,Xt({name:"".concat(this.$style.name,"-variables")},this.$styleOptions)),(d=this.$style)===null||d===void 0||d.loadTheme(Xt({name:"".concat(this.$style.name,"-style")},this.$styleOptions)),mn.setLoadedStyleName(this.$style.name)}if(!mn.isStyleNameLoaded("layer-order")){var p,g,v=(p=this.$style)===null||p===void 0||(g=p.getLayerOrderThemeCSS)===null||g===void 0?void 0:g.call(p);Ft.load(v,Xt({name:"layer-order",first:!0},this.$styleOptions)),mn.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(e){var t,r,o,i=((t=this.$style)===null||t===void 0||(r=t.getPresetTheme)===null||r===void 0?void 0:r.call(t,e,"[".concat(this.$attrSelector,"]")))||{},a=i.css,s=(o=this.$style)===null||o===void 0?void 0:o.load(a,Xt({name:"".concat(this.$attrSelector,"-").concat(this.$style.name)},this.$styleOptions));this.scopedStyleEl=s.el},_unloadScopedThemeStyles:function(){var e;(e=this.scopedStyleEl)===null||e===void 0||(e=e.value)===null||e===void 0||e.remove()},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};uu.clearLoadedStyleNames(),ka.on("theme:change",e)},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var t;return this[e]||((t=this._getHostInstance(this))===null||t===void 0?void 0:t[e])},_getOptionValue:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return nE(e,t,r)},_getPTValue:function(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=/./g.test(r)&&!!o[r.split(".")[0]],s=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=s.mergeSections,u=l===void 0?!0:l,c=s.mergeProps,d=c===void 0?!1:c,h=i?a?this._useGlobalPT(this._getPTClassValue,r,o):this._useDefaultPT(this._getPTClassValue,r,o):void 0,f=a?void 0:this._getPTSelf(t,this._getPTClassValue,r,Xt(Xt({},o),{},{global:h||{}})),p=this._getPTDatasets(r);return u||!u&&f?d?this._mergeProps(d,h,f,p):Xt(Xt(Xt({},h),f),p):Xt(Xt({},f),p)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return H(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o="data-pc-",i=r==="root"&&Bt((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&Xt(Xt({},r==="root"&&Xt(Cw({},"".concat(o,"name"),_a(i?(t=this.pt)===null||t===void 0?void 0:t["data-pc-section"]:this.$.type.name)),i&&Cw({},"".concat(o,"extend"),_a(this.$.type.name)))),{},Cw({},"".concat(o,"section"),_a(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return Yo(e)||rE(e)?{class:e}:e},_getPT:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,i=function(s){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=o?o(s):s,d=_a(r),h=_a(t.$name);return(l=u?d!==h?c==null?void 0:c[d]:void 0:c==null?void 0:c[d])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e,!0)},_usePT:function(e,t,r,o){var i=function(g){return t(g,r,o)};if(e!=null&&e.hasOwnProperty("_usept")){var a,s=e._usept||((a=this.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},l=s.mergeSections,u=l===void 0?!0:l,c=s.mergeProps,d=c===void 0?!1:c,h=i(e.originalValue),f=i(e.value);return h===void 0&&f===void 0?void 0:Yo(f)?f:Yo(h)?h:u||!u&&f?d?this._mergeProps(d,h,f):Xt(Xt({},h),f):f}return i(e)},_useGlobalPT:function(e,t,r){return this._usePT(this.globalPT,e,t,r)},_useDefaultPT:function(e,t,r){return this._usePT(this.defaultPT,e,t,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,Xt(Xt({},this.$params),t))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return H(this.$_attrsWithoutPT,this.ptm(e,t))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,t,Xt({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,Xt(Xt({},this.$params),t))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t){var o=this._getOptionValue(this.$style.inlineStyles,e,Xt(Xt({},this.$params),r)),i=this._getOptionValue(mV.inlineStyles,e,Xt(Xt({},this.$params),r));return[i,o]}}},computed:{globalPT:function(){var e,t=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return Is(r,{instance:t})})},defaultPT:function(){var e,t=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return t._getOptionValue(r,t.$name,Xt({},t.$params))||Is(r,Xt({},t.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$theme:function(){var e;return(e=this.$primevueConfig)===null||e===void 0?void 0:e.theme},$style:function(){return Xt(Xt({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$styleOptions:function(){var e;return{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs}}},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var t=M1(e,1),r=t[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,t){var r=M1(t,2),o=r[0],i=r[1],a=o.split(":"),s=PEe(a),l=s.slice(1);return l==null||l.reduce(function(u,c,d,h){return!u[c]&&(u[c]=d===h.length-1?i:{}),u[c]},e),e},{})},$_attrsWithoutPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var t=M1(e,1),r=t[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,t){var r=M1(t,2),o=r[0],i=r[1];return e[o]=i,e},{})},$attrSelector:function(){return oa("pc")}}},FEe=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,BEe=Ft.extend({name:"baseicon",css:FEe});function Gm(n){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(n)}function wV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function xV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wV(Object(t),!0).forEach(function(r){zEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zEe(n,e,t){return(e=VEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VEe(n){var e=GEe(n,"string");return Gm(e)=="symbol"?e:e+""}function GEe(n,e){if(Gm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var $n={name:"BaseIcon",extends:Ot,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:BEe,provide:function(){return{$pcIcon:this,$parentInstance:this}},methods:{pti:function(){var e=Qo(this.label);return xV(xV({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},jP={name:"MinusIcon",extends:$n};function WEe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1)]),16)}jP.render=WEe;var KP={name:"PlusIcon",extends:$n};function HEe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1)]),16)}KP.render=HEe;var e0={name:"SpinnerIcon",extends:$n};function UEe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1)]),16)}e0.render=UEe;var jEe=function(e){var t=e.dt;return`
.p-badge {
    display: inline-flex;
    border-radius: `.concat(t("badge.border.radius"),`;
    align-items: center;
    justify-content: center;
    padding: `).concat(t("badge.padding"),`;
    background: `).concat(t("badge.primary.background"),`;
    color: `).concat(t("badge.primary.color"),`;
    font-size: `).concat(t("badge.font.size"),`;
    font-weight: `).concat(t("badge.font.weight"),`;
    min-width: `).concat(t("badge.min.width"),`;
    height: `).concat(t("badge.height"),`;
}

.p-badge-dot {
    width: `).concat(t("badge.dot.size"),`;
    min-width: `).concat(t("badge.dot.size"),`;
    height: `).concat(t("badge.dot.size"),`;
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: `).concat(t("badge.secondary.background"),`;
    color: `).concat(t("badge.secondary.color"),`;
}

.p-badge-success {
    background: `).concat(t("badge.success.background"),`;
    color: `).concat(t("badge.success.color"),`;
}

.p-badge-info {
    background: `).concat(t("badge.info.background"),`;
    color: `).concat(t("badge.info.color"),`;
}

.p-badge-warn {
    background: `).concat(t("badge.warn.background"),`;
    color: `).concat(t("badge.warn.color"),`;
}

.p-badge-danger {
    background: `).concat(t("badge.danger.background"),`;
    color: `).concat(t("badge.danger.color"),`;
}

.p-badge-contrast {
    background: `).concat(t("badge.contrast.background"),`;
    color: `).concat(t("badge.contrast.color"),`;
}

.p-badge-sm {
    font-size: `).concat(t("badge.sm.font.size"),`;
    min-width: `).concat(t("badge.sm.min.width"),`;
    height: `).concat(t("badge.sm.height"),`;
}

.p-badge-lg {
    font-size: `).concat(t("badge.lg.font.size"),`;
    min-width: `).concat(t("badge.lg.min.width"),`;
    height: `).concat(t("badge.lg.height"),`;
}

.p-badge-xl {
    font-size: `).concat(t("badge.xl.font.size"),`;
    min-width: `).concat(t("badge.xl.min.width"),`;
    height: `).concat(t("badge.xl.height"),`;
}
`)},KEe={root:function(e){var t=e.props,r=e.instance;return["p-badge p-component",{"p-badge-circle":Bt(t.value)&&String(t.value).length===1,"p-badge-dot":Qo(t.value)&&!r.$slots.default,"p-badge-sm":t.size==="small","p-badge-lg":t.size==="large","p-badge-xl":t.size==="xlarge","p-badge-info":t.severity==="info","p-badge-success":t.severity==="success","p-badge-warn":t.severity==="warn","p-badge-danger":t.severity==="danger","p-badge-secondary":t.severity==="secondary","p-badge-contrast":t.severity==="contrast"}]}},XEe=Ft.extend({name:"badge",theme:jEe,classes:KEe}),qEe={name:"BaseBadge",extends:Ot,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:XEe,provide:function(){return{$pcBadge:this,$parentInstance:this}}},XP={name:"Badge",extends:qEe,inheritAttrs:!1};function YEe(n,e,t,r,o,i){return B(),ne("span",H({class:n.cx("root")},n.ptmi("root")),[He(n.$slots,"default",{},function(){return[ml(Bn(n.value),1)]})],16)}XP.render=YEe;function Wm(n){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(n)}function SV(n,e){return e$e(n)||QEe(n,e)||JEe(n,e)||ZEe()}function ZEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JEe(n,e){if(n){if(typeof n=="string")return CV(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?CV(n,e):void 0}}function CV(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function QEe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(t=t.call(n)).next,e!==0)for(;!(l=(r=i.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,o=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}function e$e(n){if(Array.isArray(n))return n}function kV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Jt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kV(Object(t),!0).forEach(function(r){LD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function LD(n,e,t){return(e=t$e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function t$e(n){var e=n$e(n,"string");return Wm(e)=="symbol"?e:e+""}function n$e(n,e){if(Wm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Nt={_getMeta:function(){return[Ns(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Is(Ns(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,t){var r,o,i;return(r=(e==null||(o=e.instance)===null||o===void 0?void 0:o.$primevue)||(t==null||(i=t.ctx)===null||i===void 0||(i=i.appContext)===null||i===void 0||(i=i.config)===null||i===void 0||(i=i.globalProperties)===null||i===void 0?void 0:i.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:nE,_getPTValue:function(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var y=Nt._getOptionValue.apply(Nt,arguments);return Yo(y)||rE(y)?{class:y}:y},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((t=r.$primevueConfig)===null||t===void 0?void 0:t.ptOptions)||{},c=u.mergeSections,d=c===void 0?!0:c,h=u.mergeProps,f=h===void 0?!1:h,p=s?Nt._useDefaultPT(r,r.defaultPT(),l,i,a):void 0,g=Nt._usePT(r,Nt._getPT(o,r.$name),l,i,Jt(Jt({},a),{},{global:p||{}})),v=Nt._getPTDatasets(r,i);return d||!d&&g?f?Nt._mergeProps(r,f,p,g,v):Jt(Jt(Jt({},p),g),v):Jt(Jt({},g),v)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return Jt(Jt({},t==="root"&&LD({},"".concat(r,"name"),_a(e.$name))),{},LD({},"".concat(r,"section"),_a(t)))},_getPT:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,o=function(a){var s,l=r?r(a):a,u=_a(t);return(s=l==null?void 0:l[u])!==null&&s!==void 0?s:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:o(e.originalValue),value:o(e.value)}:o(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=function(v){return r(v,o,i)};if(t!=null&&t.hasOwnProperty("_usept")){var s,l=t._usept||((s=e.$primevueConfig)===null||s===void 0?void 0:s.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,d=l.mergeProps,h=d===void 0?!1:d,f=a(t.originalValue),p=a(t.value);return f===void 0&&p===void 0?void 0:Yo(p)?p:Yo(f)?f:c||!c&&p?h?Nt._mergeProps(e,h,f,p):Jt(Jt({},f),p):p}return a(t)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return Nt._usePT(e,t,r,o,i)},_loadStyles:function(e,t,r){var o,i=Nt._getConfig(t,r),a={nonce:i==null||(o=i.csp)===null||o===void 0?void 0:o.nonce};Nt._loadCoreStyles(e.$instance,a),Nt._loadThemeStyles(e.$instance,a),Nt._loadScopedThemeStyles(e.$instance,a),Nt._themeChangeListener(function(){return Nt._loadThemeStyles(e.$instance,a)})},_loadCoreStyles:function(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(!uu.isStyleNameLoaded((e=r.$style)===null||e===void 0?void 0:e.name)&&(t=r.$style)!==null&&t!==void 0&&t.name){var i;Ft.loadCSS(o),r.isUnstyled()&&((i=r.$style)===null||i===void 0||i.loadCSS(o)),uu.setLoadedStyleName(r.$style.name)}},_loadThemeStyles:function(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(!(r!=null&&r.isUnstyled())){if(!mn.isStyleNameLoaded("common")){var i,a,s=((i=r.$style)===null||i===void 0||(a=i.getCommonTheme)===null||a===void 0?void 0:a.call(i))||{},l=s.primitive,u=s.semantic;Ft.load(l==null?void 0:l.css,Jt({name:"primitive-variables"},o)),Ft.load(u==null?void 0:u.css,Jt({name:"semantic-variables"},o)),Ft.loadTheme(Jt({name:"global-style"},o)),mn.setLoadedStyleName("common")}if(!mn.isStyleNameLoaded((e=r.$style)===null||e===void 0?void 0:e.name)&&(t=r.$style)!==null&&t!==void 0&&t.name){var c,d,h,f,p=((c=r.$style)===null||c===void 0||(d=c.getDirectiveTheme)===null||d===void 0?void 0:d.call(c))||{},g=p.css;(h=r.$style)===null||h===void 0||h.load(g,Jt({name:"".concat(r.$style.name,"-variables")},o)),(f=r.$style)===null||f===void 0||f.loadTheme(Jt({name:"".concat(r.$style.name,"-style")},o)),mn.setLoadedStyleName(r.$style.name)}if(!mn.isStyleNameLoaded("layer-order")){var v,m,y=(v=r.$style)===null||v===void 0||(m=v.getLayerOrderThemeCSS)===null||m===void 0?void 0:m.call(v);Ft.load(y,Jt({name:"layer-order",first:!0},o)),mn.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.preset();if(r&&e.$attrSelector){var o,i,a,s=((o=e.$style)===null||o===void 0||(i=o.getPresetTheme)===null||i===void 0?void 0:i.call(o,r,"[".concat(e.$attrSelector,"]")))||{},l=s.css,u=(a=e.$style)===null||a===void 0?void 0:a.load(l,Jt({name:"".concat(e.$attrSelector,"-").concat(e.$style.name)},t));e.scopedStyleEl=u.el}},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};uu.clearLoadedStyleNames(),ka.on("theme:change",e)},_hook:function(e,t,r,o,i,a){var s,l,u="on".concat(Mae(t)),c=Nt._getConfig(o,i),d=r==null?void 0:r.$instance,h=Nt._usePT(d,Nt._getPT(o==null||(s=o.value)===null||s===void 0?void 0:s.pt,e),Nt._getOptionValue,"hooks.".concat(u)),f=Nt._useDefaultPT(d,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Nt._getOptionValue,"hooks.".concat(u)),p={el:r,binding:o,vnode:i,prevVnode:a};h==null||h(d,p),f==null||f(d,p)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];return zS(e)?e.apply(void 0,r):H.apply(void 0,r)},_extend:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(a,s,l,u,c){var d,h,f;s._$instances=s._$instances||{};var p=Nt._getConfig(l,u),g=s._$instances[e]||{},v=Qo(g)?Jt(Jt({},t),t==null?void 0:t.methods):{};s._$instances[e]=Jt(Jt({},g),{},{$name:e,$host:s,$binding:l,$modifiers:l==null?void 0:l.modifiers,$value:l==null?void 0:l.value,$el:g.$el||s||void 0,$style:Jt({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},t==null?void 0:t.style),$primevueConfig:p,$attrSelector:s.$attrSelector,defaultPT:function(){return Nt._getPT(p==null?void 0:p.pt,void 0,function(y){var b;return y==null||(b=y.directives)===null||b===void 0?void 0:b[e]})},isUnstyled:function(){var y,b;return((y=s.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.unstyled)!==void 0?(b=s.$instance)===null||b===void 0||(b=b.$binding)===null||b===void 0||(b=b.value)===null||b===void 0?void 0:b.unstyled:p==null?void 0:p.unstyled},theme:function(){var y;return(y=s.$instance)===null||y===void 0||(y=y.$primevueConfig)===null||y===void 0?void 0:y.theme},preset:function(){var y;return(y=s.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.dt},ptm:function(){var y,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Nt._getPTValue(s.$instance,(y=s.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.pt,b,Jt({},w))},ptmo:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Nt._getPTValue(s.$instance,y,b,w,!1)},cx:function(){var y,b,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(y=s.$instance)!==null&&y!==void 0&&y.isUnstyled()?void 0:Nt._getOptionValue((b=s.$instance)===null||b===void 0||(b=b.$style)===null||b===void 0?void 0:b.classes,w,Jt({},x))},sx:function(){var y,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return w?Nt._getOptionValue((y=s.$instance)===null||y===void 0||(y=y.$style)===null||y===void 0?void 0:y.inlineStyles,b,Jt({},x)):void 0}},v),s.$instance=s._$instances[e],(d=(h=s.$instance)[a])===null||d===void 0||d.call(h,s,l,u,c),s["$".concat(e)]=s.$instance,Nt._hook(e,a,s,l,u,c),s.$pd||(s.$pd={}),s.$pd[e]=Jt(Jt({},(f=s.$pd)===null||f===void 0?void 0:f[e]),{},{name:e,instance:s.$instance})},o=function(a){var s,l,u,c,d,h=(s=a.$instance)===null||s===void 0?void 0:s.watch;h==null||(l=h.config)===null||l===void 0||l.call(a.$instance,(u=a.$instance)===null||u===void 0?void 0:u.$primevueConfig),xf.on("config:change",function(f){var p,g=f.newValue,v=f.oldValue;return h==null||(p=h.config)===null||p===void 0?void 0:p.call(a.$instance,g,v)}),h==null||(c=h["config.ripple"])===null||c===void 0||c.call(a.$instance,(d=a.$instance)===null||d===void 0||(d=d.$primevueConfig)===null||d===void 0?void 0:d.ripple),xf.on("config:ripple:change",function(f){var p,g=f.newValue,v=f.oldValue;return h==null||(p=h["config.ripple"])===null||p===void 0?void 0:p.call(a.$instance,g,v)})};return{created:function(a,s,l,u){r("created",a,s,l,u)},beforeMount:function(a,s,l,u){a.$attrSelector=oa("pd"),Nt._loadStyles(a,s,l),r("beforeMount",a,s,l,u),o(a)},mounted:function(a,s,l,u){Nt._loadStyles(a,s,l),r("mounted",a,s,l,u)},beforeUpdate:function(a,s,l,u){r("beforeUpdate",a,s,l,u)},updated:function(a,s,l,u){Nt._loadStyles(a,s,l),r("updated",a,s,l,u)},beforeUnmount:function(a,s,l,u){r("beforeUnmount",a,s,l,u)},unmounted:function(a,s,l,u){var c;(c=a.$instance)===null||c===void 0||(c=c.scopedStyleEl)===null||c===void 0||(c=c.value)===null||c===void 0||c.remove(),r("unmounted",a,s,l,u)}}},extend:function(){var e=Nt._getMeta.apply(Nt,arguments),t=SV(e,2),r=t[0],o=t[1];return Jt({extend:function(){var a=Nt._getMeta.apply(Nt,arguments),s=SV(a,2),l=s[0],u=s[1];return Nt.extend(l,Jt(Jt(Jt({},o),o==null?void 0:o.methods),u))}},Nt._extend(r,o))}},r$e=function(e){var t=e.dt;return`
.p-ink {
    display: block;
    position: absolute;
    background: `.concat(t("ripple.background"),`;
    border-radius: 100%;
    transform: scale(0);
    pointer-events: none;
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`)},o$e={root:"p-ink"},i$e=Ft.extend({name:"ripple-directive",theme:r$e,classes:o$e}),a$e=Nt.extend({style:i$e});function Hm(n){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(n)}function s$e(n){return d$e(n)||c$e(n)||u$e(n)||l$e()}function l$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u$e(n,e){if(n){if(typeof n=="string")return ND(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ND(n,e):void 0}}function c$e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function d$e(n){if(Array.isArray(n))return ND(n)}function ND(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function _V(n,e,t){return(e=h$e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h$e(n){var e=f$e(n,"string");return Hm(e)=="symbol"?e:e+""}function f$e(n,e){if(Hm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var qa=a$e.extend("ripple",{watch:{"config.ripple":function(e){e?(this.createRipple(this.$host),this.bindEvents(this.$host),this.$host.setAttribute("data-pd-ripple",!0),this.$host.style.overflow="hidden",this.$host.style.position="relative"):(this.remove(this.$host),this.$host.removeAttribute("data-pd-ripple"))}},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},createRipple:function(e){var t=fG("span",_V(_V({role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this)},this.$attrSelector,""),"p-bind",this.ptm("root")));e.appendChild(t),this.$el=t},remove:function(e){var t=this.getInk(e);t&&(this.$host.style.overflow="",this.$host.style.position="",this.unbindEvents(e),t.removeEventListener("animationend",this.onAnimationEnd),t.remove())},onMouseDown:function(e){var t=this,r=e.currentTarget,o=this.getInk(r);if(!(!o||getComputedStyle(o,null).display==="none")){if(!this.isUnstyled()&&lu(o,"p-ink-active"),o.setAttribute("data-p-ink-active","false"),!od(o)&&!id(o)){var i=Math.max(ji(r),Ow(r));o.style.height=i+"px",o.style.width=i+"px"}var a=hf(r),s=e.pageX-a.left+document.body.scrollTop-id(o)/2,l=e.pageY-a.top+document.body.scrollLeft-od(o)/2;o.style.top=l+"px",o.style.left=s+"px",!this.isUnstyled()&&iv(o,"p-ink-active"),o.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){o&&(!t.isUnstyled()&&lu(o,"p-ink-active"),o.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&lu(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?s$e(e.children).find(function(t){return Ar(t,"data-pc-name")==="ripple"}):void 0}}});function Um(n){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(n)}function is(n,e,t){return(e=p$e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p$e(n){var e=g$e(n,"string");return Um(e)=="symbol"?e:e+""}function g$e(n,e){if(Um(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var v$e=function(e){var t=e.dt;return`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: `.concat(t("button.primary.color"),`;
    background: `).concat(t("button.primary.background"),`;
    border: 1px solid `).concat(t("button.primary.border.color"),`;
    padding: `).concat(t("button.padding.y")," ").concat(t("button.padding.x"),`;
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background `).concat(t("button.transition.duration"),", color ").concat(t("button.transition.duration"),", border-color ").concat(t("button.transition.duration"),`,
            outline-color `).concat(t("button.transition.duration"),", box-shadow ").concat(t("button.transition.duration"),`;
    border-radius: `).concat(t("button.border.radius"),`;
    outline-color: transparent;
    gap: `).concat(t("button.gap"),`;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: `).concat(t("button.icon.only.width"),`;
    padding-left: 0;
    padding-right: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: `).concat(t("button.icon.only.width"),`;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: `).concat(t("button.sm.font.size"),`;
    padding: `).concat(t("button.sm.padding.y")," ").concat(t("button.sm.padding.x"),`;
}

.p-button-sm .p-button-icon {
    font-size: `).concat(t("button.sm.font.size"),`;
}

.p-button-lg {
    font-size: `).concat(t("button.lg.font.size"),`;
    padding: `).concat(t("button.lg.padding.y")," ").concat(t("button.lg.padding.x"),`;
}

.p-button-lg .p-button-icon {
    font-size: `).concat(t("button.lg.font.size"),`;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: `).concat(t("button.label.font.weight"),`;
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: `).concat(t("button.icon.only.width"),`;
}

.p-button:not(:disabled):hover {
    background: `).concat(t("button.primary.hover.background"),`;
    border: 1px solid `).concat(t("button.primary.hover.border.color"),`;
    color: `).concat(t("button.primary.hover.color"),`;
}

.p-button:not(:disabled):active {
    background: `).concat(t("button.primary.active.background"),`;
    border: 1px solid `).concat(t("button.primary.active.border.color"),`;
    color: `).concat(t("button.primary.active.color"),`;
}

.p-button:focus-visible {
    box-shadow: `).concat(t("button.primary.focus.ring.shadow"),`;
    outline: `).concat(t("button.focus.ring.width")," ").concat(t("button.focus.ring.style")," ").concat(t("button.primary.focus.ring.color"),`;
    outline-offset: `).concat(t("button.focus.ring.offset"),`;
}

.p-button .p-badge {
    min-width: `).concat(t("button.badge.size"),`;
    height: `).concat(t("button.badge.size"),`;
    line-height: `).concat(t("button.badge.size"),`;
}

.p-button-raised {
    box-shadow: `).concat(t("button.raised.shadow"),`;
}

.p-button-rounded {
    border-radius: `).concat(t("button.rounded.border.radius"),`;
}

.p-button-secondary {
    background: `).concat(t("button.secondary.background"),`;
    border: 1px solid `).concat(t("button.secondary.border.color"),`;
    color: `).concat(t("button.secondary.color"),`;
}

.p-button-secondary:not(:disabled):hover {
    background: `).concat(t("button.secondary.hover.background"),`;
    border: 1px solid `).concat(t("button.secondary.hover.border.color"),`;
    color: `).concat(t("button.secondary.hover.color"),`;
}

.p-button-secondary:not(:disabled):active {
    background: `).concat(t("button.secondary.active.background"),`;
    border: 1px solid `).concat(t("button.secondary.active.border.color"),`;
    color: `).concat(t("button.secondary.active.color"),`;
}

.p-button-secondary:focus-visible {
    outline-color: `).concat(t("button.secondary.focus.ring.color"),`;
    box-shadow: `).concat(t("button.secondary.focus.ring.shadow"),`;
}

.p-button-success {
    background: `).concat(t("button.success.background"),`;
    border: 1px solid `).concat(t("button.success.border.color"),`;
    color: `).concat(t("button.success.color"),`;
}

.p-button-success:not(:disabled):hover {
    background: `).concat(t("button.success.hover.background"),`;
    border: 1px solid `).concat(t("button.success.hover.border.color"),`;
    color: `).concat(t("button.success.hover.color"),`;
}

.p-button-success:not(:disabled):active {
    background: `).concat(t("button.success.active.background"),`;
    border: 1px solid `).concat(t("button.success.active.border.color"),`;
    color: `).concat(t("button.success.active.color"),`;
}

.p-button-success:focus-visible {
    outline-color: `).concat(t("button.success.focus.ring.color"),`;
    box-shadow: `).concat(t("button.success.focus.ring.shadow"),`;
}

.p-button-info {
    background: `).concat(t("button.info.background"),`;
    border: 1px solid `).concat(t("button.info.border.color"),`;
    color: `).concat(t("button.info.color"),`;
}

.p-button-info:not(:disabled):hover {
    background: `).concat(t("button.info.hover.background"),`;
    border: 1px solid `).concat(t("button.info.hover.border.color"),`;
    color: `).concat(t("button.info.hover.color"),`;
}

.p-button-info:not(:disabled):active {
    background: `).concat(t("button.info.active.background"),`;
    border: 1px solid `).concat(t("button.info.active.border.color"),`;
    color: `).concat(t("button.info.active.color"),`;
}

.p-button-info:focus-visible {
    outline-color: `).concat(t("button.info.focus.ring.color"),`;
    box-shadow: `).concat(t("button.info.focus.ring.shadow"),`;
}

.p-button-warn {
    background: `).concat(t("button.warn.background"),`;
    border: 1px solid `).concat(t("button.warn.border.color"),`;
    color: `).concat(t("button.warn.color"),`;
}

.p-button-warn:not(:disabled):hover {
    background: `).concat(t("button.warn.hover.background"),`;
    border: 1px solid `).concat(t("button.warn.hover.border.color"),`;
    color: `).concat(t("button.warn.hover.color"),`;
}

.p-button-warn:not(:disabled):active {
    background: `).concat(t("button.warn.active.background"),`;
    border: 1px solid `).concat(t("button.warn.active.border.color"),`;
    color: `).concat(t("button.warn.active.color"),`;
}

.p-button-warn:focus-visible {
    outline-color: `).concat(t("button.warn.focus.ring.color"),`;
    box-shadow: `).concat(t("button.warn.focus.ring.shadow"),`;
}

.p-button-help {
    background: `).concat(t("button.help.background"),`;
    border: 1px solid `).concat(t("button.help.border.color"),`;
    color: `).concat(t("button.help.color"),`;
}

.p-button-help:not(:disabled):hover {
    background: `).concat(t("button.help.hover.background"),`;
    border: 1px solid `).concat(t("button.help.hover.border.color"),`;
    color: `).concat(t("button.help.hover.color"),`;
}

.p-button-help:not(:disabled):active {
    background: `).concat(t("button.help.active.background"),`;
    border: 1px solid `).concat(t("button.help.active.border.color"),`;
    color: `).concat(t("button.help.active.color"),`;
}

.p-button-help:focus-visible {
    outline-color: `).concat(t("button.help.focus.ring.color"),`;
    box-shadow: `).concat(t("button.help.focus.ring.shadow"),`;
}

.p-button-danger {
    background: `).concat(t("button.danger.background"),`;
    border: 1px solid `).concat(t("button.danger.border.color"),`;
    color: `).concat(t("button.danger.color"),`;
}

.p-button-danger:not(:disabled):hover {
    background: `).concat(t("button.danger.hover.background"),`;
    border: 1px solid `).concat(t("button.danger.hover.border.color"),`;
    color: `).concat(t("button.danger.hover.color"),`;
}

.p-button-danger:not(:disabled):active {
    background: `).concat(t("button.danger.active.background"),`;
    border: 1px solid `).concat(t("button.danger.active.border.color"),`;
    color: `).concat(t("button.danger.active.color"),`;
}

.p-button-danger:focus-visible {
    outline-color: `).concat(t("button.danger.focus.ring.color"),`;
    box-shadow: `).concat(t("button.danger.focus.ring.shadow"),`;
}

.p-button-contrast {
    background: `).concat(t("button.contrast.background"),`;
    border: 1px solid `).concat(t("button.contrast.border.color"),`;
    color: `).concat(t("button.contrast.color"),`;
}

.p-button-contrast:not(:disabled):hover {
    background: `).concat(t("button.contrast.hover.background"),`;
    border: 1px solid `).concat(t("button.contrast.hover.border.color"),`;
    color: `).concat(t("button.contrast.hover.color"),`;
}

.p-button-contrast:not(:disabled):active {
    background: `).concat(t("button.contrast.active.background"),`;
    border: 1px solid `).concat(t("button.contrast.active.border.color"),`;
    color: `).concat(t("button.contrast.active.color"),`;
}

.p-button-contrast:focus-visible {
    outline-color: `).concat(t("button.contrast.focus.ring.color"),`;
    box-shadow: `).concat(t("button.contrast.focus.ring.shadow"),`;
}

.p-button-outlined {
    background: transparent;
    border-color: `).concat(t("button.outlined.primary.border.color"),`;
    color: `).concat(t("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):hover {
    background: `).concat(t("button.outlined.primary.hover.background"),`;
    border-color: `).concat(t("button.outlined.primary.border.color"),`;
    color: `).concat(t("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):active {
    background: `).concat(t("button.outlined.primary.active.background"),`;
    border-color: `).concat(t("button.outlined.primary.border.color"),`;
    color: `).concat(t("button.outlined.primary.color"),`;
}

.p-button-outlined.p-button-secondary {
    border-color: `).concat(t("button.outlined.secondary.border.color"),`;
    color: `).concat(t("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: `).concat(t("button.outlined.secondary.hover.background"),`;
    border-color: `).concat(t("button.outlined.secondary.border.color"),`;
    color: `).concat(t("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: `).concat(t("button.outlined.secondary.active.background"),`;
    border-color: `).concat(t("button.outlined.secondary.border.color"),`;
    color: `).concat(t("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-success {
    border-color: `).concat(t("button.outlined.success.border.color"),`;
    color: `).concat(t("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: `).concat(t("button.outlined.success.hover.background"),`;
    border-color: `).concat(t("button.outlined.success.border.color"),`;
    color: `).concat(t("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: `).concat(t("button.outlined.success.active.background"),`;
    border-color: `).concat(t("button.outlined.success.border.color"),`;
    color: `).concat(t("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-info {
    border-color: `).concat(t("button.outlined.info.border.color"),`;
    color: `).concat(t("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: `).concat(t("button.outlined.info.hover.background"),`;
    border-color: `).concat(t("button.outlined.info.border.color"),`;
    color: `).concat(t("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: `).concat(t("button.outlined.info.active.background"),`;
    border-color: `).concat(t("button.outlined.info.border.color"),`;
    color: `).concat(t("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-warn {
    border-color: `).concat(t("button.outlined.warn.border.color"),`;
    color: `).concat(t("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: `).concat(t("button.outlined.warn.hover.background"),`;
    border-color: `).concat(t("button.outlined.warn.border.color"),`;
    color: `).concat(t("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: `).concat(t("button.outlined.warn.active.background"),`;
    border-color: `).concat(t("button.outlined.warn.border.color"),`;
    color: `).concat(t("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-help {
    border-color: `).concat(t("button.outlined.help.border.color"),`;
    color: `).concat(t("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: `).concat(t("button.outlined.help.hover.background"),`;
    border-color: `).concat(t("button.outlined.help.border.color"),`;
    color: `).concat(t("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: `).concat(t("button.outlined.help.active.background"),`;
    border-color: `).concat(t("button.outlined.help.border.color"),`;
    color: `).concat(t("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-danger {
    border-color: `).concat(t("button.outlined.danger.border.color"),`;
    color: `).concat(t("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: `).concat(t("button.outlined.danger.hover.background"),`;
    border-color: `).concat(t("button.outlined.danger.border.color"),`;
    color: `).concat(t("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: `).concat(t("button.outlined.danger.active.background"),`;
    border-color: `).concat(t("button.outlined.danger.border.color"),`;
    color: `).concat(t("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-contrast {
    border-color: `).concat(t("button.outlined.contrast.border.color"),`;
    color: `).concat(t("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: `).concat(t("button.outlined.contrast.hover.background"),`;
    border-color: `).concat(t("button.outlined.contrast.border.color"),`;
    color: `).concat(t("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: `).concat(t("button.outlined.contrast.active.background"),`;
    border-color: `).concat(t("button.outlined.contrast.border.color"),`;
    color: `).concat(t("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-plain {
    border-color: `).concat(t("button.outlined.plain.border.color"),`;
    color: `).concat(t("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: `).concat(t("button.outlined.plain.hover.background"),`;
    border-color: `).concat(t("button.outlined.plain.border.color"),`;
    color: `).concat(t("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: `).concat(t("button.outlined.plain.active.background"),`;
    border-color: `).concat(t("button.outlined.plain.border.color"),`;
    color: `).concat(t("button.outlined.plain.color"),`;
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):hover {
    background: `).concat(t("button.text.primary.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):active {
    background: `).concat(t("button.text.primary.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.primary.color"),`;
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: `).concat(t("button.text.secondary.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: `).concat(t("button.text.secondary.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.secondary.color"),`;
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: `).concat(t("button.text.success.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):active {
    background: `).concat(t("button.text.success.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.success.color"),`;
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: `).concat(t("button.text.info.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):active {
    background: `).concat(t("button.text.info.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.info.color"),`;
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: `).concat(t("button.text.warn.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: `).concat(t("button.text.warn.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.warn.color"),`;
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: `).concat(t("button.text.help.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):active {
    background: `).concat(t("button.text.help.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.help.color"),`;
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: `).concat(t("button.text.danger.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: `).concat(t("button.text.danger.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.danger.color"),`;
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: `).concat(t("button.text.plain.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: `).concat(t("button.text.plain.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.plain.color"),`;
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.link.color"),`;
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.link.hover.color"),`;
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.link.active.color"),`;
}
`)},m$e={root:function(e){var t=e.instance,r=e.props;return["p-button p-component",is(is(is(is(is(is(is(is(is({"p-button-icon-only":t.hasIcon&&!r.label&&!r.badge,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-button-loading":r.loading,"p-button-link":r.link},"p-button-".concat(r.severity),r.severity),"p-button-raised",r.raised),"p-button-rounded",r.rounded),"p-button-text",r.text),"p-button-outlined",r.outlined),"p-button-sm",r.size==="small"),"p-button-lg",r.size==="large"),"p-button-plain",r.plain),"p-button-fluid",t.hasFluid)]},loadingIcon:"p-button-loading-icon",icon:function(e){var t=e.props;return["p-button-icon",is({},"p-button-icon-".concat(t.iconPos),t.label)]},label:"p-button-label"},y$e=Ft.extend({name:"button",theme:v$e,classes:m$e}),b$e={name:"BaseButton",extends:Ot,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},badgeSeverity:{type:String,default:"secondary"},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1},fluid:{type:Boolean,default:null}},style:y$e,provide:function(){return{$pcButton:this,$parentInstance:this}}},qp={name:"Button",extends:b$e,inheritAttrs:!1,inject:{$pcFluid:{default:null}},methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon},attrs:function(){return H(this.asAttrs,this.a11yAttrs,this.getPTOptions("root"))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{"aria-label":this.defaultAriaLabel,"data-pc-name":"button","data-p-disabled":this.disabled,"data-p-severity":this.severity}},hasFluid:function(){return Qo(this.fluid)?!!this.$pcFluid:this.fluid}},components:{SpinnerIcon:e0,Badge:XP},directives:{ripple:qa}};function w$e(n,e,t,r,o,i){var a=Je("SpinnerIcon"),s=Je("Badge"),l=Ks("ripple");return n.asChild?He(n.$slots,"default",{key:1,class:bt(n.cx("root")),a11yAttrs:i.a11yAttrs}):Ka((B(),be(mt(n.as),H({key:0,class:n.cx("root")},i.attrs),{default:ut(function(){return[He(n.$slots,"default",{},function(){return[n.loading?He(n.$slots,"loadingicon",{key:0,class:bt([n.cx("loadingIcon"),n.cx("icon")])},function(){return[n.loadingIcon?(B(),ne("span",H({key:0,class:[n.cx("loadingIcon"),n.cx("icon"),n.loadingIcon]},n.ptm("loadingIcon")),null,16)):(B(),be(a,H({key:1,class:[n.cx("loadingIcon"),n.cx("icon")],spin:""},n.ptm("loadingIcon")),null,16,["class"]))]}):He(n.$slots,"icon",{key:1,class:bt([n.cx("icon")])},function(){return[n.icon?(B(),ne("span",H({key:0,class:[n.cx("icon"),n.icon,n.iconClass]},n.ptm("icon")),null,16)):Oe("",!0)]}),ke("span",H({class:n.cx("label")},n.ptm("label")),Bn(n.label||""),17),n.badge?(B(),be(s,H({key:2,value:n.badge,class:n.badgeClass,severity:n.badgeSeverity,unstyled:n.unstyled},n.ptm("pcBadge")),null,16,["value","class","severity","unstyled"])):Oe("",!0)]})]}),_:3},16,["class"])),[[l]])}qp.render=w$e;var x$e=function(e){var t=e.dt;return`
.p-panel {
    border: 1px solid `.concat(t("panel.border.color"),`;
    border-radius: `).concat(t("panel.border.radius"),`;
    background: `).concat(t("panel.background"),`;
    color: `).concat(t("panel.color"),`;
}

.p-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: `).concat(t("panel.header.padding"),`;
    background: `).concat(t("panel.header.background"),`;
    color: `).concat(t("panel.header.color"),`;
    border-style: solid;
    border-width: `).concat(t("panel.header.border.width"),`;
    border-color: `).concat(t("panel.header.border.color"),`;
    border-radius: `).concat(t("panel.header.border.radius"),`;
}

.p-panel-toggleable .p-panel-header {
    padding: `).concat(t("panel.toggleable.header.padding"),`;
}

.p-panel-title {
    line-height: 1;
    font-weight: `).concat(t("panel.title.font.weight"),`;
}

.p-panel-content {
    padding: `).concat(t("panel.content.padding"),`;
}

.p-panel-footer {
    padding: `).concat(t("panel.footer.padding"),`;
}
`)},S$e={root:function(e){var t=e.props;return["p-panel p-component",{"p-panel-toggleable":t.toggleable}]},header:"p-panel-header",title:"p-panel-title",headerActions:"p-panel-header-actions",pcToggleButton:"p-panel-toggle-button",contentContainer:"p-panel-content-container",content:"p-panel-content",footer:"p-panel-footer"},C$e=Ft.extend({name:"panel",theme:x$e,classes:S$e}),k$e={name:"BasePanel",extends:Ot,props:{header:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}}},style:C$e,provide:function(){return{$pcPanel:this,$parentInstance:this}}},t0={name:"Panel",extends:k$e,inheritAttrs:!1,emits:["update:collapsed","toggle"],data:function(){return{id:this.$attrs.id,d_collapsed:this.collapsed}},watch:{"$attrs.id":function(e){this.id=e||oa()},collapsed:function(e){this.d_collapsed=e}},mounted:function(){this.id=this.id||oa()},methods:{toggle:function(e){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:e,value:this.d_collapsed})},onKeyDown:function(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}},computed:{buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps.ariaLabel?this.toggleButtonProps.ariaLabel:this.header}},components:{PlusIcon:KP,MinusIcon:jP,Button:qp},directives:{ripple:qa}},_$e=["id"],I$e=["id","aria-labelledby"];function T$e(n,e,t,r,o,i){var a=Je("Button");return B(),ne("div",H({class:n.cx("root")},n.ptmi("root")),[ke("div",H({class:n.cx("header")},n.ptm("header")),[He(n.$slots,"header",{id:o.id+"_header",class:bt(n.cx("title"))},function(){return[n.header?(B(),ne("span",H({key:0,id:o.id+"_header",class:n.cx("title")},n.ptm("title")),Bn(n.header),17,_$e)):Oe("",!0)]}),ke("div",H({class:n.cx("headerActions")},n.ptm("headerActions")),[He(n.$slots,"icons"),n.toggleable?(B(),be(a,H({key:0,id:o.id+"_header",class:n.cx("pcToggleButton"),"aria-label":i.buttonAriaLabel,"aria-controls":o.id+"_content","aria-expanded":!o.d_collapsed,unstyled:n.unstyled,onClick:i.toggle,onKeydown:i.onKeyDown},n.toggleButtonProps,{pt:n.ptm("pcToggleButton")}),{icon:ut(function(s){return[He(n.$slots,n.$slots.toggleicon?"toggleicon":"togglericon",{collapsed:o.d_collapsed},function(){return[(B(),be(mt(o.d_collapsed?"PlusIcon":"MinusIcon"),H({class:s.class},n.ptm("pcToggleButton").icon),null,16,["class"]))]})]}),_:3},16,["id","class","aria-label","aria-controls","aria-expanded","unstyled","onClick","onKeydown","pt"])):Oe("",!0)],16)],16),je(tE,H({name:"p-toggleable-content"},n.ptm("transition")),{default:ut(function(){return[Ka(ke("div",H({id:o.id+"_content",class:n.cx("contentContainer"),role:"region","aria-labelledby":o.id+"_header"},n.ptm("contentContainer")),[ke("div",H({class:n.cx("content")},n.ptm("content")),[He(n.$slots,"default")],16),n.$slots.footer?(B(),ne("div",H({key:0,class:n.cx("footer")},n.ptm("footer")),[He(n.$slots,"footer")],16)):Oe("",!0)],16,I$e),[[rae,!o.d_collapsed]])]}),_:3},16)],16)}t0.render=T$e;var A$e=function(e){var t=e.dt;return`
.p-tag {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: `.concat(t("tag.primary.background"),`;
    color: `).concat(t("tag.primary.color"),`;
    font-size: `).concat(t("tag.font.size"),`;
    font-weight: `).concat(t("tag.font.weight"),`;
    padding: `).concat(t("tag.padding"),`;
    border-radius: `).concat(t("tag.border.radius"),`;
    gap: `).concat(t("tag.gap"),`;
}

.p-tag-icon {
    font-size: `).concat(t("tag.icon.size"),`;
    width: `).concat(t("tag.icon.size"),`;
    height:`).concat(t("tag.icon.size"),`;
}

.p-tag-rounded {
    border-radius: `).concat(t("tag.rounded.border.radius"),`;
}

.p-tag-success {
    background: `).concat(t("tag.success.background"),`;
    color: `).concat(t("tag.success.color"),`;
}

.p-tag-info {
    background: `).concat(t("tag.info.background"),`;
    color: `).concat(t("tag.info.color"),`;
}

.p-tag-warn {
    background: `).concat(t("tag.warn.background"),`;
    color: `).concat(t("tag.warn.color"),`;
}

.p-tag-danger {
    background: `).concat(t("tag.danger.background"),`;
    color: `).concat(t("tag.danger.color"),`;
}

.p-tag-secondary {
    background: `).concat(t("tag.secondary.background"),`;
    color: `).concat(t("tag.secondary.color"),`;
}

.p-tag-contrast {
    background: `).concat(t("tag.contrast.background"),`;
    color: `).concat(t("tag.contrast.color"),`;
}
`)},D$e={root:function(e){var t=e.props;return["p-tag p-component",{"p-tag-info":t.severity==="info","p-tag-success":t.severity==="success","p-tag-warn":t.severity==="warn","p-tag-danger":t.severity==="danger","p-tag-secondary":t.severity==="secondary","p-tag-contrast":t.severity==="contrast","p-tag-rounded":t.rounded}]},icon:"p-tag-icon",label:"p-tag-label"},R$e=Ft.extend({name:"tag",theme:A$e,classes:D$e}),E$e={name:"BaseTag",extends:Ot,props:{value:null,severity:null,rounded:Boolean,icon:String},style:R$e,provide:function(){return{$pcTag:this,$parentInstance:this}}},Hx={name:"Tag",extends:E$e,inheritAttrs:!1};function $$e(n,e,t,r,o,i){return B(),ne("span",H({class:n.cx("root")},n.ptmi("root")),[n.$slots.icon?(B(),be(mt(n.$slots.icon),H({key:0,class:n.cx("icon")},n.ptm("icon")),null,16,["class"])):n.icon?(B(),ne("span",H({key:1,class:[n.cx("icon"),n.icon]},n.ptm("icon")),null,16)):Oe("",!0),n.value!=null||n.$slots.default?He(n.$slots,"default",{key:2},function(){return[ke("span",H({class:n.cx("label")},n.ptm("label")),Bn(n.value),17)]}):Oe("",!0)],16)}Hx.render=$$e;var pY={name:"ArrowDownIcon",extends:$n};function P$e(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z",fill:"currentColor"},null,-1)]),16)}pY.render=P$e;var gY={name:"ArrowUpIcon",extends:$n};function M$e(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z",fill:"currentColor"},null,-1)]),16)}gY.render=M$e;function jm(n){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(n)}function L$e(n,e,t){return(e=N$e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function N$e(n){var e=O$e(n,"string");return jm(e)=="symbol"?e:e+""}function O$e(n,e){if(jm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var F$e=function(e){var t=e.dt;return`
.p-paginator {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    background: `.concat(t("paginator.background"),`;
    color: `).concat(t("paginator.color"),`;
    padding: `).concat(t("paginator.padding"),`;
    border-radius: `).concat(t("paginator.border.radius"),`;
    gap: `).concat(t("paginator.gap"),`;
}

.p-paginator-content {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    gap: `).concat(t("paginator.gap"),`;
}

.p-paginator-content-start {
    margin-right: auto;
}

.p-paginator-content-end {
    margin-left: auto;
}

.p-paginator-page,
.p-paginator-next,
.p-paginator-last,
.p-paginator-first,
.p-paginator-prev {
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    user-select: none;
    overflow: hidden;
    position: relative;
    background: `).concat(t("paginator.nav.button.background"),`;
    border: 0 none;
    color: `).concat(t("paginator.nav.button.color"),`;
    min-width: `).concat(t("paginator.nav.button.width"),`;
    height: `).concat(t("paginator.nav.button.height"),`;
    transition: background `).concat(t("paginator.transition.duration"),", color ").concat(t("paginator.transition.duration"),", outline-color ").concat(t("paginator.transition.duration"),", box-shadow ").concat(t("paginator.transition.duration"),`;
    border-radius: `).concat(t("paginator.nav.button.border.radius"),`;
    padding: 0;
    margin: 0;
}

.p-paginator-page:focus-visible,
.p-paginator-next:focus-visible,
.p-paginator-last:focus-visible,
.p-paginator-first:focus-visible,
.p-paginator-prev:focus-visible {
    box-shadow: `).concat(t("paginator.nav.button.focus.ring.shadow"),`;
    outline: `).concat(t("paginator.nav.button.focus.ring.width")," ").concat(t("paginator.nav.button.focus.ring.style")," ").concat(t("paginator.nav.button.focus.ring.color"),`;
    outline-offset: `).concat(t("paginator.nav.button.focus.ring.offset"),`;
}

.p-paginator-page:not(.p-disabled):not(.p-paginator-page-selected):hover,
.p-paginator-first:not(.p-disabled):hover,
.p-paginator-prev:not(.p-disabled):hover,
.p-paginator-next:not(.p-disabled):hover,
.p-paginator-last:not(.p-disabled):hover {
    background: `).concat(t("paginator.nav.button.hover.background"),`;
    color: `).concat(t("paginator.nav.button.hover.color"),`;
}

.p-paginator-page.p-paginator-page-selected {
    background: `).concat(t("paginator.nav.button.selected.background"),`;
    color: `).concat(t("paginator.nav.button.selected.color"),`;
}

.p-paginator-current {
    color: `).concat(t("paginator.current.page.report.color"),`;
}

.p-paginator-pages {
    display: flex;
    align-items: center;
    gap: `).concat(t("paginator.gap"),`;
}

.p-paginator-jtp-input .p-inputtext {
    max-width: `).concat(t("paginator.jump.to.page.input.max.width"),`;
}
`)},B$e={paginator:function(e){var t=e.instance,r=e.key;return["p-paginator p-component",L$e({"p-paginator-default":!t.hasBreakpoints()},"p-paginator-".concat(r),t.hasBreakpoints())]},content:"p-paginator-content",contentStart:"p-paginator-content-start",contentEnd:"p-paginator-content-end",first:function(e){var t=e.instance;return["p-paginator-first",{"p-disabled":t.$attrs.disabled}]},firstIcon:"p-paginator-first-icon",prev:function(e){var t=e.instance;return["p-paginator-prev",{"p-disabled":t.$attrs.disabled}]},prevIcon:"p-paginator-prev-icon",next:function(e){var t=e.instance;return["p-paginator-next",{"p-disabled":t.$attrs.disabled}]},nextIcon:"p-paginator-next-icon",last:function(e){var t=e.instance;return["p-paginator-last",{"p-disabled":t.$attrs.disabled}]},lastIcon:"p-paginator-last-icon",pages:"p-paginator-pages",page:function(e){var t=e.props,r=e.pageLink;return["p-paginator-page",{"p-paginator-page-selected":r-1===t.page}]},current:"p-paginator-current",pcRowPerPageDropdown:"p-paginator-rpp-dropdown",pcJumpToPageDropdown:"p-paginator-jtp-dropdown",pcJumpToPageInput:"p-paginator-jtp-input"},z$e=Ft.extend({name:"paginator",theme:F$e,classes:B$e}),vY={name:"AngleDoubleLeftIcon",extends:$n};function V$e(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z",fill:"currentColor"},null,-1)]),16)}vY.render=V$e;var mY={name:"BlankIcon",extends:$n};function G$e(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1)]),16)}mY.render=G$e;var Yp={name:"CheckIcon",extends:$n};function W$e(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1)]),16)}Yp.render=W$e;var BC={name:"ChevronDownIcon",extends:$n};function H$e(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1)]),16)}BC.render=H$e;var yY={name:"SearchIcon",extends:$n};function U$e(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1)]),16)}yY.render=U$e;var qP={name:"TimesIcon",extends:$n};function j$e(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1)]),16)}qP.render=j$e;var K$e=function(e){var t=e.dt;return`
.p-iconfield {
    position: relative;
}

.p-inputicon {
    position: absolute;
    top: 50%;
    margin-top: calc(-1 * (`.concat(t("icon.size"),` / 2));
    color: `).concat(t("iconfield.icon.color"),`;
    line-height: 1;
}

.p-iconfield .p-inputicon:first-child {
    left: `).concat(t("form.field.padding.x"),`;
}

.p-iconfield .p-inputicon:last-child {
    right: `).concat(t("form.field.padding.x"),`;
}

.p-iconfield .p-inputtext:not(:first-child) {
    padding-left: calc((`).concat(t("form.field.padding.x")," * 2) + ").concat(t("icon.size"),`);
}

.p-iconfield .p-inputtext:not(:last-child) {
    padding-right: calc((`).concat(t("form.field.padding.x")," * 2) + ").concat(t("icon.size"),`);
}
`)},X$e={root:"p-iconfield"},q$e=Ft.extend({name:"iconfield",theme:K$e,classes:X$e}),Y$e={name:"BaseIconField",extends:Ot,style:q$e,provide:function(){return{$pcIconField:this,$parentInstance:this}}},bY={name:"IconField",extends:Y$e,inheritAttrs:!1};function Z$e(n,e,t,r,o,i){return B(),ne("div",H({class:n.cx("root")},n.ptmi("root")),[He(n.$slots,"default")],16)}bY.render=Z$e;var J$e={root:"p-inputicon"},Q$e=Ft.extend({name:"inputicon",classes:J$e}),ePe={name:"BaseInputIcon",extends:Ot,style:Q$e,props:{class:null},provide:function(){return{$pcInputIcon:this,$parentInstance:this}}},wY={name:"InputIcon",extends:ePe,inheritAttrs:!1,computed:{containerClass:function(){return[this.cx("root"),this.class]}}};function tPe(n,e,t,r,o,i){return B(),ne("span",H({class:i.containerClass},n.ptmi("root")),[He(n.$slots,"default")],16)}wY.render=tPe;var nPe=function(e){var t=e.dt;return`
.p-inputtext {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: `.concat(t("inputtext.color"),`;
    background: `).concat(t("inputtext.background"),`;
    padding: `).concat(t("inputtext.padding.y")," ").concat(t("inputtext.padding.x"),`;
    border: 1px solid `).concat(t("inputtext.border.color"),`;
    transition: background `).concat(t("inputtext.transition.duration"),", color ").concat(t("inputtext.transition.duration"),", border-color ").concat(t("inputtext.transition.duration"),", outline-color ").concat(t("inputtext.transition.duration"),", box-shadow ").concat(t("inputtext.transition.duration"),`;
    appearance: none;
    border-radius: `).concat(t("inputtext.border.radius"),`;
    outline-color: transparent;
    box-shadow: `).concat(t("inputtext.shadow"),`;
}

.p-inputtext:enabled:hover {
    border-color: `).concat(t("inputtext.hover.border.color"),`;
}

.p-inputtext:enabled:focus {
    border-color: `).concat(t("inputtext.focus.border.color"),`;
    box-shadow: `).concat(t("inputtext.focus.ring.shadow"),`;
    outline: `).concat(t("inputtext.focus.ring.width")," ").concat(t("inputtext.focus.ring.style")," ").concat(t("inputtext.focus.ring.color"),`;
    outline-offset: `).concat(t("inputtext.focus.ring.offset"),`;
}

.p-inputtext.p-invalid {
    border-color: `).concat(t("inputtext.invalid.border.color"),`;
}

.p-inputtext.p-variant-filled {
    background: `).concat(t("inputtext.filled.background"),`;
}

.p-inputtext.p-variant-filled:enabled:focus {
    background: `).concat(t("inputtext.filled.focus.background"),`;
}

.p-inputtext:disabled {
    opacity: 1;
    background: `).concat(t("inputtext.disabled.background"),`;
    color: `).concat(t("inputtext.disabled.color"),`;
}

.p-inputtext::placeholder {
    color: `).concat(t("inputtext.placeholder.color"),`;
}

.p-inputtext-sm {
    font-size: `).concat(t("inputtext.sm.font.size"),`;
    padding: `).concat(t("inputtext.sm.padding.y")," ").concat(t("inputtext.sm.padding.x"),`;
}

.p-inputtext-lg {
    font-size: `).concat(t("inputtext.lg.font.size"),`;
    padding: `).concat(t("inputtext.lg.padding.y")," ").concat(t("inputtext.lg.padding.x"),`;
}

.p-inputtext-fluid {
    width: 100%;
}
`)},rPe={root:function(e){var t=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":t.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":t.$primevue.config.inputStyle==="filled"||t.$primevue.config.inputVariant==="filled","p-inputtext-fluid":t.hasFluid}]}},oPe=Ft.extend({name:"inputtext",theme:nPe,classes:rPe}),iPe={name:"BaseInputText",extends:Ot,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null},fluid:{type:Boolean,default:null}},style:oPe,provide:function(){return{$pcInputText:this,$parentInstance:this}}},YP={name:"InputText",extends:iPe,inheritAttrs:!1,emits:["update:modelValue"],inject:{$pcFluid:{default:null}},methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},hasFluid:function(){return Qo(this.fluid)?!!this.$pcFluid:this.fluid}}},aPe=["value","aria-invalid"];function sPe(n,e,t,r,o,i){return B(),ne("input",H({type:"text",class:n.cx("root"),value:n.modelValue,"aria-invalid":n.invalid||void 0,onInput:e[0]||(e[0]=function(){return i.onInput&&i.onInput.apply(i,arguments)})},i.getPTOptions("root")),null,16,aPe)}YP.render=sPe;var wu=oE(),ZP={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=vG()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function lPe(n,e,t,r,o,i){return i.inline?He(n.$slots,"default",{key:0}):o.mounted?(B(),be(Voe,{key:1,to:t.appendTo},[He(n.$slots,"default")],8,["to"])):Oe("",!0)}ZP.render=lPe;var uPe=function(e){var t=e.dt;return`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: `.concat(t("virtualscroller.loader.mask.background"),`;
    color: `).concat(t("virtualscroller.loader.mask.color"),`;
}

.p-virtualscroller-loader-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: `).concat(t("virtualscroller.loader.icon.size"),`;
    width: `).concat(t("virtualscroller.loader.icon.size"),`;
    height: `).concat(t("virtualscroller.loader.icon.size"),`;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`)},IV=Ft.extend({name:"virtualscroller",theme:uPe}),cPe={name:"BaseVirtualScroller",extends:Ot,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:IV,provide:function(){return{$pcVirtualScroller:this,$parentInstance:this}},beforeMount:function(){var e;IV.loadCSS({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function Km(n){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(n)}function TV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Yg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TV(Object(t),!0).forEach(function(r){xY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xY(n,e,t){return(e=dPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dPe(n){var e=hPe(n,"string");return Km(e)=="symbol"?e:e+""}function hPe(n,e){if(Km(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var JP={name:"VirtualScroller",extends:cPe,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,t){this.lazy&&e!==t&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,t){(!t||t.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){Fw(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=id(this.element),this.defaultHeight=od(this.element),this.defaultContentWidth=id(this.content),this.defaultContentHeight=od(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",o=this.isBoth(),i=this.isHorizontal(),a=o?e.every(function(C){return C>-1}):e>-1;if(a){var s=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,d=l.scrollLeft,h=d===void 0?0:d,f=this.calculateNumItems(),p=f.numToleratedItems,g=this.getContentPosition(),v=this.itemSize,m=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1?arguments[1]:void 0;return k<=_?0:k},y=function(k,_,I){return k*_+I},b=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.scrollTo({left:k,top:_,behavior:r})},w=o?{rows:0,cols:0}:0,x=!1,S=!1;o?(w={rows:m(e[0],p[0]),cols:m(e[1],p[1])},b(y(w.cols,v[1],g.left),y(w.rows,v[0],g.top)),S=this.lastScrollPos.top!==c||this.lastScrollPos.left!==h,x=w.rows!==s.rows||w.cols!==s.cols):(w=m(e,p),i?b(y(w,v,g.left),c):b(h,y(w,v,g.top)),S=this.lastScrollPos!==(i?h:c),x=w!==s),this.isRangeChanged=x,S&&(this.first=w)}},scrollInView:function(e,t){var r=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(t){var i=this.isBoth(),a=this.isHorizontal(),s=i?e.every(function(v){return v>-1}):e>-1;if(s){var l=this.getRenderedRange(),u=l.first,c=l.viewport,d=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:m,top:y,behavior:o})},h=t==="to-start",f=t==="to-end";if(h){if(i)c.first.rows-u.rows>e[0]?d(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&d((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var p=(c.first-1)*this.itemSize;a?d(p,0):d(0,p)}}else if(f){if(i)c.last.rows-u.rows<=e[0]+1?d(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&d((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var g=(c.first+1)*this.itemSize;a?d(g,0):d(0,g)}}}}else this.scrollToIndex(e,o)},getRenderedRange:function(){var e=function(d,h){return Math.floor(d/(h||d))},t=this.first,r=0;if(this.element){var o=this.isBoth(),i=this.isHorizontal(),a=this.element,s=a.scrollTop,l=a.scrollLeft;if(o)t={rows:e(s,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:t.rows+this.numItemsInViewport.rows,cols:t.cols+this.numItemsInViewport.cols};else{var u=i?l:s;t=e(u,this.itemSize),r=t+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:t,last:r}}},calculateNumItems:function(){var e=this.isBoth(),t=this.isHorizontal(),r=this.itemSize,o=this.getContentPosition(),i=this.element?this.element.offsetWidth-o.left:0,a=this.element?this.element.offsetHeight-o.top:0,s=function(h,f){return Math.ceil(h/(f||h))},l=function(h){return Math.ceil(h/2)},u=e?{rows:s(a,r[0]),cols:s(i,r[1])}:s(t?i:a,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,t=this.isBoth(),r=this.first,o=this.calculateNumItems(),i=o.numItemsInViewport,a=o.numToleratedItems,s=function(c,d,h){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+d+(c<h?2:3)*h,f)},l=t?{rows:s(r.rows,i.rows,a[0]),cols:s(r.cols,i.cols,a[1],!0)}:s(r,i,a);this.last=l,this.numItemsInViewport=i,this.d_numToleratedItems=a,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=t?Array.from({length:i.rows}).map(function(){return Array.from({length:i.cols})}):Array.from({length:i})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?t?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var t=e.isBoth(),r=e.isHorizontal(),o=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var i=[id(e.element),od(e.element)],a=i[0],s=i[1];(t||r)&&(e.element.style.width=a<e.defaultWidth?a+"px":e.scrollWidth||e.defaultWidth+"px"),(t||o)&&(e.element.style.height=s<e.defaultHeight?s+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(o?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((t=this.items)===null||t===void 0?void 0:t.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),t=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),o=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),i=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:t,right:r,top:o,bottom:i,x:t+r,y:o+i}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var t=this.isBoth(),r=this.isHorizontal(),o=this.element.parentElement,i=this.scrollWidth||"".concat(this.element.offsetWidth||o.offsetWidth,"px"),a=this.scrollHeight||"".concat(this.element.offsetHeight||o.offsetHeight,"px"),s=function(u,c){return e.element.style[u]=c};t||r?(s("height",a),s("width",i)):s("height",a)}},setSpacerSize:function(){var e=this,t=this.items;if(t){var r=this.isBoth(),o=this.isHorizontal(),i=this.getContentPosition(),a=function(l,u,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=Yg(Yg({},e.spacerStyle),xY({},"".concat(l),(u||[]).length*c+d+"px"))};r?(a("height",t,this.itemSize[0],i.y),a("width",this.columns||t[1],this.itemSize[1],i.x)):o?a("width",this.columns||t,this.itemSize,i.x):a("height",t,this.itemSize,i.y)}},setContentPosition:function(e){var t=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),o=this.isHorizontal(),i=e?e.first:this.first,a=function(c,d){return c*d},s=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.contentStyle=Yg(Yg({},t.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(d,"px, 0)")})};if(r)s(a(i.cols,this.itemSize[1]),a(i.rows,this.itemSize[0]));else{var l=a(i,this.itemSize);o?s(l,0):s(0,l)}}},onScrollPositionChange:function(e){var t=this,r=e.target,o=this.isBoth(),i=this.isHorizontal(),a=this.getContentPosition(),s=function(T,A){return T?T>A?T-A:T:0},l=function(T,A){return Math.floor(T/(A||T))},u=function(T,A,D,E,$,P){return T<=$?$:P?D-E-$:A+$-1},c=function(T,A,D,E,$,P,N){return T<=P?0:Math.max(0,N?T<A?D:T-P:T>A?D:T-2*P)},d=function(T,A,D,E,$,P){var N=A+E+2*$;return T>=$&&(N+=$+1),t.getLast(N,P)},h=s(r.scrollTop,a.top),f=s(r.scrollLeft,a.left),p=o?{rows:0,cols:0}:0,g=this.last,v=!1,m=this.lastScrollPos;if(o){var y=this.lastScrollPos.top<=h,b=this.lastScrollPos.left<=f;if(!this.appendOnly||this.appendOnly&&(y||b)){var w={rows:l(h,this.itemSize[0]),cols:l(f,this.itemSize[1])},x={rows:u(w.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],y),cols:u(w.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],b)};p={rows:c(w.rows,x.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],y),cols:c(w.cols,x.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],b)},g={rows:d(w.rows,p.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:d(w.cols,p.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=p.rows!==this.first.rows||g.rows!==this.last.rows||p.cols!==this.first.cols||g.cols!==this.last.cols||this.isRangeChanged,m={top:h,left:f}}}else{var S=i?f:h,C=this.lastScrollPos<=S;if(!this.appendOnly||this.appendOnly&&C){var k=l(S,this.itemSize),_=u(k,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,C);p=c(k,_,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,C),g=d(k,p,this.last,this.numItemsInViewport,this.d_numToleratedItems),v=p!==this.first||g!==this.last||this.isRangeChanged,m=S}}return{first:p,last:g,isRangeChanged:v,scrollPos:m}},onScrollChange:function(e){var t=this.onScrollPositionChange(e),r=t.first,o=t.last,i=t.isRangeChanged,a=t.scrollPos;if(i){var s={first:r,last:o};if(this.setContentPosition(s),this.first=r,this.last=o,this.lastScrollPos=a,this.$emit("scroll-index-change",s),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:o,((u=this.items)===null||u===void 0?void 0:u.length)||0)},d=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;d&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var t=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),o=r.isRangeChanged,i=o||(this.step?this.isPageChanged():!1);i&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){t.onScrollChange(e),t.d_loading&&t.showLoader&&(!t.lazy||t.loading===void 0)&&(t.d_loading=!1,t.page=t.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(Fw(e.element)){var t=e.isBoth(),r=e.isVertical(),o=e.isHorizontal(),i=[id(e.element),od(e.element)],a=i[0],s=i[1],l=a!==e.defaultWidth,u=s!==e.defaultHeight,c=t?l||u:o?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=a,e.defaultHeight=s,e.defaultContentWidth=id(e.content),e.defaultContentHeight=od(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var t=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:t,first:r===0,last:r===t-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,t){var r=this.loaderArr.length;return Yg({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},t)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||cu(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-virtualscroller-loader-mask":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(t){return e.columns?t:t.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),t=this.isHorizontal();if(e||t)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:e0}},fPe=["tabindex"];function pPe(n,e,t,r,o,i){var a=Je("SpinnerIcon");return n.disabled?(B(),ne(st,{key:1},[He(n.$slots,"default"),He(n.$slots,"content",{items:n.items,rows:n.items,columns:i.loadedColumns})],64)):(B(),ne("div",H({key:0,ref:i.elementRef,class:i.containerClass,tabindex:n.tabindex,style:n.style,onScroll:e[0]||(e[0]=function(){return i.onScroll&&i.onScroll.apply(i,arguments)})},n.ptmi("root")),[He(n.$slots,"content",{styleClass:i.contentClass,items:i.loadedItems,getItemOptions:i.getOptions,loading:o.d_loading,getLoaderOptions:i.getLoaderOptions,itemSize:n.itemSize,rows:i.loadedRows,columns:i.loadedColumns,contentRef:i.contentRef,spacerStyle:o.spacerStyle,contentStyle:o.contentStyle,vertical:i.isVertical(),horizontal:i.isHorizontal(),both:i.isBoth()},function(){return[ke("div",H({ref:i.contentRef,class:i.contentClass,style:o.contentStyle},n.ptm("content")),[(B(!0),ne(st,null,vr(i.loadedItems,function(s,l){return He(n.$slots,"item",{key:l,item:s,options:i.getOptions(l)})}),128))],16)]}),n.showSpacer?(B(),ne("div",H({key:0,class:"p-virtualscroller-spacer",style:o.spacerStyle},n.ptm("spacer")),null,16)):Oe("",!0),!n.loaderDisabled&&n.showLoader&&o.d_loading?(B(),ne("div",H({key:1,class:i.loaderClass},n.ptm("loader")),[n.$slots&&n.$slots.loader?(B(!0),ne(st,{key:0},vr(o.loaderArr,function(s,l){return He(n.$slots,"loader",{key:l,options:i.getLoaderOptions(l,i.isBoth()&&{numCols:n.d_numItemsInViewport.cols})})}),128)):Oe("",!0),He(n.$slots,"loadingicon",{},function(){return[je(a,H({spin:"",class:"p-virtualscroller-loading-icon"},n.ptm("loadingIcon")),null,16)]})],16)):Oe("",!0)],16,fPe))}JP.render=pPe;var gPe=function(e){var t=e.dt;return`
.p-select {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
    background: `.concat(t("select.background"),`;
    border: 1px solid `).concat(t("select.border.color"),`;
    transition: background `).concat(t("select.transition.duration"),", color ").concat(t("select.transition.duration"),", border-color ").concat(t("select.transition.duration"),`,
        outline-color `).concat(t("select.transition.duration"),", box-shadow ").concat(t("select.transition.duration"),`;
    border-radius: `).concat(t("select.border.radius"),`;
    outline-color: transparent;
    box-shadow: `).concat(t("select.shadow"),`;
}

.p-select:not(.p-disabled):hover {
    border-color: `).concat(t("select.hover.border.color"),`;
}

.p-select:not(.p-disabled).p-focus {
    border-color: `).concat(t("select.focus.border.color"),`;
    box-shadow: `).concat(t("select.focus.ring.shadow"),`;
    outline: `).concat(t("select.focus.ring.width")," ").concat(t("select.focus.ring.style")," ").concat(t("select.focus.ring.color"),`;
    outline-offset: `).concat(t("select.focus.ring.offset"),`;
}

.p-select.p-variant-filled {
    background: `).concat(t("select.filled.background"),`;
}

.p-select.p-variant-filled.p-focus {
    background: `).concat(t("select.filled.focus.background"),`;
}

.p-select.p-invalid {
    border-color: `).concat(t("select.invalid.border.color"),`;
}

.p-select.p-disabled {
    opacity: 1;
    background: `).concat(t("select.disabled.background"),`;
}

.p-select-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    color: `).concat(t("select.clear.icon.color"),`;
    right: `).concat(t("select.dropdown.width"),`;
}

.p-select-dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: `).concat(t("select.dropdown.color"),`;
    width: `).concat(t("select.dropdown.width"),`;
    border-top-right-radius: `).concat(t("select.border.radius"),`;
    border-bottom-right-radius: `).concat(t("select.border.radius"),`;
}

.p-select-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    padding: `).concat(t("select.padding.y")," ").concat(t("select.padding.x"),`;
    text-overflow: ellipsis;
    cursor: pointer;
    color: `).concat(t("select.color"),`;
    background: transparent;
    border: 0 none;
    outline: 0 none;
}

.p-select-label.p-placeholder {
    color: `).concat(t("select.placeholder.color"),`;
}

.p-select:has(.p-select-clear-icon) .p-select-label {
    padding-right: calc(1rem + `).concat(t("select.padding.x"),`);
}

.p-select.p-disabled .p-select-label {
    color: `).concat(t("select.disabled.color"),`;
}

.p-select-label-empty {
    overflow: hidden;
    opacity: 0;
}

input.p-select-label {
    cursor: default;
}

.p-select .p-select-overlay {
    min-width: 100%;
}

.p-select-overlay {
    position: absolute;
    top: 0;
    left: 0;
    background: `).concat(t("select.overlay.background"),`;
    color: `).concat(t("select.overlay.color"),`;
    border: 1px solid `).concat(t("select.overlay.border.color"),`;
    border-radius: `).concat(t("select.overlay.border.radius"),`;
    box-shadow: `).concat(t("select.overlay.shadow"),`;
}

.p-select-header {
    padding: `).concat(t("select.list.header.padding"),`;
}

.p-select-filter {
    width: 100%;
}

.p-select-list-container {
    overflow: auto;
}

.p-select-option-group {
    cursor: auto;
    margin: 0;
    padding: `).concat(t("select.option.group.padding"),`;
    background: `).concat(t("select.option.group.background"),`;
    color: `).concat(t("select.option.group.color"),`;
    font-weight: `).concat(t("select.option.group.font.weight"),`;
}

.p-select-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
    padding: `).concat(t("select.list.padding"),`;
    gap: `).concat(t("select.list.gap"),`;
    display: flex;
    flex-direction: column;
}

.p-select-option {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    padding: `).concat(t("select.option.padding"),`;
    border: 0 none;
    color: `).concat(t("select.option.color"),`;
    background: transparent;
    transition: background `).concat(t("select.transition.duration"),", color ").concat(t("select.transition.duration"),", border-color ").concat(t("select.transition.duration"),`,
            box-shadow `).concat(t("select.transition.duration"),", outline-color ").concat(t("select.transition.duration"),`;
    border-radius: `).concat(t("select.option.border.radius"),`;
}

.p-select-option:not(.p-select-option-selected):not(.p-disabled).p-focus {
    background: `).concat(t("select.option.focus.background"),`;
    color: `).concat(t("select.option.focus.color"),`;
}

.p-select-option.p-select-option-selected {
    background: `).concat(t("select.option.selected.background"),`;
    color: `).concat(t("select.option.selected.color"),`;
}

.p-select-option.p-select-option-selected.p-focus {
    background: `).concat(t("select.option.selected.focus.background"),`;
    color: `).concat(t("select.option.selected.focus.color"),`;
}

.p-select-option-check-icon {
    position: relative;
    margin-inline-start: `).concat(t("select.checkmark.gutter.start"),`;
    margin-inline-end: `).concat(t("select.checkmark.gutter.end"),`;
    color: `).concat(t("select.checkmark.color"),`;
}

.p-select-empty-message {
    padding: `).concat(t("select.empty.message.padding"),`;
}

.p-select-fluid {
    display: flex;
}
`)},vPe={root:function(e){var t=e.instance,r=e.props,o=e.state;return["p-select p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":t.$primevue.config.inputStyle==="filled"||t.$primevue.config.inputVariant==="filled","p-focus":o.focused,"p-inputwrapper-filled":t.hasSelectedOption,"p-inputwrapper-focus":o.focused||o.overlayVisible,"p-select-open":o.overlayVisible,"p-select-fluid":t.hasFluid}]},label:function(e){var t=e.instance,r=e.props;return["p-select-label",{"p-placeholder":!r.editable&&t.label===r.placeholder,"p-select-label-empty":!r.editable&&!t.$slots.value&&(t.label==="p-emptylabel"||t.label.length===0)}]},clearIcon:"p-select-clear-icon",dropdown:"p-select-dropdown",loadingicon:"p-select-loading-icon",dropdownIcon:"p-select-dropdown-icon",overlay:"p-select-overlay p-component",header:"p-select-header",pcFilter:"p-select-filter",listContainer:"p-select-list-container",list:"p-select-list",optionGroup:"p-select-option-group",optionGroupLabel:"p-select-option-group-label",option:function(e){var t=e.instance,r=e.props,o=e.state,i=e.option,a=e.focusedOption;return["p-select-option",{"p-select-option-selected":t.isSelected(i)&&r.highlightOnSelect,"p-focus":o.focusedOptionIndex===a,"p-disabled":t.isOptionDisabled(i)}]},optionLabel:"p-select-option-label",optionCheckIcon:"p-select-option-check-icon",optionBlankIcon:"p-select-option-blank-icon",emptyMessage:"p-select-empty-message"},mPe=Ft.extend({name:"select",theme:gPe,classes:vPe}),yPe={name:"BaseSelect",extends:Ot,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"14rem"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},fluid:{type:Boolean,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},labelId:{type:String,default:null},labelClass:{type:[String,Object],default:null},labelStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},overlayStyle:{type:Object,default:null},overlayClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:mPe,provide:function(){return{$pcSelect:this,$parentInstance:this}}};function Xm(n){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(n)}function bPe(n){return CPe(n)||SPe(n)||xPe(n)||wPe()}function wPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xPe(n,e){if(n){if(typeof n=="string")return OD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?OD(n,e):void 0}}function SPe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function CPe(n){if(Array.isArray(n))return OD(n)}function OD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function AV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function DV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(t),!0).forEach(function(r){SY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function SY(n,e,t){return(e=kPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kPe(n){var e=_Pe(n,"string");return Xm(e)=="symbol"?e:e+""}function _Pe(n,e){if(Xm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var zC={name:"Select",extends:yPe,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],inject:{$pcFluid:{default:null}},outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||oa()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||oa(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Mf.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,t){return this.virtualScrollerDisabled?e:t&&t(e).index},getOptionLabel:function(e){return this.optionLabel?Et(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Et(e,this.optionValue):e},getOptionRenderKey:function(e,t){return(this.dataKey?Et(e,this.dataKey):this.getOptionLabel(e))+"_"+t},getPTItemOptions:function(e,t,r,o){return this.ptm(o,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,t),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?Et(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Et(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Et(e,this.optionGroupChildren)},getAriaPosInset:function(e){var t=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return t.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&Go(this.$refs.focusInput)},hide:function(e){var t=this,r=function(){t.$emit("before-hide"),t.overlayVisible=!1,t.clicked=!1,t.focusedOptionIndex=-1,t.searchValue="",t.resetFilterOnHide&&(t.filterValue=null),e&&Go(t.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||tse()){e.preventDefault();return}var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t&&Pae(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var t=e.target.value;this.searchValue="";var r=this.searchOptions(e,t);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,t),!this.overlayVisible&&Bt(t)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var t=e.relatedTarget===this.$refs.focusInput?rd(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Go(t)},onLastHiddenFocus:function(e){var t=e.relatedTarget===this.$refs.focusInput?pG(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Go(t)},onOptionSelect:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=this.getOptionValue(t);this.updateModel(e,o),r&&this.hide(!0)},onOptionMouseMove:function(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)},onFilterChange:function(e){var t=e.target.value;this.filterValue=t,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:t}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){if(!e.isComposing)switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){wu.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var t=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t)}e.preventDefault()},onArrowUpKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!t)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var o=r.value.length;r.setSelectionRange(o,o),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!t&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t||(this.overlayVisible&&this.hasFocusableElements()?(Go(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Mf.set("overlay",e,this.$primevue.config.zIndex.overlay),Lw(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Go(this.$refs.filterInput.$el)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.autoFilterFocus&&Go(this.$refs.focusInput),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Mf.clear(e)},alignOverlay:function(){this.appendTo==="self"?Yae(this.overlay,this.$el):(this.overlay.style.minWidth=ji(this.$el)+"px",hG(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){e.overlayVisible&&e.overlay&&!e.$el.contains(t.target)&&!e.overlay.contains(t.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new uY(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!mG()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var t=document.querySelector('label[for="'.concat(this.inputId,'"]'));t&&Fw(t)&&(this.labelClickListener=function(){Go(e.$refs.focusInput)},t.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&Fw(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return iE(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var t;return this.isValidOption(e)&&typeof this.getOptionLabel(e)=="string"&&((t=this.getOptionLabel(e))===null||t===void 0?void 0:t.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Bt(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&_s(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(t){return e.isValidOption(t)})},findLastOptionIndex:function(){var e=this;return G3(this.visibleOptions,function(t){return e.isValidOption(t)})},findNextOptionIndex:function(e){var t=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(o){return t.isValidOption(o)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var t=this,r=e>0?G3(this.visibleOptions.slice(0,e),function(o){return t.isValidOption(o)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(t){return e.isValidSelectedOption(t)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,t){var r=this;this.searchValue=(this.searchValue||"")+t;var o=-1,i=!1;return Bt(this.searchValue)&&(this.focusedOptionIndex!==-1?(o=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(a){return r.isOptionMatched(a)}),o=o===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(a){return r.isOptionMatched(a)}):o+this.focusedOptionIndex):o=this.visibleOptions.findIndex(function(a){return r.isOptionMatched(a)}),o!==-1&&(i=!0),o===-1&&this.focusedOptionIndex===-1&&(o=this.findFirstFocusedOptionIndex()),o!==-1&&this.changeFocusedOptionIndex(e,o)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),i},changeFocusedOptionIndex:function(e,t){this.focusedOptionIndex!==t&&(this.focusedOptionIndex=t,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[t],!1))},scrollInView:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=t!==-1?"".concat(e.id,"_").concat(t):e.focusedOptionId,o=cu(e.list,'li[id="'.concat(r,'"]'));o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"start"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(t!==-1?t:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,t){this.$emit("update:modelValue",t),this.$emit("change",{originalEvent:e,value:t})},flatOptions:function(e){var t=this;return(e||[]).reduce(function(r,o,i){r.push({optionGroup:o,group:!0,index:i});var a=t.getOptionGroupChildren(o);return a&&a.forEach(function(s){return r.push(s)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,t){this.list=e,t&&t(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,t=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=WT.filter(t,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var o=this.options||[],i=[];return o.forEach(function(a){var s=e.getOptionGroupChildren(a),l=s.filter(function(u){return r.includes(u)});l.length>0&&i.push(DV(DV({},a),{},SY({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",bPe(l))))}),this.flatOptions(i)}return r}return t},hasSelectedOption:function(){return Bt(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return Bt(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(t){return!e.isOptionGroup(t)}).length},isClearIconVisible:function(){return this.showClear&&this.modelValue!=null&&Bt(this.options)},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions},hasFluid:function(){return Qo(this.fluid)?!!this.$pcFluid:this.fluid}},directives:{ripple:qa},components:{InputText:YP,VirtualScroller:JP,Portal:ZP,InputIcon:wY,IconField:bY,TimesIcon:qP,ChevronDownIcon:BC,SpinnerIcon:e0,SearchIcon:yY,CheckIcon:Yp,BlankIcon:mY}},IPe=["id"],TPe=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],APe=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],DPe=["id"],RPe=["id"],EPe=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-selected","data-p-focused","data-p-disabled"];function $Pe(n,e,t,r,o,i){var a=Je("SpinnerIcon"),s=Je("InputText"),l=Je("SearchIcon"),u=Je("InputIcon"),c=Je("IconField"),d=Je("CheckIcon"),h=Je("BlankIcon"),f=Je("VirtualScroller"),p=Je("Portal"),g=Ks("ripple");return B(),ne("div",H({ref:"container",id:o.id,class:n.cx("root"),onClick:e[11]||(e[11]=function(){return i.onContainerClick&&i.onContainerClick.apply(i,arguments)})},n.ptmi("root")),[n.editable?(B(),ne("input",H({key:0,ref:"focusInput",id:n.labelId||n.inputId,type:"text",class:[n.cx("label"),n.inputClass,n.labelClass],style:[n.inputStyle,n.labelStyle],value:i.editableInputValue,placeholder:n.placeholder,tabindex:n.disabled?-1:n.tabindex,disabled:n.disabled,autocomplete:"off",role:"combobox","aria-label":n.ariaLabel,"aria-labelledby":n.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":o.overlayVisible,"aria-controls":o.id+"_list","aria-activedescendant":o.focused?i.focusedOptionId:void 0,"aria-invalid":n.invalid||void 0,onFocus:e[0]||(e[0]=function(){return i.onFocus&&i.onFocus.apply(i,arguments)}),onBlur:e[1]||(e[1]=function(){return i.onBlur&&i.onBlur.apply(i,arguments)}),onKeydown:e[2]||(e[2]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)}),onInput:e[3]||(e[3]=function(){return i.onEditableInput&&i.onEditableInput.apply(i,arguments)})},n.ptm("label")),null,16,TPe)):(B(),ne("span",H({key:1,ref:"focusInput",id:n.labelId||n.inputId,class:[n.cx("label"),n.inputClass,n.labelClass],style:[n.inputStyle,n.labelStyle],tabindex:n.disabled?-1:n.tabindex,role:"combobox","aria-label":n.ariaLabel||(i.label==="p-emptylabel"?void 0:i.label),"aria-labelledby":n.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":o.overlayVisible,"aria-controls":o.id+"_list","aria-activedescendant":o.focused?i.focusedOptionId:void 0,"aria-disabled":n.disabled,onFocus:e[4]||(e[4]=function(){return i.onFocus&&i.onFocus.apply(i,arguments)}),onBlur:e[5]||(e[5]=function(){return i.onBlur&&i.onBlur.apply(i,arguments)}),onKeydown:e[6]||(e[6]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)})},n.ptm("label")),[He(n.$slots,"value",{value:n.modelValue,placeholder:n.placeholder},function(){return[ml(Bn(i.label==="p-emptylabel"?"":i.label||"empty"),1)]})],16,APe)),i.isClearIconVisible?He(n.$slots,"clearicon",{key:2,class:bt(n.cx("clearIcon")),clearCallback:i.onClearClick},function(){return[(B(),be(mt(n.clearIcon?"i":"TimesIcon"),H({ref:"clearIcon",class:[n.cx("clearIcon"),n.clearIcon],onClick:i.onClearClick},n.ptm("clearIcon"),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):Oe("",!0),ke("div",H({class:n.cx("dropdown")},n.ptm("dropdown")),[n.loading?He(n.$slots,"loadingicon",{key:0,class:bt(n.cx("loadingIcon"))},function(){return[n.loadingIcon?(B(),ne("span",H({key:0,class:[n.cx("loadingIcon"),"pi-spin",n.loadingIcon],"aria-hidden":"true"},n.ptm("loadingIcon")),null,16)):(B(),be(a,H({key:1,class:n.cx("loadingIcon"),spin:"","aria-hidden":"true"},n.ptm("loadingIcon")),null,16,["class"]))]}):He(n.$slots,"dropdownicon",{key:1,class:bt(n.cx("dropdownIcon"))},function(){return[(B(),be(mt(n.dropdownIcon?"span":"ChevronDownIcon"),H({class:[n.cx("dropdownIcon"),n.dropdownIcon],"aria-hidden":"true"},n.ptm("dropdownIcon")),null,16,["class"]))]})],16),je(p,{appendTo:n.appendTo},{default:ut(function(){return[je(tE,H({name:"p-connected-overlay",onEnter:i.onOverlayEnter,onAfterEnter:i.onOverlayAfterEnter,onLeave:i.onOverlayLeave,onAfterLeave:i.onOverlayAfterLeave},n.ptm("transition")),{default:ut(function(){return[o.overlayVisible?(B(),ne("div",H({key:0,ref:i.overlayRef,class:[n.cx("overlay"),n.panelClass,n.overlayClass],style:[n.panelStyle,n.overlayStyle],onClick:e[9]||(e[9]=function(){return i.onOverlayClick&&i.onOverlayClick.apply(i,arguments)}),onKeydown:e[10]||(e[10]=function(){return i.onOverlayKeyDown&&i.onOverlayKeyDown.apply(i,arguments)})},n.ptm("overlay")),[ke("span",H({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return i.onFirstHiddenFocus&&i.onFirstHiddenFocus.apply(i,arguments)})},n.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),He(n.$slots,"header",{value:n.modelValue,options:i.visibleOptions}),n.filter?(B(),ne("div",H({key:0,class:n.cx("header")},n.ptm("header")),[je(c,{unstyled:n.unstyled,pt:n.ptm("pcFilterContainer")},{default:ut(function(){return[je(s,{ref:"filterInput",type:"text",value:o.filterValue,onVnodeMounted:i.onFilterUpdated,onVnodeUpdated:i.onFilterUpdated,class:bt(n.cx("pcFilter")),placeholder:n.filterPlaceholder,variant:n.variant,unstyled:n.unstyled,role:"searchbox",autocomplete:"off","aria-owns":o.id+"_list","aria-activedescendant":i.focusedOptionId,onKeydown:i.onFilterKeyDown,onBlur:i.onFilterBlur,onInput:i.onFilterChange,pt:n.ptm("pcFilter")},null,8,["value","onVnodeMounted","onVnodeUpdated","class","placeholder","variant","unstyled","aria-owns","aria-activedescendant","onKeydown","onBlur","onInput","pt"]),je(u,{unstyled:n.unstyled,pt:n.ptm("pcFilterIconContainer")},{default:ut(function(){return[He(n.$slots,"filtericon",{},function(){return[n.filterIcon?(B(),ne("span",H({key:0,class:n.filterIcon},n.ptm("filterIcon")),null,16)):(B(),be(l,AS(H({key:1},n.ptm("filterIcon"))),null,16))]})]}),_:3},8,["unstyled","pt"])]}),_:3},8,["unstyled","pt"]),ke("span",H({role:"status","aria-live":"polite",class:"p-hidden-accessible"},n.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Bn(i.filterResultMessageText),17)],16)):Oe("",!0),ke("div",H({class:n.cx("listContainer"),style:{"max-height":i.virtualScrollerDisabled?n.scrollHeight:""}},n.ptm("listContainer")),[je(f,H({ref:i.virtualScrollerRef},n.virtualScrollerOptions,{items:i.visibleOptions,style:{height:n.scrollHeight},tabindex:-1,disabled:i.virtualScrollerDisabled,pt:n.ptm("virtualScroller")}),Zf({content:ut(function(v){var m=v.styleClass,y=v.contentRef,b=v.items,w=v.getItemOptions,x=v.contentStyle,S=v.itemSize;return[ke("ul",H({ref:function(k){return i.listRef(k,y)},id:o.id+"_list",class:[n.cx("list"),m],style:x,role:"listbox"},n.ptm("list")),[(B(!0),ne(st,null,vr(b,function(C,k){return B(),ne(st,{key:i.getOptionRenderKey(C,i.getOptionIndex(k,w))},[i.isOptionGroup(C)?(B(),ne("li",H({key:0,id:o.id+"_"+i.getOptionIndex(k,w),style:{height:S?S+"px":void 0},class:n.cx("optionGroup"),role:"option",ref_for:!0},n.ptm("optionGroup")),[He(n.$slots,"optiongroup",{option:C.optionGroup,index:i.getOptionIndex(k,w)},function(){return[ke("span",H({class:n.cx("optionGroupLabel"),ref_for:!0},n.ptm("optionGroupLabel")),Bn(i.getOptionGroupLabel(C.optionGroup)),17)]})],16,RPe)):Ka((B(),ne("li",H({key:1,id:o.id+"_"+i.getOptionIndex(k,w),class:n.cx("option",{option:C,focusedOption:i.getOptionIndex(k,w)}),style:{height:S?S+"px":void 0},role:"option","aria-label":i.getOptionLabel(C),"aria-selected":i.isSelected(C),"aria-disabled":i.isOptionDisabled(C),"aria-setsize":i.ariaSetSize,"aria-posinset":i.getAriaPosInset(i.getOptionIndex(k,w)),onClick:function(I){return i.onOptionSelect(I,C)},onMousemove:function(I){return i.onOptionMouseMove(I,i.getOptionIndex(k,w))},"data-p-selected":i.isSelected(C),"data-p-focused":o.focusedOptionIndex===i.getOptionIndex(k,w),"data-p-disabled":i.isOptionDisabled(C),ref_for:!0},i.getPTItemOptions(C,w,k,"option")),[n.checkmark?(B(),ne(st,{key:0},[i.isSelected(C)?(B(),be(d,H({key:0,class:n.cx("optionCheckIcon"),ref_for:!0},n.ptm("optionCheckIcon")),null,16,["class"])):(B(),be(h,H({key:1,class:n.cx("optionBlankIcon"),ref_for:!0},n.ptm("optionBlankIcon")),null,16,["class"]))],64)):Oe("",!0),He(n.$slots,"option",{option:C,selected:i.isSelected(C),index:i.getOptionIndex(k,w)},function(){return[ke("span",H({class:n.cx("optionLabel"),ref_for:!0},n.ptm("optionLabel")),Bn(i.getOptionLabel(C)),17)]})],16,EPe)),[[g]])],64)}),128)),o.filterValue&&(!b||b&&b.length===0)?(B(),ne("li",H({key:0,class:n.cx("emptyMessage"),role:"option"},n.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[He(n.$slots,"emptyfilter",{},function(){return[ml(Bn(i.emptyFilterMessageText),1)]})],16)):!n.options||n.options&&n.options.length===0?(B(),ne("li",H({key:1,class:n.cx("emptyMessage"),role:"option"},n.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[He(n.$slots,"empty",{},function(){return[ml(Bn(i.emptyMessageText),1)]})],16)):Oe("",!0)],16,DPe)]}),_:2},[n.$slots.loader?{name:"loader",fn:ut(function(v){var m=v.options;return[He(n.$slots,"loader",{options:m})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),He(n.$slots,"footer",{value:n.modelValue,options:i.visibleOptions}),!n.options||n.options&&n.options.length===0?(B(),ne("span",H({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},n.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Bn(i.emptyMessageText),17)):Oe("",!0),ke("span",H({role:"status","aria-live":"polite",class:"p-hidden-accessible"},n.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Bn(i.selectedMessageText),17),ke("span",H({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[8]||(e[8]=function(){return i.onLastHiddenFocus&&i.onLastHiddenFocus.apply(i,arguments)})},n.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):Oe("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,IPe)}zC.render=$Pe;var CY={name:"AngleDownIcon",extends:$n};function PPe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z",fill:"currentColor"},null,-1)]),16)}CY.render=PPe;var kY={name:"AngleUpIcon",extends:$n};function MPe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z",fill:"currentColor"},null,-1)]),16)}kY.render=MPe;var LPe=function(e){var t=e.dt;return`
.p-inputnumber {
    display: inline-flex;
    position: relative;
}

.p-inputnumber-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
    cursor: pointer;
    background: `.concat(t("inputnumber.button.background"),`;
    color: `).concat(t("inputnumber.button.color"),`;
    width: `).concat(t("inputnumber.button.width"),`;
    transition: background `).concat(t("inputnumber.transition.duration"),", color ").concat(t("inputnumber.transition.duration"),", border-color ").concat(t("inputnumber.transition.duration"),", outline-color ").concat(t("inputnumber.transition.duration"),`;
}

.p-inputnumber-button:hover {
    background: `).concat(t("inputnumber.button.hover.background"),`;
    color: `).concat(t("inputnumber.button.hover.color"),`;
}

.p-inputnumber-button:active {
    background: `).concat(t("inputnumber.button.active.background"),`;
    color: `).concat(t("inputnumber.button.active.color"),`;
}

.p-inputnumber-stacked .p-inputnumber-button {
    position: relative;
    border: 0 none;
}

.p-inputnumber-stacked .p-inputnumber-button-group {
    display: flex;
    flex-direction: column;
    position: absolute;
    top: 1px;
    right: 1px;
    height: calc(100% - 2px);
    z-index: 1;
}

.p-inputnumber-stacked .p-inputnumber-increment-button {
    padding: 0;
    border-top-right-radius: calc(`).concat(t("inputnumber.button.border.radius"),` - 1px);
}

.p-inputnumber-stacked .p-inputnumber-decrement-button {
    padding: 0;
    border-bottom-right-radius: calc(`).concat(t("inputnumber.button.border.radius"),` - 1px);
}

.p-inputnumber-stacked .p-inputnumber-button {
    flex: 1 1 auto;
    border: 0 none;
}

.p-inputnumber-horizontal .p-inputnumber-button {
    border: 1px solid `).concat(t("inputnumber.button.border.color"),`;
}

.p-inputnumber-horizontal .p-inputnumber-button:hover {
    border-color: `).concat(t("inputnumber.button.hover.border.color"),`;
}

.p-inputnumber-horizontal .p-inputnumber-button:active {
    border-color: `).concat(t("inputnumber.button.active.border.color"),`;
}

.p-inputnumber-horizontal .p-inputnumber-increment-button {
    order: 3;
    border-top-right-radius: `).concat(t("inputnumber.button.border.radius"),`;
    border-bottom-right-radius: `).concat(t("inputnumber.button.border.radius"),`;
    border-left: 0 none;
}

.p-inputnumber-horizontal .p-inputnumber-input {
    order: 2;
    border-radius: 0;
}

.p-inputnumber-horizontal .p-inputnumber-decrement-button {
    order: 1;
    border-top-left-radius: `).concat(t("inputnumber.button.border.radius"),`;
    border-bottom-left-radius: `).concat(t("inputnumber.button.border.radius"),`;
    border-right: 0 none;
}

.p-inputnumber-vertical {
    flex-direction: column;
}

.p-inputnumber-vertical .p-inputnumber-button {
    border: 1px solid `).concat(t("inputnumber.button.border.color"),`;
    padding: `).concat(t("inputnumber.button.vertical.padding"),`; 0;
}

.p-inputnumber-vertical .p-inputnumber-button:hover {
    border-color: `).concat(t("inputnumber.button.hover.border.color"),`;
}

.p-inputnumber-vertical .p-inputnumber-button:active {
    border-color: `).concat(t("inputnumber.button.active.border.color"),`;
}

.p-inputnumber-vertical .p-inputnumber-increment-button {
    order: 1;
    border-top-left-radius: `).concat(t("inputnumber.button.border.radius"),`;
    border-top-right-radius: `).concat(t("inputnumber.button.border.radius"),`;
    width: 100%;
    border-bottom: 0 none;
}

.p-inputnumber-vertical .p-inputnumber-input {
    order: 2;
    border-radius: 0;
    text-align: center;
}

.p-inputnumber-vertical .p-inputnumber-decrement-button {
    order: 3;
    border-bottom-left-radius: `).concat(t("inputnumber.button.border.radius"),`;
    border-bottom-right-radius: `).concat(t("inputnumber.button.border.radius"),`;
    width: 100%;
    border-top: 0 none;
}

.p-inputnumber-input {
    flex: 1 1 auto;
}

.p-inputnumber-fluid {
    width: 100%;
}

.p-inputnumber-fluid .p-inputnumber-input {
    width: 1%;
}

.p-inputnumber-fluid.p-inputnumber-vertical .p-inputnumber-input {
    width: 100%;
}
`)},NPe={root:function(e){var t=e.instance,r=e.props;return["p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":t.filled||r.allowEmpty===!1,"p-inputwrapper-focus":t.focused,"p-inputnumber-stacked":r.showButtons&&r.buttonLayout==="stacked","p-inputnumber-horizontal":r.showButtons&&r.buttonLayout==="horizontal","p-inputnumber-vertical":r.showButtons&&r.buttonLayout==="vertical","p-inputnumber-fluid":t.hasFluid}]},pcInput:"p-inputnumber-input",buttonGroup:"p-inputnumber-button-group",incrementButton:function(e){var t=e.instance,r=e.props;return["p-inputnumber-button p-inputnumber-increment-button",{"p-disabled":r.showButtons&&r.max!==null&&t.maxBoundry()}]},decrementButton:function(e){var t=e.instance,r=e.props;return["p-inputnumber-button p-inputnumber-decrement-button",{"p-disabled":r.showButtons&&r.min!==null&&t.minBoundry()}]}},OPe=Ft.extend({name:"inputnumber",theme:LPe,classes:NPe}),FPe={name:"BaseInputNumber",extends:Ot,props:{modelValue:{type:Number,default:null},format:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},buttonLayout:{type:String,default:"stacked"},incrementButtonClass:{type:String,default:null},decrementButtonClass:{type:String,default:null},incrementButtonIcon:{type:String,default:void 0},incrementIcon:{type:String,default:void 0},decrementButtonIcon:{type:String,default:void 0},decrementIcon:{type:String,default:void 0},locale:{type:String,default:void 0},localeMatcher:{type:String,default:void 0},mode:{type:String,default:"decimal"},prefix:{type:String,default:null},suffix:{type:String,default:null},currency:{type:String,default:void 0},currencyDisplay:{type:String,default:void 0},useGrouping:{type:Boolean,default:!0},minFractionDigits:{type:Number,default:void 0},maxFractionDigits:{type:Number,default:void 0},roundingMode:{type:String,default:"halfExpand",validator:function(e){return["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"].includes(e)}},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},highlightOnFocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},fluid:{type:Boolean,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:OPe,provide:function(){return{$pcInputNumber:this,$parentInstance:this}}};function qm(n){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(n)}function RV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function EV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RV(Object(t),!0).forEach(function(r){BPe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function BPe(n,e,t){return(e=zPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zPe(n){var e=VPe(n,"string");return qm(e)=="symbol"?e:e+""}function VPe(n,e){if(qm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function GPe(n){return jPe(n)||UPe(n)||HPe(n)||WPe()}function WPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HPe(n,e){if(n){if(typeof n=="string")return FD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?FD(n,e):void 0}}function UPe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function jPe(n){if(Array.isArray(n))return FD(n)}function FD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var QP={name:"InputNumber",extends:FPe,inheritAttrs:!1,emits:["update:modelValue","input","focus","blur"],inject:{$pcFluid:{default:null}},numberFormat:null,_numeral:null,_decimal:null,_group:null,_minusSign:null,_currency:null,_suffix:null,_prefix:null,_index:null,groupChar:"",isSpecialChar:null,prefixChar:null,suffixChar:null,timer:null,data:function(){return{d_modelValue:this.modelValue,focused:!1}},watch:{modelValue:function(e){this.d_modelValue=e},locale:function(e,t){this.updateConstructParser(e,t)},localeMatcher:function(e,t){this.updateConstructParser(e,t)},mode:function(e,t){this.updateConstructParser(e,t)},currency:function(e,t){this.updateConstructParser(e,t)},currencyDisplay:function(e,t){this.updateConstructParser(e,t)},useGrouping:function(e,t){this.updateConstructParser(e,t)},minFractionDigits:function(e,t){this.updateConstructParser(e,t)},maxFractionDigits:function(e,t){this.updateConstructParser(e,t)},suffix:function(e,t){this.updateConstructParser(e,t)},prefix:function(e,t){this.updateConstructParser(e,t)}},created:function(){this.constructParser()},methods:{getOptions:function(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits,roundingMode:this.roundingMode}},constructParser:function(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());var e=GPe(new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)).reverse(),t=new Map(e.map(function(r,o){return[r,o]}));this._numeral=new RegExp("[".concat(e.join(""),"]"),"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=function(r){return t.get(r)}},updateConstructParser:function(e,t){e!==t&&this.constructParser()},escapeRegExp:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},getDecimalExpression:function(){var e=new Intl.NumberFormat(this.locale,EV(EV({},this.getOptions()),{},{useGrouping:!1}));return new RegExp("[".concat(e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,""),"]"),"g")},getGroupingExpression:function(){var e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp("[".concat(this.groupChar,"]"),"g")},getMinusSignExpression:function(){var e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp("[".concat(e.format(-1).trim().replace(this._numeral,""),"]"),"g")},getCurrencyExpression:function(){if(this.currency){var e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:this.roundingMode});return new RegExp("[".concat(e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,""),"]"),"g")}return new RegExp("[]","g")},getPrefixExpression:function(){if(this.prefix)this.prefixChar=this.prefix;else{var e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp("".concat(this.escapeRegExp(this.prefixChar||"")),"g")},getSuffixExpression:function(){if(this.suffix)this.suffixChar=this.suffix;else{var e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:this.roundingMode});this.suffixChar=e.format(1).split("1")[1]}return new RegExp("".concat(this.escapeRegExp(this.suffixChar||"")),"g")},formatValue:function(e){if(e!=null){if(e==="-")return e;if(this.format){var t=new Intl.NumberFormat(this.locale,this.getOptions()),r=t.format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r=r+this.suffix),r}return e.toString()}return""},parseValue:function(e){var t=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(t){if(t==="-")return t;var r=+t;return isNaN(r)?null:r}return null},repeat:function(e,t,r){var o=this;if(!this.readonly){var i=t||500;this.clearTimer(),this.timer=setTimeout(function(){o.repeat(e,40,r)},i),this.spin(e,r)}},spin:function(e,t){if(this.$refs.input){var r=this.step*t,o=this.parseValue(this.$refs.input.$el.value)||0,i=this.validateValue(o+r);this.updateInput(i,null,"spin"),this.updateModel(e,i),this.handleOnInput(e,o,i)}},onUpButtonMouseDown:function(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,1),e.preventDefault())},onUpButtonMouseUp:function(){this.disabled||this.clearTimer()},onUpButtonMouseLeave:function(){this.disabled||this.clearTimer()},onUpButtonKeyUp:function(){this.disabled||this.clearTimer()},onUpButtonKeyDown:function(e){(e.code==="Space"||e.code==="Enter"||e.code==="NumpadEnter")&&this.repeat(e,null,1)},onDownButtonMouseDown:function(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,-1),e.preventDefault())},onDownButtonMouseUp:function(){this.disabled||this.clearTimer()},onDownButtonMouseLeave:function(){this.disabled||this.clearTimer()},onDownButtonKeyUp:function(){this.disabled||this.clearTimer()},onDownButtonKeyDown:function(e){(e.code==="Space"||e.code==="Enter"||e.code==="NumpadEnter")&&this.repeat(e,null,-1)},onUserInput:function(){this.isSpecialChar&&(this.$refs.input.$el.value=this.lastValue),this.isSpecialChar=!1},onInputKeyDown:function(e){if(!this.readonly){if(e.altKey||e.ctrlKey||e.metaKey){this.isSpecialChar=!0,this.lastValue=this.$refs.input.$el.value;return}this.lastValue=e.target.value;var t=e.target.selectionStart,r=e.target.selectionEnd,o=e.target.value,i=null;switch(e.code){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":this.isNumeralChar(o.charAt(t-1))||e.preventDefault();break;case"ArrowRight":this.isNumeralChar(o.charAt(t))||e.preventDefault();break;case"Tab":case"Enter":case"NumpadEnter":i=this.validateValue(this.parseValue(o)),this.$refs.input.$el.value=this.formatValue(i),this.$refs.input.$el.setAttribute("aria-valuenow",i),this.updateModel(e,i);break;case"Backspace":{if(e.preventDefault(),t===r){var a=o.charAt(t-1),s=this.getDecimalCharIndexes(o),l=s.decimalCharIndex,u=s.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(a)){var c=this.getDecimalLength(o);if(this._group.test(a))this._group.lastIndex=0,i=o.slice(0,t-2)+o.slice(t-1);else if(this._decimal.test(a))this._decimal.lastIndex=0,c?this.$refs.input.$el.setSelectionRange(t-1,t-1):i=o.slice(0,t-1)+o.slice(t);else if(l>0&&t>l){var d=this.isDecimalMode()&&(this.minFractionDigits||0)<c?"":"0";i=o.slice(0,t-1)+d+o.slice(t)}else u===1?(i=o.slice(0,t-1)+"0"+o.slice(t),i=this.parseValue(i)>0?i:""):i=o.slice(0,t-1)+o.slice(t)}this.updateValue(e,i,null,"delete-single")}else i=this.deleteRange(o,t,r),this.updateValue(e,i,null,"delete-range");break}case"Delete":if(e.preventDefault(),t===r){var h=o.charAt(t),f=this.getDecimalCharIndexes(o),p=f.decimalCharIndex,g=f.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(h)){var v=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,i=o.slice(0,t)+o.slice(t+2);else if(this._decimal.test(h))this._decimal.lastIndex=0,v?this.$refs.input.$el.setSelectionRange(t+1,t+1):i=o.slice(0,t)+o.slice(t+1);else if(p>0&&t>p){var m=this.isDecimalMode()&&(this.minFractionDigits||0)<v?"":"0";i=o.slice(0,t)+m+o.slice(t+1)}else g===1?(i=o.slice(0,t)+"0"+o.slice(t+1),i=this.parseValue(i)>0?i:""):i=o.slice(0,t)+o.slice(t+1)}this.updateValue(e,i,null,"delete-back-single")}else i=this.deleteRange(o,t,r),this.updateValue(e,i,null,"delete-range");break;case"Home":e.preventDefault(),Bt(this.min)&&this.updateModel(e,this.min);break;case"End":e.preventDefault(),Bt(this.max)&&this.updateModel(e,this.max);break}}},onInputKeyPress:function(e){if(!this.readonly){var t=e.key,r=this.isDecimalSign(t),o=this.isMinusSign(t);e.code!=="Enter"&&e.preventDefault(),(Number(t)>=0&&Number(t)<=9||o||r)&&this.insert(e,t,{isDecimalSign:r,isMinusSign:o})}},onPaste:function(e){e.preventDefault();var t=(e.clipboardData||window.clipboardData).getData("Text");if(t){var r=this.parseValue(t);r!=null&&this.insert(e,r.toString())}},allowMinusSign:function(){return this.min===null||this.min<0},isMinusSign:function(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1},isDecimalSign:function(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1},isDecimalMode:function(){return this.mode==="decimal"},getDecimalCharIndexes:function(e){var t=e.search(this._decimal);this._decimal.lastIndex=0;var r=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,""),o=r.search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:t,decimalCharIndexWithoutPrefix:o}},getCharIndexes:function(e){var t=e.search(this._decimal);this._decimal.lastIndex=0;var r=e.search(this._minusSign);this._minusSign.lastIndex=0;var o=e.search(this._suffix);this._suffix.lastIndex=0;var i=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:t,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:i}},insert:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},o=t.search(this._minusSign);if(this._minusSign.lastIndex=0,!(!this.allowMinusSign()&&o!==-1)){var i=this.$refs.input.$el.selectionStart,a=this.$refs.input.$el.selectionEnd,s=this.$refs.input.$el.value.trim(),l=this.getCharIndexes(s),u=l.decimalCharIndex,c=l.minusCharIndex,d=l.suffixCharIndex,h=l.currencyCharIndex,f;if(r.isMinusSign)i===0&&(f=s,(c===-1||a!==0)&&(f=this.insertText(s,t,0,a)),this.updateValue(e,f,t,"insert"));else if(r.isDecimalSign)u>0&&i===u?this.updateValue(e,s,t,"insert"):u>i&&u<a?(f=this.insertText(s,t,i,a),this.updateValue(e,f,t,"insert")):u===-1&&this.maxFractionDigits&&(f=this.insertText(s,t,i,a),this.updateValue(e,f,t,"insert"));else{var p=this.numberFormat.resolvedOptions().maximumFractionDigits,g=i!==a?"range-insert":"insert";if(u>0&&i>u){if(i+t.length-(u+1)<=p){var v=h>=i?h-1:d>=i?d:s.length;f=s.slice(0,i)+t+s.slice(i+t.length,v)+s.slice(v),this.updateValue(e,f,t,g)}}else f=this.insertText(s,t,i,a),this.updateValue(e,f,t,g)}}},insertText:function(e,t,r,o){var i=t==="."?t:t.split(".");if(i.length===2){var a=e.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,a>0?e.slice(0,r)+this.formatValue(t)+e.slice(o):this.formatValue(t)||e}else return o-r===e.length?this.formatValue(t):r===0?t+e.slice(o):o===e.length?e.slice(0,r)+t:e.slice(0,r)+t+e.slice(o)},deleteRange:function(e,t,r){var o;return r-t===e.length?o="":t===0?o=e.slice(r):r===e.length?o=e.slice(0,t):o=e.slice(0,t)+e.slice(r),o},initCursor:function(){var e=this.$refs.input.$el.selectionStart,t=this.$refs.input.$el.value,r=t.length,o=null,i=(this.prefixChar||"").length;t=t.replace(this._prefix,""),e=e-i;var a=t.charAt(e);if(this.isNumeralChar(a))return e+i;for(var s=e-1;s>=0;)if(a=t.charAt(s),this.isNumeralChar(a)){o=s+i;break}else s--;if(o!==null)this.$refs.input.$el.setSelectionRange(o+1,o+1);else{for(s=e;s<r;)if(a=t.charAt(s),this.isNumeralChar(a)){o=s+i;break}else s++;o!==null&&this.$refs.input.$el.setSelectionRange(o,o)}return o||0},onInputClick:function(){var e=this.$refs.input.$el.value;!this.readonly&&e!==J3()&&this.initCursor()},isNumeralChar:function(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1},resetRegex:function(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0},updateValue:function(e,t,r,o){var i=this.$refs.input.$el.value,a=null;t!=null&&(a=this.parseValue(t),a=!a&&!this.allowEmpty?0:a,this.updateInput(a,r,o,t),this.handleOnInput(e,i,a))},handleOnInput:function(e,t,r){this.isValueChanged(t,r)&&this.$emit("input",{originalEvent:e,value:r,formattedValue:t})},isValueChanged:function(e,t){if(t===null&&e!==null)return!0;if(t!=null){var r=typeof e=="string"?this.parseValue(e):e;return t!==r}return!1},validateValue:function(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e},updateInput:function(e,t,r,o){t=t||"";var i=this.$refs.input.$el.value,a=this.formatValue(e),s=i.length;if(a!==o&&(a=this.concatValues(a,o)),s===0){this.$refs.input.$el.value=a,this.$refs.input.$el.setSelectionRange(0,0);var l=this.initCursor(),u=l+t.length;this.$refs.input.$el.setSelectionRange(u,u)}else{var c=this.$refs.input.$el.selectionStart,d=this.$refs.input.$el.selectionEnd;this.$refs.input.$el.value=a;var h=a.length;if(r==="range-insert"){var f=this.parseValue((i||"").slice(0,c)),p=f!==null?f.toString():"",g=p.split("").join("(".concat(this.groupChar,")?")),v=new RegExp(g,"g");v.test(a);var m=t.split("").join("(".concat(this.groupChar,")?")),y=new RegExp(m,"g");y.test(a.slice(v.lastIndex)),d=v.lastIndex+y.lastIndex,this.$refs.input.$el.setSelectionRange(d,d)}else if(h===s)r==="insert"||r==="delete-back-single"?this.$refs.input.$el.setSelectionRange(d+1,d+1):r==="delete-single"?this.$refs.input.$el.setSelectionRange(d-1,d-1):(r==="delete-range"||r==="spin")&&this.$refs.input.$el.setSelectionRange(d,d);else if(r==="delete-back-single"){var b=i.charAt(d-1),w=i.charAt(d),x=s-h,S=this._group.test(w);S&&x===1?d+=1:!S&&this.isNumeralChar(b)&&(d+=-1*x+1),this._group.lastIndex=0,this.$refs.input.$el.setSelectionRange(d,d)}else if(i==="-"&&r==="insert"){this.$refs.input.$el.setSelectionRange(0,0);var C=this.initCursor(),k=C+t.length+1;this.$refs.input.$el.setSelectionRange(k,k)}else d=d+(h-s),this.$refs.input.$el.setSelectionRange(d,d)}this.$refs.input.$el.setAttribute("aria-valuenow",e)},concatValues:function(e,t){if(e&&t){var r=t.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?r!==-1?e.replace(this.suffixChar,"").split(this._decimal)[0]+t.replace(this.suffixChar,"").slice(r)+this.suffixChar:e:r!==-1?e.split(this._decimal)[0]+t.slice(r):e}return e},getDecimalLength:function(e){if(e){var t=e.split(this._decimal);if(t.length===2)return t[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0},updateModel:function(e,t){this.d_modelValue=t,this.$emit("update:modelValue",t)},onInputFocus:function(e){this.focused=!0,!this.disabled&&!this.readonly&&this.$refs.input.$el.value!==J3()&&this.highlightOnFocus&&e.target.select(),this.$emit("focus",e)},onInputBlur:function(e){this.focused=!1;var t=e.target,r=this.validateValue(this.parseValue(t.value));this.$emit("blur",{originalEvent:e,value:t.value}),t.value=this.formatValue(r),t.setAttribute("aria-valuenow",r),this.updateModel(e,r),!this.disabled&&!this.readonly&&this.highlightOnFocus&&nw()},clearTimer:function(){this.timer&&clearInterval(this.timer)},maxBoundry:function(){return this.d_modelValue>=this.max},minBoundry:function(){return this.d_modelValue<=this.min}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},upButtonListeners:function(){var e=this;return{mousedown:function(r){return e.onUpButtonMouseDown(r)},mouseup:function(r){return e.onUpButtonMouseUp(r)},mouseleave:function(r){return e.onUpButtonMouseLeave(r)},keydown:function(r){return e.onUpButtonKeyDown(r)},keyup:function(r){return e.onUpButtonKeyUp(r)}}},downButtonListeners:function(){var e=this;return{mousedown:function(r){return e.onDownButtonMouseDown(r)},mouseup:function(r){return e.onDownButtonMouseUp(r)},mouseleave:function(r){return e.onDownButtonMouseLeave(r)},keydown:function(r){return e.onDownButtonKeyDown(r)},keyup:function(r){return e.onDownButtonKeyUp(r)}}},formattedValue:function(){var e=!this.modelValue&&!this.allowEmpty?0:this.modelValue;return this.formatValue(e)},getFormatter:function(){return this.numberFormat},hasFluid:function(){return Qo(this.fluid)?!!this.$pcFluid:this.fluid}},components:{InputText:YP,AngleUpIcon:kY,AngleDownIcon:CY}},KPe=["disabled"],XPe=["disabled"],qPe=["disabled"],YPe=["disabled"];function ZPe(n,e,t,r,o,i){var a=Je("InputText");return B(),ne("span",H({class:n.cx("root")},n.ptmi("root")),[je(a,{ref:"input",id:n.inputId,role:"spinbutton",class:bt([n.cx("pcInput"),n.inputClass]),style:wy(n.inputStyle),value:i.formattedValue,"aria-valuemin":n.min,"aria-valuemax":n.max,"aria-valuenow":n.modelValue,inputmode:n.mode==="decimal"&&!n.minFractionDigits?"numeric":"decimal",disabled:n.disabled,readonly:n.readonly,placeholder:n.placeholder,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,invalid:n.invalid,variant:n.variant,onInput:i.onUserInput,onKeydown:i.onInputKeyDown,onKeypress:i.onInputKeyPress,onPaste:i.onPaste,onClick:i.onInputClick,onFocus:i.onInputFocus,onBlur:i.onInputBlur,pt:n.ptm("pcInput"),unstyled:n.unstyled},null,8,["id","class","style","value","aria-valuemin","aria-valuemax","aria-valuenow","inputmode","disabled","readonly","placeholder","aria-labelledby","aria-label","invalid","variant","onInput","onKeydown","onKeypress","onPaste","onClick","onFocus","onBlur","pt","unstyled"]),n.showButtons&&n.buttonLayout==="stacked"?(B(),ne("span",H({key:0,class:n.cx("buttonGroup")},n.ptm("buttonGroup")),[He(n.$slots,"incrementbutton",{listeners:i.upButtonListeners},function(){return[ke("button",H({class:[n.cx("incrementButton"),n.incrementButtonClass]},Ab(i.upButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true",type:"button"},n.ptm("incrementButton")),[He(n.$slots,n.$slots.incrementicon?"incrementicon":"incrementbuttonicon",{},function(){return[(B(),be(mt(n.incrementIcon||n.incrementButtonIcon?"span":"AngleUpIcon"),H({class:[n.incrementIcon,n.incrementButtonIcon]},n.ptm("incrementIcon"),{"data-pc-section":"incrementicon"}),null,16,["class"]))]})],16,KPe)]}),He(n.$slots,"decrementbutton",{listeners:i.downButtonListeners},function(){return[ke("button",H({class:[n.cx("decrementButton"),n.decrementButtonClass]},Ab(i.downButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true",type:"button"},n.ptm("decrementButton")),[He(n.$slots,n.$slots.decrementicon?"decrementicon":"decrementbuttonicon",{},function(){return[(B(),be(mt(n.decrementIcon||n.decrementButtonIcon?"span":"AngleDownIcon"),H({class:[n.decrementIcon,n.decrementButtonIcon]},n.ptm("decrementIcon"),{"data-pc-section":"decrementicon"}),null,16,["class"]))]})],16,XPe)]})],16)):Oe("",!0),He(n.$slots,"incrementbutton",{listeners:i.upButtonListeners},function(){return[n.showButtons&&n.buttonLayout!=="stacked"?(B(),ne("button",H({key:0,class:[n.cx("incrementButton"),n.incrementButtonClass]},Ab(i.upButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true",type:"button"},n.ptm("incrementButton")),[He(n.$slots,n.$slots.incrementicon?"incrementicon":"incrementbuttonicon",{},function(){return[(B(),be(mt(n.incrementIcon||n.incrementButtonIcon?"span":"AngleUpIcon"),H({class:[n.incrementIcon,n.incrementButtonIcon]},n.ptm("incrementIcon"),{"data-pc-section":"incrementicon"}),null,16,["class"]))]})],16,qPe)):Oe("",!0)]}),He(n.$slots,"decrementbutton",{listeners:i.downButtonListeners},function(){return[n.showButtons&&n.buttonLayout!=="stacked"?(B(),ne("button",H({key:0,class:[n.cx("decrementButton"),n.decrementButtonClass]},Ab(i.downButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true",type:"button"},n.ptm("decrementButton")),[He(n.$slots,n.$slots.decrementicon?"decrementicon":"decrementbuttonicon",{},function(){return[(B(),be(mt(n.decrementIcon||n.decrementButtonIcon?"span":"AngleDownIcon"),H({class:[n.decrementIcon,n.decrementButtonIcon]},n.ptm("decrementIcon"),{"data-pc-section":"decrementicon"}),null,16,["class"]))]})],16,YPe)):Oe("",!0)]})],16)}QP.render=ZPe;var _Y={name:"AngleDoubleRightIcon",extends:$n};function JPe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z",fill:"currentColor"},null,-1)]),16)}_Y.render=JPe;var IY={name:"AngleRightIcon",extends:$n};function QPe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z",fill:"currentColor"},null,-1)]),16)}IY.render=QPe;var TY={name:"AngleLeftIcon",extends:$n};function eMe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z",fill:"currentColor"},null,-1)]),16)}TY.render=eMe;var tMe={name:"BasePaginator",extends:Ot,props:{totalRecords:{type:Number,default:0},rows:{type:Number,default:0},first:{type:Number,default:0},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},template:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},currentPageReportTemplate:{type:null,default:"({currentPage} of {totalPages})"},alwaysShow:{type:Boolean,default:!0}},style:z$e,provide:function(){return{$pcPaginator:this,$parentInstance:this}}},AY={name:"CurrentPageReport",hostName:"Paginator",extends:Ot,props:{pageCount:{type:Number,default:0},currentPage:{type:Number,default:0},page:{type:Number,default:0},first:{type:Number,default:0},rows:{type:Number,default:0},totalRecords:{type:Number,default:0},template:{type:String,default:"({currentPage} of {totalPages})"}},computed:{text:function(){var e=this.template.replace("{currentPage}",this.currentPage).replace("{totalPages}",this.pageCount).replace("{first}",this.pageCount>0?this.first+1:0).replace("{last}",Math.min(this.first+this.rows,this.totalRecords)).replace("{rows}",this.rows).replace("{totalRecords}",this.totalRecords);return e}}};function nMe(n,e,t,r,o,i){return B(),ne("span",H({class:n.cx("current")},n.ptm("current")),Bn(i.text),17)}AY.render=nMe;var DY={name:"FirstPageLink",hostName:"Paginator",extends:Ot,props:{template:{type:Function,default:null}},methods:{getPTOptions:function(e){return this.ptm(e,{context:{disabled:this.$attrs.disabled}})}},components:{AngleDoubleLeftIcon:vY},directives:{ripple:qa}};function rMe(n,e,t,r,o,i){var a=Ks("ripple");return Ka((B(),ne("button",H({class:n.cx("first"),type:"button"},i.getPTOptions("first"),{"data-pc-group-section":"pagebutton"}),[(B(),be(mt(t.template||"AngleDoubleLeftIcon"),H({class:n.cx("firstIcon")},i.getPTOptions("firstIcon")),null,16,["class"]))],16)),[[a]])}DY.render=rMe;var RY={name:"JumpToPageDropdown",hostName:"Paginator",extends:Ot,emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean,templates:null},methods:{onChange:function(e){this.$emit("page-change",e)}},computed:{pageOptions:function(){for(var e=[],t=0;t<this.pageCount;t++)e.push({label:String(t+1),value:t});return e}},components:{JTPSelect:zC}};function oMe(n,e,t,r,o,i){var a=Je("JTPSelect");return B(),be(a,{modelValue:t.page,options:i.pageOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":e[0]||(e[0]=function(s){return i.onChange(s)}),class:bt(n.cx("pcJumpToPageDropdown")),disabled:t.disabled,unstyled:n.unstyled,pt:n.ptm("pcJumpToPageDropdown"),"data-pc-group-section":"pagedropdown"},Zf({_:2},[t.templates.jumptopagedropdownicon?{name:"dropdownicon",fn:ut(function(s){return[(B(),be(mt(t.templates.jumptopagedropdownicon),{class:bt(s.class)},null,8,["class"]))]}),key:"0"}:void 0]),1032,["modelValue","options","class","disabled","unstyled","pt"])}RY.render=oMe;var EY={name:"JumpToPageInput",hostName:"Paginator",extends:Ot,inheritAttrs:!1,emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},data:function(){return{d_page:this.page}},watch:{page:function(e){this.d_page=e}},methods:{onChange:function(e){e!==this.page&&(this.d_page=e,this.$emit("page-change",e-1))}},computed:{inputArialabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.jumpToPageInputLabel:void 0}},components:{JTPInput:QP}};function iMe(n,e,t,r,o,i){var a=Je("JTPInput");return B(),be(a,{ref:"jtpInput",modelValue:o.d_page,class:bt(n.cx("pcJumpToPageInput")),"aria-label":i.inputArialabel,disabled:t.disabled,"onUpdate:modelValue":i.onChange,unstyled:n.unstyled,pt:n.ptm("pcJumpToPageInput")},null,8,["modelValue","class","aria-label","disabled","onUpdate:modelValue","unstyled","pt"])}EY.render=iMe;var $Y={name:"LastPageLink",hostName:"Paginator",extends:Ot,props:{template:{type:Function,default:null}},methods:{getPTOptions:function(e){return this.ptm(e,{context:{disabled:this.$attrs.disabled}})}},components:{AngleDoubleRightIcon:_Y},directives:{ripple:qa}};function aMe(n,e,t,r,o,i){var a=Ks("ripple");return Ka((B(),ne("button",H({class:n.cx("last"),type:"button"},i.getPTOptions("last"),{"data-pc-group-section":"pagebutton"}),[(B(),be(mt(t.template||"AngleDoubleRightIcon"),H({class:n.cx("lastIcon")},i.getPTOptions("lastIcon")),null,16,["class"]))],16)),[[a]])}$Y.render=aMe;var PY={name:"NextPageLink",hostName:"Paginator",extends:Ot,props:{template:{type:Function,default:null}},methods:{getPTOptions:function(e){return this.ptm(e,{context:{disabled:this.$attrs.disabled}})}},components:{AngleRightIcon:IY},directives:{ripple:qa}};function sMe(n,e,t,r,o,i){var a=Ks("ripple");return Ka((B(),ne("button",H({class:n.cx("next"),type:"button"},i.getPTOptions("next"),{"data-pc-group-section":"pagebutton"}),[(B(),be(mt(t.template||"AngleRightIcon"),H({class:n.cx("nextIcon")},i.getPTOptions("nextIcon")),null,16,["class"]))],16)),[[a]])}PY.render=sMe;var MY={name:"PageLinks",hostName:"Paginator",extends:Ot,inheritAttrs:!1,emits:["click"],props:{value:Array,page:Number},methods:{getPTOptions:function(e,t){return this.ptm(t,{context:{active:e===this.page}})},onPageLinkClick:function(e,t){this.$emit("click",{originalEvent:e,value:t})},ariaPageLabel:function(e){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.pageLabel.replace(/{page}/g,e):void 0}},directives:{ripple:qa}},lMe=["aria-label","aria-current","onClick","data-p-active"];function uMe(n,e,t,r,o,i){var a=Ks("ripple");return B(),ne("span",H({class:n.cx("pages")},n.ptm("pages")),[(B(!0),ne(st,null,vr(t.value,function(s){return Ka((B(),ne("button",H({key:s,class:n.cx("page",{pageLink:s}),type:"button","aria-label":i.ariaPageLabel(s),"aria-current":s-1===t.page?"page":void 0,onClick:function(u){return i.onPageLinkClick(u,s)},ref_for:!0},i.getPTOptions(s-1,"page"),{"data-p-active":s-1===t.page}),[ml(Bn(s),1)],16,lMe)),[[a]])}),128))],16)}MY.render=uMe;var LY={name:"PrevPageLink",hostName:"Paginator",extends:Ot,props:{template:{type:Function,default:null}},methods:{getPTOptions:function(e){return this.ptm(e,{context:{disabled:this.$attrs.disabled}})}},components:{AngleLeftIcon:TY},directives:{ripple:qa}};function cMe(n,e,t,r,o,i){var a=Ks("ripple");return Ka((B(),ne("button",H({class:n.cx("prev"),type:"button"},i.getPTOptions("prev"),{"data-pc-group-section":"pagebutton"}),[(B(),be(mt(t.template||"AngleLeftIcon"),H({class:n.cx("prevIcon")},i.getPTOptions("prevIcon")),null,16,["class"]))],16)),[[a]])}LY.render=cMe;var NY={name:"RowsPerPageDropdown",hostName:"Paginator",extends:Ot,emits:["rows-change"],props:{options:Array,rows:Number,disabled:Boolean,templates:null},methods:{onChange:function(e){this.$emit("rows-change",e)}},computed:{rowsOptions:function(){var e=[];if(this.options)for(var t=0;t<this.options.length;t++)e.push({label:String(this.options[t]),value:this.options[t]});return e}},components:{RPPSelect:zC}};function dMe(n,e,t,r,o,i){var a=Je("RPPSelect");return B(),be(a,{modelValue:t.rows,options:i.rowsOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":e[0]||(e[0]=function(s){return i.onChange(s)}),class:bt(n.cx("pcRowPerPageDropdown")),disabled:t.disabled,unstyled:n.unstyled,pt:n.ptm("pcRowPerPageDropdown"),"data-pc-group-section":"pagedropdown"},Zf({_:2},[t.templates.rowsperpagedropdownicon?{name:"dropdownicon",fn:ut(function(s){return[(B(),be(mt(t.templates.rowsperpagedropdownicon),{class:bt(s.class)},null,8,["class"]))]}),key:"0"}:void 0]),1032,["modelValue","options","class","disabled","unstyled","pt"])}NY.render=dMe;function hMe(n){return gMe(n)||pMe(n)||OY(n)||fMe()}function fMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pMe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function gMe(n){if(Array.isArray(n))return zD(n)}function BD(n){"@babel/helpers - typeof";return BD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BD(n)}function $V(n,e){return yMe(n)||mMe(n,e)||OY(n,e)||vMe()}function vMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OY(n,e){if(n){if(typeof n=="string")return zD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?zD(n,e):void 0}}function zD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function mMe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=i.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,o=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}function yMe(n){if(Array.isArray(n))return n}var FY={name:"Paginator",extends:tMe,inheritAttrs:!1,emits:["update:first","update:rows","page"],data:function(){return{d_first:this.first,d_rows:this.rows}},watch:{first:function(e){this.d_first=e},rows:function(e){this.d_rows=e},totalRecords:function(e){this.page>0&&e&&this.d_first>=e&&this.changePage(this.pageCount-1)}},mounted:function(){this.setPaginatorAttribute(),this.createStyle()},methods:{changePage:function(e){var t=this.pageCount;if(e>=0&&e<t){this.d_first=this.d_rows*e;var r={page:e,first:this.d_first,rows:this.d_rows,pageCount:t};this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",r)}},changePageToFirst:function(e){this.isFirstPage||this.changePage(0),e.preventDefault()},changePageToPrev:function(e){this.changePage(this.page-1),e.preventDefault()},changePageLink:function(e){this.changePage(e.value-1),e.originalEvent.preventDefault()},changePageToNext:function(e){this.changePage(this.page+1),e.preventDefault()},changePageToLast:function(e){this.isLastPage||this.changePage(this.pageCount-1),e.preventDefault()},onRowChange:function(e){this.d_rows=e,this.changePage(this.page)},createStyle:function(){var e=this;if(this.hasBreakpoints()&&!this.isUnstyled){var t;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",uE(this.styleElement,"nonce",(t=this.$primevue)===null||t===void 0||(t=t.config)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce),document.head.appendChild(this.styleElement);var r="",o=Object.keys(this.template),i={};o.sort(function(p,g){return parseInt(p)-parseInt(g)}).forEach(function(p){i[p]=e.template[p]});for(var a=0,s=Object.entries(Object.entries(i));a<s.length;a++){var l=$V(s[a],2),u=l[0],c=$V(l[1],1),d=c[0],h=void 0,f=void 0;d!=="default"&&typeof Object.keys(i)[u-1]=="string"?f=Number(Object.keys(i)[u-1].slice(0,-2))+1+"px":f=Object.keys(i)[u-1],h=Object.entries(i)[u-1]?"and (min-width:".concat(f,")"):"",d==="default"?r+=`
                            @media screen `.concat(h,` {
                                .paginator[`).concat(this.attributeSelector,`],
                                    display: flex;
                                }
                            }
                        `):r+=`
.paginator[`.concat(this.attributeSelector,"], .p-paginator-").concat(d,` {
    display: none;
}
@media screen `).concat(h," and (max-width: ").concat(d,`) {
    .paginator[`).concat(this.attributeSelector,"], .p-paginator-").concat(d,` {
        display: flex;
    }
    .paginator[`).concat(this.attributeSelector,`],
    .p-paginator-default{
        display: none;
    }
}
                    `)}this.styleElement.innerHTML=r}},hasBreakpoints:function(){return BD(this.template)==="object"},setPaginatorAttribute:function(){var e=this;this.$refs.paginator&&this.$refs.paginator.length>=0&&hMe(this.$refs.paginator).forEach(function(t){t.setAttribute(e.attributeSelector,"")})},getAriaLabel:function(e){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[e]:void 0}},computed:{templateItems:function(){var e={};if(this.hasBreakpoints()){e=this.template,e.default||(e.default="FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown");for(var t in e)e[t]=this.template[t].split(" ").map(function(r){return r.trim()});return e}return e.default=this.template.split(" ").map(function(r){return r.trim()}),e},page:function(){return Math.floor(this.d_first/this.d_rows)},pageCount:function(){return Math.ceil(this.totalRecords/this.d_rows)},isFirstPage:function(){return this.page===0},isLastPage:function(){return this.page===this.pageCount-1},calculatePageLinkBoundaries:function(){var e=this.pageCount,t=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.page-t/2)),o=Math.min(e-1,r+t-1),i=this.pageLinkSize-(o-r+1);return r=Math.max(0,r-i),[r,o]},pageLinks:function(){for(var e=[],t=this.calculatePageLinkBoundaries,r=t[0],o=t[1],i=r;i<=o;i++)e.push(i+1);return e},currentState:function(){return{page:this.page,first:this.d_first,rows:this.d_rows}},empty:function(){return this.pageCount===0},currentPage:function(){return this.pageCount>0?this.page+1:0},attributeSelector:function(){return oa()}},components:{CurrentPageReport:AY,FirstPageLink:DY,LastPageLink:$Y,NextPageLink:PY,PageLinks:MY,PrevPageLink:LY,RowsPerPageDropdown:NY,JumpToPageDropdown:RY,JumpToPageInput:EY}};function bMe(n,e,t,r,o,i){var a=Je("FirstPageLink"),s=Je("PrevPageLink"),l=Je("NextPageLink"),u=Je("LastPageLink"),c=Je("PageLinks"),d=Je("CurrentPageReport"),h=Je("RowsPerPageDropdown"),f=Je("JumpToPageDropdown"),p=Je("JumpToPageInput");return n.alwaysShow||i.pageLinks&&i.pageLinks.length>1?(B(),ne("nav",AS(H({key:0},n.ptmi("paginatorContainer"))),[(B(!0),ne(st,null,vr(i.templateItems,function(g,v){return B(),ne("div",H({key:v,ref_for:!0,ref:"paginator",class:n.cx("paginator",{key:v})},n.ptm("root")),[n.$slots.start?(B(),ne("div",H({key:0,class:n.cx("contentStart"),ref_for:!0},n.ptm("contentStart")),[He(n.$slots,"start",{state:i.currentState})],16)):Oe("",!0),ke("div",H({class:n.cx("content"),ref_for:!0},n.ptm("content")),[(B(!0),ne(st,null,vr(g,function(m){return B(),ne(st,{key:m},[m==="FirstPageLink"?(B(),be(a,{key:0,"aria-label":i.getAriaLabel("firstPageLabel"),template:n.$slots.firsticon||n.$slots.firstpagelinkicon,onClick:e[0]||(e[0]=function(y){return i.changePageToFirst(y)}),disabled:i.isFirstPage||i.empty,unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","template","disabled","unstyled","pt"])):m==="PrevPageLink"?(B(),be(s,{key:1,"aria-label":i.getAriaLabel("prevPageLabel"),template:n.$slots.previcon||n.$slots.prevpagelinkicon,onClick:e[1]||(e[1]=function(y){return i.changePageToPrev(y)}),disabled:i.isFirstPage||i.empty,unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","template","disabled","unstyled","pt"])):m==="NextPageLink"?(B(),be(l,{key:2,"aria-label":i.getAriaLabel("nextPageLabel"),template:n.$slots.nexticon||n.$slots.nextpagelinkicon,onClick:e[2]||(e[2]=function(y){return i.changePageToNext(y)}),disabled:i.isLastPage||i.empty,unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","template","disabled","unstyled","pt"])):m==="LastPageLink"?(B(),be(u,{key:3,"aria-label":i.getAriaLabel("lastPageLabel"),template:n.$slots.lasticon||n.$slots.lastpagelinkicon,onClick:e[3]||(e[3]=function(y){return i.changePageToLast(y)}),disabled:i.isLastPage||i.empty,unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","template","disabled","unstyled","pt"])):m==="PageLinks"?(B(),be(c,{key:4,"aria-label":i.getAriaLabel("pageLabel"),value:i.pageLinks,page:i.page,onClick:e[4]||(e[4]=function(y){return i.changePageLink(y)}),unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","value","page","unstyled","pt"])):m==="CurrentPageReport"?(B(),be(d,{key:5,"aria-live":"polite",template:n.currentPageReportTemplate,currentPage:i.currentPage,page:i.page,pageCount:i.pageCount,first:o.d_first,rows:o.d_rows,totalRecords:n.totalRecords,unstyled:n.unstyled,pt:n.pt},null,8,["template","currentPage","page","pageCount","first","rows","totalRecords","unstyled","pt"])):m==="RowsPerPageDropdown"&&n.rowsPerPageOptions?(B(),be(h,{key:6,"aria-label":i.getAriaLabel("rowsPerPageLabel"),rows:o.d_rows,options:n.rowsPerPageOptions,onRowsChange:e[5]||(e[5]=function(y){return i.onRowChange(y)}),disabled:i.empty,templates:n.$slots,unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","rows","options","disabled","templates","unstyled","pt"])):m==="JumpToPageDropdown"?(B(),be(f,{key:7,"aria-label":i.getAriaLabel("jumpToPageDropdownLabel"),page:i.page,pageCount:i.pageCount,onPageChange:e[6]||(e[6]=function(y){return i.changePage(y)}),disabled:i.empty,templates:n.$slots,unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","page","pageCount","disabled","templates","unstyled","pt"])):m==="JumpToPageInput"?(B(),be(p,{key:8,page:i.currentPage,onPageChange:e[7]||(e[7]=function(y){return i.changePage(y)}),disabled:i.empty,unstyled:n.unstyled,pt:n.pt},null,8,["page","disabled","unstyled","pt"])):Oe("",!0)],64)}),128))],16),n.$slots.end?(B(),ne("div",H({key:1,class:n.cx("contentEnd"),ref_for:!0},n.ptm("contentEnd")),[He(n.$slots,"end",{state:i.currentState})],16)):Oe("",!0)],16)}),128))],16)):Oe("",!0)}FY.render=bMe;var wMe=function(e){var t=e.dt;return`
.p-datatable {
    position: relative;
}

.p-datatable-table {
    border-spacing: 0;
    width: 100%;
}

.p-datatable-scrollable > .p-datatable-table-container {
    position: relative;
}

.p-datatable-scrollable-table > .p-datatable-thead {
    top: 0;
    z-index: 1;
}

.p-datatable-scrollable-table > .p-datatable-frozen-tbody {
    position: sticky;
    z-index: 1;
}

.p-datatable-scrollable-table>.p-datatable-tfoot {
    bottom: 0;
    z-index: 1;
}

.p-datatable-scrollable .p-datatable-frozen-column {
    position: sticky;
    background: `.concat(t("datatable.header.cell.background"),`;
}

.p-datatable-scrollable th.p-datatable-frozen-column {
    z-index: 1;
}

.p-datatable-scrollable > .p-datatable-table-container > .p-datatable-table > .p-datatable-thead,
.p-datatable-scrollable > .p-datatable-table-container > .p-virtualscroller > .p-datatable-table > .p-datatable-thead {
    background: `).concat(t("datatable.header.cell.background"),`;
}

.p-datatable-scrollable > .p-datatable-table-container > .p-datatable-table > .p-datatable-tfoot,
.p-datatable-scrollable > .p-datatable-table-container > .p-virtualscroller > .p-datatable-table > .p-datatable-tfoot {
    background: `).concat(t("datatable.footer.cell.background"),`;
}

.p-datatable-flex-scrollable {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.p-datatable-flex-scrollable > .p-datatable-table-container {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-datatable-scrollable-table > .p-datatable-tbody > .p-datatable-row-group-header {
    position: sticky;
    z-index: 1;
}

.p-datatable-resizable-table > .p-datatable-thead > tr > th,
.p-datatable-resizable-table > .p-datatable-tfoot > tr > td,
.p-datatable-resizable-table > .p-datatable-tbody > tr > td {
    overflow: hidden;
    white-space: nowrap;
}

.p-datatable-resizable-table > .p-datatable-thead > tr > th.p-datatable-resizable-column:not(.p-datatable-frozen-column) {
    background-clip: padding-box;
    position: relative;
}

.p-datatable-resizable-table-fit > .p-datatable-thead > tr > th.p-datatable-resizable-column:last-child .p-datatable-column-resizer {
    display: none;
}

.p-datatable-column-resizer {
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    width: `).concat(t("datatable.column.resizer.width"),`;
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}

.p-datatable-column-header-content {
    display: flex;
    align-items: center;
    gap: `).concat(t("datatable.header.cell.gap"),`;
}

.p-datatable-column-resize-indicator {
    width: `).concat(t("datatable.resize.indicator.width"),`;
    position: absolute;
    z-index: 10;
    display: none;
    background: `).concat(t("datatable.resize.indicator.color"),`;
}

.p-datatable-row-reorder-indicator-up,
.p-datatable-row-reorder-indicator-down {
    position: absolute;
    display: none;
}

.p-datatable-reorderable-column,
.p-datatable-reorderable-row-handle {
    cursor: move;
}

.p-datatable-mask {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.p-datatable-inline-filter {
    display: flex;
    align-items: center;
    width: 100%;
    gap: `).concat(t("datatable.filter.inline.gap"),`;
}

.p-datatable-inline-filter .p-datatable-filter-element-container {
    flex: 1 1 auto;
    width: 1%;
}

.p-datatable-filter-overlay {
    background: `).concat(t("datatable.filter.overlay.select.background"),`;
    color: `).concat(t("datatable.filter.overlay.select.color"),`;
    border: 1px solid `).concat(t("datatable.filter.overlay.select.border.color"),`;
    border-radius: `).concat(t("datatable.filter.overlay.select.border.radius"),`;
    box-shadow: `).concat(t("datatable.filter.overlay.select.shadow"),`;
    min-width: 12.5rem;
}

.p-datatable-filter-constraint-list {
    margin: 0;
    list-style: none;
    display: flex;
    flex-direction: column;
    padding: `).concat(t("datatable.filter.constraint.list.padding"),`;
    gap: `).concat(t("datatable.filter.constraint.list.gap"),`;
}

.p-datatable-filter-constraint {
    padding: `).concat(t("datatable.filter.constraint.padding"),`;
    color: `).concat(t("datatable.filter.constraint.color"),`;
    border-radius: `).concat(t("datatable.filter.constraint.border.radius"),`;
    cursor: pointer;
    transition: background `).concat(t("datatable.transition.duration"),", color ").concat(t("datatable.transition.duration"),", border-color ").concat(t("datatable.transition.duration"),`,
        box-shadow `).concat(t("datatable.transition.duration"),`;
}

.p-datatable-filter-constraint-selected {
    background: `).concat(t("datatable.filter.constraint.selected.background"),`;
    color: `).concat(t("datatable.filter.constraint.selected.color"),`;
}

.p-datatable-filter-constraint:not(.p-datatable-filter-constraint-selected):not(.p-disabled):hover {
    background: `).concat(t("datatable.filter.constraint.focus.background"),`;
    color: `).concat(t("datatable.filter.constraint.focus.color"),`;
}

.p-datatable-filter-constraint:focus-visible {
    outline: 0 none;
    background: `).concat(t("datatable.filter.constraint.focus.background"),`;
    color: `).concat(t("datatable.filter.constraint.focus.color"),`;
}

.p-datatable-filter-constraint-selected:focus-visible {
    outline: 0 none;
    background: `).concat(t("datatable.filter.constraint.selected.focus.background"),`;
    color: `).concat(t("datatable.filter.constraint.selected.focus.color"),`;
}

.p-datatable-filter-constraint-separator {
    border-top: 1px solid `).concat(t("datatable.filter.constraint.separator.border.color"),`;
}

.p-datatable-popover-filter {
    display: inline-flex;
    margin-left: auto;
}

.p-datatable-filter-overlay-popover {
    background: `).concat(t("datatable.filter.overlay.popover.background"),`;
    color: `).concat(t("datatable.filter.overlay.popover.color"),`;
    border: 1px solid `).concat(t("datatable.filter.overlay.popover.border.color"),`;
    border-radius: `).concat(t("datatable.filter.overlay.popover.border.radius"),`;
    box-shadow: `).concat(t("datatable.filter.overlay.popover.shadow"),`;
    min-width: 12.5rem;
    padding: `).concat(t("datatable.filter.overlay.popover.padding"),`;
    display: flex;
    flex-direction: column;
    gap: `).concat(t("datatable.filter.overlay.popover.gap"),`;
}

.p-datatable-filter-operator-dropdown {
    width: 100%;
}

.p-datatable-filter-rule-list,
.p-datatable-filter-rule {
    display: flex;
    flex-direction: column;
    gap: `).concat(t("datatable.filter.overlay.popover.gap"),`;
}

.p-datatable-filter-rule {
    border-bottom: 1px solid `).concat(t("datatable.filter.rule.border.color"),`;
}

.p-datatable-filter-rule:last-child {
    border-bottom: 0 none;
}

.p-datatable-filter-add-rule-button {
    width: 100%;
}

.p-datatable-filter-remove-button {
    width: 100%;
}

.p-datatable-filter-buttonbar {
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.p-datatable-virtualscroller-spacer {
    display: flex;
}

.p-datatable .p-virtualscroller .p-virtualscroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}

.p-datatable-paginator-top {
    border-color: `).concat(t("datatable.paginator.top.border.color"),`;
    border-style: solid;
    border-width: `).concat(t("datatable.paginator.top.border.width"),`;
}

.p-datatable-paginator-bottom {
    border-color: `).concat(t("datatable.paginator.bottom.border.color"),`;
    border-style: solid;
    border-width: `).concat(t("datatable.paginator.bottom.border.width"),`;
}

.p-datatable-header {
    background: `).concat(t("datatable.header.background"),`;
    color: `).concat(t("datatable.header.color"),`;
    border-color: `).concat(t("datatable.header.border.color"),`;
    border-style: solid;
    border-width: `).concat(t("datatable.header.border.width"),`;
    padding: `).concat(t("datatable.header.padding"),`;
}

.p-datatable-footer {
    background: `).concat(t("datatable.footer.background"),`;
    color: `).concat(t("datatable.footer.color"),`;
    border-color: `).concat(t("datatable.footer.border.color"),`;
    border-style: solid;
    border-width: `).concat(t("datatable.footer.border.width"),`;
    padding: `).concat(t("datatable.footer.padding"),`;
}

.p-datatable-header-cell {
    padding: `).concat(t("datatable.header.cell.padding"),`;
    background: `).concat(t("datatable.header.cell.background"),`;
    border-color: `).concat(t("datatable.header.cell.border.color"),`;
    border-style: solid;
    border-width: 0 0 1px 0;
    color: `).concat(t("datatable.header.cell.color"),`;
    font-weight: normal;
    text-align: left;
    transition: background `).concat(t("datatable.transition.duration"),", color ").concat(t("datatable.transition.duration"),", border-color ").concat(t("datatable.transition.duration"),`,
            outline-color `).concat(t("datatable.transition.duration"),", box-shadow ").concat(t("datatable.transition.duration"),`;
}

.p-datatable-column-title {
    font-weight: `).concat(t("datatable.column.title.font.weight"),`;
}

.p-datatable-tbody > tr {
    outline-color: transparent;
    background: `).concat(t("datatable.row.background"),`;
    color: `).concat(t("datatable.row.color"),`;
    transition: background `).concat(t("datatable.transition.duration"),", color ").concat(t("datatable.transition.duration"),", border-color ").concat(t("datatable.transition.duration"),`,
            outline-color `).concat(t("datatable.transition.duration"),", box-shadow ").concat(t("datatable.transition.duration"),`;
}

.p-datatable-tbody > tr > td {
    text-align: left;
    border-color: `).concat(t("datatable.body.cell.border.color"),`;
    border-style: solid;
    border-width: 0 0 1px 0;
    padding: `).concat(t("datatable.body.cell.padding"),`;
}

.p-datatable-hoverable .p-datatable-tbody > tr:not(.p-datatable-row-selected):hover {
    background: `).concat(t("datatable.row.hover.background"),`;
    color: `).concat(t("datatable.row.hover.color"),`;
}

.p-datatable-tbody > tr.p-datatable-row-selected {
    background: `).concat(t("datatable.row.selected.background"),`;
    color: `).concat(t("datatable.row.selected.color"),`;
}

.p-datatable-tbody > tr:has(+ .p-datatable-row-selected) > td {
    border-bottom-color: `).concat(t("datatable.body.cell.selected.border.color"),`;
}

.p-datatable-tbody > tr.p-datatable-row-selected > td {
    border-bottom-color: `).concat(t("datatable.body.cell.selected.border.color"),`;
}

.p-datatable-tbody > tr:focus-visible,
.p-datatable-tbody > tr.p-datatable-contextmenu-row-selected {
    box-shadow: `).concat(t("datatable.body.cell.focus.ring.shadow"),`;
    outline: `).concat(t("datatable.body.cell.focus.ring.width")," ").concat(t("datatable.body.cell.focus.ring.style")," ").concat(t("datatable.body.cell.focus.ring.color"),`;
    outline-offset: `).concat(t("datatable.body.cell.focus.ring.offset"),`;
}

.p-datatable-tfoot > tr > td {
    text-align: left;
    padding: `).concat(t("datatable.footer.cell.padding"),`;
    border-color: `).concat(t("datatable.footer.cell.border.color"),`;
    border-style: solid;
    border-width: 0 0 1px 0;
    color: `).concat(t("datatable.footer.cell.color"),`;
    background: `).concat(t("datatable.footer.cell.background"),`;
}

.p-datatable-column-footer {
    font-weight: `).concat(t("datatable.column.footer.font.weight"),`;
}

.p-datatable-sortable-column {
    cursor: pointer;
    user-select: none;
    outline-color: transparent;
}

.p-datatable-column-title,
.p-datatable-sort-icon,
.p-datatable-sort-badge {
    vertical-align: middle;
}

.p-datatable-sort-icon {
    color: `).concat(t("datatable.sort.icon.color"),`;
    transition: color `).concat(t("datatable.transition.duration"),`;
}

.p-datatable-sortable-column:not(.p-datatable-column-sorted):hover {
    background: `).concat(t("datatable.header.cell.hover.background"),`;
    color: `).concat(t("datatable.header.cell.hover.color"),`;
}

.p-datatable-sortable-column:not(.p-datatable-column-sorted):hover .p-datatable-sort-icon {
    color: `).concat(t("datatable.sort.icon.hover.color"),`;
}

.p-datatable-column-sorted {
    background: `).concat(t("datatable.header.cell.selected.background"),`;
    color: `).concat(t("datatable.header.cell.selected.color"),`;
}

.p-datatable-column-sorted .p-datatable-sort-icon {
    color: `).concat(t("datatable.header.cell.selected.color"),`;
}

.p-datatable-sortable-column:focus-visible {
    box-shadow: `).concat(t("datatable.header.cell.focus.ring.shadow"),`;
    outline: `).concat(t("datatable.header.cell.focus.ring.width")," ").concat(t("datatable.header.cell.focus.ring.style")," ").concat(t("datatable.header.cell.focus.ring.color"),`;
    outline-offset: `).concat(t("datatable.header.cell.focus.ring.offset"),`;
}

.p-datatable-hoverable .p-datatable-selectable-row {
    cursor: pointer;
}

.p-datatable-tbody > tr.p-datatable-dragpoint-top > td {
    box-shadow: inset 0 2px 0 0 `).concat(t("datatable.drop.point.color"),`;
}

.p-datatable-tbody > tr.p-datatable-dragpoint-bottom > td {
    box-shadow: inset 0 -2px 0 0 `).concat(t("datatable.drop.point.color"),`;
}

.p-datatable-loading-icon {
    font-size: `).concat(t("datatable.loading.icon.size"),`;
    width: `).concat(t("datatable.loading.icon.size"),`;
    height: `).concat(t("datatable.loading.icon.size"),`;
}

.p-datatable-gridlines .p-datatable-header {
    border-width: 1px 1px 0 1px;
}

.p-datatable-gridlines .p-datatable-footer {
    border-width: 0 1px 1px 1px;
}

.p-datatable-gridlines .p-datatable-paginator-top {
    border-width: 1px 1px 0 1px;
}

.p-datatable-gridlines .p-datatable-paginator-bottom {
    border-width: 0 1px 1px 1px;
}

.p-datatable-gridlines .p-datatable-thead > tr > th {
    border-width: 1px 0 1px 1px;
}

.p-datatable-gridlines .p-datatable-thead > tr > th:last-child {
    border-width: 1px;
}

.p-datatable-gridlines .p-datatable-tbody > tr > td {
    border-width: 1px 0 0 1px;
}

.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {
    border-width: 1px 1px 0 1px;
}

p-datatable-gridlines .p-datatable-tbody > tr:last-child > td {
    border-width: 1px 0 1px 1px;
}

.p-datatable-gridlines .p-datatable-tbody > tr:last-child > td:last-child {
    border-width: 1px;
}

.p-datatable-gridlines .p-datatable-tfoot > tr > td {
    border-width: 1px 0 1px 1px;
}

.p-datatable-gridlines .p-datatable-tfoot > tr > td:last-child {
    border-width: 1px 1px 1px 1px;
}

.p-datatable.p-datatable-gridlines .p-datatable-thead + .p-datatable-tfoot > tr > td {
    border-width: 0 0 1px 1px;
}

.p-datatable.p-datatable-gridlines .p-datatable-thead + .p-datatable-tfoot > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-datatable.p-datatable-gridlines:has(.p-datatable-thead):has(.p-datatable-tbody) .p-datatable-tbody > tr > td {
    border-width: 0 0 1px 1px;
}

.p-datatable.p-datatable-gridlines:has(.p-datatable-thead):has(.p-datatable-tbody) .p-datatable-tbody > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-datatable.p-datatable-gridlines:has(.p-datatable-tbody):has(.p-datatable-tfoot) .p-datatable-tbody > tr:last-child > td {
    border-width: 0 0 0 1px;
}

.p-datatable.p-datatable-gridlines:has(.p-datatable-tbody):has(.p-datatable-tfoot) .p-datatable-tbody > tr:last-child > td:last-child {
    border-width: 0 1px 0 1px;
}

.p-datatable.p-datatable-striped .p-datatable-tbody > tr.p-row-odd {
    background: `).concat(t("datatable.row.striped.background"),`;
}

.p-datatable.p-datatable-striped .p-datatable-tbody > tr.p-row-odd.p-datatable-row-selected {
    background: `).concat(t("datatable.row.selected.background"),`;
    color: `).concat(t("datatable.row.selected.color"),`;
}

.p-datatable.p-datatable-sm .p-datatable-header {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-sm .p-datatable-thead > tr > th {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-sm .p-datatable-tbody > tr > td {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-sm .p-datatable-tfoot > tr > td {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-sm .p-datatable-footer {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-lg .p-datatable-header {
    padding: 0.9375rem 1.25rem;
}

.p-datatable.p-datatable-lg .p-datatable-thead > tr > th {
    padding: 0.9375rem 1.25rem;
}

.p-datatable.p-datatable-lg .p-datatable-tbody>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-datatable.p-datatable-lg .p-datatable-tfoot>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-datatable.p-datatable-lg .p-datatable-footer {
    padding: 0.9375rem 1.25rem;
}

.p-datatable-row-toggle-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: `).concat(t("datatable.row.toggle.button.size"),`;
    height: `).concat(t("datatable.row.toggle.button.size"),`;
    color: `).concat(t("datatable.row.toggle.button.color"),`;
    border: 0 none;
    background: transparent;
    cursor: pointer;
    border-radius: `).concat(t("datatable.row.toggle.button.border.radius"),`;
    transition: background `).concat(t("datatable.transition.duration"),", color ").concat(t("datatable.transition.duration"),", border-color ").concat(t("datatable.transition.duration"),`,
            outline-color `).concat(t("datatable.transition.duration"),", box-shadow ").concat(t("datatable.transition.duration"),`;
    outline-color: transparent;
    user-select: none;
}

.p-datatable-row-toggle-button:enabled:hover {
    color: `).concat(t("datatable.row.toggle.button.hover.color"),`;
    background: `).concat(t("datatable.row.toggle.button.hover.background"),`;
}

.p-datatable-tbody > tr.p-datatable-row-selected .p-datatable-row-toggle-button:hover {
    background: `).concat(t("datatable.row.toggle.button.selected.hover.background"),`;
    `).concat(t("datatable.row.toggle.button.selected.hover.color"),`;
}

.p-datatable-row-toggle-button:focus-visible {
    box-shadow: `).concat(t("datatable.row.toggle.button.focus.ring.shadow"),`;
    outline: `).concat(t("datatable.row.toggle.button.focus.ring.width")," ").concat(t("datatable.row.toggle.button.focus.ring.style")," ").concat(t("datatable.row.toggle.button.focus.ring.color"),`;
    outline-offset: `).concat(t("datatable.row.toggle.button.focus.ring.offset"),`;
}
`)},xMe={root:function(e){var t=e.props;return["p-datatable p-component",{"p-datatable-hoverable":t.rowHover||t.selectionMode,"p-datatable-resizable":t.resizableColumns,"p-datatable-resizable-fit":t.resizableColumns&&t.columnResizeMode==="fit","p-datatable-scrollable":t.scrollable,"p-datatable-flex-scrollable":t.scrollable&&t.scrollHeight==="flex","p-datatable-striped":t.stripedRows,"p-datatable-gridlines":t.showGridlines,"p-datatable-sm":t.size==="small","p-datatable-lg":t.size==="large"}]},mask:"p-datatable-mask p-overlay-mask",loadingIcon:"p-datatable-loading-icon",header:"p-datatable-header",pcPaginator:function(e){var t=e.position;return"p-datatable-paginator-"+t},tableContainer:"p-datatable-table-container",table:function(e){var t=e.props;return["p-datatable-table",{"p-datatable-scrollable-table":t.scrollable,"p-datatable-resizable-table":t.resizableColumns,"p-datatable-resizable-table-fit":t.resizableColumns&&t.columnResizeMode==="fit"}]},thead:"p-datatable-thead",headerCell:function(e){var t=e.instance,r=e.props,o=e.column;return o&&!t.columnProp(o,"hidden")&&(r.rowGroupMode!=="subheader"||r.groupRowsBy!==t.columnProp(o,"field"))?["p-datatable-header-cell",{"p-datatable-frozen-column":t.columnProp(o,"frozen")}]:["p-datatable-header-cell",{"p-datatable-sortable-column":t.columnProp("sortable"),"p-datatable-resizable-column":t.resizableColumns,"p-datatable-column-sorted":t.isColumnSorted(),"p-datatable-frozen-column":t.columnProp("frozen"),"p-datatable-reorderable-column":r.reorderableColumns}]},columnResizer:"p-datatable-column-resizer",columnHeaderContent:"p-datatable-column-header-content",columnTitle:"p-datatable-column-title",columnFooter:"p-datatable-column-footer",sortIcon:"p-datatable-sort-icon",pcSortBadge:"p-datatable-sort-badge",filter:function(e){var t=e.props;return["p-datatable-filter",{"p-datatable-inline-filter":t.display==="row","p-datatable-popover-filter":t.display==="menu"}]},filterElementContainer:"p-datatable-filter-element-container",pcColumnFilterButton:"p-datatable-column-filter-button",pcColumnFilterClearButton:"p-datatable-column-filter-clear-button",filterOverlay:function(e){e.instance;var t=e.props;return["p-datatable-filter-overlay p-component",{"p-datatable-filter-overlay-popover":t.display==="menu"}]},filterConstraintList:"p-datatable-filter-constraint-list",filterConstraint:function(e){var t=e.instance,r=e.matchMode;return["p-datatable-filter-constraint",{"p-datatable-filter-constraint-selected":r&&t.isRowMatchModeSelected(r.value)}]},filterConstraintSeparator:"p-datatable-filter-constraint-separator",filterOperator:"p-datatable-filter-operator",pcFilterOperatorDropdown:"p-datatable-filter-operator-dropdown",filterRuleList:"p-datatable-filter-rule-list",filterRule:"p-datatable-filter-rule",pcFilterConstraintDropdown:"p-datatable-filter-constraint-dropdown",pcFilterRemoveRuleButton:"p-datatable-filter-remove-rule-button",pcFilterAddRuleButton:"p-datatable-filter-add-rule-button",filterButtonbar:"p-datatable-filter-buttonbar",pcFilterClearButton:"p-datatable-filter-clear-button",pcFilterApplyButton:"p-datatable-filter-apply-button",tbody:function(e){var t=e.props;return t.frozenRow?"p-datatable-tbody p-datatable-frozen-tbody":"p-datatable-tbody"},rowGroupHeader:"p-datatable-row-group-header",rowToggleButton:"p-datatable-row-toggle-button",rowToggleIcon:"p-datatable-row-toggle-icon",row:function(e){var t=e.instance,r=e.props,o=e.index,i=e.columnSelectionMode,a=[];return r.selectionMode&&a.push("p-datatable-selectable-row"),r.selection&&a.push({"p-datatable-row-selected":i?t.isSelected&&t.$parentInstance.$parentInstance.highlightOnSelect:t.isSelected}),r.contextMenuSelection&&a.push({"p-datatable-contextmenu-row-selected":t.isSelectedWithContextMenu}),a.push(o%2===0?"p-row-even":"p-row-odd"),a},rowExpansion:"p-datatable-row-expansion",rowGroupFooter:"p-datatable-row-group-footer",emptyMessage:"p-datatable-empty-message",bodyCell:function(e){var t=e.instance;return[{"p-datatable-frozen-column":t.columnProp("frozen")}]},reorderableRowHandle:"p-datatable-reorderable-row-handle",pcRowEditorInit:"p-datatable-row-editor-init",pcRowEditorSave:"p-datatable-row-editor-save",pcRowEditorCancel:"p-datatable-row-editor-cancel",tfoot:"p-datatable-tfoot",footerCell:function(e){var t=e.instance;return[{"p-datatable-frozen-column":t.columnProp("frozen")}]},virtualScrollerSpacer:"p-datatable-virtualscroller-spacer",footer:"p-datatable-footer",columnResizeIndicator:"p-datatable-column-resize-indicator",rowReorderIndicatorUp:"p-datatable-row-reorder-indicator-up",rowReorderIndicatorDown:"p-datatable-row-reorder-indicator-down"},SMe={tableContainer:{overflow:"auto"},thead:{position:"sticky"},tfoot:{position:"sticky"}},CMe=Ft.extend({name:"datatable",theme:wMe,classes:xMe,inlineStyles:SMe}),eM={name:"ChevronRightIcon",extends:$n};function kMe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1)]),16)}eM.render=kMe;var BY={name:"BarsIcon",extends:$n};function _Me(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z",fill:"currentColor"},null,-1)]),16)}BY.render=_Me;var zY={name:"PencilIcon",extends:$n};function IMe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M0.609628 13.959C0.530658 13.9599 0.452305 13.9451 0.379077 13.9156C0.305849 13.8861 0.239191 13.8424 0.18294 13.787C0.118447 13.7234 0.0688234 13.6464 0.0376166 13.5614C0.00640987 13.4765 -0.00560954 13.3857 0.00241768 13.2956L0.25679 10.1501C0.267698 10.0041 0.331934 9.86709 0.437312 9.76516L9.51265 0.705715C10.0183 0.233014 10.6911 -0.0203041 11.3835 0.00127367C12.0714 0.00660201 12.7315 0.27311 13.2298 0.746671C13.7076 1.23651 13.9824 1.88848 13.9992 2.57201C14.0159 3.25554 13.7733 3.92015 13.32 4.4327L4.23648 13.5331C4.13482 13.6342 4.0017 13.6978 3.85903 13.7133L0.667067 14L0.609628 13.959ZM1.43018 10.4696L1.25787 12.714L3.50619 12.5092L12.4502 3.56444C12.6246 3.35841 12.7361 3.10674 12.7714 2.83933C12.8067 2.57193 12.7644 2.30002 12.6495 2.05591C12.5346 1.8118 12.3519 1.60575 12.1231 1.46224C11.8943 1.31873 11.6291 1.2438 11.3589 1.24633C11.1813 1.23508 11.0033 1.25975 10.8355 1.31887C10.6677 1.37798 10.5136 1.47033 10.3824 1.59036L1.43018 10.4696Z",fill:"currentColor"},null,-1)]),16)}zY.render=IMe;var TMe=function(e){var t=e.dt;return`
.p-checkbox {
    position: relative;
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    width: `.concat(t("checkbox.width"),`;
    height: `).concat(t("checkbox.height"),`;
}

.p-checkbox-input {
    cursor: pointer;
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    opacity: 0;
    z-index: 1;
    outline: 0 none;
    border: 1px solid transparent;
    border-radius: `).concat(t("checkbox.border.radius"),`;
}

.p-checkbox-box {
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: `).concat(t("checkbox.border.radius"),`;
    border: 1px solid `).concat(t("checkbox.border.color"),`;
    background: `).concat(t("checkbox.background"),`;
    width: `).concat(t("checkbox.width"),`;
    height: `).concat(t("checkbox.height"),`;
    transition: background `).concat(t("checkbox.transition.duration"),", color ").concat(t("checkbox.transition.duration"),", border-color ").concat(t("checkbox.transition.duration"),", box-shadow ").concat(t("checkbox.transition.duration"),", outline-color ").concat(t("checkbox.transition.duration"),`;
    outline-color: transparent;
    box-shadow: `).concat(t("checkbox.shadow"),`;
}

.p-checkbox-icon {
    transition-duration: `).concat(t("checkbox.transition.duration"),`;
    color: `).concat(t("checkbox.icon.color"),`;
    font-size: `).concat(t("checkbox.icon.size"),`;
    width: `).concat(t("checkbox.icon.size"),`;
    height: `).concat(t("checkbox.icon.size"),`;
}

.p-checkbox:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    border-color: `).concat(t("checkbox.hover.border.color"),`;
}

.p-checkbox-checked .p-checkbox-box {
    border-color: `).concat(t("checkbox.checked.border.color"),`;
    background: `).concat(t("checkbox.checked.background"),`;
}

.p-checkbox-checked .p-checkbox-icon {
    color: `).concat(t("checkbox.icon.checked.color"),`;
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    background: `).concat(t("checkbox.checked.hover.background"),`;
    border-color: `).concat(t("checkbox.checked.hover.border.color"),`;
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-icon {
    color: `).concat(t("checkbox.icon.checked.hover.color"),`;
}

.p-checkbox:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
    border-color: `).concat(t("checkbox.focus.border.color"),`;
    box-shadow: `).concat(t("checkbox.focus.ring.shadow"),`;
    outline: `).concat(t("checkbox.focus.ring.width")," ").concat(t("checkbox.focus.ring.style")," ").concat(t("checkbox.focus.ring.color"),`;
    outline-offset: `).concat(t("checkbox.focus.ring.offset"),`;
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
    border-color: `).concat(t("checkbox.checked.focus.border.color"),`;
}

.p-checkbox.p-invalid > .p-checkbox-box {
    border-color: `).concat(t("checkbox.invalid.border.color"),`;
}

.p-checkbox.p-variant-filled .p-checkbox-box {
    background: `).concat(t("checkbox.filled.background"),`;
}

.p-checkbox-checked.p-variant-filled .p-checkbox-box {
    background: `).concat(t("checkbox.checked.background"),`;
}

.p-checkbox-checked.p-variant-filled:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    background: `).concat(t("checkbox.checked.hover.background"),`;
}

.p-checkbox.p-disabled {
    opacity: 1;
}

.p-checkbox.p-disabled .p-checkbox-box {
    background: `).concat(t("checkbox.disabled.background"),`;
    border-color: `).concat(t("checkbox.checked.disabled.border.color"),`;
}

.p-checkbox.p-disabled .p-checkbox-box .p-checkbox-icon {
    color: `).concat(t("checkbox.icon.disabled.color"),`;
}
`)},AMe={root:function(e){var t=e.instance,r=e.props;return["p-checkbox p-component",{"p-checkbox-checked":t.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":t.$primevue.config.inputStyle==="filled"||t.$primevue.config.inputVariant==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},DMe=Ft.extend({name:"checkbox",theme:TMe,classes:AMe}),RMe={name:"BaseCheckbox",extends:Ot,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},indeterminate:{type:Boolean,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:DMe,provide:function(){return{$pcCheckbox:this,$parentInstance:this}}};function EMe(n){return LMe(n)||MMe(n)||PMe(n)||$Me()}function $Me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PMe(n,e){if(n){if(typeof n=="string")return VD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?VD(n,e):void 0}}function MMe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function LMe(n){if(Array.isArray(n))return VD(n)}function VD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var tM={name:"Checkbox",extends:RMe,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","update:indeterminate"],data:function(){return{d_indeterminate:this.indeterminate}},watch:{indeterminate:function(e){this.d_indeterminate=e}},methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{checked:this.checked,indeterminate:this.d_indeterminate,disabled:this.disabled}})},onChange:function(e){var t=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.d_indeterminate?this.trueValue:this.checked?this.falseValue:this.trueValue:this.checked||this.d_indeterminate?r=this.modelValue.filter(function(o){return!_s(o,t.value)}):r=this.modelValue?[].concat(EMe(this.modelValue),[this.value]):[this.value],this.d_indeterminate&&(this.d_indeterminate=!1,this.$emit("update:indeterminate",this.d_indeterminate)),this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.d_indeterminate?!1:this.binary?this.modelValue===this.trueValue:$ae(this.value,this.modelValue)}},components:{CheckIcon:Yp,MinusIcon:jP}},NMe=["data-p-checked","data-p-indeterminate","data-p-disabled"],OMe=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid","aria-checked"];function FMe(n,e,t,r,o,i){var a=Je("CheckIcon"),s=Je("MinusIcon");return B(),ne("div",H({class:n.cx("root")},i.getPTOptions("root"),{"data-p-checked":i.checked,"data-p-indeterminate":o.d_indeterminate||void 0,"data-p-disabled":n.disabled}),[ke("input",H({id:n.inputId,type:"checkbox",class:[n.cx("input"),n.inputClass],style:n.inputStyle,value:n.value,name:n.name,checked:i.checked,tabindex:n.tabindex,disabled:n.disabled,readonly:n.readonly,required:n.required,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,"aria-invalid":n.invalid||void 0,"aria-checked":o.d_indeterminate?"mixed":void 0,onFocus:e[0]||(e[0]=function(){return i.onFocus&&i.onFocus.apply(i,arguments)}),onBlur:e[1]||(e[1]=function(){return i.onBlur&&i.onBlur.apply(i,arguments)}),onChange:e[2]||(e[2]=function(){return i.onChange&&i.onChange.apply(i,arguments)})},i.getPTOptions("input")),null,16,OMe),ke("div",H({class:n.cx("box")},i.getPTOptions("box")),[He(n.$slots,"icon",{checked:i.checked,indeterminate:o.d_indeterminate,class:bt(n.cx("icon"))},function(){return[i.checked?(B(),be(a,H({key:0,class:n.cx("icon")},i.getPTOptions("icon")),null,16,["class"])):o.d_indeterminate?(B(),be(s,H({key:1,class:n.cx("icon")},i.getPTOptions("icon")),null,16,["class"])):Oe("",!0)]})],16)],16,NMe)}tM.render=FMe;var BMe=function(e){var t=e.dt;return`
.p-radiobutton {
    position: relative;
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    width: `.concat(t("radiobutton.width"),`;
    height: `).concat(t("radiobutton.height"),`;
}

.p-radiobutton-input {
    cursor: pointer;
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    opacity: 0;
    z-index: 1;
    outline: 0 none;
    border: 1px solid transparent;
    border-radius: 50%;
}

.p-radiobutton-box {
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    border: 1px solid `).concat(t("radiobutton.border.color"),`;
    background: `).concat(t("radiobutton.background"),`;
    width: `).concat(t("radiobutton.width"),`;
    height: `).concat(t("radiobutton.height"),`;
    transition: background `).concat(t("radiobutton.transition.duration"),", color ").concat(t("radiobutton.transition.duration"),", border-color ").concat(t("radiobutton.transition.duration"),", box-shadow ").concat(t("radiobutton.transition.duration"),", outline-color ").concat(t("radiobutton.transition.duration"),`;
    outline-color: transparent;
    box-shadow: `).concat(t("radiobutton.shadow"),`;
}

.p-radiobutton-icon {
    transition-duration: `).concat(t("radiobutton.transition.duration"),`;
    background: transparent;
    font-size: `).concat(t("radiobutton.icon.size"),`;
    width: `).concat(t("radiobutton.icon.size"),`;
    height: `).concat(t("radiobutton.icon.size"),`;
    border-radius: 50%;
    backface-visibility: hidden;
    transform: translateZ(0) scale(0.1);
}

.p-radiobutton:not(.p-disabled):has(.p-radiobutton-input:hover) .p-radiobutton-box {
    border-color: `).concat(t("radiobutton.hover.border.color"),`;
}

.p-radiobutton-checked .p-radiobutton-box {
    border-color: `).concat(t("radiobutton.checked.border.color"),`;
    background: `).concat(t("radiobutton.checked.background"),`;
}

.p-radiobutton-checked .p-radiobutton-box .p-radiobutton-icon {
    background: `).concat(t("radiobutton.icon.checked.color"),`;
    transform: translateZ(0) scale(1, 1);
    visibility: visible;
}

.p-radiobutton-checked:not(.p-disabled):has(.p-radiobutton-input:hover) .p-radiobutton-box {
    border-color: `).concat(t("radiobutton.checked.hover.border.color"),`;
    background: `).concat(t("radiobutton.checked.hover.background"),`;
}

.p-radiobutton:not(.p-disabled):has(.p-radiobutton-input:hover).p-radiobutton-checked .p-radiobutton-box .p-radiobutton-icon {
    background: `).concat(t("radiobutton.icon.checked.hover.color"),`;
}

.p-radiobutton:not(.p-disabled):has(.p-radiobutton-input:focus-visible) .p-radiobutton-box {
    border-color: `).concat(t("radiobutton.focus.border.color"),`;
    box-shadow: `).concat(t("radiobutton.focus.ring.shadow"),`;
    outline: `).concat(t("radiobutton.focus.ring.width")," ").concat(t("radiobutton.focus.ring.style")," ").concat(t("radiobutton.focus.ring.color"),`;
    outline-offset: `).concat(t("radiobutton.focus.ring.offset"),`;
}

.p-radiobutton-checked:not(.p-disabled):has(.p-radiobutton-input:focus-visible) .p-radiobutton-box {
    border-color: `).concat(t("radiobutton.checked.focus.border.color"),`;
}

.p-radiobutton.p-invalid > .p-radiobutton-box {
    border-color: `).concat(t("radiobutton.invalid.border.color"),`;
}

.p-radiobutton.p-variant-filled .p-radiobutton-box {
    background: `).concat(t("radiobutton.filled.background"),`;
}

.p-radiobutton.p-variant-filled.p-radiobutton-checked .p-radiobutton-box {
    background: `).concat(t("radiobutton.checked.background"),`;
}

.p-radiobutton.p-variant-filled:not(.p-disabled):has(.p-radiobutton-input:hover).p-radiobutton-checked .p-radiobutton-box {
    background: `).concat(t("radiobutton.checked.hover.background"),`;
}

.p-radiobutton.p-disabled {
    opacity: 1;
}

.p-radiobutton.p-disabled .p-radiobutton-box {
    background: `).concat(t("radiobutton.disabled.background"),`;
    border-color: `).concat(t("radiobutton.checked.disabled.border.color"),`;
}

.p-radiobutton-checked.p-disabled .p-radiobutton-box .p-radiobutton-icon {
    background: `).concat(t("radiobutton.icon.disabled.color"),`;
}
`)},zMe={root:function(e){var t=e.instance,r=e.props;return["p-radiobutton p-component",{"p-radiobutton-checked":t.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":t.$primevue.config.inputStyle==="filled"||t.$primevue.config.inputVariant==="filled"}]},box:"p-radiobutton-box",input:"p-radiobutton-input",icon:"p-radiobutton-icon"},VMe=Ft.extend({name:"radiobutton",theme:BMe,classes:zMe}),GMe={name:"BaseRadioButton",extends:Ot,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:VMe,provide:function(){return{$pcRadioButton:this,$parentInstance:this}}},VY={name:"RadioButton",extends:GMe,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var t=this.binary?!this.checked:this.value;this.$emit("update:modelValue",t),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue!=null&&(this.binary?!!this.modelValue:_s(this.modelValue,this.value))}}},WMe=["data-p-checked","data-p-disabled"],HMe=["id","value","name","checked","tabindex","disabled","readonly","aria-labelledby","aria-label","aria-invalid"];function UMe(n,e,t,r,o,i){return B(),ne("div",H({class:n.cx("root")},i.getPTOptions("root"),{"data-p-checked":i.checked,"data-p-disabled":n.disabled}),[ke("input",H({id:n.inputId,type:"radio",class:[n.cx("input"),n.inputClass],style:n.inputStyle,value:n.value,name:n.name,checked:i.checked,tabindex:n.tabindex,disabled:n.disabled,readonly:n.readonly,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,"aria-invalid":n.invalid||void 0,onFocus:e[0]||(e[0]=function(){return i.onFocus&&i.onFocus.apply(i,arguments)}),onBlur:e[1]||(e[1]=function(){return i.onBlur&&i.onBlur.apply(i,arguments)}),onChange:e[2]||(e[2]=function(){return i.onChange&&i.onChange.apply(i,arguments)})},i.getPTOptions("input")),null,16,HMe),ke("div",H({class:n.cx("box")},i.getPTOptions("box")),[ke("div",H({class:n.cx("icon")},i.getPTOptions("icon")),null,16)],16)],16,WMe)}VY.render=UMe;var GY={name:"FilterIcon",extends:$n};function jMe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z",fill:"currentColor"},null,-1)]),16)}GY.render=jMe;var WY={name:"FilterSlashIcon",extends:$n};function KMe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z",fill:"currentColor"},null,-1)]),16)}WY.render=KMe;var HY={name:"TrashIcon",extends:$n};function XMe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z",fill:"currentColor"},null,-1)]),16)}HY.render=XMe;var qMe=Ft.extend({name:"focustrap-directive"}),YMe=Nt.extend({style:qMe});function Ym(n){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(n)}function PV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function MV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(t),!0).forEach(function(r){ZMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ZMe(n,e,t){return(e=JMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JMe(n){var e=QMe(n,"string");return Ym(e)=="symbol"?e:e+""}function QMe(n,e){if(Ym(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var eLe=YMe.extend("focustrap",{mounted:function(e,t){var r=t.value||{},o=r.disabled;o||(this.createHiddenFocusableElements(e,t),this.bind(e,t),this.autoElementFocus(e,t)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,t){var r=t.value||{},o=r.disabled;o&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function(e,t){var r=this,o=t.value||{},i=o.onFocusIn,a=o.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(s){s.forEach(function(l){if(l.type==="childList"&&!e.contains(document.activeElement)){var u=function(d){var h=eO(d)?eO(d,r.getComputedSelector(e.$_pfocustrap_focusableselector))?d:rd(e,r.getComputedSelector(e.$_pfocustrap_focusableselector)):rd(d);return Bt(h)?h:d.nextSibling&&u(d.nextSibling)};Go(u(l.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(s){return i&&i(s)},e.$_pfocustrap_focusoutlistener=function(s){return a&&a(s)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:MV(MV({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,t){var r=t.value||{},o=r.autoFocusSelector,i=o===void 0?"":o,a=r.firstFocusableSelector,s=a===void 0?"":a,l=r.autoFocus,u=l===void 0?!1:l,c=rd(e,"[autofocus]".concat(this.getComputedSelector(i)));u&&!c&&(c=rd(e,this.getComputedSelector(s))),Go(c)},onFirstHiddenElementFocus:function(e){var t,r=e.currentTarget,o=e.relatedTarget,i=o===r.$_pfocustrap_lasthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(o))?rd(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_lasthiddenfocusableelement;Go(i)},onLastHiddenElementFocus:function(e){var t,r=e.currentTarget,o=e.relatedTarget,i=o===r.$_pfocustrap_firsthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(o))?pG(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_firsthiddenfocusableelement;Go(i)},createHiddenFocusableElements:function(e,t){var r=this,o=t.value||{},i=o.tabIndex,a=i===void 0?0:i,s=o.firstFocusableSelector,l=s===void 0?"":s,u=o.lastFocusableSelector,c=u===void 0?"":u,d=function(g){return fG("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:a,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:g==null?void 0:g.bind(r)})},h=d(this.onFirstHiddenElementFocus),f=d(this.onLastHiddenElementFocus);h.$_pfocustrap_lasthiddenfocusableelement=f,h.$_pfocustrap_focusableselector=l,h.setAttribute("data-pc-section","firstfocusableelement"),f.$_pfocustrap_firsthiddenfocusableelement=h,f.$_pfocustrap_focusableselector=c,f.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(h),e.append(f)}}}),GD={name:"SortAltIcon",extends:$n};function tLe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z",fill:"currentColor"},null,-1),ke("path",{d:"M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z",fill:"currentColor"},null,-1),ke("path",{d:"M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z",fill:"currentColor"},null,-1),ke("path",{d:"M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z",fill:"currentColor"},null,-1)]),16)}GD.render=tLe;var WD={name:"SortAmountDownIcon",extends:$n};function nLe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z",fill:"currentColor"},null,-1)]),16)}WD.render=nLe;var HD={name:"SortAmountUpAltIcon",extends:$n};function rLe(n,e,t,r,o,i){return B(),ne("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[ke("path",{d:"M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z",fill:"currentColor"},null,-1)]),16)}HD.render=rLe;var oLe={name:"BaseDataTable",extends:Ot,props:{value:{type:Array,default:null},dataKey:{type:[String,Function],default:null},rows:{type:Number,default:0},first:{type:Number,default:0},totalRecords:{type:Number,default:0},paginator:{type:Boolean,default:!1},paginatorPosition:{type:String,default:"bottom"},alwaysShowPaginator:{type:Boolean,default:!0},paginatorTemplate:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},currentPageReportTemplate:{type:String,default:"({currentPage} of {totalPages})"},lazy:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},defaultSortOrder:{type:Number,default:1},nullSortOrder:{type:Number,default:1},multiSortMeta:{type:Array,default:null},sortMode:{type:String,default:"single"},removableSort:{type:Boolean,default:!1},filters:{type:Object,default:null},filterDisplay:{type:String,default:null},globalFilterFields:{type:Array,default:null},filterLocale:{type:String,default:void 0},selection:{type:[Array,Object],default:null},selectionMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},metaKeySelection:{type:Boolean,default:!1},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},selectAll:{type:Boolean,default:null},rowHover:{type:Boolean,default:!1},csvSeparator:{type:String,default:","},exportFilename:{type:String,default:"download"},exportFunction:{type:Function,default:null},resizableColumns:{type:Boolean,default:!1},columnResizeMode:{type:String,default:"fit"},reorderableColumns:{type:Boolean,default:!1},expandedRows:{type:[Array,Object],default:null},expandedRowIcon:{type:String,default:void 0},collapsedRowIcon:{type:String,default:void 0},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},stateStorage:{type:String,default:"session"},stateKey:{type:String,default:null},editMode:{type:String,default:null},editingRows:{type:Array,default:null},rowClass:{type:Function,default:null},rowStyle:{type:Function,default:null},scrollable:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},scrollHeight:{type:String,default:null},frozenValue:{type:Array,default:null},breakpoint:{type:String,default:"960px"},showGridlines:{type:Boolean,default:!1},stripedRows:{type:Boolean,default:!1},highlightOnSelect:{type:Boolean,default:!1},size:{type:String,default:null},tableStyle:{type:null,default:null},tableClass:{type:[String,Object],default:null},tableProps:{type:Object,default:null},filterInputProps:{type:null,default:null},filterButtonProps:{type:Object,default:function(){return{filter:{severity:"secondary",text:!0,rounded:!0},inline:{clear:{severity:"secondary",text:!0,rounded:!0}},popover:{addRule:{severity:"info",text:!0,size:"small"},removeRule:{severity:"danger",text:!0,size:"small"},apply:{size:"small"},clear:{outlined:!0,size:"small"}}}}},editButtonProps:{type:Object,default:function(){return{init:{severity:"secondary",text:!0,rounded:!0},save:{severity:"secondary",text:!0,rounded:!0},cancel:{severity:"secondary",text:!0,rounded:!0}}}}},style:CMe,provide:function(){return{$pcDataTable:this,$parentInstance:this}}},UY={name:"RowCheckbox",hostName:"DataTable",extends:Ot,emits:["change"],props:{value:null,checked:null,column:null,rowCheckboxIconTemplate:{type:Function,default:null},index:{type:Number,default:null}},methods:{getColumnPT:function(e){var t={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,checked:this.checked,disabled:this.$attrs.disabled}};return H(this.ptm("column.".concat(e),{column:t}),this.ptm("column.".concat(e),t),this.ptmo(this.getColumnProp(),e,t))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},onChange:function(e){this.$attrs.disabled||this.$emit("change",{originalEvent:e,data:this.value})}},computed:{checkboxAriaLabel:function(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectRow:this.$primevue.config.locale.aria.unselectRow:void 0}},components:{CheckIcon:Yp,Checkbox:tM}};function iLe(n,e,t,r,o,i){var a=Je("CheckIcon"),s=Je("Checkbox");return B(),be(s,{modelValue:t.checked,binary:!0,disabled:n.$attrs.disabled,"aria-label":i.checkboxAriaLabel,onChange:i.onChange,unstyled:n.unstyled,pt:i.getColumnPT("pcRowCheckbox")},{icon:ut(function(l){return[t.rowCheckboxIconTemplate?(B(),be(mt(t.rowCheckboxIconTemplate),{key:0,checked:l.checked,class:bt(l.class)},null,8,["checked","class"])):!t.rowCheckboxIconTemplate&&l.checked?(B(),be(a,H({key:1,class:l.class},i.getColumnPT("pcRowCheckbox").icon),null,16,["class"])):Oe("",!0)]}),_:1},8,["modelValue","disabled","aria-label","onChange","unstyled","pt"])}UY.render=iLe;var jY={name:"RowRadioButton",hostName:"DataTable",extends:Ot,emits:["change"],props:{value:null,checked:null,name:null,column:null,index:{type:Number,default:null}},methods:{getColumnPT:function(e){var t={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,checked:this.checked,disabled:this.$attrs.disabled}};return H(this.ptm("column.".concat(e),{column:t}),this.ptm("column.".concat(e),t),this.ptmo(this.getColumnProp(),e,t))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},onChange:function(e){this.$attrs.disabled||this.$emit("change",{originalEvent:e,data:this.value})}},components:{RadioButton:VY}};function aLe(n,e,t,r,o,i){var a=Je("RadioButton");return B(),be(a,{modelValue:t.checked,binary:!0,disabled:n.$attrs.disabled,name:t.name,onChange:i.onChange,unstyled:n.unstyled,pt:i.getColumnPT("pcRowRadiobutton")},null,8,["modelValue","disabled","name","onChange","unstyled","pt"])}jY.render=aLe;var KY={name:"BodyCell",hostName:"DataTable",extends:Ot,emits:["cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","row-toggle","radio-change","checkbox-change","editing-meta-change"],props:{rowData:{type:Object,default:null},column:{type:Object,default:null},frozenRow:{type:Boolean,default:!1},rowIndex:{type:Number,default:null},index:{type:Number,default:null},isRowExpanded:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},editing:{type:Boolean,default:!1},editingMeta:{type:Object,default:null},editMode:{type:String,default:null},virtualScrollerContentProps:{type:Object,default:null},ariaControls:{type:String,default:null},name:{type:String,default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},editButtonProps:{type:Object,default:null}},documentEditListener:null,selfClick:!1,overlayEventListener:null,data:function(){return{d_editing:this.editing,styleObject:{}}},watch:{editing:function(e){this.d_editing=e},"$data.d_editing":function(e){this.$emit("editing-meta-change",{data:this.rowData,field:this.field||"field_".concat(this.index),index:this.rowIndex,editing:e})}},mounted:function(){this.columnProp("frozen")&&this.updateStickyPosition()},updated:function(){var e=this;this.columnProp("frozen")&&this.updateStickyPosition(),this.d_editing&&(this.editMode==="cell"||this.editMode==="row"&&this.columnProp("rowEditor"))&&setTimeout(function(){var t=rd(e.$el);t&&t.focus()},1)},beforeUnmount:function(){this.overlayEventListener&&(wu.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null)},methods:{columnProp:function(e){return wh(this.column,e)},getColumnPT:function(e){var t,r,o={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,size:(t=this.$parentInstance)===null||t===void 0||(t=t.$parentInstance)===null||t===void 0?void 0:t.size,showGridlines:(r=this.$parentInstance)===null||r===void 0||(r=r.$parentInstance)===null||r===void 0?void 0:r.showGridlines}};return H(this.ptm("column.".concat(e),{column:o}),this.ptm("column.".concat(e),o),this.ptmo(this.getColumnProp(),e,o))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},resolveFieldData:function(){return Et(this.rowData,this.field)},toggleRow:function(e){this.$emit("row-toggle",{originalEvent:e,data:this.rowData})},toggleRowWithRadio:function(e,t){this.$emit("radio-change",{originalEvent:e.originalEvent,index:t,data:e.data})},toggleRowWithCheckbox:function(e,t){this.$emit("checkbox-change",{originalEvent:e.originalEvent,index:t,data:e.data})},isEditable:function(){return this.column.children&&this.column.children.editor!=null},bindDocumentEditListener:function(){var e=this;this.documentEditListener||(this.documentEditListener=function(t){e.selfClick||e.completeEdit(t,"outside"),e.selfClick=!1},document.addEventListener("click",this.documentEditListener))},unbindDocumentEditListener:function(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null,this.selfClick=!1)},switchCellToViewMode:function(){this.d_editing=!1,this.unbindDocumentEditListener(),wu.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},onClick:function(e){var t=this;this.editMode==="cell"&&this.isEditable()&&(this.selfClick=!0,this.d_editing||(this.d_editing=!0,this.bindDocumentEditListener(),this.$emit("cell-edit-init",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex}),this.overlayEventListener=function(r){t.$el&&t.$el.contains(r.target)&&(t.selfClick=!0)},wu.on("overlay-click",this.overlayEventListener)))},completeEdit:function(e,t){var r={originalEvent:e,data:this.rowData,newData:this.editingRowData,value:this.rowData[this.field],newValue:this.editingRowData[this.field],field:this.field,index:this.rowIndex,type:t,defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0}};this.$emit("cell-edit-complete",r),r.defaultPrevented||this.switchCellToViewMode()},onKeyDown:function(e){if(this.editMode==="cell")switch(e.code){case"Enter":case"NumpadEnter":this.completeEdit(e,"enter");break;case"Escape":this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex});break;case"Tab":this.completeEdit(e,"tab"),e.shiftKey?this.moveToPreviousCell(e):this.moveToNextCell(e);break}},moveToPreviousCell:function(e){var t=this.findCell(e.target),r=this.findPreviousEditableColumn(t);r&&(Q3(r,"click"),e.preventDefault())},moveToNextCell:function(e){var t=this.findCell(e.target),r=this.findNextEditableColumn(t);r&&(Q3(r,"click"),e.preventDefault())},findCell:function(e){if(e){for(var t=e;t&&!Ar(t,"data-p-cell-editing");)t=t.parentElement;return t}else return null},findPreviousEditableColumn:function(e){var t=e.previousElementSibling;if(!t){var r=e.parentElement.previousElementSibling;r&&(t=r.lastElementChild)}return t?Ar(t,"data-p-editable-column")?t:this.findPreviousEditableColumn(t):null},findNextEditableColumn:function(e){var t=e.nextElementSibling;if(!t){var r=e.parentElement.nextElementSibling;r&&(t=r.firstElementChild)}return t?Ar(t,"data-p-editable-column")?t:this.findNextEditableColumn(t):null},onRowEditInit:function(e){this.$emit("row-edit-init",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditSave:function(e){this.$emit("row-edit-save",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditCancel:function(e){this.$emit("row-edit-cancel",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorInitCallback:function(e){this.$emit("row-edit-init",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorSaveCallback:function(e){this.editMode==="row"?this.$emit("row-edit-save",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):this.completeEdit(e,"enter")},editorCancelCallback:function(e){this.editMode==="row"?this.$emit("row-edit-cancel",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):(this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex}))},updateStickyPosition:function(){if(this.columnProp("frozen")){var e=this.columnProp("alignFrozen");if(e==="right"){var t=0,r=sE(this.$el,'[data-p-frozen-column="true"]');r&&(t=ji(r)+parseFloat(r.style.right||0)),this.styleObject.right=t+"px"}else{var o=0,i=lE(this.$el,'[data-p-frozen-column="true"]');i&&(o=ji(i)+parseFloat(i.style.left||0)),this.styleObject.left=o+"px"}}},getVirtualScrollerProp:function(e){return this.virtualScrollerContentProps?this.virtualScrollerContentProps[e]:null}},computed:{editingRowData:function(){return this.editingMeta[this.rowIndex]?this.editingMeta[this.rowIndex].data:this.rowData},field:function(){return this.columnProp("field")},containerClass:function(){return[this.columnProp("bodyClass"),this.columnProp("class"),this.cx("bodyCell")]},containerStyle:function(){var e=this.columnProp("bodyStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]},loading:function(){return this.getVirtualScrollerProp("loading")},loadingOptions:function(){var e=this.getVirtualScrollerProp("getLoaderOptions");return e&&e(this.rowIndex,{cellIndex:this.index,cellFirst:this.index===0,cellLast:this.index===this.getVirtualScrollerProp("columns").length-1,cellEven:this.index%2===0,cellOdd:this.index%2!==0,column:this.column,field:this.field})},expandButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.isRowExpanded?this.$primevue.config.locale.aria.expandRow:this.$primevue.config.locale.aria.collapseRow:void 0},initButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.editRow:void 0},saveButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.saveEdit:void 0},cancelButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.cancelEdit:void 0}},components:{DTRadioButton:jY,DTCheckbox:UY,Button:qp,ChevronDownIcon:BC,ChevronRightIcon:eM,BarsIcon:BY,PencilIcon:zY,CheckIcon:Yp,TimesIcon:qP},directives:{ripple:qa}};function Zm(n){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(n)}function LV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function L1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LV(Object(t),!0).forEach(function(r){sLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sLe(n,e,t){return(e=lLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lLe(n){var e=uLe(n,"string");return Zm(e)=="symbol"?e:e+""}function uLe(n,e){if(Zm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var cLe=["colspan","rowspan","data-p-selection-column","data-p-editable-column","data-p-cell-editing","data-p-frozen-column"],dLe=["aria-expanded","aria-controls","aria-label"];function hLe(n,e,t,r,o,i){var a=Je("DTRadioButton"),s=Je("DTCheckbox"),l=Je("BarsIcon"),u=Je("ChevronDownIcon"),c=Je("ChevronRightIcon"),d=Je("Button"),h=Ks("ripple");return i.loading?(B(),ne("td",H({key:0,style:i.containerStyle,class:i.containerClass,role:"cell"},L1(L1({},i.getColumnPT("root")),i.getColumnPT("bodyCell"))),[(B(),be(mt(t.column.children.loading),{data:t.rowData,column:t.column,field:i.field,index:t.rowIndex,frozenRow:t.frozenRow,loadingOptions:i.loadingOptions},null,8,["data","column","field","index","frozenRow","loadingOptions"]))],16)):(B(),ne("td",H({key:1,style:i.containerStyle,class:i.containerClass,colspan:i.columnProp("colspan"),rowspan:i.columnProp("rowspan"),onClick:e[3]||(e[3]=function(){return i.onClick&&i.onClick.apply(i,arguments)}),onKeydown:e[4]||(e[4]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)}),role:"cell"},L1(L1({},i.getColumnPT("root")),i.getColumnPT("bodyCell")),{"data-p-selection-column":i.columnProp("selectionMode")!=null,"data-p-editable-column":i.isEditable(),"data-p-cell-editing":o.d_editing,"data-p-frozen-column":i.columnProp("frozen")}),[t.column.children&&t.column.children.body&&!o.d_editing?(B(),be(mt(t.column.children.body),{key:0,data:t.rowData,column:t.column,field:i.field,index:t.rowIndex,frozenRow:t.frozenRow,editorInitCallback:i.editorInitCallback,rowTogglerCallback:i.toggleRow},null,8,["data","column","field","index","frozenRow","editorInitCallback","rowTogglerCallback"])):t.column.children&&t.column.children.editor&&o.d_editing?(B(),be(mt(t.column.children.editor),{key:1,data:i.editingRowData,column:t.column,field:i.field,index:t.rowIndex,frozenRow:t.frozenRow,editorSaveCallback:i.editorSaveCallback,editorCancelCallback:i.editorCancelCallback},null,8,["data","column","field","index","frozenRow","editorSaveCallback","editorCancelCallback"])):t.column.children&&t.column.children.body&&!t.column.children.editor&&o.d_editing?(B(),be(mt(t.column.children.body),{key:2,data:i.editingRowData,column:t.column,field:i.field,index:t.rowIndex,frozenRow:t.frozenRow},null,8,["data","column","field","index","frozenRow"])):i.columnProp("selectionMode")?(B(),ne(st,{key:3},[i.columnProp("selectionMode")==="single"?(B(),be(a,{key:0,value:t.rowData,name:t.name,checked:t.selected,onChange:e[0]||(e[0]=function(f){return i.toggleRowWithRadio(f,t.rowIndex)}),column:t.column,index:t.index,unstyled:n.unstyled,pt:n.pt},null,8,["value","name","checked","column","index","unstyled","pt"])):i.columnProp("selectionMode")==="multiple"?(B(),be(s,{key:1,value:t.rowData,checked:t.selected,rowCheckboxIconTemplate:t.column.children&&t.column.children.rowcheckboxicon,"aria-selected":t.selected?!0:void 0,onChange:e[1]||(e[1]=function(f){return i.toggleRowWithCheckbox(f,t.rowIndex)}),column:t.column,index:t.index,unstyled:n.unstyled,pt:n.pt},null,8,["value","checked","rowCheckboxIconTemplate","aria-selected","column","index","unstyled","pt"])):Oe("",!0)],64)):i.columnProp("rowReorder")?(B(),ne(st,{key:4},[t.column.children&&t.column.children.rowreordericon?(B(),be(mt(t.column.children.rowreordericon),{key:0,class:bt(n.cx("reorderableRowHandle"))},null,8,["class"])):i.columnProp("rowReorderIcon")?(B(),ne("i",H({key:1,class:[n.cx("reorderableRowHandle"),i.columnProp("rowReorderIcon")]},i.getColumnPT("reorderableRowHandle")),null,16)):(B(),be(l,H({key:2,class:n.cx("reorderableRowHandle")},i.getColumnPT("reorderableRowHandle")),null,16,["class"]))],64)):i.columnProp("expander")?Ka((B(),ne("button",H({key:5,class:n.cx("rowToggleButton"),type:"button","aria-expanded":t.isRowExpanded,"aria-controls":t.ariaControls,"aria-label":i.expandButtonAriaLabel,onClick:e[2]||(e[2]=function(){return i.toggleRow&&i.toggleRow.apply(i,arguments)})},i.getColumnPT("rowToggleButton"),{"data-pc-group-section":"rowactionbutton"}),[t.column.children&&t.column.children.rowtogglericon?(B(),be(mt(t.column.children.rowtogglericon),{key:0,class:bt(n.cx("rowToggleIcon")),rowExpanded:t.isRowExpanded},null,8,["class","rowExpanded"])):(B(),ne(st,{key:1},[t.isRowExpanded&&t.expandedRowIcon?(B(),ne("span",{key:0,class:bt([n.cx("rowToggleIcon"),t.expandedRowIcon])},null,2)):t.isRowExpanded&&!t.expandedRowIcon?(B(),be(u,H({key:1,class:n.cx("rowToggleIcon")},i.getColumnPT("rowToggleIcon")),null,16,["class"])):!t.isRowExpanded&&t.collapsedRowIcon?(B(),ne("span",{key:2,class:bt([n.cx("rowToggleIcon"),t.collapsedRowIcon])},null,2)):!t.isRowExpanded&&!t.collapsedRowIcon?(B(),be(c,H({key:3,class:n.cx("rowToggleIcon")},i.getColumnPT("rowToggleIcon")),null,16,["class"])):Oe("",!0)],64))],16,dLe)),[[h]]):t.editMode==="row"&&i.columnProp("rowEditor")?(B(),ne(st,{key:6},[o.d_editing?Oe("",!0):(B(),be(d,H({key:0,class:n.cx("pcRowEditorInit"),"aria-label":i.initButtonAriaLabel,unstyled:n.unstyled,onClick:i.onRowEditInit},t.editButtonProps.init,{pt:i.getColumnPT("pcRowEditorInit"),"data-pc-group-section":"rowactionbutton"}),{icon:ut(function(f){return[(B(),be(mt(t.column.children&&t.column.children.roweditoriniticon||"PencilIcon"),H({class:f.class},i.getColumnPT("pcRowEditorInit").icon),null,16,["class"]))]}),_:1},16,["class","aria-label","unstyled","onClick","pt"])),o.d_editing?(B(),be(d,H({key:1,class:n.cx("pcRowEditorSave"),"aria-label":i.saveButtonAriaLabel,unstyled:n.unstyled,onClick:i.onRowEditSave},t.editButtonProps.save,{pt:i.getColumnPT("pcRowEditorSave"),"data-pc-group-section":"rowactionbutton"}),{icon:ut(function(f){return[(B(),be(mt(t.column.children&&t.column.children.roweditorsaveicon||"CheckIcon"),H({class:f.class},i.getColumnPT("pcRowEditorSave").icon),null,16,["class"]))]}),_:1},16,["class","aria-label","unstyled","onClick","pt"])):Oe("",!0),o.d_editing?(B(),be(d,H({key:2,class:n.cx("pcRowEditorCancel"),"aria-label":i.cancelButtonAriaLabel,unstyled:n.unstyled,onClick:i.onRowEditCancel},t.editButtonProps.cancel,{pt:i.getColumnPT("pcRowEditorCancel"),"data-pc-group-section":"rowactionbutton"}),{icon:ut(function(f){return[(B(),be(mt(t.column.children&&t.column.children.roweditorcancelicon||"TimesIcon"),H({class:f.class},i.getColumnPT("pcRowEditorCancel").icon),null,16,["class"]))]}),_:1},16,["class","aria-label","unstyled","onClick","pt"])):Oe("",!0)],64)):(B(),ne(st,{key:7},[ml(Bn(i.resolveFieldData()),1)],64))],16,cLe))}KY.render=hLe;function Jm(n){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(n)}function fLe(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=pLe(n))||e){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){s=!0,i=u},f:function(){try{a||t.return==null||t.return()}finally{if(s)throw i}}}}function pLe(n,e){if(n){if(typeof n=="string")return NV(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?NV(n,e):void 0}}function NV(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function OV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function FV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OV(Object(t),!0).forEach(function(r){gLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gLe(n,e,t){return(e=vLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vLe(n){var e=mLe(n,"string");return Jm(e)=="symbol"?e:e+""}function mLe(n,e){if(Jm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var XY={name:"BodyRow",hostName:"DataTable",extends:Ot,emits:["rowgroup-toggle","row-click","row-dblclick","row-rightclick","row-touchend","row-keydown","row-mousedown","row-dragstart","row-dragover","row-dragleave","row-dragend","row-drop","row-toggle","radio-change","checkbox-change","cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","editing-meta-change"],props:{rowData:{type:Object,default:null},index:{type:Number,default:0},value:{type:Array,default:null},columns:{type:null,default:null},frozenRow:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},first:{type:Number,default:0},dataKey:{type:[String,Function],default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},expandedRows:{type:[Array,Object],default:null},selection:{type:[Array,Object],default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},rowGroupHeaderStyle:{type:null,default:null},editMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},editingRows:{type:Array,default:null},editingRowKeys:{type:null,default:null},editingMeta:{type:Object,default:null},templates:{type:null,default:null},scrollable:{type:Boolean,default:!1},editButtonProps:{type:Object,default:null},virtualScrollerContentProps:{type:Object,default:null},isVirtualScrollerDisabled:{type:Boolean,default:!1},expandedRowId:{type:String,default:null},nameAttributeSelector:{type:String,default:null}},data:function(){return{d_rowExpanded:!1}},watch:{expandedRows:{deep:!0,immediate:!0,handler:function(e){var t=this;this.d_rowExpanded=this.dataKey?(e==null?void 0:e[Et(this.rowData,this.dataKey)])!==void 0:e==null?void 0:e.some(function(r){return t.equals(t.rowData,r)})}}},methods:{columnProp:function(e,t){return wh(e,t)},getColumnPT:function(e){var t={parent:{instance:this,props:this.$props,state:this.$data}};return H(this.ptm("column.".concat(e),{column:t}),this.ptm("column.".concat(e),t),this.ptmo(this.columnProp({},"pt"),e,t))},getBodyRowPTOptions:function(e){var t,r=(t=this.$parentInstance)===null||t===void 0?void 0:t.$parentInstance;return this.ptm(e,{context:{index:this.rowIndex,selectable:(r==null?void 0:r.rowHover)||(r==null?void 0:r.selectionMode),selected:this.isSelected,stripedRows:(r==null?void 0:r.stripedRows)||!1}})},shouldRenderBodyCell:function(e){var t=this.columnProp(e,"hidden");if(this.rowGroupMode&&!t){var r=this.columnProp(e,"field");if(this.rowGroupMode==="subheader")return this.groupRowsBy!==r;if(this.rowGroupMode==="rowspan")if(this.isGrouped(e)){var o=this.value[this.rowIndex-1];if(o){var i=Et(this.value[this.rowIndex],r),a=Et(o,r);return i!==a}else return!0}else return!0}else return!t},calculateRowGroupSize:function(e){if(this.isGrouped(e)){for(var t=this.rowIndex,r=this.columnProp(e,"field"),o=Et(this.value[t],r),i=o,a=0;o===i;){a++;var s=this.value[++t];if(s)i=Et(s,r);else break}return a===1?null:a}else return null},isGrouped:function(e){var t=this.columnProp(e,"field");return this.groupRowsBy&&t?Array.isArray(this.groupRowsBy)?this.groupRowsBy.indexOf(t)>-1:this.groupRowsBy===t:!1},findIndexInSelection:function(e){return this.findIndex(e,this.selection)},findIndex:function(e,t){var r=-1;if(t&&t.length){for(var o=0;o<t.length;o++)if(this.equals(e,t[o])){r=o;break}}return r},equals:function(e,t){return this.compareSelectionBy==="equals"?e===t:_s(e,t,this.dataKey)},onRowGroupToggle:function(e){this.$emit("rowgroup-toggle",{originalEvent:e,data:this.rowData})},onRowClick:function(e){this.$emit("row-click",{originalEvent:e,data:this.rowData,index:this.rowIndex})},onRowDblClick:function(e){this.$emit("row-dblclick",{originalEvent:e,data:this.rowData,index:this.rowIndex})},onRowRightClick:function(e){this.$emit("row-rightclick",{originalEvent:e,data:this.rowData,index:this.rowIndex})},onRowTouchEnd:function(e){this.$emit("row-touchend",e)},onRowKeyDown:function(e){this.$emit("row-keydown",{originalEvent:e,data:this.rowData,index:this.rowIndex})},onRowMouseDown:function(e){this.$emit("row-mousedown",e)},onRowDragStart:function(e){this.$emit("row-dragstart",{originalEvent:e,index:this.rowIndex})},onRowDragOver:function(e){this.$emit("row-dragover",{originalEvent:e,index:this.rowIndex})},onRowDragLeave:function(e){this.$emit("row-dragleave",e)},onRowDragEnd:function(e){this.$emit("row-dragend",e)},onRowDrop:function(e){this.$emit("row-drop",e)},onRowToggle:function(e){this.d_rowExpanded=!this.d_rowExpanded,this.$emit("row-toggle",FV(FV({},e),{},{expanded:this.d_rowExpanded}))},onRadioChange:function(e){this.$emit("radio-change",e)},onCheckboxChange:function(e){this.$emit("checkbox-change",e)},onCellEditInit:function(e){this.$emit("cell-edit-init",e)},onCellEditComplete:function(e){this.$emit("cell-edit-complete",e)},onCellEditCancel:function(e){this.$emit("cell-edit-cancel",e)},onRowEditInit:function(e){this.$emit("row-edit-init",e)},onRowEditSave:function(e){this.$emit("row-edit-save",e)},onRowEditCancel:function(e){this.$emit("row-edit-cancel",e)},onEditingMetaChange:function(e){this.$emit("editing-meta-change",e)},getVirtualScrollerProp:function(e,t){return t=t||this.virtualScrollerContentProps,t?t[e]:null}},computed:{rowIndex:function(){var e=this.getVirtualScrollerProp("getItemOptions");return e?e(this.index).index:this.index},rowStyles:function(){var e;return(e=this.rowStyle)===null||e===void 0?void 0:e.call(this,this.rowData)},rowClasses:function(){var e=[],t=null;if(this.rowClass){var r=this.rowClass(this.rowData);r&&e.push(r)}if(this.columns){var o=fLe(this.columns),i;try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this.columnProp(a,"selectionMode");if(Bt(s)){t=s;break}}}catch(l){o.e(l)}finally{o.f()}}return[this.cx("row",{rowData:this.rowData,index:this.rowIndex,columnSelectionMode:t}),e]},rowTabindex:function(){return this.selection===null&&(this.selectionMode==="single"||this.selectionMode==="multiple")&&this.rowIndex===0?0:-1},isRowEditing:function(){return this.rowData&&this.editingRows?this.dataKey?this.editingRowKeys?this.editingRowKeys[Et(this.rowData,this.dataKey)]!==void 0:!1:this.findIndex(this.rowData,this.editingRows)>-1:!1},isRowGroupExpanded:function(){if(this.expandableRowGroups&&this.expandedRowGroups){var e=Et(this.rowData,this.groupRowsBy);return this.expandedRowGroups.indexOf(e)>-1}return!1},isSelected:function(){return this.rowData&&this.selection?this.dataKey?this.selectionKeys?this.selectionKeys[Et(this.rowData,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(this.rowData)>-1:this.equals(this.rowData,this.selection):!1},isSelectedWithContextMenu:function(){return this.rowData&&this.contextMenuSelection?this.equals(this.rowData,this.contextMenuSelection,this.dataKey):!1},shouldRenderRowGroupHeader:function(){var e=Et(this.rowData,this.groupRowsBy),t=this.value[this.rowIndex-1];if(t){var r=Et(t,this.groupRowsBy);return e!==r}else return!0},shouldRenderRowGroupFooter:function(){if(this.expandableRowGroups&&!this.isRowGroupExpanded)return!1;var e=Et(this.rowData,this.groupRowsBy),t=this.value[this.rowIndex+1];if(t){var r=Et(t,this.groupRowsBy);return e!==r}else return!0},columnsLength:function(){var e=this;if(this.columns){var t=0;return this.columns.forEach(function(r){e.columnProp(r,"selectionMode")==="single"&&t--,e.columnProp(r,"hidden")&&t++}),this.columns.length-t}return 0}},components:{DTBodyCell:KY,ChevronDownIcon:BC,ChevronRightIcon:eM}};function Qm(n){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(n)}function BV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Ql(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BV(Object(t),!0).forEach(function(r){yLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yLe(n,e,t){return(e=bLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bLe(n){var e=wLe(n,"string");return Qm(e)=="symbol"?e:e+""}function wLe(n,e){if(Qm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var xLe=["colspan"],SLe=["tabindex","aria-selected","data-p-index","data-p-selectable-row","data-p-selected","data-p-selected-contextmenu"],CLe=["id"],kLe=["colspan"],_Le=["colspan"],ILe=["colspan"];function TLe(n,e,t,r,o,i){var a=Je("ChevronDownIcon"),s=Je("ChevronRightIcon"),l=Je("DTBodyCell");return t.empty?(B(),ne("tr",H({key:1,class:n.cx("emptyMessage"),role:"row"},n.ptm("emptyMessage")),[ke("td",H({colspan:i.columnsLength},Ql(Ql({},i.getColumnPT("bodycell")),n.ptm("emptyMessageCell"))),[t.templates.empty?(B(),be(mt(t.templates.empty),{key:0})):Oe("",!0)],16,ILe)],16)):(B(),ne(st,{key:0},[t.templates.groupheader&&t.rowGroupMode==="subheader"&&i.shouldRenderRowGroupHeader?(B(),ne("tr",H({key:0,class:n.cx("rowGroupHeader"),style:t.rowGroupHeaderStyle,role:"row"},n.ptm("rowGroupHeader")),[ke("td",H({colspan:i.columnsLength-1},Ql(Ql({},i.getColumnPT("bodycell")),n.ptm("rowGroupHeaderCell"))),[t.expandableRowGroups?(B(),ne("button",H({key:0,class:n.cx("rowToggleButton"),onClick:e[0]||(e[0]=function(){return i.onRowGroupToggle&&i.onRowGroupToggle.apply(i,arguments)}),type:"button"},n.ptm("rowToggleButton")),[t.templates.rowtoggleicon||t.templates.rowgrouptogglericon?(B(),be(mt(t.templates.rowtoggleicon||t.templates.rowgrouptogglericon),{key:0,expanded:i.isRowGroupExpanded},null,8,["expanded"])):(B(),ne(st,{key:1},[i.isRowGroupExpanded&&t.expandedRowIcon?(B(),ne("span",H({key:0,class:[n.cx("rowToggleIcon"),t.expandedRowIcon]},n.ptm("rowToggleIcon")),null,16)):i.isRowGroupExpanded&&!t.expandedRowIcon?(B(),be(a,H({key:1,class:n.cx("rowToggleIcon")},n.ptm("rowToggleIcon")),null,16,["class"])):!i.isRowGroupExpanded&&t.collapsedRowIcon?(B(),ne("span",H({key:2,class:[n.cx("rowToggleIcon"),t.collapsedRowIcon]},n.ptm("rowToggleIcon")),null,16)):!i.isRowGroupExpanded&&!t.collapsedRowIcon?(B(),be(s,H({key:3,class:n.cx("rowToggleIcon")},n.ptm("rowToggleIcon")),null,16,["class"])):Oe("",!0)],64))],16)):Oe("",!0),(B(),be(mt(t.templates.groupheader),{data:t.rowData,index:i.rowIndex},null,8,["data","index"]))],16,xLe)],16)):Oe("",!0),!t.expandableRowGroups||i.isRowGroupExpanded?(B(),ne("tr",H({key:1,class:i.rowClasses,style:i.rowStyles,tabindex:i.rowTabindex,role:"row","aria-selected":t.selectionMode?i.isSelected:null,onClick:e[1]||(e[1]=function(){return i.onRowClick&&i.onRowClick.apply(i,arguments)}),onDblclick:e[2]||(e[2]=function(){return i.onRowDblClick&&i.onRowDblClick.apply(i,arguments)}),onContextmenu:e[3]||(e[3]=function(){return i.onRowRightClick&&i.onRowRightClick.apply(i,arguments)}),onTouchend:e[4]||(e[4]=function(){return i.onRowTouchEnd&&i.onRowTouchEnd.apply(i,arguments)}),onKeydown:e[5]||(e[5]=tG(function(){return i.onRowKeyDown&&i.onRowKeyDown.apply(i,arguments)},["self"])),onMousedown:e[6]||(e[6]=function(){return i.onRowMouseDown&&i.onRowMouseDown.apply(i,arguments)}),onDragstart:e[7]||(e[7]=function(){return i.onRowDragStart&&i.onRowDragStart.apply(i,arguments)}),onDragover:e[8]||(e[8]=function(){return i.onRowDragOver&&i.onRowDragOver.apply(i,arguments)}),onDragleave:e[9]||(e[9]=function(){return i.onRowDragLeave&&i.onRowDragLeave.apply(i,arguments)}),onDragend:e[10]||(e[10]=function(){return i.onRowDragEnd&&i.onRowDragEnd.apply(i,arguments)}),onDrop:e[11]||(e[11]=function(){return i.onRowDrop&&i.onRowDrop.apply(i,arguments)})},i.getBodyRowPTOptions("bodyRow"),{"data-p-index":i.rowIndex,"data-p-selectable-row":!!t.selectionMode,"data-p-selected":t.selection&&i.isSelected,"data-p-selected-contextmenu":t.contextMenuSelection&&i.isSelectedWithContextMenu}),[(B(!0),ne(st,null,vr(t.columns,function(u,c){return B(),ne(st,null,[i.shouldRenderBodyCell(u)?(B(),be(l,{key:i.columnProp(u,"columnKey")||i.columnProp(u,"field")||c,rowData:t.rowData,column:u,rowIndex:i.rowIndex,index:c,selected:i.isSelected,frozenRow:t.frozenRow,rowspan:t.rowGroupMode==="rowspan"?i.calculateRowGroupSize(u):null,editMode:t.editMode,editing:t.editMode==="row"&&i.isRowEditing,editingMeta:t.editingMeta,virtualScrollerContentProps:t.virtualScrollerContentProps,ariaControls:t.expandedRowId+"_"+i.rowIndex+"_expansion",name:t.nameAttributeSelector,isRowExpanded:o.d_rowExpanded,expandedRowIcon:t.expandedRowIcon,collapsedRowIcon:t.collapsedRowIcon,editButtonProps:t.editButtonProps,onRadioChange:i.onRadioChange,onCheckboxChange:i.onCheckboxChange,onRowToggle:i.onRowToggle,onCellEditInit:i.onCellEditInit,onCellEditComplete:i.onCellEditComplete,onCellEditCancel:i.onCellEditCancel,onRowEditInit:i.onRowEditInit,onRowEditSave:i.onRowEditSave,onRowEditCancel:i.onRowEditCancel,onEditingMetaChange:i.onEditingMetaChange,unstyled:n.unstyled,pt:n.pt},null,8,["rowData","column","rowIndex","index","selected","frozenRow","rowspan","editMode","editing","editingMeta","virtualScrollerContentProps","ariaControls","name","isRowExpanded","expandedRowIcon","collapsedRowIcon","editButtonProps","onRadioChange","onCheckboxChange","onRowToggle","onCellEditInit","onCellEditComplete","onCellEditCancel","onRowEditInit","onRowEditSave","onRowEditCancel","onEditingMetaChange","unstyled","pt"])):Oe("",!0)],64)}),256))],16,SLe)):Oe("",!0),t.templates.expansion&&t.expandedRows&&o.d_rowExpanded?(B(),ne("tr",H({key:2,id:t.expandedRowId+"_"+i.rowIndex+"_expansion",class:n.cx("rowExpansion"),role:"row"},n.ptm("rowExpansion")),[ke("td",H({colspan:i.columnsLength},Ql(Ql({},i.getColumnPT("bodycell")),n.ptm("rowExpansionCell"))),[(B(),be(mt(t.templates.expansion),{data:t.rowData,index:i.rowIndex},null,8,["data","index"]))],16,kLe)],16,CLe)):Oe("",!0),t.templates.groupfooter&&t.rowGroupMode==="subheader"&&i.shouldRenderRowGroupFooter?(B(),ne("tr",H({key:3,class:n.cx("rowGroupFooter"),role:"row"},n.ptm("rowGroupFooter")),[ke("td",H({colspan:i.columnsLength-1},Ql(Ql({},i.getColumnPT("bodycell")),n.ptm("rowGroupFooterCell"))),[(B(),be(mt(t.templates.groupfooter),{data:t.rowData,index:i.rowIndex},null,8,["data","index"]))],16,_Le)],16)):Oe("",!0)],64))}XY.render=TLe;var qY={name:"TableBody",hostName:"DataTable",extends:Ot,emits:["rowgroup-toggle","row-click","row-dblclick","row-rightclick","row-touchend","row-keydown","row-mousedown","row-dragstart","row-dragover","row-dragleave","row-dragend","row-drop","row-toggle","radio-change","checkbox-change","cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","editing-meta-change"],props:{value:{type:Array,default:null},columns:{type:null,default:null},frozenRow:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},first:{type:Number,default:0},dataKey:{type:[String,Function],default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},expandedRows:{type:[Array,Object],default:null},selection:{type:[Array,Object],default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},editMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},editingRows:{type:Array,default:null},editingRowKeys:{type:null,default:null},editingMeta:{type:Object,default:null},templates:{type:null,default:null},scrollable:{type:Boolean,default:!1},editButtonProps:{type:Object,default:null},virtualScrollerContentProps:{type:Object,default:null},isVirtualScrollerDisabled:{type:Boolean,default:!1}},data:function(){return{rowGroupHeaderStyleObject:{}}},mounted:function(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},updated:function(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},methods:{getRowKey:function(e,t){return this.dataKey?Et(e,this.dataKey):t},updateFrozenRowStickyPosition:function(){this.$el.style.top=Ow(this.$el.previousElementSibling)+"px"},updateFrozenRowGroupHeaderStickyPosition:function(){var e=Ow(this.$el.previousElementSibling);this.rowGroupHeaderStyleObject.top=e+"px"},getVirtualScrollerProp:function(e,t){return t=t||this.virtualScrollerContentProps,t?t[e]:null},bodyRef:function(e){var t=this.getVirtualScrollerProp("contentRef");t&&t(e)}},computed:{rowGroupHeaderStyle:function(){return this.scrollable?{top:this.rowGroupHeaderStyleObject.top}:null},bodyContentStyle:function(){return this.getVirtualScrollerProp("contentStyle")},ptmTBodyOptions:function(){var e;return{context:{scrollable:(e=this.$parentInstance)===null||e===void 0||(e=e.$parentInstance)===null||e===void 0?void 0:e.scrollable}}},expandedRowId:function(){return oa()},nameAttributeSelector:function(){return oa()}},components:{DTBodyRow:XY}};function ALe(n,e,t,r,o,i){var a=Je("DTBodyRow");return B(),ne("tbody",H({ref:i.bodyRef,class:n.cx("tbody"),role:"rowgroup",style:i.bodyContentStyle},n.ptm("tbody",i.ptmTBodyOptions)),[t.empty?(B(),be(a,{key:1,empty:t.empty,columns:t.columns,templates:t.templates},null,8,["empty","columns","templates"])):(B(!0),ne(st,{key:0},vr(t.value,function(s,l){return B(),be(a,{key:i.getRowKey(s,l),rowData:s,index:l,value:t.value,columns:t.columns,frozenRow:t.frozenRow,empty:t.empty,first:t.first,dataKey:t.dataKey,selection:t.selection,selectionKeys:t.selectionKeys,selectionMode:t.selectionMode,contextMenu:t.contextMenu,contextMenuSelection:t.contextMenuSelection,rowGroupMode:t.rowGroupMode,groupRowsBy:t.groupRowsBy,expandableRowGroups:t.expandableRowGroups,rowClass:t.rowClass,rowStyle:t.rowStyle,editMode:t.editMode,compareSelectionBy:t.compareSelectionBy,scrollable:t.scrollable,expandedRowIcon:t.expandedRowIcon,collapsedRowIcon:t.collapsedRowIcon,expandedRows:t.expandedRows,expandedRowGroups:t.expandedRowGroups,editingRows:t.editingRows,editingRowKeys:t.editingRowKeys,templates:t.templates,editButtonProps:t.editButtonProps,virtualScrollerContentProps:t.virtualScrollerContentProps,isVirtualScrollerDisabled:t.isVirtualScrollerDisabled,editingMeta:t.editingMeta,rowGroupHeaderStyle:i.rowGroupHeaderStyle,expandedRowId:i.expandedRowId,nameAttributeSelector:i.nameAttributeSelector,onRowgroupToggle:e[0]||(e[0]=function(u){return n.$emit("rowgroup-toggle",u)}),onRowClick:e[1]||(e[1]=function(u){return n.$emit("row-click",u)}),onRowDblclick:e[2]||(e[2]=function(u){return n.$emit("row-dblclick",u)}),onRowRightclick:e[3]||(e[3]=function(u){return n.$emit("row-rightclick",u)}),onRowTouchend:e[4]||(e[4]=function(u){return n.$emit("row-touchend",u)}),onRowKeydown:e[5]||(e[5]=function(u){return n.$emit("row-keydown",u)}),onRowMousedown:e[6]||(e[6]=function(u){return n.$emit("row-mousedown",u)}),onRowDragstart:e[7]||(e[7]=function(u){return n.$emit("row-dragstart",u)}),onRowDragover:e[8]||(e[8]=function(u){return n.$emit("row-dragover",u)}),onRowDragleave:e[9]||(e[9]=function(u){return n.$emit("row-dragleave",u)}),onRowDragend:e[10]||(e[10]=function(u){return n.$emit("row-dragend",u)}),onRowDrop:e[11]||(e[11]=function(u){return n.$emit("row-drop",u)}),onRowToggle:e[12]||(e[12]=function(u){return n.$emit("row-toggle",u)}),onRadioChange:e[13]||(e[13]=function(u){return n.$emit("radio-change",u)}),onCheckboxChange:e[14]||(e[14]=function(u){return n.$emit("checkbox-change",u)}),onCellEditInit:e[15]||(e[15]=function(u){return n.$emit("cell-edit-init",u)}),onCellEditComplete:e[16]||(e[16]=function(u){return n.$emit("cell-edit-complete",u)}),onCellEditCancel:e[17]||(e[17]=function(u){return n.$emit("cell-edit-cancel",u)}),onRowEditInit:e[18]||(e[18]=function(u){return n.$emit("row-edit-init",u)}),onRowEditSave:e[19]||(e[19]=function(u){return n.$emit("row-edit-save",u)}),onRowEditCancel:e[20]||(e[20]=function(u){return n.$emit("row-edit-cancel",u)}),onEditingMetaChange:e[21]||(e[21]=function(u){return n.$emit("editing-meta-change",u)}),unstyled:n.unstyled,pt:n.pt},null,8,["rowData","index","value","columns","frozenRow","empty","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowGroups","editingRows","editingRowKeys","templates","editButtonProps","virtualScrollerContentProps","isVirtualScrollerDisabled","editingMeta","rowGroupHeaderStyle","expandedRowId","nameAttributeSelector","unstyled","pt"])}),128))],16)}qY.render=ALe;var YY={name:"FooterCell",hostName:"DataTable",extends:Ot,props:{column:{type:Object,default:null},index:{type:Number,default:null}},data:function(){return{styleObject:{}}},mounted:function(){this.columnProp("frozen")&&this.updateStickyPosition()},updated:function(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp:function(e){return wh(this.column,e)},getColumnPT:function(e){var t,r,o={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,size:(t=this.$parentInstance)===null||t===void 0||(t=t.$parentInstance)===null||t===void 0?void 0:t.size,showGridlines:((r=this.$parentInstance)===null||r===void 0||(r=r.$parentInstance)===null||r===void 0?void 0:r.showGridlines)||!1}};return H(this.ptm("column.".concat(e),{column:o}),this.ptm("column.".concat(e),o),this.ptmo(this.getColumnProp(),e,o))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},updateStickyPosition:function(){if(this.columnProp("frozen")){var e=this.columnProp("alignFrozen");if(e==="right"){var t=0,r=sE(this.$el,'[data-p-frozen-column="true"]');r&&(t=ji(r)+parseFloat(r.style.right||0)),this.styleObject.right=t+"px"}else{var o=0,i=lE(this.$el,'[data-p-frozen-column="true"]');i&&(o=ji(i)+parseFloat(i.style.left||0)),this.styleObject.left=o+"px"}}}},computed:{containerClass:function(){return[this.columnProp("footerClass"),this.columnProp("class"),this.cx("footerCell")]},containerStyle:function(){var e=this.columnProp("footerStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]}}};function ey(n){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(n)}function zV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function VV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zV(Object(t),!0).forEach(function(r){DLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function DLe(n,e,t){return(e=RLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RLe(n){var e=ELe(n,"string");return ey(e)=="symbol"?e:e+""}function ELe(n,e){if(ey(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var $Le=["colspan","rowspan","data-p-frozen-column"];function PLe(n,e,t,r,o,i){return B(),ne("td",H({style:i.containerStyle,class:i.containerClass,role:"cell",colspan:i.columnProp("colspan"),rowspan:i.columnProp("rowspan")},VV(VV({},i.getColumnPT("root")),i.getColumnPT("footerCell")),{"data-p-frozen-column":i.columnProp("frozen")}),[t.column.children&&t.column.children.footer?(B(),be(mt(t.column.children.footer),{key:0,column:t.column},null,8,["column"])):Oe("",!0),i.columnProp("footer")?(B(),ne("span",H({key:1,class:n.cx("columnFooter")},i.getColumnPT("columnFooter")),Bn(i.columnProp("footer")),17)):Oe("",!0)],16,$Le)}YY.render=PLe;function MLe(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=LLe(n))||e){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){s=!0,i=u},f:function(){try{a||t.return==null||t.return()}finally{if(s)throw i}}}}function LLe(n,e){if(n){if(typeof n=="string")return GV(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?GV(n,e):void 0}}function GV(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var ZY={name:"TableFooter",hostName:"DataTable",extends:Ot,props:{columnGroup:{type:null,default:null},columns:{type:Object,default:null}},provide:function(){return{$rows:this.d_footerRows,$columns:this.d_footerColumns}},data:function(){return{d_footerRows:new dp({type:"Row"}),d_footerColumns:new dp({type:"Column"})}},beforeUnmount:function(){this.d_footerRows.clear(),this.d_footerColumns.clear()},methods:{columnProp:function(e,t){return wh(e,t)},getColumnGroupPT:function(e){var t={props:this.getColumnGroupProps(),parent:{instance:this,props:this.$props,state:this.$data},context:{type:"footer",scrollable:this.ptmTFootOptions.context.scrollable}};return H(this.ptm("columnGroup.".concat(e),{columnGroup:t}),this.ptm("columnGroup.".concat(e),t),this.ptmo(this.getColumnGroupProps(),e,t))},getColumnGroupProps:function(){return this.columnGroup&&this.columnGroup.props&&this.columnGroup.props.pt?this.columnGroup.props.pt:void 0},getRowPT:function(e,t,r){var o={props:e.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:r}};return H(this.ptm("row.".concat(t),{row:o}),this.ptm("row.".concat(t),o),this.ptmo(this.getRowProp(e),t,o))},getRowProp:function(e){return e.props&&e.props.pt?e.props.pt:void 0},getFooterRows:function(){var e;return(e=this.d_footerRows)===null||e===void 0?void 0:e.get(this.columnGroup,this.columnGroup.children)},getFooterColumns:function(e){var t;return(t=this.d_footerColumns)===null||t===void 0?void 0:t.get(e,e.children)}},computed:{hasFooter:function(){var e=!1;if(this.columnGroup)e=!0;else if(this.columns){var t=MLe(this.columns),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;if(this.columnProp(o,"footer")||o.children&&o.children.footer){e=!0;break}}}catch(i){t.e(i)}finally{t.f()}}return e},ptmTFootOptions:function(){var e;return{context:{scrollable:(e=this.$parentInstance)===null||e===void 0||(e=e.$parentInstance)===null||e===void 0?void 0:e.scrollable}}}},components:{DTFooterCell:YY}};function ty(n){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(n)}function WV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function N1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WV(Object(t),!0).forEach(function(r){NLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function NLe(n,e,t){return(e=OLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function OLe(n){var e=FLe(n,"string");return ty(e)=="symbol"?e:e+""}function FLe(n,e){if(ty(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BLe(n,e,t,r,o,i){var a=Je("DTFooterCell");return i.hasFooter?(B(),ne("tfoot",H({key:0,class:n.cx("tfoot"),style:n.sx("tfoot"),role:"rowgroup"},t.columnGroup?N1(N1({},n.ptm("tfoot",i.ptmTFootOptions)),i.getColumnGroupPT("root")):n.ptm("tfoot",i.ptmTFootOptions),{"data-pc-section":"tfoot"}),[t.columnGroup?(B(!0),ne(st,{key:1},vr(i.getFooterRows(),function(s,l){return B(),ne("tr",H({key:l,role:"row",ref_for:!0},N1(N1({},n.ptm("footerRow")),i.getRowPT(s,"root",l))),[(B(!0),ne(st,null,vr(i.getFooterColumns(s),function(u,c){return B(),ne(st,{key:i.columnProp(u,"columnKey")||i.columnProp(u,"field")||c},[i.columnProp(u,"hidden")?Oe("",!0):(B(),be(a,{key:0,column:u,index:l,pt:n.pt},null,8,["column","index","pt"]))],64)}),128))],16)}),128)):(B(),ne("tr",H({key:0,role:"row"},n.ptm("footerRow")),[(B(!0),ne(st,null,vr(t.columns,function(s,l){return B(),ne(st,{key:i.columnProp(s,"columnKey")||i.columnProp(s,"field")||l},[i.columnProp(s,"hidden")?Oe("",!0):(B(),be(a,{key:0,column:s,pt:n.pt},null,8,["column","pt"]))],64)}),128))],16))],16)):Oe("",!0)}ZY.render=BLe;function ny(n){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(n)}function HV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Wc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HV(Object(t),!0).forEach(function(r){zLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zLe(n,e,t){return(e=VLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VLe(n){var e=GLe(n,"string");return ny(e)=="symbol"?e:e+""}function GLe(n,e){if(ny(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var nM={name:"ColumnFilter",hostName:"DataTable",extends:Ot,emits:["filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{field:{type:String,default:null},type:{type:String,default:"text"},display:{type:String,default:null},showMenu:{type:Boolean,default:!0},matchMode:{type:String,default:null},showOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},matchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},filterElement:{type:Function,default:null},filterHeaderTemplate:{type:Function,default:null},filterFooterTemplate:{type:Function,default:null},filterClearTemplate:{type:Function,default:null},filterApplyTemplate:{type:Function,default:null},filterIconTemplate:{type:Function,default:null},filterAddIconTemplate:{type:Function,default:null},filterRemoveIconTemplate:{type:Function,default:null},filterClearIconTemplate:{type:Function,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},filterInputProps:{type:null,default:null},filterButtonProps:{type:null,default:null},column:null},data:function(){return{id:this.$attrs.id,overlayVisible:!1,defaultMatchMode:null,defaultOperator:null}},watch:{"$attrs.id":function(e){this.id=e||oa()}},overlay:null,selfClick:!1,overlayEventListener:null,beforeUnmount:function(){this.overlayEventListener&&(wu.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.overlay&&(Mf.clear(this.overlay),this.onOverlayHide())},mounted:function(){if(this.id=this.id||oa(),this.filters&&this.filters[this.field]){var e=this.filters[this.field];e.operator?(this.defaultMatchMode=e.constraints[0].matchMode,this.defaultOperator=e.operator):this.defaultMatchMode=this.filters[this.field].matchMode}},methods:{getColumnPT:function(e,t){var r=Wc({props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data}},t);return H(this.ptm("column.".concat(e),{column:r}),this.ptm("column.".concat(e),r),this.ptmo(this.getColumnProp(),e,r))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},ptmFilterConstraintOptions:function(e){return{context:{highlighted:e&&this.isRowMatchModeSelected(e.value)}}},clearFilter:function(){var e=Wc({},this.filters);e[this.field].operator?(e[this.field].constraints.splice(1),e[this.field].operator=this.defaultOperator,e[this.field].constraints[0]={value:null,matchMode:this.defaultMatchMode}):(e[this.field].value=null,e[this.field].matchMode=this.defaultMatchMode),this.$emit("filter-clear"),this.$emit("filter-change",e),this.$emit("filter-apply"),this.hide()},applyFilter:function(){this.$emit("apply-click",{field:this.field,constraints:this.filters[this.field]}),this.$emit("filter-apply"),this.hide()},hasFilter:function(){if(this.filtersStore){var e=this.filtersStore[this.field];if(e)return e.operator?!this.isFilterBlank(e.constraints[0].value):!this.isFilterBlank(e.value)}return!1},hasRowFilter:function(){return this.filters[this.field]&&!this.isFilterBlank(this.filters[this.field].value)},isFilterBlank:function(e){return e!=null?typeof e=="string"&&e.trim().length==0||e instanceof Array&&e.length==0:!0},toggleMenu:function(e){this.overlayVisible=!this.overlayVisible,e.preventDefault()},onToggleButtonKeyDown:function(e){switch(e.code){case"Enter":case"NumpadEnter":case"Space":this.toggleMenu(e);break;case"Escape":this.overlayVisible=!1;break}},onRowMatchModeChange:function(e){var t=Wc({},this.filters);t[this.field].matchMode=e,this.$emit("matchmode-change",{field:this.field,matchMode:e}),this.$emit("filter-change",t),this.$emit("filter-apply"),this.hide()},onRowMatchModeKeyDown:function(e){var t=e.target;switch(e.code){case"ArrowDown":var r=this.findNextItem(t);r&&(t.removeAttribute("tabindex"),r.tabIndex="0",r.focus()),e.preventDefault();break;case"ArrowUp":var o=this.findPrevItem(t);o&&(t.removeAttribute("tabindex"),o.tabIndex="0",o.focus()),e.preventDefault();break}},isRowMatchModeSelected:function(e){return this.filters[this.field].matchMode===e},onOperatorChange:function(e){var t=Wc({},this.filters);t[this.field].operator=e,this.$emit("filter-change",t),this.$emit("operator-change",{field:this.field,operator:e}),this.showApplyButton||this.$emit("filter-apply")},onMenuMatchModeChange:function(e,t){var r=Wc({},this.filters);r[this.field].constraints[t].matchMode=e,this.$emit("matchmode-change",{field:this.field,matchMode:e,index:t}),this.showApplyButton||this.$emit("filter-apply")},addConstraint:function(){var e=Wc({},this.filters),t={value:null,matchMode:this.defaultMatchMode};e[this.field].constraints.push(t),this.$emit("constraint-add",{field:this.field,constraing:t}),this.$emit("filter-change",e),this.showApplyButton||this.$emit("filter-apply")},removeConstraint:function(e){var t=Wc({},this.filters),r=t[this.field].constraints.splice(e,1);this.$emit("constraint-remove",{field:this.field,constraing:r}),this.$emit("filter-change",t),this.showApplyButton||this.$emit("filter-apply")},filterCallback:function(){this.$emit("filter-apply")},findNextItem:function(e){var t=e.nextElementSibling;return t?Ar(t,"data-pc-section")==="filterconstraintseparator"?this.findNextItem(t):t:e.parentElement.firstElementChild},findPrevItem:function(e){var t=e.previousElementSibling;return t?Ar(t,"data-pc-section")==="filterconstraintseparator"?this.findPrevItem(t):t:e.parentElement.lastElementChild},hide:function(){this.overlayVisible=!1,this.showMenuButton&&Go(this.$refs.icon.$el)},onContentClick:function(e){this.selfClick=!0,wu.emit("overlay-click",{originalEvent:e,target:this.overlay})},onContentMouseDown:function(){this.selfClick=!0},onOverlayEnter:function(e){var t=this;this.filterMenuStyle&&Lw(this.overlay,this.filterMenuStyle),Mf.set("overlay",e,this.$primevue.config.zIndex.overlay),Lw(e,{position:"absolute",top:"0",left:"0"}),hG(this.overlay,this.$refs.icon.$el),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.overlayEventListener=function(r){t.isOutsideClicked(r.target)||(t.selfClick=!0)},wu.on("overlay-click",this.overlayEventListener)},onOverlayAfterEnter:function(){var e;(e=this.overlay)===null||e===void 0||(e=e.$focustrap)===null||e===void 0||e.autoFocus()},onOverlayLeave:function(){this.onOverlayHide()},onOverlayAfterLeave:function(e){Mf.clear(e)},onOverlayHide:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.overlay=null,wu.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},overlayRef:function(e){this.overlay=e},isOutsideClicked:function(e){return!this.isTargetClicked(e)&&this.overlay&&!(this.overlay.isSameNode(e)||this.overlay.contains(e))},isTargetClicked:function(e){return this.$refs.icon&&(this.$refs.icon.$el.isSameNode(e)||this.$refs.icon.$el.contains(e))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){e.overlayVisible&&!e.selfClick&&e.isOutsideClicked(t.target)&&(e.overlayVisible=!1),e.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new uY(this.$refs.icon.$el,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!mG()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},computed:{showMenuButton:function(){return this.showMenu&&(this.display==="row"?this.type!=="boolean":!0)},overlayId:function(){return this.id+"_overlay"},matchModes:function(){var e=this;return this.matchModeOptions||this.$primevue.config.filterMatchModeOptions[this.type].map(function(t){return{label:e.$primevue.config.locale[t],value:t}})},isShowMatchModes:function(){return this.type!=="boolean"&&this.showMatchModes&&this.matchModes},operatorOptions:function(){return[{label:this.$primevue.config.locale.matchAll,value:Pw.AND},{label:this.$primevue.config.locale.matchAny,value:Pw.OR}]},noFilterLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.noFilter:void 0},isShowOperator:function(){return this.showOperator&&this.filters[this.field].operator},operator:function(){return this.filters[this.field].operator},fieldConstraints:function(){return this.filters[this.field].constraints||[this.filters[this.field]]},showRemoveIcon:function(){return this.fieldConstraints.length>1},removeRuleButtonLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.removeRule:void 0},addRuleButtonLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.addRule:void 0},isShowAddConstraint:function(){return this.showAddButton&&this.filters[this.field].operator&&this.fieldConstraints&&this.fieldConstraints.length<this.maxConstraints},clearButtonLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.clear:void 0},applyButtonLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.apply:void 0},columnFilterButtonAriaLabel:function(){return this.$primevue.config.locale?this.overlayVisible?this.$primevue.config.locale.showFilterMenu:this.$primevue.config.locale.hideFilterMenu:void 0},filterOperatorAriaLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.filterOperator:void 0},filterRuleAriaLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.filterConstraint:void 0},ptmHeaderFilterClearParams:function(){return{context:{hidden:this.hasRowFilter()}}},ptmFilterMenuParams:function(){return{context:{overlayVisible:this.overlayVisible,active:this.hasFilter()}}}},components:{Select:zC,Button:qp,Portal:ZP,FilterSlashIcon:WY,FilterIcon:GY,TrashIcon:HY,PlusIcon:KP},directives:{focustrap:eLe}};function ry(n){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(n)}function UV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function nf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UV(Object(t),!0).forEach(function(r){WLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function WLe(n,e,t){return(e=HLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HLe(n){var e=ULe(n,"string");return ry(e)=="symbol"?e:e+""}function ULe(n,e){if(ry(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var jLe=["id","aria-modal"],KLe=["onClick","onKeydown","tabindex"];function XLe(n,e,t,r,o,i){var a=Je("Button"),s=Je("Select"),l=Je("Portal"),u=Ks("focustrap");return B(),ne("div",H({class:n.cx("filter")},i.getColumnPT("filter")),[t.display==="row"?(B(),ne("div",H({key:0,class:n.cx("filterElementContainer")},nf(nf({},t.filterInputProps),i.getColumnPT("filterElementContainer"))),[(B(),be(mt(t.filterElement),{field:t.field,filterModel:t.filters[t.field],filterCallback:i.filterCallback},null,8,["field","filterModel","filterCallback"]))],16)):Oe("",!0),i.showMenuButton?(B(),be(a,H({key:1,ref:"icon","aria-label":i.columnFilterButtonAriaLabel,"aria-haspopup":"true","aria-expanded":o.overlayVisible,"aria-controls":i.overlayId,class:n.cx("pcColumnFilterButton"),unstyled:n.unstyled,onClick:e[0]||(e[0]=function(c){return i.toggleMenu(c)}),onKeydown:e[1]||(e[1]=function(c){return i.onToggleButtonKeyDown(c)})},nf(nf({},i.getColumnPT("pcColumnFilterButton",i.ptmFilterMenuParams)),t.filterButtonProps.filter)),{icon:ut(function(c){return[(B(),be(mt(t.filterIconTemplate||"FilterIcon"),H({class:c.class},i.getColumnPT("filterMenuIcon")),null,16,["class"]))]}),_:1},16,["aria-label","aria-expanded","aria-controls","class","unstyled"])):Oe("",!0),t.showClearButton&&t.display==="row"&&i.hasRowFilter()?(B(),be(a,H({key:2,class:n.cx("pcColumnFilterClearButton"),unstyled:n.unstyled,onClick:e[2]||(e[2]=function(c){return i.clearFilter()})},nf(nf({},i.getColumnPT("pcColumnFilterClearButton",i.ptmHeaderFilterClearParams)),t.filterButtonProps.inline.clear)),{icon:ut(function(c){return[(B(),be(mt(t.filterClearIconTemplate||"FilterSlashIcon"),H({class:c.class},i.getColumnPT("filterClearIcon")),null,16,["class"]))]}),_:1},16,["class","unstyled"])):Oe("",!0),je(l,null,{default:ut(function(){return[je(tE,H({name:"p-connected-overlay",onEnter:i.onOverlayEnter,onAfterEnter:i.onOverlayAfterEnter,onLeave:i.onOverlayLeave,onAfterLeave:i.onOverlayAfterLeave},i.getColumnPT("transition")),{default:ut(function(){return[o.overlayVisible?Ka((B(),ne("div",H({key:0,ref:i.overlayRef,id:i.overlayId,"aria-modal":o.overlayVisible,role:"dialog",class:[n.cx("filterOverlay"),t.filterMenuClass],onKeydown:e[10]||(e[10]=Ek(function(){return i.hide&&i.hide.apply(i,arguments)},["escape"])),onClick:e[11]||(e[11]=function(){return i.onContentClick&&i.onContentClick.apply(i,arguments)}),onMousedown:e[12]||(e[12]=function(){return i.onContentMouseDown&&i.onContentMouseDown.apply(i,arguments)})},i.getColumnPT("filterOverlay")),[(B(),be(mt(t.filterHeaderTemplate),{field:t.field,filterModel:t.filters[t.field],filterCallback:i.filterCallback},null,8,["field","filterModel","filterCallback"])),t.display==="row"?(B(),ne("ul",H({key:0,class:n.cx("filterConstraintList")},i.getColumnPT("filterConstraintList")),[(B(!0),ne(st,null,vr(i.matchModes,function(c,d){return B(),ne("li",H({key:c.label,class:n.cx("filterConstraint",{matchMode:c}),onClick:function(f){return i.onRowMatchModeChange(c.value)},onKeydown:[e[3]||(e[3]=function(h){return i.onRowMatchModeKeyDown(h)}),Ek(tG(function(h){return i.onRowMatchModeChange(c.value)},["prevent"]),["enter"])],tabindex:d===0?"0":null,ref_for:!0},i.getColumnPT("filterConstraint",i.ptmFilterConstraintOptions(c))),Bn(c.label),17,KLe)}),128)),ke("li",H({class:n.cx("filterConstraintSeparator")},i.getColumnPT("filterConstraintSeparator")),null,16),ke("li",H({class:n.cx("filterConstraint"),onClick:e[4]||(e[4]=function(c){return i.clearFilter()}),onKeydown:[e[5]||(e[5]=function(c){return i.onRowMatchModeKeyDown(c)}),e[6]||(e[6]=Ek(function(c){return n.onRowClearItemClick()},["enter"]))]},i.getColumnPT("filterConstraint")),Bn(i.noFilterLabel),17)],16)):(B(),ne(st,{key:1},[i.isShowOperator?(B(),ne("div",H({key:0,class:n.cx("filterOperator")},i.getColumnPT("filterOperator")),[je(s,{options:i.operatorOptions,modelValue:i.operator,"aria-label":i.filterOperatorAriaLabel,class:bt(n.cx("pcFilterOperatorDropdown")),optionLabel:"label",optionValue:"value","onUpdate:modelValue":e[7]||(e[7]=function(c){return i.onOperatorChange(c)}),unstyled:n.unstyled,pt:i.getColumnPT("pcFilterOperatorDropdown")},null,8,["options","modelValue","aria-label","class","unstyled","pt"])],16)):Oe("",!0),ke("div",H({class:n.cx("filterRuleList")},i.getColumnPT("filterRuleList")),[(B(!0),ne(st,null,vr(i.fieldConstraints,function(c,d){return B(),ne("div",H({key:d,class:n.cx("filterRule"),ref_for:!0},i.getColumnPT("filterRule")),[i.isShowMatchModes?(B(),be(s,{key:0,options:i.matchModes,modelValue:c.matchMode,class:bt(n.cx("pcFilterConstraintDropdown")),optionLabel:"label",optionValue:"value","aria-label":i.filterRuleAriaLabel,"onUpdate:modelValue":function(f){return i.onMenuMatchModeChange(f,d)},unstyled:n.unstyled,pt:i.getColumnPT("pcFilterConstraintDropdown")},null,8,["options","modelValue","class","aria-label","onUpdate:modelValue","unstyled","pt"])):Oe("",!0),t.display==="menu"?(B(),be(mt(t.filterElement),{key:1,field:t.field,filterModel:c,filterCallback:i.filterCallback,applyFilter:i.applyFilter},null,8,["field","filterModel","filterCallback","applyFilter"])):Oe("",!0),i.showRemoveIcon?(B(),ne("div",H({key:2,ref_for:!0},i.getColumnPT("filterRemove")),[je(a,H({type:"button",class:n.cx("pcFilterRemoveRuleButton"),onClick:function(f){return i.removeConstraint(d)},label:i.removeRuleButtonLabel,unstyled:n.unstyled,ref_for:!0},t.filterButtonProps.popover.removeRule,{pt:i.getColumnPT("pcFilterRemoveRuleButton")}),{icon:ut(function(h){return[(B(),be(mt(t.filterRemoveIconTemplate||"TrashIcon"),H({class:h.class,ref_for:!0},i.getColumnPT("pcFilterRemoveRuleButton").icon),null,16,["class"]))]}),_:2},1040,["class","onClick","label","unstyled","pt"])],16)):Oe("",!0)],16)}),128))],16),i.isShowAddConstraint?(B(),ne("div",AS(H({key:1},i.getColumnPT("filterAddButtonContainer"))),[je(a,H({type:"button",label:i.addRuleButtonLabel,iconPos:"left",class:n.cx("pcFilterAddRuleButton"),onClick:e[8]||(e[8]=function(c){return i.addConstraint()}),unstyled:n.unstyled},t.filterButtonProps.popover.addRule,{pt:i.getColumnPT("pcFilterAddRuleButton")}),{icon:ut(function(c){return[(B(),be(mt(t.filterAddIconTemplate||"PlusIcon"),H({class:c.class},i.getColumnPT("pcFilterAddRuleButton").icon),null,16,["class"]))]}),_:1},16,["label","class","unstyled","pt"])],16)):Oe("",!0),ke("div",H({class:n.cx("filterButtonbar")},i.getColumnPT("filterButtonbar")),[!t.filterClearTemplate&&t.showClearButton?(B(),be(a,H({key:0,type:"button",class:n.cx("pcFilterClearButton"),label:i.clearButtonLabel,onClick:i.clearFilter,unstyled:n.unstyled},t.filterButtonProps.popover.clear,{pt:i.getColumnPT("pcFilterClearButton")}),null,16,["class","label","onClick","unstyled","pt"])):(B(),be(mt(t.filterClearTemplate),{key:1,field:t.field,filterModel:t.filters[t.field],filterCallback:i.clearFilter},null,8,["field","filterModel","filterCallback"])),t.showApplyButton?(B(),ne(st,{key:2},[t.filterApplyTemplate?(B(),be(mt(t.filterApplyTemplate),{key:1,field:t.field,filterModel:t.filters[t.field],filterCallback:i.applyFilter},null,8,["field","filterModel","filterCallback"])):(B(),be(a,H({key:0,type:"button",class:n.cx("pcFilterApplyButton"),label:i.applyButtonLabel,onClick:e[9]||(e[9]=function(c){return i.applyFilter()}),unstyled:n.unstyled},t.filterButtonProps.popover.apply,{pt:i.getColumnPT("pcFilterApplyButton")}),null,16,["class","label","unstyled","pt"]))],64)):Oe("",!0)],16)],64)),(B(),be(mt(t.filterFooterTemplate),{field:t.field,filterModel:t.filters[t.field],filterCallback:i.filterCallback},null,8,["field","filterModel","filterCallback"]))],16,jLe)),[[u]]):Oe("",!0)]}),_:1},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:1})],16)}nM.render=XLe;var rM={name:"HeaderCheckbox",hostName:"DataTable",extends:Ot,emits:["change"],props:{checked:null,disabled:null,column:null,headerCheckboxIconTemplate:{type:Function,default:null}},methods:{getColumnPT:function(e){var t={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{checked:this.checked,disabled:this.disabled}};return H(this.ptm("column.".concat(e),{column:t}),this.ptm("column.".concat(e),t),this.ptmo(this.getColumnProp(),e,t))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},onChange:function(e){this.$emit("change",{originalEvent:e,checked:!this.checked})}},computed:{headerCheckboxAriaLabel:function(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectAll:this.$primevue.config.locale.aria.unselectAll:void 0}},components:{CheckIcon:Yp,Checkbox:tM}};function qLe(n,e,t,r,o,i){var a=Je("CheckIcon"),s=Je("Checkbox");return B(),be(s,{modelValue:t.checked,binary:!0,disabled:t.disabled,"aria-label":i.headerCheckboxAriaLabel,onChange:i.onChange,pt:i.getColumnPT("pcHeaderCheckbox")},{icon:ut(function(l){return[t.headerCheckboxIconTemplate?(B(),be(mt(t.headerCheckboxIconTemplate),{key:0,checked:l.checked,class:bt(l.class)},null,8,["checked","class"])):!t.headerCheckboxIconTemplate&&l.checked?(B(),be(a,H({key:1,class:l.class},i.getColumnPT("pcHeaderCheckbox").icon),null,16,["class"])):Oe("",!0)]}),_:1},8,["modelValue","disabled","aria-label","onChange","pt"])}rM.render=qLe;var JY={name:"HeaderCell",hostName:"DataTable",extends:Ot,emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{column:{type:Object,default:null},index:{type:Number,default:null},resizableColumns:{type:Boolean,default:!1},groupRowsBy:{type:[Array,String,Function],default:null},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterColumn:{type:Boolean,default:!1},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null},filterButtonProps:{type:null,default:null}},data:function(){return{styleObject:{}}},mounted:function(){this.columnProp("frozen")&&this.updateStickyPosition()},updated:function(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp:function(e){return wh(this.column,e)},getColumnPT:function(e){var t,r,o={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,sortable:this.columnProp("sortable")===""||this.columnProp("sortable"),sorted:this.isColumnSorted(),resizable:this.resizableColumns,size:(t=this.$parentInstance)===null||t===void 0||(t=t.$parentInstance)===null||t===void 0?void 0:t.size,showGridlines:((r=this.$parentInstance)===null||r===void 0||(r=r.$parentInstance)===null||r===void 0?void 0:r.showGridlines)||!1}};return H(this.ptm("column.".concat(e),{column:o}),this.ptm("column.".concat(e),o),this.ptmo(this.getColumnProp(),e,o))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},onClick:function(e){this.$emit("column-click",{originalEvent:e,column:this.column})},onKeyDown:function(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&e.currentTarget.nodeName==="TH"&&Ar(e.currentTarget,"data-p-sortable-column")&&(this.$emit("column-click",{originalEvent:e,column:this.column}),e.preventDefault())},onMouseDown:function(e){this.$emit("column-mousedown",{originalEvent:e,column:this.column})},onDragStart:function(e){this.$emit("column-dragstart",{originalEvent:e,column:this.column})},onDragOver:function(e){this.$emit("column-dragover",{originalEvent:e,column:this.column})},onDragLeave:function(e){this.$emit("column-dragleave",{originalEvent:e,column:this.column})},onDrop:function(e){this.$emit("column-drop",{originalEvent:e,column:this.column})},onResizeStart:function(e){this.$emit("column-resizestart",e)},getMultiSortMetaIndex:function(){var e=this;return this.multiSortMeta.findIndex(function(t){return t.field===e.columnProp("field")||t.field===e.columnProp("sortField")})},getBadgeValue:function(){var e=this.getMultiSortMetaIndex();return this.groupRowsBy&&this.groupRowsBy===this.groupRowSortField&&e>-1?e:e+1},isMultiSorted:function(){return this.sortMode==="multiple"&&this.columnProp("sortable")&&this.getMultiSortMetaIndex()>-1},isColumnSorted:function(){return this.sortMode==="single"?this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")):this.isMultiSorted()},updateStickyPosition:function(){if(this.columnProp("frozen")){var e=this.columnProp("alignFrozen");if(e==="right"){var t=0,r=sE(this.$el,'[data-p-frozen-column="true"]');r&&(t=ji(r)+parseFloat(r.style.right||0)),this.styleObject.right=t+"px"}else{var o=0,i=lE(this.$el,'[data-p-frozen-column="true"]');i&&(o=ji(i)+parseFloat(i.style.left||0)),this.styleObject.left=o+"px"}var a=this.$el.parentElement.nextElementSibling;if(a){var s=rw(this.$el);a.children[s]&&(a.children[s].style.left=this.styleObject.left,a.children[s].style.right=this.styleObject.right)}}},onHeaderCheckboxChange:function(e){this.$emit("checkbox-change",e)}},computed:{containerClass:function(){return[this.cx("headerCell"),this.filterColumn?this.columnProp("filterHeaderClass"):this.columnProp("headerClass"),this.columnProp("class")]},containerStyle:function(){var e=this.filterColumn?this.columnProp("filterHeaderStyle"):this.columnProp("headerStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]},sortState:function(){var e=!1,t=null;if(this.sortMode==="single")e=this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")),t=e?this.sortOrder:0;else if(this.sortMode==="multiple"){var r=this.getMultiSortMetaIndex();r>-1&&(e=!0,t=this.multiSortMeta[r].order)}return{sorted:e,sortOrder:t}},sortableColumnIcon:function(){var e=this.sortState,t=e.sorted,r=e.sortOrder;if(t){if(t&&r>0)return HD;if(t&&r<0)return WD}else return GD;return null},ariaSort:function(){if(this.columnProp("sortable")){var e=this.sortState,t=e.sorted,r=e.sortOrder;return t&&r<0?"descending":t&&r>0?"ascending":"none"}else return null}},components:{Badge:XP,DTHeaderCheckbox:rM,DTColumnFilter:nM,SortAltIcon:GD,SortAmountUpAltIcon:HD,SortAmountDownIcon:WD}};function oy(n){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(n)}function jV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function KV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(t),!0).forEach(function(r){YLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YLe(n,e,t){return(e=ZLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZLe(n){var e=JLe(n,"string");return oy(e)=="symbol"?e:e+""}function JLe(n,e){if(oy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var QLe=["tabindex","colspan","rowspan","aria-sort","data-p-sortable-column","data-p-resizable-column","data-p-sorted","data-p-filter-column","data-p-frozen-column","data-p-reorderable-column"];function eNe(n,e,t,r,o,i){var a=Je("Badge"),s=Je("DTHeaderCheckbox"),l=Je("DTColumnFilter");return B(),ne("th",H({style:i.containerStyle,class:i.containerClass,tabindex:i.columnProp("sortable")?"0":null,role:"columnheader",colspan:i.columnProp("colspan"),rowspan:i.columnProp("rowspan"),"aria-sort":i.ariaSort,onClick:e[8]||(e[8]=function(){return i.onClick&&i.onClick.apply(i,arguments)}),onKeydown:e[9]||(e[9]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)}),onMousedown:e[10]||(e[10]=function(){return i.onMouseDown&&i.onMouseDown.apply(i,arguments)}),onDragstart:e[11]||(e[11]=function(){return i.onDragStart&&i.onDragStart.apply(i,arguments)}),onDragover:e[12]||(e[12]=function(){return i.onDragOver&&i.onDragOver.apply(i,arguments)}),onDragleave:e[13]||(e[13]=function(){return i.onDragLeave&&i.onDragLeave.apply(i,arguments)}),onDrop:e[14]||(e[14]=function(){return i.onDrop&&i.onDrop.apply(i,arguments)})},KV(KV({},i.getColumnPT("root")),i.getColumnPT("headerCell")),{"data-p-sortable-column":i.columnProp("sortable"),"data-p-resizable-column":t.resizableColumns,"data-p-sorted":i.isColumnSorted(),"data-p-filter-column":t.filterColumn,"data-p-frozen-column":i.columnProp("frozen"),"data-p-reorderable-column":t.reorderableColumns}),[t.resizableColumns&&!i.columnProp("frozen")?(B(),ne("span",H({key:0,class:n.cx("columnResizer"),onMousedown:e[0]||(e[0]=function(){return i.onResizeStart&&i.onResizeStart.apply(i,arguments)})},i.getColumnPT("columnResizer")),null,16)):Oe("",!0),ke("div",H({class:n.cx("columnHeaderContent")},i.getColumnPT("columnHeaderContent")),[t.column.children&&t.column.children.header?(B(),be(mt(t.column.children.header),{key:0,column:t.column},null,8,["column"])):Oe("",!0),i.columnProp("header")?(B(),ne("span",H({key:1,class:n.cx("columnTitle")},i.getColumnPT("columnTitle")),Bn(i.columnProp("header")),17)):Oe("",!0),i.columnProp("sortable")?(B(),ne("span",AS(H({key:2},i.getColumnPT("sort"))),[(B(),be(mt(t.column.children&&t.column.children.sorticon||i.sortableColumnIcon),H({sorted:i.sortState.sorted,sortOrder:i.sortState.sortOrder,class:n.cx("sortIcon")},i.getColumnPT("sorticon")),null,16,["sorted","sortOrder","class"]))],16)):Oe("",!0),i.isMultiSorted()?(B(),be(a,{key:3,class:bt(n.cx("pcSortBadge")),pt:i.getColumnPT("pcSortBadge"),value:i.getBadgeValue(),size:"small"},null,8,["class","pt","value"])):Oe("",!0),i.columnProp("selectionMode")==="multiple"&&t.filterDisplay!=="row"?(B(),be(s,{key:4,checked:t.allRowsSelected,onChange:i.onHeaderCheckboxChange,disabled:t.empty,headerCheckboxIconTemplate:t.column.children&&t.column.children.headercheckboxicon,column:t.column,unstyled:n.unstyled,pt:n.pt},null,8,["checked","onChange","disabled","headerCheckboxIconTemplate","column","unstyled","pt"])):Oe("",!0),t.filterDisplay==="menu"&&t.column.children&&t.column.children.filter?(B(),be(l,{key:5,field:i.columnProp("filterField")||i.columnProp("field"),type:i.columnProp("dataType"),display:"menu",showMenu:i.columnProp("showFilterMenu"),filterElement:t.column.children&&t.column.children.filter,filterHeaderTemplate:t.column.children&&t.column.children.filterheader,filterFooterTemplate:t.column.children&&t.column.children.filterfooter,filterClearTemplate:t.column.children&&t.column.children.filterclear,filterApplyTemplate:t.column.children&&t.column.children.filterapply,filterIconTemplate:t.column.children&&t.column.children.filtericon,filterAddIconTemplate:t.column.children&&t.column.children.filteraddicon,filterRemoveIconTemplate:t.column.children&&t.column.children.filterremoveicon,filterClearIconTemplate:t.column.children&&t.column.children.filterclearicon,filters:t.filters,filtersStore:t.filtersStore,filterInputProps:t.filterInputProps,filterButtonProps:t.filterButtonProps,onFilterChange:e[1]||(e[1]=function(u){return n.$emit("filter-change",u)}),onFilterApply:e[2]||(e[2]=function(u){return n.$emit("filter-apply")}),filterMenuStyle:i.columnProp("filterMenuStyle"),filterMenuClass:i.columnProp("filterMenuClass"),showOperator:i.columnProp("showFilterOperator"),showClearButton:i.columnProp("showClearButton"),showApplyButton:i.columnProp("showApplyButton"),showMatchModes:i.columnProp("showFilterMatchModes"),showAddButton:i.columnProp("showAddButton"),matchModeOptions:i.columnProp("filterMatchModeOptions"),maxConstraints:i.columnProp("maxConstraints"),onOperatorChange:e[3]||(e[3]=function(u){return n.$emit("operator-change",u)}),onMatchmodeChange:e[4]||(e[4]=function(u){return n.$emit("matchmode-change",u)}),onConstraintAdd:e[5]||(e[5]=function(u){return n.$emit("constraint-add",u)}),onConstraintRemove:e[6]||(e[6]=function(u){return n.$emit("constraint-remove",u)}),onApplyClick:e[7]||(e[7]=function(u){return n.$emit("apply-click",u)}),column:t.column,unstyled:n.unstyled,pt:n.pt},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filterIconTemplate","filterAddIconTemplate","filterRemoveIconTemplate","filterClearIconTemplate","filters","filtersStore","filterInputProps","filterButtonProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints","column","unstyled","pt"])):Oe("",!0)],16)],16,QLe)}JY.render=eNe;var QY={name:"TableHeader",hostName:"DataTable",extends:Ot,emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{columnGroup:{type:null,default:null},columns:{type:null,default:null},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},resizableColumns:{type:Boolean,default:!1},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},reorderableColumns:{type:Boolean,default:!1},first:{type:Number,default:0},filterInputProps:{type:null,default:null},filterButtonProps:{type:null,default:null}},provide:function(){return{$rows:this.d_headerRows,$columns:this.d_headerColumns}},data:function(){return{d_headerRows:new dp({type:"Row"}),d_headerColumns:new dp({type:"Column"})}},beforeUnmount:function(){this.d_headerRows.clear(),this.d_headerColumns.clear()},methods:{columnProp:function(e,t){return wh(e,t)},getColumnGroupPT:function(e){var t,r={props:this.getColumnGroupProps(),parent:{instance:this,props:this.$props,state:this.$data},context:{type:"header",scrollable:(t=this.$parentInstance)===null||t===void 0||(t=t.$parentInstance)===null||t===void 0?void 0:t.scrollable}};return H(this.ptm("columnGroup.".concat(e),{columnGroup:r}),this.ptm("columnGroup.".concat(e),r),this.ptmo(this.getColumnGroupProps(),e,r))},getColumnGroupProps:function(){return this.columnGroup&&this.columnGroup.props&&this.columnGroup.props.pt?this.columnGroup.props.pt:void 0},getRowPT:function(e,t,r){var o={props:e.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:r}};return H(this.ptm("row.".concat(t),{row:o}),this.ptm("row.".concat(t),o),this.ptmo(this.getRowProp(e),t,o))},getRowProp:function(e){return e.props&&e.props.pt?e.props.pt:void 0},getColumnPT:function(e,t,r){var o={props:e.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:r}};return H(this.ptm("column.".concat(t),{column:o}),this.ptm("column.".concat(t),o),this.ptmo(this.getColumnProp(e),t,o))},getColumnProp:function(e){return e.props&&e.props.pt?e.props.pt:void 0},getFilterColumnHeaderClass:function(e){return[this.cx("headerCell",{column:e}),this.columnProp(e,"filterHeaderClass"),this.columnProp(e,"class")]},getFilterColumnHeaderStyle:function(e){return[this.columnProp(e,"filterHeaderStyle"),this.columnProp(e,"style")]},getHeaderRows:function(){var e;return(e=this.d_headerRows)===null||e===void 0?void 0:e.get(this.columnGroup,this.columnGroup.children)},getHeaderColumns:function(e){var t;return(t=this.d_headerColumns)===null||t===void 0?void 0:t.get(e,e.children)}},computed:{ptmTHeadOptions:function(){var e;return{context:{scrollable:(e=this.$parentInstance)===null||e===void 0||(e=e.$parentInstance)===null||e===void 0?void 0:e.scrollable}}}},components:{DTHeaderCell:JY,DTHeaderCheckbox:rM,DTColumnFilter:nM}};function iy(n){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(n)}function XV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function rf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XV(Object(t),!0).forEach(function(r){tNe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tNe(n,e,t){return(e=nNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nNe(n){var e=rNe(n,"string");return iy(e)=="symbol"?e:e+""}function rNe(n,e){if(iy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function oNe(n,e,t,r,o,i){var a=Je("DTHeaderCell"),s=Je("DTHeaderCheckbox"),l=Je("DTColumnFilter");return B(),ne("thead",H({class:n.cx("thead"),style:n.sx("thead"),role:"rowgroup"},t.columnGroup?rf(rf({},n.ptm("thead",i.ptmTHeadOptions)),i.getColumnGroupPT("root")):n.ptm("thead",i.ptmTHeadOptions),{"data-pc-section":"thead"}),[t.columnGroup?(B(!0),ne(st,{key:1},vr(i.getHeaderRows(),function(u,c){return B(),ne("tr",H({key:c,role:"row",ref_for:!0},rf(rf({},n.ptm("headerRow")),i.getRowPT(u,"root",c))),[(B(!0),ne(st,null,vr(i.getHeaderColumns(u),function(d,h){return B(),ne(st,{key:i.columnProp(d,"columnKey")||i.columnProp(d,"field")||h},[!i.columnProp(d,"hidden")&&(t.rowGroupMode!=="subheader"||t.groupRowsBy!==i.columnProp(d,"field"))&&typeof d.children!="string"?(B(),be(a,{key:0,column:d,onColumnClick:e[23]||(e[23]=function(f){return n.$emit("column-click",f)}),onColumnMousedown:e[24]||(e[24]=function(f){return n.$emit("column-mousedown",f)}),groupRowsBy:t.groupRowsBy,groupRowSortField:t.groupRowSortField,sortMode:t.sortMode,sortField:t.sortField,sortOrder:t.sortOrder,multiSortMeta:t.multiSortMeta,allRowsSelected:t.allRowsSelected,empty:t.empty,onCheckboxChange:e[25]||(e[25]=function(f){return n.$emit("checkbox-change",f)}),filters:t.filters,filterDisplay:t.filterDisplay,filtersStore:t.filtersStore,onFilterChange:e[26]||(e[26]=function(f){return n.$emit("filter-change",f)}),onFilterApply:e[27]||(e[27]=function(f){return n.$emit("filter-apply")}),onOperatorChange:e[28]||(e[28]=function(f){return n.$emit("operator-change",f)}),onMatchmodeChange:e[29]||(e[29]=function(f){return n.$emit("matchmode-change",f)}),onConstraintAdd:e[30]||(e[30]=function(f){return n.$emit("constraint-add",f)}),onConstraintRemove:e[31]||(e[31]=function(f){return n.$emit("constraint-remove",f)}),onApplyClick:e[32]||(e[32]=function(f){return n.$emit("apply-click",f)}),unstyled:n.unstyled,pt:n.pt},null,8,["column","groupRowsBy","groupRowSortField","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore","unstyled","pt"])):Oe("",!0)],64)}),128))],16)}),128)):(B(),ne(st,{key:0},[ke("tr",H({role:"row"},n.ptm("headerRow")),[(B(!0),ne(st,null,vr(t.columns,function(u,c){return B(),ne(st,{key:i.columnProp(u,"columnKey")||i.columnProp(u,"field")||c},[!i.columnProp(u,"hidden")&&(t.rowGroupMode!=="subheader"||t.groupRowsBy!==i.columnProp(u,"field"))?(B(),be(a,{key:0,column:u,index:c,onColumnClick:e[0]||(e[0]=function(d){return n.$emit("column-click",d)}),onColumnMousedown:e[1]||(e[1]=function(d){return n.$emit("column-mousedown",d)}),onColumnDragstart:e[2]||(e[2]=function(d){return n.$emit("column-dragstart",d)}),onColumnDragover:e[3]||(e[3]=function(d){return n.$emit("column-dragover",d)}),onColumnDragleave:e[4]||(e[4]=function(d){return n.$emit("column-dragleave",d)}),onColumnDrop:e[5]||(e[5]=function(d){return n.$emit("column-drop",d)}),groupRowsBy:t.groupRowsBy,groupRowSortField:t.groupRowSortField,reorderableColumns:t.reorderableColumns,resizableColumns:t.resizableColumns,onColumnResizestart:e[6]||(e[6]=function(d){return n.$emit("column-resizestart",d)}),sortMode:t.sortMode,sortField:t.sortField,sortOrder:t.sortOrder,multiSortMeta:t.multiSortMeta,allRowsSelected:t.allRowsSelected,empty:t.empty,onCheckboxChange:e[7]||(e[7]=function(d){return n.$emit("checkbox-change",d)}),filters:t.filters,filterDisplay:t.filterDisplay,filtersStore:t.filtersStore,filterInputProps:t.filterInputProps,filterButtonProps:t.filterButtonProps,first:t.first,onFilterChange:e[8]||(e[8]=function(d){return n.$emit("filter-change",d)}),onFilterApply:e[9]||(e[9]=function(d){return n.$emit("filter-apply")}),onOperatorChange:e[10]||(e[10]=function(d){return n.$emit("operator-change",d)}),onMatchmodeChange:e[11]||(e[11]=function(d){return n.$emit("matchmode-change",d)}),onConstraintAdd:e[12]||(e[12]=function(d){return n.$emit("constraint-add",d)}),onConstraintRemove:e[13]||(e[13]=function(d){return n.$emit("constraint-remove",d)}),onApplyClick:e[14]||(e[14]=function(d){return n.$emit("apply-click",d)}),unstyled:n.unstyled,pt:n.pt},null,8,["column","index","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore","filterInputProps","filterButtonProps","first","unstyled","pt"])):Oe("",!0)],64)}),128))],16),t.filterDisplay==="row"?(B(),ne("tr",H({key:0,role:"row"},n.ptm("headerRow")),[(B(!0),ne(st,null,vr(t.columns,function(u,c){return B(),ne(st,{key:i.columnProp(u,"columnKey")||i.columnProp(u,"field")||c},[!i.columnProp(u,"hidden")&&(t.rowGroupMode!=="subheader"||t.groupRowsBy!==i.columnProp(u,"field"))?(B(),ne("th",H({key:0,style:i.getFilterColumnHeaderStyle(u),class:i.getFilterColumnHeaderClass(u),ref_for:!0},rf(rf({},i.getColumnPT(u,"root",c)),i.getColumnPT(u,"headerCell",c))),[i.columnProp(u,"selectionMode")==="multiple"?(B(),be(s,{key:0,checked:t.allRowsSelected,disabled:t.empty,onChange:e[15]||(e[15]=function(d){return n.$emit("checkbox-change",d)}),column:u,unstyled:n.unstyled,pt:n.pt},null,8,["checked","disabled","column","unstyled","pt"])):Oe("",!0),u.children&&u.children.filter?(B(),be(l,{key:1,field:i.columnProp(u,"filterField")||i.columnProp(u,"field"),type:i.columnProp(u,"dataType"),display:"row",showMenu:i.columnProp(u,"showFilterMenu"),filterElement:u.children&&u.children.filter,filterHeaderTemplate:u.children&&u.children.filterheader,filterFooterTemplate:u.children&&u.children.filterfooter,filterClearTemplate:u.children&&u.children.filterclear,filterApplyTemplate:u.children&&u.children.filterapply,filterIconTemplate:u.children&&u.children.filtericon,filterAddIconTemplate:u.children&&u.children.filteraddicon,filterRemoveIconTemplate:u.children&&u.children.filterremoveicon,filterClearIconTemplate:u.children&&u.children.filterclearicon,filters:t.filters,filtersStore:t.filtersStore,filterInputProps:t.filterInputProps,filterButtonProps:t.filterButtonProps,onFilterChange:e[16]||(e[16]=function(d){return n.$emit("filter-change",d)}),onFilterApply:e[17]||(e[17]=function(d){return n.$emit("filter-apply")}),filterMenuStyle:i.columnProp(u,"filterMenuStyle"),filterMenuClass:i.columnProp(u,"filterMenuClass"),showOperator:i.columnProp(u,"showFilterOperator"),showClearButton:i.columnProp(u,"showClearButton"),showApplyButton:i.columnProp(u,"showApplyButton"),showMatchModes:i.columnProp(u,"showFilterMatchModes"),showAddButton:i.columnProp(u,"showAddButton"),matchModeOptions:i.columnProp(u,"filterMatchModeOptions"),maxConstraints:i.columnProp(u,"maxConstraints"),onOperatorChange:e[18]||(e[18]=function(d){return n.$emit("operator-change",d)}),onMatchmodeChange:e[19]||(e[19]=function(d){return n.$emit("matchmode-change",d)}),onConstraintAdd:e[20]||(e[20]=function(d){return n.$emit("constraint-add",d)}),onConstraintRemove:e[21]||(e[21]=function(d){return n.$emit("constraint-remove",d)}),onApplyClick:e[22]||(e[22]=function(d){return n.$emit("apply-click",d)}),column:u,unstyled:n.unstyled,pt:n.pt},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filterIconTemplate","filterAddIconTemplate","filterRemoveIconTemplate","filterClearIconTemplate","filters","filtersStore","filterInputProps","filterButtonProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints","column","unstyled","pt"])):Oe("",!0)],16)):Oe("",!0)],64)}),128))],16)):Oe("",!0)],64))],16)}QY.render=oNe;function ay(n){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(n)}var iNe=["expanded"];function aNe(n,e){if(n==null)return{};var t,r,o=sNe(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function sNe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function qV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ui(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qV(Object(t),!0).forEach(function(r){lNe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lNe(n,e,t){return(e=uNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uNe(n){var e=cNe(n,"string");return ay(e)=="symbol"?e:e+""}function cNe(n,e){if(ay(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function YV(n,e){return fNe(n)||hNe(n,e)||oM(n,e)||dNe()}function dNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hNe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(t=t.call(n)).next,e!==0)for(;!(l=(r=i.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,o=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}function fNe(n){if(Array.isArray(n))return n}function Zg(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=oM(n))||e){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){s=!0,i=u},f:function(){try{a||t.return==null||t.return()}finally{if(s)throw i}}}}function Pn(n){return vNe(n)||gNe(n)||oM(n)||pNe()}function pNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oM(n,e){if(n){if(typeof n=="string")return UD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?UD(n,e):void 0}}function gNe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vNe(n){if(Array.isArray(n))return UD(n)}function UD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var eZ={name:"DataTable",extends:oLe,inheritAttrs:!1,emits:["value-change","update:first","update:rows","page","update:sortField","update:sortOrder","update:multiSortMeta","sort","filter","row-click","row-dblclick","update:selection","row-select","row-unselect","update:contextMenuSelection","row-contextmenu","row-unselect-all","row-select-all","select-all-change","column-resize-end","column-reorder","row-reorder","update:expandedRows","row-collapse","row-expand","update:expandedRowGroups","rowgroup-collapse","rowgroup-expand","update:filters","state-restore","state-save","cell-edit-init","cell-edit-complete","cell-edit-cancel","update:editingRows","row-edit-init","row-edit-save","row-edit-cancel"],provide:function(){return{$columns:this.d_columns,$columnGroups:this.d_columnGroups}},data:function(){return{d_first:this.first,d_rows:this.rows,d_sortField:this.sortField,d_sortOrder:this.sortOrder,d_nullSortOrder:this.nullSortOrder,d_multiSortMeta:this.multiSortMeta?Pn(this.multiSortMeta):[],d_groupRowsSortMeta:null,d_selectionKeys:null,d_columnOrder:null,d_editingRowKeys:null,d_editingMeta:{},d_filters:this.cloneFilters(this.filters),d_columns:new dp({type:"Column"}),d_columnGroups:new dp({type:"ColumnGroup"})}},rowTouched:!1,anchorRowIndex:null,rangeRowIndex:null,documentColumnResizeListener:null,documentColumnResizeEndListener:null,lastResizeHelperX:null,resizeColumnElement:null,columnResizing:!1,colReorderIconWidth:null,colReorderIconHeight:null,draggedColumn:null,draggedColumnElement:null,draggedRowIndex:null,droppedRowIndex:null,rowDragging:null,columnWidthsState:null,tableWidthState:null,columnWidthsRestored:!1,watch:{first:function(e){this.d_first=e},rows:function(e){this.d_rows=e},sortField:function(e){this.d_sortField=e},sortOrder:function(e){this.d_sortOrder=e},nullSortOrder:function(e){this.d_nullSortOrder=e},multiSortMeta:function(e){this.d_multiSortMeta=e},selection:{immediate:!0,handler:function(e){this.dataKey&&this.updateSelectionKeys(e)}},editingRows:{immediate:!0,handler:function(e){this.dataKey&&this.updateEditingRowKeys(e)}},filters:{deep:!0,handler:function(e){this.d_filters=this.cloneFilters(e)}}},mounted:function(){this.$el.setAttribute(this.attributeSelector,""),this.isStateful()&&(this.restoreState(),this.resizableColumns&&this.restoreColumnWidths()),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},beforeUnmount:function(){this.unbindColumnResizeEvents(),this.destroyStyleElement(),this.d_columns.clear(),this.d_columnGroups.clear()},updated:function(){this.isStateful()&&this.saveState(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},methods:{columnProp:function(e,t){return wh(e,t)},onPage:function(e){var t=this;this.clearEditingMetaData(),this.d_first=e.first,this.d_rows=e.rows;var r=this.createLazyLoadEvent(e);r.pageCount=e.pageCount,r.page=e.page,this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",r),this.$nextTick(function(){t.$emit("value-change",t.processedData)})},onColumnHeaderClick:function(e){var t=this,r=e.originalEvent,o=e.column;if(this.columnProp(o,"sortable")){var i=r.target,a=this.columnProp(o,"sortField")||this.columnProp(o,"field");if(Ar(i,"data-p-sortable-column")===!0||Ar(i,"data-pc-section")==="columntitle"||Ar(i,"data-pc-section")==="columnheadercontent"||Ar(i,"data-pc-section")==="sorticon"||Ar(i.parentElement,"data-pc-section")==="sorticon"||Ar(i.parentElement.parentElement,"data-pc-section")==="sorticon"||i.closest('[data-p-sortable-column="true"]')&&!i.closest('[data-pc-section="columnfilterbutton"]')&&!Lk(r.target)){if(nw(),this.sortMode==="single")this.d_sortField===a?this.removableSort&&this.d_sortOrder*-1===this.defaultSortOrder?(this.d_sortOrder=null,this.d_sortField=null):this.d_sortOrder=this.d_sortOrder*-1:(this.d_sortOrder=this.defaultSortOrder,this.d_sortField=a),this.$emit("update:sortField",this.d_sortField),this.$emit("update:sortOrder",this.d_sortOrder),this.resetPage();else if(this.sortMode==="multiple"){var s=r.metaKey||r.ctrlKey;s||(this.d_multiSortMeta=this.d_multiSortMeta.filter(function(l){return l.field===a})),this.addMultiSortField(a),this.$emit("update:multiSortMeta",this.d_multiSortMeta)}this.$emit("sort",this.createLazyLoadEvent(r)),this.$nextTick(function(){t.$emit("value-change",t.processedData)})}}},sortSingle:function(e){var t=this;if(this.clearEditingMetaData(),this.groupRowsBy&&this.groupRowsBy===this.sortField)return this.d_multiSortMeta=[{field:this.sortField,order:this.sortOrder||this.defaultSortOrder},{field:this.d_sortField,order:this.d_sortOrder}],this.sortMultiple(e);var r=Pn(e),o=new Map,i=Zg(r),a;try{for(i.s();!(a=i.n()).done;){var s=a.value;o.set(s,Et(s,this.d_sortField))}}catch(u){i.e(u)}finally{i.f()}var l=W3();return r.sort(function(u,c){var d=o.get(u),h=o.get(c);return U3(d,h,t.d_sortOrder,l,t.d_nullSortOrder)}),r},sortMultiple:function(e){var t=this;if(this.clearEditingMetaData(),this.groupRowsBy&&(this.d_groupRowsSortMeta||this.d_multiSortMeta.length&&this.groupRowsBy===this.d_multiSortMeta[0].field)){var r=this.d_multiSortMeta[0];!this.d_groupRowsSortMeta&&(this.d_groupRowsSortMeta=r),r.field!==this.d_groupRowsSortMeta.field&&(this.d_multiSortMeta=[this.d_groupRowsSortMeta].concat(Pn(this.d_multiSortMeta)))}var o=Pn(e);return o.sort(function(i,a){return t.multisortField(i,a,0)}),o},multisortField:function(e,t,r){var o=Et(e,this.d_multiSortMeta[r].field),i=Et(t,this.d_multiSortMeta[r].field),a=W3();return o===i?this.d_multiSortMeta.length-1>r?this.multisortField(e,t,r+1):0:U3(o,i,this.d_multiSortMeta[r].order,a,this.d_nullSortOrder)},addMultiSortField:function(e){var t=this.d_multiSortMeta.findIndex(function(r){return r.field===e});t>=0?this.removableSort&&this.d_multiSortMeta[t].order*-1===this.defaultSortOrder?this.d_multiSortMeta.splice(t,1):this.d_multiSortMeta[t]={field:e,order:this.d_multiSortMeta[t].order*-1}:this.d_multiSortMeta.push({field:e,order:this.defaultSortOrder}),this.d_multiSortMeta=Pn(this.d_multiSortMeta)},getActiveFilters:function(e){var t=function(a){var s=YV(a,2),l=s[0],u=s[1];if(u.constraints){var c=u.constraints.filter(function(d){return d.value!==null});if(c.length>0)return[l,ui(ui({},u),{},{constraints:c})]}else if(u.value!==null)return[l,u]},r=function(a){return a!==void 0},o=Object.entries(e).map(t).filter(r);return Object.fromEntries(o)},filter:function(e){var t=this;if(e){this.clearEditingMetaData();var r=this.getActiveFilters(this.filters),o;r.global&&(o=this.globalFilterFields||this.columns.map(function(w){return t.columnProp(w,"filterField")||t.columnProp(w,"field")}));for(var i=[],a=0;a<e.length;a++){var s=!0,l=!1,u=!1;for(var c in r)if(Object.prototype.hasOwnProperty.call(r,c)&&c!=="global"){u=!0;var d=c,h=r[d];if(h.operator){var f=Zg(h.constraints),p;try{for(f.s();!(p=f.n()).done;){var g=p.value;if(s=this.executeLocalFilter(d,e[a],g),h.operator===Pw.OR&&s||h.operator===Pw.AND&&!s)break}}catch(w){f.e(w)}finally{f.f()}}else s=this.executeLocalFilter(d,e[a],h);if(!s)break}if(s&&r.global&&!l&&o)for(var v=0;v<o.length;v++){var m=o[v];if(l=WT.filters[r.global.matchMode||Tr.CONTAINS](Et(e[a],m),r.global.value,this.filterLocale),l)break}var y=void 0;r.global?y=u?u&&s&&l:l:y=u&&s,y&&i.push(e[a])}(i.length===this.value.length||Object.keys(r).length==0)&&(i=e);var b=this.createLazyLoadEvent();return b.filteredValue=i,this.$emit("filter",b),this.$nextTick(function(){t.$emit("value-change",t.processedData)}),i}},executeLocalFilter:function(e,t,r){var o=r.value,i=r.matchMode||Tr.STARTS_WITH,a=Et(t,e),s=WT.filters[i];return s(a,o,this.filterLocale)},onRowClick:function(e){var t=e.originalEvent,r=this.$refs.bodyRef&&this.$refs.bodyRef.$el,o=cu(r,'tr[data-p-selectable-row="true"][tabindex="0"]');if(!Lk(t.currentTarget)){if(this.$emit("row-click",e),this.selectionMode){var i=e.data,a=this.d_first+e.index;if(this.isMultipleSelectionMode()&&t.shiftKey&&this.anchorRowIndex!=null)nw(),this.rangeRowIndex=a,this.selectRange(t);else{var s=this.isSelected(i),l=this.rowTouched?!1:this.metaKeySelection;if(this.anchorRowIndex=a,this.rangeRowIndex=a,l){var u=t.metaKey||t.ctrlKey;if(s&&u){if(this.isSingleSelectionMode())this.$emit("update:selection",null);else{var c=this.findIndexInSelection(i),d=this.selection.filter(function(b,w){return w!=c});this.$emit("update:selection",d)}this.$emit("row-unselect",{originalEvent:t,data:i,index:a,type:"row"})}else{if(this.isSingleSelectionMode())this.$emit("update:selection",i);else if(this.isMultipleSelectionMode()){var h=u?this.selection||[]:[];h=[].concat(Pn(h),[i]),this.$emit("update:selection",h)}this.$emit("row-select",{originalEvent:t,data:i,index:a,type:"row"})}}else if(this.selectionMode==="single")s?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:t,data:i,index:a,type:"row"})):(this.$emit("update:selection",i),this.$emit("row-select",{originalEvent:t,data:i,index:a,type:"row"}));else if(this.selectionMode==="multiple")if(s){var f=this.findIndexInSelection(i),p=this.selection.filter(function(b,w){return w!=f});this.$emit("update:selection",p),this.$emit("row-unselect",{originalEvent:t,data:i,index:a,type:"row"})}else{var g=this.selection?[].concat(Pn(this.selection),[i]):[i];this.$emit("update:selection",g),this.$emit("row-select",{originalEvent:t,data:i,index:a,type:"row"})}}}if(this.rowTouched=!1,o){var v,m;if(((v=t.currentTarget)===null||v===void 0?void 0:v.getAttribute("data-pc-section"))==="rowtoggleicon")return;var y=(m=t.currentTarget)===null||m===void 0?void 0:m.closest('tr[data-p-selectable-row="true"]');o.tabIndex="-1",y.tabIndex="0"}}},onRowDblClick:function(e){var t=e.originalEvent;Lk(t.target)||this.$emit("row-dblclick",e)},onRowRightClick:function(e){this.contextMenu&&(nw(),e.originalEvent.target.focus()),this.$emit("update:contextMenuSelection",e.data),this.$emit("row-contextmenu",e)},onRowTouchEnd:function(){this.rowTouched=!0},onRowKeyDown:function(e,t){var r=e.originalEvent,o=e.data,i=e.index,a=r.metaKey||r.ctrlKey;if(this.selectionMode){var s=r.target;switch(r.code){case"ArrowDown":this.onArrowDownKey(r,s,i,t);break;case"ArrowUp":this.onArrowUpKey(r,s,i,t);break;case"Home":this.onHomeKey(r,s,i,t);break;case"End":this.onEndKey(r,s,i,t);break;case"Enter":case"NumpadEnter":this.onEnterKey(r,o,i);break;case"Space":this.onSpaceKey(r,o,i,t);break;case"Tab":this.onTabKey(r,i);break;default:if(r.code==="KeyA"&&a&&this.isMultipleSelectionMode()){var l=this.dataToRender(t.rows);this.$emit("update:selection",l)}r.preventDefault();break}}},onArrowDownKey:function(e,t,r,o){var i=this.findNextSelectableRow(t);if(i&&this.focusRowChange(t,i),e.shiftKey){var a=this.dataToRender(o.rows),s=r+1>=a.length?a.length-1:r+1;this.onRowClick({originalEvent:e,data:a[s],index:s})}e.preventDefault()},onArrowUpKey:function(e,t,r,o){var i=this.findPrevSelectableRow(t);if(i&&this.focusRowChange(t,i),e.shiftKey){var a=this.dataToRender(o.rows),s=r-1<=0?0:r-1;this.onRowClick({originalEvent:e,data:a[s],index:s})}e.preventDefault()},onHomeKey:function(e,t,r,o){var i=this.findFirstSelectableRow();if(i&&this.focusRowChange(t,i),e.ctrlKey&&e.shiftKey){var a=this.dataToRender(o.rows);this.$emit("update:selection",a.slice(0,r+1))}e.preventDefault()},onEndKey:function(e,t,r,o){var i=this.findLastSelectableRow();if(i&&this.focusRowChange(t,i),e.ctrlKey&&e.shiftKey){var a=this.dataToRender(o.rows);this.$emit("update:selection",a.slice(r,a.length))}e.preventDefault()},onEnterKey:function(e,t,r){this.onRowClick({originalEvent:e,data:t,index:r}),e.preventDefault()},onSpaceKey:function(e,t,r,o){if(this.onEnterKey(e,t,r),e.shiftKey&&this.selection!==null){var i=this.dataToRender(o.rows),a;if(this.selection.length>0){var s,l;s=$k(this.selection[0],i),l=$k(this.selection[this.selection.length-1],i),a=r<=s?l:s}else a=$k(this.selection,i);var u=a!==r?i.slice(Math.min(a,r),Math.max(a,r)+1):t;this.$emit("update:selection",u)}},onTabKey:function(e,t){var r=this.$refs.bodyRef&&this.$refs.bodyRef.$el,o=df(r,'tr[data-p-selectable-row="true"]');if(e.code==="Tab"&&o&&o.length>0){var i=cu(r,'tr[data-p-selected="true"]'),a=cu(r,'tr[data-p-selectable-row="true"][tabindex="0"]');i?(i.tabIndex="0",a&&a!==i&&(a.tabIndex="-1")):(o[0].tabIndex="0",a!==o[0]&&(o[t].tabIndex="-1"))}},findNextSelectableRow:function(e){var t=e.nextElementSibling;return t?Ar(t,"data-p-selectable-row")===!0?t:this.findNextSelectableRow(t):null},findPrevSelectableRow:function(e){var t=e.previousElementSibling;return t?Ar(t,"data-p-selectable-row")===!0?t:this.findPrevSelectableRow(t):null},findFirstSelectableRow:function(){var e=cu(this.$refs.table,'tr[data-p-selectable-row="true"]');return e},findLastSelectableRow:function(){var e=df(this.$refs.table,'tr[data-p-selectable-row="true"]');return e?e[e.length-1]:null},focusRowChange:function(e,t){e.tabIndex="-1",t.tabIndex="0",Go(t)},toggleRowWithRadio:function(e){var t=e.data;this.isSelected(t)?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:e.originalEvent,data:t,index:e.index,type:"radiobutton"})):(this.$emit("update:selection",t),this.$emit("row-select",{originalEvent:e.originalEvent,data:t,index:e.index,type:"radiobutton"}))},toggleRowWithCheckbox:function(e){var t=e.data;if(this.isSelected(t)){var r=this.findIndexInSelection(t),o=this.selection.filter(function(a,s){return s!=r});this.$emit("update:selection",o),this.$emit("row-unselect",{originalEvent:e.originalEvent,data:t,index:e.index,type:"checkbox"})}else{var i=this.selection?Pn(this.selection):[];i=[].concat(Pn(i),[t]),this.$emit("update:selection",i),this.$emit("row-select",{originalEvent:e.originalEvent,data:t,index:e.index,type:"checkbox"})}},toggleRowsWithCheckbox:function(e){if(this.selectAll!==null)this.$emit("select-all-change",e);else{var t=e.originalEvent,r=e.checked,o=[];r?(o=this.frozenValue?[].concat(Pn(this.frozenValue),Pn(this.processedData)):this.processedData,this.$emit("row-select-all",{originalEvent:t,data:o})):this.$emit("row-unselect-all",{originalEvent:t}),this.$emit("update:selection",o)}},isSingleSelectionMode:function(){return this.selectionMode==="single"},isMultipleSelectionMode:function(){return this.selectionMode==="multiple"},isSelected:function(e){return e&&this.selection?this.dataKey?this.d_selectionKeys?this.d_selectionKeys[Et(e,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1},findIndexInSelection:function(e){return this.findIndex(e,this.selection)},findIndex:function(e,t){var r=-1;if(t&&t.length){for(var o=0;o<t.length;o++)if(this.equals(e,t[o])){r=o;break}}return r},updateSelectionKeys:function(e){if(this.d_selectionKeys={},Array.isArray(e)){var t=Zg(e),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;this.d_selectionKeys[String(Et(o,this.dataKey))]=1}}catch(i){t.e(i)}finally{t.f()}}else this.d_selectionKeys[String(Et(e,this.dataKey))]=1},updateEditingRowKeys:function(e){if(e&&e.length){this.d_editingRowKeys={};var t=Zg(e),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;this.d_editingRowKeys[String(Et(o,this.dataKey))]=1}}catch(i){t.e(i)}finally{t.f()}}else this.d_editingRowKeys=null},equals:function(e,t){return this.compareSelectionBy==="equals"?e===t:_s(e,t,this.dataKey)},selectRange:function(e){var t,r;this.rangeRowIndex>this.anchorRowIndex?(t=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(t=this.rangeRowIndex,r=this.anchorRowIndex):(t=this.rangeRowIndex,r=this.rangeRowIndex),this.lazy&&this.paginator&&(t-=this.first,r-=this.first);for(var o=this.processedData,i=[],a=t;a<=r;a++){var s=o[a];i.push(s),this.$emit("row-select",{originalEvent:e,data:s,type:"row"})}this.$emit("update:selection",i)},exportCSV:function(e,t){var r=this,o="\uFEFF";t||(t=this.processedData,e&&e.selectionOnly?t=this.selection||[]:this.frozenValue&&(t=t?[].concat(Pn(this.frozenValue),Pn(t)):this.frozenValue));for(var i=!1,a=0;a<this.columns.length;a++){var s=this.columns[a];this.columnProp(s,"exportable")!==!1&&this.columnProp(s,"field")&&(i?o+=this.csvSeparator:i=!0,o+='"'+(this.columnProp(s,"exportHeader")||this.columnProp(s,"header")||this.columnProp(s,"field"))+'"')}t&&t.forEach(function(d){o+=`
`;for(var h=!1,f=0;f<r.columns.length;f++){var p=r.columns[f];if(r.columnProp(p,"exportable")!==!1&&r.columnProp(p,"field")){h?o+=r.csvSeparator:h=!0;var g=Et(d,r.columnProp(p,"field"));g!=null?r.exportFunction?g=r.exportFunction({data:g,field:r.columnProp(p,"field")}):g=String(g).replace(/"/g,'""'):g="",o+='"'+g+'"'}}});for(var l=!1,u=0;u<this.columns.length;u++){var c=this.columns[u];u===0&&(o+=`
`),this.columnProp(c,"exportable")!==!1&&this.columnProp(c,"exportFooter")&&(l?o+=this.csvSeparator:l=!0,o+='"'+(this.columnProp(c,"exportFooter")||this.columnProp(c,"footer")||this.columnProp(c,"field"))+'"')}Xae(o,this.exportFilename)},resetPage:function(){this.d_first=0,this.$emit("update:first",this.d_first)},onColumnResizeStart:function(e){var t=hf(this.$el).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizeHelperX=e.pageX-t+this.$el.scrollLeft,this.bindColumnResizeEvents()},onColumnResize:function(e){var t=hf(this.$el).left;this.$el.setAttribute("data-p-unselectable-text","true"),!this.isUnstyled&&Lw(this.$el,{"user-select":"none"}),this.$refs.resizeHelper.style.height=this.$el.offsetHeight+"px",this.$refs.resizeHelper.style.top="0px",this.$refs.resizeHelper.style.left=e.pageX-t+this.$el.scrollLeft+"px",this.$refs.resizeHelper.style.display="block"},onColumnResizeEnd:function(){var e=this.$refs.resizeHelper.offsetLeft-this.lastResizeHelperX,t=this.resizeColumnElement.offsetWidth,r=t+e,o=this.resizeColumnElement.style.minWidth||15;if(t+e>parseInt(o,10)){if(this.columnResizeMode==="fit"){var i=this.resizeColumnElement.nextElementSibling,a=i.offsetWidth-e;r>15&&a>15&&this.resizeTableCells(r,a)}else if(this.columnResizeMode==="expand"){var s=this.$refs.table.offsetWidth+e+"px",l=function(h){h&&(h.style.width=h.style.minWidth=s)};if(this.resizeTableCells(r),l(this.$refs.table),!this.virtualScrollerDisabled){var u=this.$refs.bodyRef&&this.$refs.bodyRef.$el,c=this.$refs.frozenBodyRef&&this.$refs.frozenBodyRef.$el;l(u),l(c)}}this.$emit("column-resize-end",{element:this.resizeColumnElement,delta:e})}this.$refs.resizeHelper.style.display="none",this.resizeColumn=null,this.$el.removeAttribute("data-p-unselectable-text"),!this.isUnstyled&&(this.$el.style["user-select"]=""),this.unbindColumnResizeEvents(),this.isStateful()&&this.saveState()},resizeTableCells:function(e,t){var r=rw(this.resizeColumnElement),o=[],i=df(this.$refs.table,'thead[data-pc-section="thead"] > tr > th');i.forEach(function(l){return o.push(ji(l))}),this.destroyStyleElement(),this.createStyleElement();var a="",s='[data-pc-name="datatable"]['.concat(this.attributeSelector,'] > [data-pc-section="tablecontainer"] ').concat(this.virtualScrollerDisabled?"":'> [data-pc-name="virtualscroller"]',' > table[data-pc-section="table"]');o.forEach(function(l,u){var c=u===r?e:t&&u===r+1?t:l,d="width: ".concat(c,"px !important; max-width: ").concat(c,"px !important");a+=`
                    `.concat(s,' > thead[data-pc-section="thead"] > tr > th:nth-child(').concat(u+1,`),
                    `).concat(s,' > tbody[data-pc-section="tbody"] > tr > td:nth-child(').concat(u+1,`),
                    `).concat(s,' > tfoot[data-pc-section="tfoot"] > tr > td:nth-child(').concat(u+1,`) {
                        `).concat(d,`
                    }
                `)}),this.styleElement.innerHTML=a},bindColumnResizeEvents:function(){var e=this;this.documentColumnResizeListener||(this.documentColumnResizeListener=document.addEventListener("mousemove",function(){e.columnResizing&&e.onColumnResize(event)})),this.documentColumnResizeEndListener||(this.documentColumnResizeEndListener=document.addEventListener("mouseup",function(){e.columnResizing&&(e.columnResizing=!1,e.onColumnResizeEnd())}))},unbindColumnResizeEvents:function(){this.documentColumnResizeListener&&(document.removeEventListener("document",this.documentColumnResizeListener),this.documentColumnResizeListener=null),this.documentColumnResizeEndListener&&(document.removeEventListener("document",this.documentColumnResizeEndListener),this.documentColumnResizeEndListener=null)},onColumnHeaderMouseDown:function(e){var t=e.originalEvent,r=e.column;this.reorderableColumns&&this.columnProp(r,"reorderableColumn")!==!1&&(t.target.nodeName==="INPUT"||t.target.nodeName==="TEXTAREA"||Ar(t.target,'[data-pc-section="columnresizer"]')?t.currentTarget.draggable=!1:t.currentTarget.draggable=!0)},onColumnHeaderDragStart:function(e){var t=e.originalEvent,r=e.column;if(this.columnResizing){t.preventDefault();return}this.colReorderIconWidth=Jae(this.$refs.reorderIndicatorUp),this.colReorderIconHeight=Zae(this.$refs.reorderIndicatorUp),this.draggedColumn=r,this.draggedColumnElement=this.findParentHeader(t.target),t.dataTransfer.setData("text","b")},onColumnHeaderDragOver:function(e){var t=e.originalEvent,r=e.column,o=this.findParentHeader(t.target);if(this.reorderableColumns&&this.draggedColumnElement&&o&&!this.columnProp(r,"frozen")){t.preventDefault();var i=hf(this.$el),a=hf(o);if(this.draggedColumnElement!==o){var s=a.left-i.left,l=a.left+o.offsetWidth/2;this.$refs.reorderIndicatorUp.style.top=a.top-i.top-(this.colReorderIconHeight-1)+"px",this.$refs.reorderIndicatorDown.style.top=a.top-i.top+o.offsetHeight+"px",t.pageX>l?(this.$refs.reorderIndicatorUp.style.left=s+o.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=s+o.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=1):(this.$refs.reorderIndicatorUp.style.left=s-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=s-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=-1),this.$refs.reorderIndicatorUp.style.display="block",this.$refs.reorderIndicatorDown.style.display="block"}}},onColumnHeaderDragLeave:function(e){var t=e.originalEvent;this.reorderableColumns&&this.draggedColumnElement&&(t.preventDefault(),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none")},onColumnHeaderDrop:function(e){var t=this,r=e.originalEvent,o=e.column;if(r.preventDefault(),this.draggedColumnElement){var i=rw(this.draggedColumnElement),a=rw(this.findParentHeader(r.target)),s=i!==a;if(s&&(a-i===1&&this.dropPosition===-1||a-i===-1&&this.dropPosition===1)&&(s=!1),s){var l=function(m,y){return t.columnProp(m,"columnKey")||t.columnProp(y,"columnKey")?t.columnProp(m,"columnKey")===t.columnProp(y,"columnKey"):t.columnProp(m,"field")===t.columnProp(y,"field")},u=this.columns.findIndex(function(v){return l(v,t.draggedColumn)}),c=this.columns.findIndex(function(v){return l(v,o)}),d=[],h=df(this.$el,'thead[data-pc-section="thead"] > tr > th');h.forEach(function(v){return d.push(ji(v))});var f=d.find(function(v,m){return m===u}),p=d.filter(function(v,m){return m!==u}),g=[].concat(Pn(p.slice(0,c)),[f],Pn(p.slice(c)));this.addColumnWidthStyles(g),c<u&&this.dropPosition===1&&c++,c>u&&this.dropPosition===-1&&c--,H3(this.columns,u,c),this.updateReorderableColumns(),this.$emit("column-reorder",{originalEvent:r,dragIndex:u,dropIndex:c})}this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none",this.draggedColumnElement.draggable=!1,this.draggedColumnElement=null,this.draggedColumn=null,this.dropPosition=null}},findParentHeader:function(e){if(e.nodeName==="TH")return e;for(var t=e.parentElement;t.nodeName!=="TH"&&(t=t.parentElement,!!t););return t},findColumnByKey:function(e,t){if(e&&e.length)for(var r=0;r<e.length;r++){var o=e[r];if(this.columnProp(o,"columnKey")===t||this.columnProp(o,"field")===t)return o}return null},onRowMouseDown:function(e){Ar(e.target,"data-pc-section")==="reorderablerowhandle"||Ar(e.target.parentElement,"data-pc-section")==="reorderablerowhandle"?e.currentTarget.draggable=!0:e.currentTarget.draggable=!1},onRowDragStart:function(e){var t=e.originalEvent,r=e.index;this.rowDragging=!0,this.draggedRowIndex=r,t.dataTransfer.setData("text","b")},onRowDragOver:function(e){var t=e.originalEvent,r=e.index;if(this.rowDragging&&this.draggedRowIndex!==r){var o=t.currentTarget,i=hf(o).top+dG(),a=t.pageY,s=i+Ow(o)/2,l=o.previousElementSibling;a<s?(o.setAttribute("data-p-datatable-dragpoint-bottom","false"),!this.isUnstyled&&lu(o,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=r,l?(l.setAttribute("data-p-datatable-dragpoint-bottom","true"),!this.isUnstyled&&iv(l,"p-datatable-dragpoint-bottom")):(o.setAttribute("data-p-datatable-dragpoint-top","true"),!this.isUnstyled&&iv(o,"p-datatable-dragpoint-top"))):(l?(l.setAttribute("data-p-datatable-dragpoint-bottom","false"),!this.isUnstyled&&lu(l,"p-datatable-dragpoint-bottom")):(o.setAttribute("data-p-datatable-dragpoint-top","true"),!this.isUnstyled&&iv(o,"p-datatable-dragpoint-top")),this.droppedRowIndex=r+1,o.setAttribute("data-p-datatable-dragpoint-bottom","true"),!this.isUnstyled&&iv(o,"p-datatable-dragpoint-bottom")),t.preventDefault()}},onRowDragLeave:function(e){var t=e.currentTarget,r=t.previousElementSibling;r&&(r.setAttribute("data-p-datatable-dragpoint-bottom","false"),!this.isUnstyled&&lu(r,"p-datatable-dragpoint-bottom")),t.setAttribute("data-p-datatable-dragpoint-bottom","false"),!this.isUnstyled&&lu(t,"p-datatable-dragpoint-bottom"),t.setAttribute("data-p-datatable-dragpoint-top","false"),!this.isUnstyled&&lu(t,"p-datatable-dragpoint-top")},onRowDragEnd:function(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null,e.currentTarget.draggable=!1},onRowDrop:function(e){if(this.droppedRowIndex!=null){var t=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1,r=Pn(this.processedData);H3(r,this.draggedRowIndex+this.d_first,t+this.d_first),this.$emit("row-reorder",{originalEvent:e,dragIndex:this.draggedRowIndex,dropIndex:t,value:r})}this.onRowDragLeave(e),this.onRowDragEnd(e),e.preventDefault()},toggleRow:function(e){var t=this,r=e.expanded,o=aNe(e,iNe),i=e.data,a;if(this.dataKey){var s=Et(i,this.dataKey);a=this.expandedRows?ui({},this.expandedRows):{},r?a[s]=!0:delete a[s]}else a=this.expandedRows?Pn(this.expandedRows):[],r?a.push(i):a=a.filter(function(l){return!t.equals(i,l)});this.$emit("update:expandedRows",a),r?this.$emit("row-expand",o):this.$emit("row-collapse",o)},toggleRowGroup:function(e){var t=e.originalEvent,r=e.data,o=Et(r,this.groupRowsBy),i=this.expandedRowGroups?Pn(this.expandedRowGroups):[];this.isRowGroupExpanded(r)?(i=i.filter(function(a){return a!==o}),this.$emit("update:expandedRowGroups",i),this.$emit("rowgroup-collapse",{originalEvent:t,data:o})):(i.push(o),this.$emit("update:expandedRowGroups",i),this.$emit("rowgroup-expand",{originalEvent:t,data:o}))},isRowGroupExpanded:function(e){if(this.expandableRowGroups&&this.expandedRowGroups){var t=Et(e,this.groupRowsBy);return this.expandedRowGroups.indexOf(t)>-1}return!1},isStateful:function(){return this.stateKey!=null},getStorage:function(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}},saveState:function(){var e=this.getStorage(),t={};this.paginator&&(t.first=this.d_first,t.rows=this.d_rows),this.d_sortField&&(t.sortField=this.d_sortField,t.sortOrder=this.d_sortOrder),this.d_multiSortMeta&&(t.multiSortMeta=this.d_multiSortMeta),this.hasFilters&&(t.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(t),this.reorderableColumns&&(t.columnOrder=this.d_columnOrder),this.expandedRows&&(t.expandedRows=this.expandedRows),this.expandedRowGroups&&(t.expandedRowGroups=this.expandedRowGroups),this.selection&&(t.selection=this.selection,t.selectionKeys=this.d_selectionKeys),Object.keys(t).length&&e.setItem(this.stateKey,JSON.stringify(t)),this.$emit("state-save",t)},restoreState:function(){var e=this.getStorage(),t=e.getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,o=function(s,l){return typeof l=="string"&&r.test(l)?new Date(l):l};if(t){var i=JSON.parse(t,o);this.paginator&&(this.d_first=i.first,this.d_rows=i.rows),i.sortField&&(this.d_sortField=i.sortField,this.d_sortOrder=i.sortOrder),i.multiSortMeta&&(this.d_multiSortMeta=i.multiSortMeta),i.filters&&this.$emit("update:filters",i.filters),this.resizableColumns&&(this.columnWidthsState=i.columnWidths,this.tableWidthState=i.tableWidth),this.reorderableColumns&&(this.d_columnOrder=i.columnOrder),i.expandedRows&&this.$emit("update:expandedRows",i.expandedRows),i.expandedRowGroups&&this.$emit("update:expandedRowGroups",i.expandedRowGroups),i.selection&&(this.d_selectionKeys=i.d_selectionKeys,this.$emit("update:selection",i.selection)),this.$emit("state-restore",i)}},saveColumnWidths:function(e){var t=[],r=df(this.$el,'thead[data-pc-section="thead"] > tr > th');r.forEach(function(o){return t.push(ji(o))}),e.columnWidths=t.join(","),this.columnResizeMode==="expand"&&(e.tableWidth=ji(this.$refs.table)+"px")},addColumnWidthStyles:function(e){this.createStyleElement();var t="",r='[data-pc-name="datatable"]['.concat(this.attributeSelector,'] > [data-pc-section="tablecontainer"] ').concat(this.virtualScrollerDisabled?"":'> [data-pc-name="virtualscroller"]',' > table[data-pc-section="table"]');e.forEach(function(o,i){var a="width: ".concat(o,"px !important; max-width: ").concat(o,"px !important");t+=`
        `.concat(r,' > thead[data-pc-section="thead"] > tr > th:nth-child(').concat(i+1,`),
        `).concat(r,' > tbody[data-pc-section="tbody"] > tr > td:nth-child(').concat(i+1,`),
        `).concat(r,' > tfoot[data-pc-section="tfoot"] > tr > td:nth-child(').concat(i+1,`) {
            `).concat(a,`
        }
    `)}),this.styleElement.innerHTML=t},restoreColumnWidths:function(){if(this.columnWidthsState){var e=this.columnWidthsState.split(",");this.columnResizeMode==="expand"&&this.tableWidthState&&(this.$refs.table.style.width=this.tableWidthState,this.$refs.table.style.minWidth=this.tableWidthState),Bt(e)&&this.addColumnWidthStyles(e)}},onCellEditInit:function(e){this.$emit("cell-edit-init",e)},onCellEditComplete:function(e){this.$emit("cell-edit-complete",e)},onCellEditCancel:function(e){this.$emit("cell-edit-cancel",e)},onRowEditInit:function(e){var t=this.editingRows?Pn(this.editingRows):[];t.push(e.data),this.$emit("update:editingRows",t),this.$emit("row-edit-init",e)},onRowEditSave:function(e){var t=Pn(this.editingRows);t.splice(this.findIndex(e.data,t),1),this.$emit("update:editingRows",t),this.$emit("row-edit-save",e)},onRowEditCancel:function(e){var t=Pn(this.editingRows);t.splice(this.findIndex(e.data,t),1),this.$emit("update:editingRows",t),this.$emit("row-edit-cancel",e)},onEditingMetaChange:function(e){var t=e.data,r=e.field,o=e.index,i=e.editing,a=ui({},this.d_editingMeta),s=a[o];if(i)!s&&(s=a[o]={data:ui({},t),fields:[]}),s.fields.push(r);else if(s){var l=s.fields.filter(function(u){return u!==r});l.length?s.fields=l:delete a[o]}this.d_editingMeta=a},clearEditingMetaData:function(){this.editMode&&(this.d_editingMeta={})},createLazyLoadEvent:function(e){return{originalEvent:e,first:this.d_first,rows:this.d_rows,sortField:this.d_sortField,sortOrder:this.d_sortOrder,multiSortMeta:this.d_multiSortMeta,filters:this.d_filters}},hasGlobalFilter:function(){return this.filters&&Object.prototype.hasOwnProperty.call(this.filters,"global")},onFilterChange:function(e){this.d_filters=e},onFilterApply:function(){this.d_first=0,this.$emit("update:first",this.d_first),this.$emit("update:filters",this.d_filters),this.lazy&&this.$emit("filter",this.createLazyLoadEvent())},cloneFilters:function(){var e={};return this.filters&&Object.entries(this.filters).forEach(function(t){var r=YV(t,2),o=r[0],i=r[1];e[o]=i.operator?{operator:i.operator,constraints:i.constraints.map(function(a){return ui({},a)})}:ui({},i)}),e},updateReorderableColumns:function(){var e=this,t=[];this.columns.forEach(function(r){return t.push(e.columnProp(r,"columnKey")||e.columnProp(r,"field"))}),this.d_columnOrder=t},createStyleElement:function(){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",uE(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement)},destroyStyleElement:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},dataToRender:function(e){var t=e||this.processedData;if(t&&this.paginator){var r=this.lazy?0:this.d_first;return t.slice(r,r+this.d_rows)}return t},getVirtualScrollerRef:function(){return this.$refs.virtualScroller},hasSpacerStyle:function(e){return Bt(e)}},computed:{columns:function(){var e=this.d_columns.get(this);if(this.reorderableColumns&&this.d_columnOrder){var t=[],r=Zg(this.d_columnOrder),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.findColumnByKey(e,i);a&&!this.columnProp(a,"hidden")&&t.push(a)}}catch(s){r.e(s)}finally{r.f()}return[].concat(t,Pn(e.filter(function(s){return t.indexOf(s)<0})))}return e},columnGroups:function(){return this.d_columnGroups.get(this)},headerColumnGroup:function(){var e,t=this;return(e=this.columnGroups)===null||e===void 0?void 0:e.find(function(r){return t.columnProp(r,"type")==="header"})},footerColumnGroup:function(){var e,t=this;return(e=this.columnGroups)===null||e===void 0?void 0:e.find(function(r){return t.columnProp(r,"type")==="footer"})},hasFilters:function(){return this.filters&&Object.keys(this.filters).length>0&&this.filters.constructor===Object},processedData:function(){var e,t=this.value||[];return!this.lazy&&!((e=this.virtualScrollerOptions)!==null&&e!==void 0&&e.lazy)&&t&&t.length&&(this.hasFilters&&(t=this.filter(t)),this.sorted&&(this.sortMode==="single"?t=this.sortSingle(t):this.sortMode==="multiple"&&(t=this.sortMultiple(t)))),t},totalRecordsLength:function(){if(this.lazy)return this.totalRecords;var e=this.processedData;return e?e.length:0},empty:function(){var e=this.processedData;return!e||e.length===0},paginatorTop:function(){return this.paginator&&(this.paginatorPosition!=="bottom"||this.paginatorPosition==="both")},paginatorBottom:function(){return this.paginator&&(this.paginatorPosition!=="top"||this.paginatorPosition==="both")},sorted:function(){return this.d_sortField||this.d_multiSortMeta&&this.d_multiSortMeta.length>0},allRowsSelected:function(){var e=this;if(this.selectAll!==null)return this.selectAll;var t=this.frozenValue?[].concat(Pn(this.frozenValue),Pn(this.processedData)):this.processedData;return Bt(t)&&this.selection&&Array.isArray(this.selection)&&t.every(function(r){return e.selection.some(function(o){return e.equals(o,r)})})},attributeSelector:function(){return oa()},groupRowSortField:function(){return this.sortMode==="single"?this.sortField:this.d_groupRowsSortMeta?this.d_groupRowsSortMeta.field:null},headerFilterButtonProps:function(){return ui(ui({filter:{severity:"secondary",text:!0,rounded:!0}},this.filterButtonProps),{},{inline:ui({clear:{severity:"secondary",text:!0,rounded:!0}},this.filterButtonProps.inline),popover:ui({addRule:{severity:"info",text:!0,size:"small"},removeRule:{severity:"danger",text:!0,size:"small"},apply:{size:"small"},clear:{outlined:!0,size:"small"}},this.filterButtonProps.popover)})},rowEditButtonProps:function(){return ui(ui({},{init:{severity:"secondary",text:!0,rounded:!0},save:{severity:"secondary",text:!0,rounded:!0},cancel:{severity:"secondary",text:!0,rounded:!0}}),this.editButtonProps)},virtualScrollerDisabled:function(){return Qo(this.virtualScrollerOptions)||!this.scrollable}},components:{DTPaginator:FY,DTTableHeader:QY,DTTableBody:qY,DTTableFooter:ZY,DTVirtualScroller:JP,ArrowDownIcon:pY,ArrowUpIcon:gY,SpinnerIcon:e0}};function sy(n){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(n)}function ZV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function JV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZV(Object(t),!0).forEach(function(r){mNe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mNe(n,e,t){return(e=yNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yNe(n){var e=bNe(n,"string");return sy(e)=="symbol"?e:e+""}function bNe(n,e){if(sy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wNe(n,e,t,r,o,i){var a=Je("SpinnerIcon"),s=Je("DTPaginator"),l=Je("DTTableHeader"),u=Je("DTTableBody"),c=Je("DTTableFooter"),d=Je("DTVirtualScroller");return B(),ne("div",H({class:n.cx("root"),"data-scrollselectors":".p-datatable-wrapper"},n.ptmi("root")),[He(n.$slots,"default"),n.loading?(B(),ne("div",H({key:0,class:n.cx("mask")},n.ptm("mask")),[n.$slots.loading?He(n.$slots,"loading",{key:0}):(B(),ne(st,{key:1},[n.$slots.loadingicon?(B(),be(mt(n.$slots.loadingicon),{key:0,class:bt(n.cx("loadingIcon"))},null,8,["class"])):n.loadingIcon?(B(),ne("i",H({key:1,class:[n.cx("loadingIcon"),"pi-spin",n.loadingIcon]},n.ptm("loadingIcon")),null,16)):(B(),be(a,H({key:2,spin:"",class:n.cx("loadingIcon")},n.ptm("loadingIcon")),null,16,["class"]))],64))],16)):Oe("",!0),n.$slots.header?(B(),ne("div",H({key:1,class:n.cx("header")},n.ptm("header")),[He(n.$slots,"header")],16)):Oe("",!0),i.paginatorTop?(B(),be(s,{key:2,rows:o.d_rows,first:o.d_first,totalRecords:i.totalRecordsLength,pageLinkSize:n.pageLinkSize,template:n.paginatorTemplate,rowsPerPageOptions:n.rowsPerPageOptions,currentPageReportTemplate:n.currentPageReportTemplate,class:bt(n.cx("pcPaginator",{position:"top"})),onPage:e[0]||(e[0]=function(h){return i.onPage(h)}),alwaysShow:n.alwaysShowPaginator,unstyled:n.unstyled,pt:n.ptm("pcPaginator")},Zf({_:2},[n.$slots.paginatorstart?{name:"start",fn:ut(function(){return[He(n.$slots,"paginatorstart")]}),key:"0"}:void 0,n.$slots.paginatorend?{name:"end",fn:ut(function(){return[He(n.$slots,"paginatorend")]}),key:"1"}:void 0,n.$slots.paginatorfirstpagelinkicon?{name:"firstpagelinkicon",fn:ut(function(h){return[He(n.$slots,"paginatorfirstpagelinkicon",{class:bt(h.class)})]}),key:"2"}:void 0,n.$slots.paginatorprevpagelinkicon?{name:"prevpagelinkicon",fn:ut(function(h){return[He(n.$slots,"paginatorprevpagelinkicon",{class:bt(h.class)})]}),key:"3"}:void 0,n.$slots.paginatornextpagelinkicon?{name:"nextpagelinkicon",fn:ut(function(h){return[He(n.$slots,"paginatornextpagelinkicon",{class:bt(h.class)})]}),key:"4"}:void 0,n.$slots.paginatorlastpagelinkicon?{name:"lastpagelinkicon",fn:ut(function(h){return[He(n.$slots,"paginatorlastpagelinkicon",{class:bt(h.class)})]}),key:"5"}:void 0,n.$slots.paginatorjumptopagedropdownicon?{name:"jumptopagedropdownicon",fn:ut(function(h){return[He(n.$slots,"paginatorjumptopagedropdownicon",{class:bt(h.class)})]}),key:"6"}:void 0,n.$slots.paginatorrowsperpagedropdownicon?{name:"rowsperpagedropdownicon",fn:ut(function(h){return[He(n.$slots,"paginatorrowsperpagedropdownicon",{class:bt(h.class)})]}),key:"7"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","class","alwaysShow","unstyled","pt"])):Oe("",!0),ke("div",H({class:n.cx("tableContainer"),style:[n.sx("tableContainer"),{maxHeight:i.virtualScrollerDisabled?n.scrollHeight:""}]},n.ptm("tableContainer")),[je(d,H({ref:"virtualScroller"},n.virtualScrollerOptions,{items:i.processedData,columns:i.columns,style:n.scrollHeight!=="flex"?{height:n.scrollHeight}:void 0,scrollHeight:n.scrollHeight!=="flex"?void 0:"100%",disabled:i.virtualScrollerDisabled,loaderDisabled:"",inline:"",autoSize:"",showSpacer:!1,pt:n.ptm("virtualScroller")}),{content:ut(function(h){return[ke("table",H({ref:"table",role:"table",class:[n.cx("table"),n.tableClass],style:[n.tableStyle,h.spacerStyle]},JV(JV({},n.tableProps),n.ptm("table"))),[je(l,{columnGroup:i.headerColumnGroup,columns:h.columns,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,groupRowSortField:i.groupRowSortField,reorderableColumns:n.reorderableColumns,resizableColumns:n.resizableColumns,allRowsSelected:i.allRowsSelected,empty:i.empty,sortMode:n.sortMode,sortField:o.d_sortField,sortOrder:o.d_sortOrder,multiSortMeta:o.d_multiSortMeta,filters:o.d_filters,filtersStore:n.filters,filterDisplay:n.filterDisplay,filterButtonProps:i.headerFilterButtonProps,filterInputProps:n.filterInputProps,first:o.d_first,onColumnClick:e[1]||(e[1]=function(f){return i.onColumnHeaderClick(f)}),onColumnMousedown:e[2]||(e[2]=function(f){return i.onColumnHeaderMouseDown(f)}),onFilterChange:i.onFilterChange,onFilterApply:i.onFilterApply,onColumnDragstart:e[3]||(e[3]=function(f){return i.onColumnHeaderDragStart(f)}),onColumnDragover:e[4]||(e[4]=function(f){return i.onColumnHeaderDragOver(f)}),onColumnDragleave:e[5]||(e[5]=function(f){return i.onColumnHeaderDragLeave(f)}),onColumnDrop:e[6]||(e[6]=function(f){return i.onColumnHeaderDrop(f)}),onColumnResizestart:e[7]||(e[7]=function(f){return i.onColumnResizeStart(f)}),onCheckboxChange:e[8]||(e[8]=function(f){return i.toggleRowsWithCheckbox(f)}),unstyled:n.unstyled,pt:n.pt},null,8,["columnGroup","columns","rowGroupMode","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","allRowsSelected","empty","sortMode","sortField","sortOrder","multiSortMeta","filters","filtersStore","filterDisplay","filterButtonProps","filterInputProps","first","onFilterChange","onFilterApply","unstyled","pt"]),n.frozenValue?(B(),be(u,{key:0,ref:"frozenBodyRef",value:n.frozenValue,frozenRow:!0,columns:h.columns,first:o.d_first,dataKey:n.dataKey,selection:n.selection,selectionKeys:o.d_selectionKeys,selectionMode:n.selectionMode,contextMenu:n.contextMenu,contextMenuSelection:n.contextMenuSelection,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,expandableRowGroups:n.expandableRowGroups,rowClass:n.rowClass,rowStyle:n.rowStyle,editMode:n.editMode,compareSelectionBy:n.compareSelectionBy,scrollable:n.scrollable,expandedRowIcon:n.expandedRowIcon,collapsedRowIcon:n.collapsedRowIcon,expandedRows:n.expandedRows,expandedRowGroups:n.expandedRowGroups,editingRows:n.editingRows,editingRowKeys:o.d_editingRowKeys,templates:n.$slots,editButtonProps:i.rowEditButtonProps,isVirtualScrollerDisabled:!0,onRowgroupToggle:i.toggleRowGroup,onRowClick:e[9]||(e[9]=function(f){return i.onRowClick(f)}),onRowDblclick:e[10]||(e[10]=function(f){return i.onRowDblClick(f)}),onRowRightclick:e[11]||(e[11]=function(f){return i.onRowRightClick(f)}),onRowTouchend:i.onRowTouchEnd,onRowKeydown:i.onRowKeyDown,onRowMousedown:i.onRowMouseDown,onRowDragstart:e[12]||(e[12]=function(f){return i.onRowDragStart(f)}),onRowDragover:e[13]||(e[13]=function(f){return i.onRowDragOver(f)}),onRowDragleave:e[14]||(e[14]=function(f){return i.onRowDragLeave(f)}),onRowDragend:e[15]||(e[15]=function(f){return i.onRowDragEnd(f)}),onRowDrop:e[16]||(e[16]=function(f){return i.onRowDrop(f)}),onRowToggle:e[17]||(e[17]=function(f){return i.toggleRow(f)}),onRadioChange:e[18]||(e[18]=function(f){return i.toggleRowWithRadio(f)}),onCheckboxChange:e[19]||(e[19]=function(f){return i.toggleRowWithCheckbox(f)}),onCellEditInit:e[20]||(e[20]=function(f){return i.onCellEditInit(f)}),onCellEditComplete:e[21]||(e[21]=function(f){return i.onCellEditComplete(f)}),onCellEditCancel:e[22]||(e[22]=function(f){return i.onCellEditCancel(f)}),onRowEditInit:e[23]||(e[23]=function(f){return i.onRowEditInit(f)}),onRowEditSave:e[24]||(e[24]=function(f){return i.onRowEditSave(f)}),onRowEditCancel:e[25]||(e[25]=function(f){return i.onRowEditCancel(f)}),editingMeta:o.d_editingMeta,onEditingMetaChange:i.onEditingMetaChange,unstyled:n.unstyled,pt:n.pt},null,8,["value","columns","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowGroups","editingRows","editingRowKeys","templates","editButtonProps","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange","unstyled","pt"])):Oe("",!0),je(u,{ref:"bodyRef",value:i.dataToRender(h.rows),class:bt(h.styleClass),columns:h.columns,empty:i.empty,first:o.d_first,dataKey:n.dataKey,selection:n.selection,selectionKeys:o.d_selectionKeys,selectionMode:n.selectionMode,contextMenu:n.contextMenu,contextMenuSelection:n.contextMenuSelection,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,expandableRowGroups:n.expandableRowGroups,rowClass:n.rowClass,rowStyle:n.rowStyle,editMode:n.editMode,compareSelectionBy:n.compareSelectionBy,scrollable:n.scrollable,expandedRowIcon:n.expandedRowIcon,collapsedRowIcon:n.collapsedRowIcon,expandedRows:n.expandedRows,expandedRowGroups:n.expandedRowGroups,editingRows:n.editingRows,editingRowKeys:o.d_editingRowKeys,templates:n.$slots,editButtonProps:i.rowEditButtonProps,virtualScrollerContentProps:h,isVirtualScrollerDisabled:i.virtualScrollerDisabled,onRowgroupToggle:i.toggleRowGroup,onRowClick:e[26]||(e[26]=function(f){return i.onRowClick(f)}),onRowDblclick:e[27]||(e[27]=function(f){return i.onRowDblClick(f)}),onRowRightclick:e[28]||(e[28]=function(f){return i.onRowRightClick(f)}),onRowTouchend:i.onRowTouchEnd,onRowKeydown:function(p){return i.onRowKeyDown(p,h)},onRowMousedown:i.onRowMouseDown,onRowDragstart:e[29]||(e[29]=function(f){return i.onRowDragStart(f)}),onRowDragover:e[30]||(e[30]=function(f){return i.onRowDragOver(f)}),onRowDragleave:e[31]||(e[31]=function(f){return i.onRowDragLeave(f)}),onRowDragend:e[32]||(e[32]=function(f){return i.onRowDragEnd(f)}),onRowDrop:e[33]||(e[33]=function(f){return i.onRowDrop(f)}),onRowToggle:e[34]||(e[34]=function(f){return i.toggleRow(f)}),onRadioChange:e[35]||(e[35]=function(f){return i.toggleRowWithRadio(f)}),onCheckboxChange:e[36]||(e[36]=function(f){return i.toggleRowWithCheckbox(f)}),onCellEditInit:e[37]||(e[37]=function(f){return i.onCellEditInit(f)}),onCellEditComplete:e[38]||(e[38]=function(f){return i.onCellEditComplete(f)}),onCellEditCancel:e[39]||(e[39]=function(f){return i.onCellEditCancel(f)}),onRowEditInit:e[40]||(e[40]=function(f){return i.onRowEditInit(f)}),onRowEditSave:e[41]||(e[41]=function(f){return i.onRowEditSave(f)}),onRowEditCancel:e[42]||(e[42]=function(f){return i.onRowEditCancel(f)}),editingMeta:o.d_editingMeta,onEditingMetaChange:i.onEditingMetaChange,unstyled:n.unstyled,pt:n.pt},null,8,["value","class","columns","empty","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowGroups","editingRows","editingRowKeys","templates","editButtonProps","virtualScrollerContentProps","isVirtualScrollerDisabled","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange","unstyled","pt"]),i.hasSpacerStyle(h.spacerStyle)?(B(),ne("tbody",H({key:1,class:n.cx("virtualScrollerSpacer"),style:{height:"calc(".concat(h.spacerStyle.height," - ").concat(h.rows.length*h.itemSize,"px)")}},n.ptm("virtualScrollerSpacer")),null,16)):Oe("",!0),je(c,{columnGroup:i.footerColumnGroup,columns:h.columns,pt:n.pt},null,8,["columnGroup","columns","pt"])],16)]}),_:1},16,["items","columns","style","scrollHeight","disabled","pt"])],16),i.paginatorBottom?(B(),be(s,{key:3,rows:o.d_rows,first:o.d_first,totalRecords:i.totalRecordsLength,pageLinkSize:n.pageLinkSize,template:n.paginatorTemplate,rowsPerPageOptions:n.rowsPerPageOptions,currentPageReportTemplate:n.currentPageReportTemplate,class:bt(n.cx("pcPaginator",{position:"bottom"})),onPage:e[43]||(e[43]=function(h){return i.onPage(h)}),alwaysShow:n.alwaysShowPaginator,unstyled:n.unstyled,pt:n.ptm("pcPaginator")},Zf({_:2},[n.$slots.paginatorstart?{name:"start",fn:ut(function(){return[He(n.$slots,"paginatorstart")]}),key:"0"}:void 0,n.$slots.paginatorend?{name:"end",fn:ut(function(){return[He(n.$slots,"paginatorend")]}),key:"1"}:void 0,n.$slots.paginatorfirstpagelinkicon?{name:"firstpagelinkicon",fn:ut(function(h){return[He(n.$slots,"paginatorfirstpagelinkicon",{class:bt(h.class)})]}),key:"2"}:void 0,n.$slots.paginatorprevpagelinkicon?{name:"prevpagelinkicon",fn:ut(function(h){return[He(n.$slots,"paginatorprevpagelinkicon",{class:bt(h.class)})]}),key:"3"}:void 0,n.$slots.paginatornextpagelinkicon?{name:"nextpagelinkicon",fn:ut(function(h){return[He(n.$slots,"paginatornextpagelinkicon",{class:bt(h.class)})]}),key:"4"}:void 0,n.$slots.paginatorlastpagelinkicon?{name:"lastpagelinkicon",fn:ut(function(h){return[He(n.$slots,"paginatorlastpagelinkicon",{class:bt(h.class)})]}),key:"5"}:void 0,n.$slots.paginatorjumptopagedropdownicon?{name:"jumptopagedropdownicon",fn:ut(function(h){return[He(n.$slots,"paginatorjumptopagedropdownicon",{class:bt(h.class)})]}),key:"6"}:void 0,n.$slots.paginatorrowsperpagedropdownicon?{name:"rowsperpagedropdownicon",fn:ut(function(h){return[He(n.$slots,"paginatorrowsperpagedropdownicon",{class:bt(h.class)})]}),key:"7"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","class","alwaysShow","unstyled","pt"])):Oe("",!0),n.$slots.footer?(B(),ne("div",H({key:4,class:n.cx("footer")},n.ptm("footer")),[He(n.$slots,"footer")],16)):Oe("",!0),ke("div",H({ref:"resizeHelper",class:n.cx("columnResizeIndicator"),style:{display:"none"}},n.ptm("columnResizeIndicator")),null,16),n.reorderableColumns?(B(),ne("span",H({key:5,ref:"reorderIndicatorUp",class:n.cx("rowReorderIndicatorUp"),style:{position:"absolute",display:"none"}},n.ptm("rowReorderIndicatorUp")),[(B(),be(mt(n.$slots.rowreorderindicatorupicon||n.$slots.reorderindicatorupicon||"ArrowDownIcon")))],16)):Oe("",!0),n.reorderableColumns?(B(),ne("span",H({key:6,ref:"reorderIndicatorDown",class:n.cx("rowReorderIndicatorDown"),style:{position:"absolute",display:"none"}},n.ptm("rowReorderIndicatorDown")),[(B(),be(mt(n.$slots.rowreorderindicatordownicon||n.$slots.reorderindicatordownicon||"ArrowUpIcon")))],16)):Oe("",!0)],16)}eZ.render=wNe;var xNe=Ft.extend({name:"column"}),SNe={name:"BaseColumn",extends:Ot,props:{columnKey:{type:null,default:null},field:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},filterField:{type:[String,Function],default:null},dataType:{type:String,default:"text"},sortable:{type:Boolean,default:!1},header:{type:null,default:null},footer:{type:null,default:null},style:{type:null,default:null},class:{type:String,default:null},headerStyle:{type:null,default:null},headerClass:{type:String,default:null},bodyStyle:{type:null,default:null},bodyClass:{type:String,default:null},footerStyle:{type:null,default:null},footerClass:{type:String,default:null},showFilterMenu:{type:Boolean,default:!0},showFilterOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showFilterMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},filterMatchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},excludeGlobalFilter:{type:Boolean,default:!1},filterHeaderClass:{type:String,default:null},filterHeaderStyle:{type:null,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},selectionMode:{type:String,default:null},expander:{type:Boolean,default:!1},colspan:{type:Number,default:null},rowspan:{type:Number,default:null},rowReorder:{type:Boolean,default:!1},rowReorderIcon:{type:String,default:void 0},reorderableColumn:{type:Boolean,default:!0},rowEditor:{type:Boolean,default:!1},frozen:{type:Boolean,default:!1},alignFrozen:{type:String,default:"left"},exportable:{type:Boolean,default:!0},exportHeader:{type:String,default:null},exportFooter:{type:String,default:null},filterMatchMode:{type:String,default:null},hidden:{type:Boolean,default:!1}},style:xNe,provide:function(){return{$pcColumn:this,$parentInstance:this}}},CNe={name:"Column",extends:SNe,inheritAttrs:!1,inject:["$columns"],mounted:function(){var e;(e=this.$columns)===null||e===void 0||e.add(this.$)},unmounted:function(){var e;(e=this.$columns)===null||e===void 0||e.delete(this.$)},render:function(){return null}},kNe=function(e){var t=e.dt;return`
.p-togglebutton {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: `.concat(t("togglebutton.color"),`;
    background: `).concat(t("togglebutton.background"),`;
    border: 1px solid `).concat(t("togglebutton.border.color"),`;
    padding: `).concat(t("togglebutton.padding"),`;
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background `).concat(t("togglebutton.transition.duration"),", color ").concat(t("togglebutton.transition.duration"),", border-color ").concat(t("togglebutton.transition.duration"),`,
        outline-color `).concat(t("togglebutton.transition.duration"),", box-shadow ").concat(t("togglebutton.transition.duration"),`;
    border-radius: `).concat(t("togglebutton.border.radius"),`;
    outline-color: transparent;
    font-weight: `).concat(t("togglebutton.font.weight"),`;
}

.p-togglebutton-content {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: `).concat(t("togglebutton.gap"),`;
}

.p-togglebutton-label,
.p-togglebutton-icon {
    position: relative;
    transition: none;
}

.p-togglebutton::before {
    content: "";
    background: transparent;
    transition: background `).concat(t("togglebutton.transition.duration"),", color ").concat(t("togglebutton.transition.duration"),", border-color ").concat(t("togglebutton.transition.duration"),`,
            outline-color `).concat(t("togglebutton.transition.duration"),", box-shadow ").concat(t("togglebutton.transition.duration"),`;
    position: absolute;
    left: `).concat(t("togglebutton.content.left"),`;
    top: `).concat(t("togglebutton.content.top"),`;
    width: calc(100% - calc(2 *  `).concat(t("togglebutton.content.left"),`));
    height: calc(100% - calc(2 *  `).concat(t("togglebutton.content.top"),`));
    border-radius: `).concat(t("togglebutton.border.radius"),`;
}

.p-togglebutton.p-togglebutton-checked::before {
    background: `).concat(t("togglebutton.content.checked.background"),`;
    box-shadow: `).concat(t("togglebutton.content.checked.shadow"),`;
}

.p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover {
    background: `).concat(t("togglebutton.hover.background"),`;
    color: `).concat(t("togglebutton.hover.color"),`;
}

.p-togglebutton.p-togglebutton-checked {
    background: `).concat(t("togglebutton.checked.background"),`;
    border-color: `).concat(t("togglebutton.checked.border.color"),`;
    color: `).concat(t("togglebutton.checked.color"),`;
}

.p-togglebutton:focus-visible {
    box-shadow: `).concat(t("togglebutton.focus.ring.shadow"),`;
    outline: `).concat(t("togglebutton.focus.ring.width")," ").concat(t("togglebutton.focus.ring.style")," ").concat(t("togglebutton.focus.ring.color"),`;
    outline-offset: `).concat(t("togglebutton.focus.ring.offset"),`;
}

.p-togglebutton.p-invalid {
    border-color: `).concat(t("togglebutton.invalid.border.color"),`;
}

.p-togglebutton:disabled {
    opacity: 1;
    cursor: default;
    background: `).concat(t("togglebutton.disabled.background"),`;
    border-color: `).concat(t("togglebutton.disabled.border.color"),`;
    color: `).concat(t("togglebutton.disabled.color"),`;
}

.p-togglebutton-icon {
    color: `).concat(t("togglebutton.icon.color"),`;
}

.p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover .p-togglebutton-icon {
    color: `).concat(t("togglebutton.icon.hover.color"),`;
}

.p-togglebutton.p-togglebutton-checked .p-togglebutton-icon {
    color: `).concat(t("togglebutton.icon.checked.color"),`;
}

.p-togglebutton:disabled .p-togglebutton-icon {
    color: `).concat(t("togglebutton.icon.disabled.color"),`;
}
`)},_Ne={root:function(e){var t=e.instance,r=e.props;return["p-togglebutton p-component",{"p-togglebutton-checked":t.active,"p-invalid":r.invalid}]},content:"p-togglebutton-content",icon:"p-togglebutton-icon",label:"p-togglebutton-label"},INe=Ft.extend({name:"togglebutton",theme:kNe,classes:_Ne}),TNe={name:"BaseToggleButton",extends:Ot,props:{modelValue:Boolean,onIcon:String,offIcon:String,onLabel:{type:String,default:"Yes"},offLabel:{type:String,default:"No"},iconPos:{type:String,default:"left"},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:INe,provide:function(){return{$pcToggleButton:this,$parentInstance:this}}},iM={name:"ToggleButton",extends:TNe,inheritAttrs:!1,emits:["update:modelValue","change"],methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{active:this.active,disabled:this.disabled}})},onChange:function(e){!this.disabled&&!this.readonly&&(this.$emit("update:modelValue",!this.modelValue),this.$emit("change",e))}},computed:{active:function(){return this.modelValue===!0},hasLabel:function(){return Bt(this.onLabel)&&Bt(this.offLabel)},label:function(){return this.hasLabel?this.modelValue?this.onLabel:this.offLabel:"&nbsp;"}},directives:{ripple:qa}},ANe=["tabindex","disabled","aria-pressed","aria-labelledby","data-p-checked","data-p-disabled"];function DNe(n,e,t,r,o,i){var a=Ks("ripple");return Ka((B(),ne("button",H({type:"button",class:n.cx("root"),tabindex:n.tabindex,disabled:n.disabled,"aria-pressed":n.modelValue,onClick:e[0]||(e[0]=function(){return i.onChange&&i.onChange.apply(i,arguments)})},i.getPTOptions("root"),{"aria-labelledby":n.ariaLabelledby,"data-p-checked":i.active,"data-p-disabled":n.disabled}),[ke("span",H({class:n.cx("content")},i.getPTOptions("content")),[He(n.$slots,"default",{},function(){return[He(n.$slots,"icon",{value:n.modelValue,class:bt(n.cx("icon"))},function(){return[n.onIcon||n.offIcon?(B(),ne("span",H({key:0,class:[n.cx("icon"),n.modelValue?n.onIcon:n.offIcon]},i.getPTOptions("icon")),null,16)):Oe("",!0)]}),ke("span",H({class:n.cx("label")},i.getPTOptions("label")),Bn(i.label),17)]})],16)],16,ANe)),[[a]])}iM.render=DNe;var RNe=function(e){var t=e.dt;return`
.p-selectbutton {
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    outline-color: transparent;
    border-radius: `.concat(t("selectbutton.border.radius"),`;
}

.p-selectbutton .p-togglebutton {
    border-radius: 0;
    border-width: 1px 1px 1px 0;
}

.p-selectbutton .p-togglebutton:focus-visible {
    position: relative;
    z-index: 1;
}

.p-selectbutton .p-togglebutton:first-child {
    border-left-width: 1px;
    border-top-left-radius: `).concat(t("selectbutton.border.radius"),`;
    border-bottom-left-radius: `).concat(t("selectbutton.border.radius"),`;
}

.p-selectbutton .p-togglebutton:last-child {
    border-top-right-radius: `).concat(t("selectbutton.border.radius"),`;
    border-bottom-right-radius: `).concat(t("selectbutton.border.radius"),`;
}

.p-selectbutton.p-invalid {
    outline: 1px solid `).concat(t("selectbutton.invalid.border.color"),`;
    outline-offset: 0;
}
`)},ENe={root:function(e){var t=e.props;return["p-selectbutton p-component",{"p-invalid":t.invalid}]}},$Ne=Ft.extend({name:"selectbutton",theme:RNe,classes:ENe}),PNe={name:"BaseSelectButton",extends:Ot,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,multiple:Boolean,allowEmpty:{type:Boolean,default:!0},invalid:{type:Boolean,default:!1},disabled:Boolean,dataKey:null,ariaLabelledby:{type:String,default:null}},style:$Ne,provide:function(){return{$pcSelectButton:this,$parentInstance:this}}};function MNe(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=tZ(n))||e){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){s=!0,i=u},f:function(){try{a||t.return==null||t.return()}finally{if(s)throw i}}}}function LNe(n){return FNe(n)||ONe(n)||tZ(n)||NNe()}function NNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZ(n,e){if(n){if(typeof n=="string")return jD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jD(n,e):void 0}}function ONe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function FNe(n){if(Array.isArray(n))return jD(n)}function jD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var nZ={name:"SelectButton",extends:PNe,inheritAttrs:!1,emits:["update:modelValue","change"],methods:{getOptionLabel:function(e){return this.optionLabel?Et(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Et(e,this.optionValue):e},getOptionRenderKey:function(e){return this.dataKey?Et(e,this.dataKey):this.getOptionLabel(e)},isOptionDisabled:function(e){return this.optionDisabled?Et(e,this.optionDisabled):!1},onOptionSelect:function(e,t,r){var o=this;if(!(this.disabled||this.isOptionDisabled(t))){var i=this.isSelected(t);if(!(i&&!this.allowEmpty)){var a=this.getOptionValue(t),s;this.multiple?i?s=this.modelValue.filter(function(l){return!_s(l,a,o.equalityKey)}):s=this.modelValue?[].concat(LNe(this.modelValue),[a]):[a]:s=i?null:a,this.$emit("update:modelValue",s),this.$emit("change",{event:e,value:s})}}},isSelected:function(e){var t=!1,r=this.getOptionValue(e);if(this.multiple){if(this.modelValue){var o=MNe(this.modelValue),i;try{for(o.s();!(i=o.n()).done;){var a=i.value;if(_s(a,r,this.equalityKey)){t=!0;break}}}catch(s){o.e(s)}finally{o.f()}}}else t=_s(this.modelValue,r,this.equalityKey);return t}},computed:{equalityKey:function(){return this.optionValue?null:this.dataKey}},directives:{ripple:qa},components:{ToggleButton:iM}},BNe=["aria-labelledby"];function zNe(n,e,t,r,o,i){var a=Je("ToggleButton");return B(),ne("div",H({class:n.cx("root"),role:"group","aria-labelledby":n.ariaLabelledby},n.ptmi("root")),[(B(!0),ne(st,null,vr(n.options,function(s,l){return B(),be(a,{key:i.getOptionRenderKey(s),modelValue:i.isSelected(s),onLabel:i.getOptionLabel(s),offLabel:i.getOptionLabel(s),disabled:n.disabled||i.isOptionDisabled(s),unstyled:n.unstyled,onChange:function(c){return i.onOptionSelect(c,s,l)},pt:n.ptm("pcToggleButton")},Zf({_:2},[n.$slots.option?{name:"default",fn:ut(function(){return[He(n.$slots,"option",{option:s,index:l},function(){return[ke("span",H({ref_for:!0},n.ptm("pcToggleButton").label),Bn(i.getOptionLabel(s)),17)]})]}),key:"0"}:void 0]),1032,["modelValue","onLabel","offLabel","disabled","unstyled","onChange","pt"])}),128))],16,BNe)}nZ.render=zNe;class rZ{static Alert(e,t,r="info",o=1e3){return window.Swal.fire({icon:r,title:e,text:t,timer:o})}static Loading(e){return window.Swal.fire({title:e,timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>window.Swal.showLoading()})}}Vl(rZ,"SummaryToJSON",e=>{const t={Layers:[]},r=e.findIndex(i=>i.startsWith("=")),o=e.findIndex((i,a)=>a>r&&i.startsWith("="));for(let i=r+1;i<o;i++){const a=e[i].trim();if(!a||a.startsWith("_"))continue;const s=a.split(/\s+/),l={Type:s[1]&&s[1].startsWith("(")?s[1].slice(1,-1):"",InputShape:s.find(u=>u.startsWith("[[")),OutputShape:s.find(u=>u.startsWith("[null")),Parameters:parseInt(s[s.length-1].replace(",",""))};t.Layers.push(l)}for(let i=o+1;i<e.length;i++){const a=e[i].trim();a.startsWith("Total params:")?t.TotalParameters=parseInt(a.split(":")[1].trim().replace(",","")):a.startsWith("Trainable params:")?t.TrainableParameters=parseInt(a.split(":")[1].trim().replace(",","")):a.startsWith("Non-trainable params:")&&(t.NonTrainableParameters=parseInt(a.split(":")[1].trim().replace(",","")))}return t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VNe=1e-7,GNe=1e-4;class oZ{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class aM{refCount(e){return zo("refCount")}incRef(e){return zo("incRef")}timerAvailable(){return!0}time(e){return zo("time")}read(e){return zo("read")}readSync(e){return zo("readSync")}readToGPU(e,t){return zo("readToGPU")}numDataIds(){return zo("numDataIds")}disposeData(e,t){return zo("disposeData")}write(e,t,r){return zo("write")}move(e,t,r,o,i){return zo("move")}createTensorFromGPUData(e,t,r){return zo("createTensorFromGPUData")}memory(){return zo("memory")}floatPrecision(){return zo("floatPrecision")}epsilon(){return this.floatPrecision()===32?VNe:GNe}dispose(){return zo("dispose")}}function zo(n){throw new Error(`'${n}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WNe(n){let e=n.length,t=0;for(;e>0;)t=Math.random()*e|0,e--,yf(n,e,t)}function Xd(n,e,t){return Math.max(n,Math.min(e,t))}function sM(n){return n%2===0?n:n+1}function yf(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function HNe(n){let e=0;for(let t=0;t<n.length;t++)e+=n[t];return e}function O(n,e){if(!n)throw new Error(typeof e=="string"?e:e())}function lM(n,e,t=""){O(an(n,e),()=>t+` Shapes ${n} and ${e} must match`)}function VC(n){O(n!=null,()=>"The input to the tensor constructor must be a non-null value.")}function ue(n){if(n.length===0)return 1;let e=n[0];for(let t=1;t<n.length;t++)e*=n[t];return e}function an(n,e){if(n===e)return!0;if(n==null||e==null||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function hp(n){return n%1===0}function KD(n){const e=Math.ceil(Math.sqrt(n));return[e,Math.ceil(n/e)]}function Uf(n,e){return e<=n.length?n:n+" ".repeat(e-n.length)}function QV(n,e=o=>0,t,r){return new Promise((o,i)=>{let a=0;const s=()=>{if(n()){o();return}a++;const l=e(a);if(t!=null&&a>=t){i();return}r!=null?r(s,l):setTimeout(s,l)};s()})}function iZ(n,e){let t=1,r=-1;for(let i=0;i<n.length;++i)if(n[i]>=0)t*=n[i];else if(n[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(n[i]<0)throw Error(`Shapes can not be < 0. Found ${n[i]} at dim ${i}`);if(r===-1){if(e>0&&e!==t)throw Error(`Size(${e}) must match the product of shape ${n}`);return n}if(t===0)throw Error(`Cannot infer the missing size in [${n}] when there are 0 elements`);if(e%t!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${t}`);const o=n.slice();return o[r]=e/t,o}function Mt(n,e){const t=e.length;return n=n==null?e.map((r,o)=>o):[].concat(n),O(n.every(r=>r>=-t&&r<t),()=>`All values in axis param must be in range [-${t}, ${t}) but got axis ${n}`),O(n.every(r=>hp(r)),()=>`All values in axis param must be integers but got axis ${n}`),n.map(r=>r<0?t+r:r)}function nc(n,e){const t=[],r=[],o=e!=null&&Array.isArray(e)&&e.length===0,i=e==null||o?null:Mt(e,n).sort();let a=0;for(let s=0;s<n.length;++s){if(i!=null){if(i[a]===s&&n[s]!==1)throw new Error(`Can't squeeze axis ${s} since its dim '${n[s]}' is not 1`);(i[a]==null||i[a]>s)&&n[s]===1&&(t.push(n[s]),r.push(s)),i[a]<=s&&a++}n[s]!==1&&(t.push(n[s]),r.push(s))}return{newShape:t,keptDims:r}}function Ur(n,e){return Wn(n,e)}function Wn(n,e){let t=null;if(n==null||n==="float32")t=new Float32Array(e);else if(n==="int32")t=new Int32Array(e);else if(n==="bool")t=new Uint8Array(e);else if(n==="string")t=new Array(e);else throw new Error(`Unknown data type ${n}`);return t}function UNe(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function jNe(n){return n==="bool"||n==="complex64"||n==="float32"||n==="int32"||n==="string"}function aZ(n,e){return!(e==="complex64"||e==="float32"&&n!=="complex64"||e==="int32"&&n!=="float32"&&n!=="complex64"||e==="bool"&&n==="bool")}function Ux(n){if(n==="float32"||n==="int32")return 4;if(n==="complex64")return 8;if(n==="bool")return 1;throw new Error(`Unknown dtype ${n}`)}function KNe(n){if(n==null)return 0;let e=0;return n.forEach(t=>e+=t.length),e}function n0(n){return typeof n=="string"||n instanceof String}function XNe(n){return typeof n=="boolean"}function XD(n){return typeof n=="number"}function Zp(n){return Array.isArray(n)?Zp(n[0]):n instanceof Float32Array?"float32":n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray?"int32":XD(n)?"float32":n0(n)?"string":XNe(n)?"bool":"float32"}function qD(n){return!!(n&&n.constructor&&n.call&&n.apply)}function YD(n,e){for(let t=e;t<n;++t)if(n%t===0)return t;return n}function tt(n){const e=n.length;if(e<2)return[];const t=new Array(e-1);t[e-2]=n[e-1];for(let r=e-3;r>=0;--r)t[r]=t[r+1]*n[r+1];return t}function sZ(n,e,t,r=!1){const o=new Array;if(e.length===1){const i=e[0]*(r?2:1);for(let a=0;a<i;a++)o[a]=t[n+a]}else{const i=e[0],a=e.slice(1),s=a.reduce((l,u)=>l*u)*(r?2:1);for(let l=0;l<i;l++)o[l]=sZ(n+l*s,a,t,r)}return o}function Na(n,e,t=!1){if(n.length===0)return e[0];const r=n.reduce((o,i)=>o*i)*(t?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${n}] does not match the input size ${e.length}${t?" for a complex tensor":""}.`);return sZ(0,n,e,t)}function qNe(n,e){if(Array.isArray(n))return n;if(e==="float32")return n instanceof Float32Array?n:new Float32Array(n);if(e==="int32")return n instanceof Int32Array?n:new Int32Array(n);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(n));throw new Error(`Unknown dtype ${e}`)}function uM(n,e){const t=jr(n,e);for(let r=0;r<t.length;r++)t[r]=1;return t}function jr(n,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(n);if(e==="int32")return new Int32Array(n);if(e==="bool")return new Uint8Array(n);throw new Error(`Unknown data type ${e}`)}function lZ(n,e){const t=n.reduce((r,o)=>r*o,1);if(e==null||e==="float32")return Na(n,new Float32Array(t));if(e==="int32")return Na(n,new Int32Array(t));if(e==="bool")return Na(n,new Uint8Array(t));throw new Error(`Unknown data type ${e}`)}function Ol(n){n.forEach(e=>{O(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${n}].`)})}function Rs(n,e,t){if(e===0)return 0;if(e===1)return n[0];let r=n[n.length-1];for(let o=0;o<n.length-1;++o)r+=t[o]*n[o];return r}function Jp(n,e,t){if(e===0)return[];if(e===1)return[n];const r=new Array(e);for(let o=0;o<r.length-1;++o)r[o]=Math.floor(n/t[o]),n-=r[o]*t[o];return r[r.length-1]=n,r}function cM(n){return n&&n.then&&typeof n.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e7="tfjsflags";class YNe{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=ZNe,this.populateURLFlags()}setPlatform(e,t){this.platform!=null&&(re().getBool("IS_TEST")||re().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,r){if(this.flagRegistry[e]={evaluationFn:t,setHook:r},this.urlFlags[e]!=null){const o=this.urlFlags[e];re().getBool("IS_TEST")||re().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${o}.`),this.set(e,o)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(cM(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);e7 in e&&e[e7].split(",").forEach(r=>{const[o,i]=r.split(":");this.urlFlags[o]=QNe(o,i)})}}function ZNe(n){const e={};return n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(t,...r)=>(JNe(e,r[0],r[1]),r.join("="))),e}function JNe(n,e,t){n[decodeURIComponent(e)]=decodeURIComponent(t||"")}function QNe(n,e){const t=e.toLowerCase();return t==="true"||t==="false"?t==="true":`${+t}`===t?+t:e}function re(){return uZ}let uZ=null;function e3e(n){uZ=n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let sT;function cZ(){if(sT==null){let n;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else if(typeof self<"u")n=self;else throw new Error("Could not find a global object");sT=n}return sT}function t3e(){const n=cZ();return n._tfGlobals==null&&(n._tfGlobals=new Map),n._tfGlobals}function dM(n,e){const t=t3e();if(t.has(n))return t.get(n);{const r=e();return t.set(n,r),t.get(n)}}const GC="Abs",r0="Acos",o0="Acosh",Qp="Add",hM="AddN",fM="All",pM="Any",WC="ArgMax",HC="ArgMin",i0="Asin",a0="Asinh",s0="Atan",l0="Atanh",u0="Atan2",UC="AvgPool",gM="AvgPoolGrad",jC="AvgPool3D",vM="AvgPool3DGrad",KC="BatchMatMul",XC="BatchToSpaceND",mM="Bincount",yM="BitwiseAnd",n3e="BroadcastTo",dZ="BroadcastArgs",c0="Cast",d0="Ceil",h0="ClipByValue",bM="Complex",qC="ComplexAbs",YC="Concat",ZC="Conv2D",wM="Conv2DBackpropFilter",JC="Conv2DBackpropInput",QC="Conv3D",xM="Conv3DBackpropFilterV2",SM="Conv3DBackpropInputV2",f0="Cos",p0="Cosh",CM="Cumprod",e2="Cumsum",kM="CropAndResize",_M="DenseBincount",IM="DepthToSpace",t2="DepthwiseConv2dNative",TM="DepthwiseConv2dNativeBackpropFilter",AM="DepthwiseConv2dNativeBackpropInput",hZ="Diag",n2="Dilation2D",ZD="Dilation2DBackpropInput",JD="Dilation2DBackpropFilter",r3e="Draw",g0="RealDiv",DM="Einsum",v0="Elu",RM="EluGrad",m0="Erf",r2="Equal",y0="Exp",o2="ExpandDims",b0="Expm1",EM="FFT",$M="Fill",PM="FlipLeftRight",w0="Floor",x0="FloorDiv",i2="FusedBatchNorm",a2="GatherV2",fZ="GatherNd",s2="Greater",S0="GreaterEqual",C0="Identity",MM="IFFT",LM="Imag",k0="IsFinite",_0="IsInf",I0="IsNan",l2="LeakyRelu",u2="Less",c2="LessEqual",pZ="LinSpace",T0="Log",A0="Log1p",d2="LogicalAnd",h2="LogicalNot",f2="LogicalOr",o3e="LogSoftmax",p2="LRN",NM="LRNGrad",g2="Max",D0="Maximum",v2="MaxPool",OM="MaxPoolGrad",m2="MaxPool3D",FM="MaxPool3DGrad",gZ="MaxPoolWithArgmax",y2="Mean",b2="Min",R0="Minimum",w2="MirrorPad",E0="Mod",vZ="Multinomial",$0="Multiply",x2="Neg",S2="NotEqual",BM="NonMaxSuppressionV3",zM="NonMaxSuppressionV4",VM="NonMaxSuppressionV5",C2="OnesLike",k2="OneHot",_2="Pack",I2="PadV2",P0="Pow",T2="Prelu",A2="Prod",mZ="RaggedGather",yZ="RaggedRange",bZ="RaggedTensorToTensor",GM="Range",WM="Real",M0="Reciprocal",L0="Relu",D2="Reshape",R2="ResizeNearestNeighbor",HM="ResizeNearestNeighborGrad",E2="ResizeBilinear",UM="ResizeBilinearGrad",N0="Relu6",$2="Reverse",O0="Round",F0="Rsqrt",wZ="ScatterNd",xZ="TensorScatterUpdate",SZ="SearchSorted",P2="Select",B0="Selu",M2="Slice",z0="Sin",V0="Sinh",G0="Sign",W0="Sigmoid",H0="Softplus",U0="Sqrt",L2="Sum",N2="SpaceToBatchND",O2="SplitV",F2="Softmax",CZ="SparseFillEmptyRows",kZ="SparseReshape",_Z="SparseSegmentMean",IZ="SparseSegmentSum",TZ="SparseToDense",j0="SquaredDifference",jM="Square",KM="StaticRegexReplace",XM="StridedSlice",AZ="StringNGrams",DZ="StringSplit",RZ="StringToHashBucketFast",K0="Sub",X0="Tan",q0="Tanh",Y0="Tile",qM="TopK",YM="Transform",jf="Transpose",ZM="Unique",B2="Unpack",z2="UnsortedSegmentSum",V2="ZerosLike",Z0="Step",QD="FromPixels",JM="RotateWithOffset",jx="_FusedMatMul",Kx="FusedConv2D",EZ="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pi(...n){re().getBool("IS_TEST")||re().getBool("PROD")||console.warn(...n)}function i3e(...n){re().getBool("IS_TEST")||re().getBool("PROD")||console.log(...n)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xx=dM("kernelRegistry",()=>new Map),eR=dM("gradRegistry",()=>new Map);function tR(n,e){const t=PZ(n,e);return Xx.get(t)}function t7(n){return eR.get(n)}function n7(n){const e=Xx.entries(),t=[];for(;;){const{done:r,value:o}=e.next();if(r)break;const[i,a]=o,[s]=i.split("_");s===n&&t.push(a)}return t}function $Z(n){const{kernelName:e,backendName:t}=n,r=PZ(e,t);Xx.has(r)&&pi(`The kernel '${e}' for backend '${t}' is already registered`),Xx.set(r,n)}function a3e(n){const{kernelName:e}=n;eR.has(e)&&re().getBool("DEBUG")&&pi(`Overriding the gradient for '${e}'`),eR.set(e,n)}function PZ(n,e){return`${e}_${n}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MZ(n){return n instanceof Float32Array||n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray}var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s3e(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function l3e(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var LZ=In,Xi=null;try{Xi=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function In(n,e,t){this.low=n|0,this.high=e|0,this.unsigned=!!t}In.prototype.__isLong__;Object.defineProperty(In.prototype,"__isLong__",{value:!0});function ii(n){return(n&&n.__isLong__)===!0}In.isLong=ii;var r7={},o7={};function Sh(n,e){var t,r,o;return e?(n>>>=0,(o=0<=n&&n<256)&&(r=o7[n],r)?r:(t=Tn(n,(n|0)<0?-1:0,!0),o&&(o7[n]=t),t)):(n|=0,(o=-128<=n&&n<128)&&(r=r7[n],r)?r:(t=Tn(n,n<0?-1:0,!1),o&&(r7[n]=t),t))}In.fromInt=Sh;function qi(n,e){if(isNaN(n))return e?xd:Yi;if(e){if(n<0)return xd;if(n>=NZ)return BZ}else{if(n<=-a7)return Xo;if(n+1>=a7)return FZ}return n<0?qi(-n,e).neg():Tn(n%fp|0,n/fp|0,e)}In.fromNumber=qi;function Tn(n,e,t){return new In(n,e,t)}In.fromBits=Tn;var qx=Math.pow;function QM(n,e,t){if(n.length===0)throw Error("empty string");if(n==="NaN"||n==="Infinity"||n==="+Infinity"||n==="-Infinity")return Yi;if(typeof e=="number"?(t=e,e=!1):e=!!e,t=t||10,t<2||36<t)throw RangeError("radix");var r;if((r=n.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return QM(n.substring(1),e,t).neg();for(var o=qi(qx(t,8)),i=Yi,a=0;a<n.length;a+=8){var s=Math.min(8,n.length-a),l=parseInt(n.substring(a,a+s),t);if(s<8){var u=qi(qx(t,s));i=i.mul(u).add(qi(l))}else i=i.mul(o),i=i.add(qi(l))}return i.unsigned=e,i}In.fromString=QM;function Ya(n,e){return typeof n=="number"?qi(n,e):typeof n=="string"?QM(n,e):Tn(n.low,n.high,typeof e=="boolean"?e:n.unsigned)}In.fromValue=Ya;var i7=65536,u3e=1<<24,fp=i7*i7,NZ=fp*fp,a7=NZ/2,s7=Sh(u3e),Yi=Sh(0);In.ZERO=Yi;var xd=Sh(0,!0);In.UZERO=xd;var Tf=Sh(1);In.ONE=Tf;var OZ=Sh(1,!0);In.UONE=OZ;var nR=Sh(-1);In.NEG_ONE=nR;var FZ=Tn(-1,2147483647,!1);In.MAX_VALUE=FZ;var BZ=Tn(-1,-1,!0);In.MAX_UNSIGNED_VALUE=BZ;var Xo=Tn(0,-2147483648,!1);In.MIN_VALUE=Xo;var Ne=In.prototype;Ne.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ne.toNumber=function(){return this.unsigned?(this.high>>>0)*fp+(this.low>>>0):this.high*fp+(this.low>>>0)};Ne.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Xo)){var t=qi(e),r=this.div(t),o=r.mul(t).sub(this);return r.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var i=qi(qx(e,6),this.unsigned),a=this,s="";;){var l=a.div(i),u=a.sub(l.mul(i)).toInt()>>>0,c=u.toString(e);if(a=l,a.isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}};Ne.getHighBits=function(){return this.high};Ne.getHighBitsUnsigned=function(){return this.high>>>0};Ne.getLowBits=function(){return this.low};Ne.getLowBitsUnsigned=function(){return this.low>>>0};Ne.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Xo)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return this.high!=0?t+33:t+1};Ne.isZero=function(){return this.high===0&&this.low===0};Ne.eqz=Ne.isZero;Ne.isNegative=function(){return!this.unsigned&&this.high<0};Ne.isPositive=function(){return this.unsigned||this.high>=0};Ne.isOdd=function(){return(this.low&1)===1};Ne.isEven=function(){return(this.low&1)===0};Ne.equals=function(e){return ii(e)||(e=Ya(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Ne.eq=Ne.equals;Ne.notEquals=function(e){return!this.eq(e)};Ne.neq=Ne.notEquals;Ne.ne=Ne.notEquals;Ne.lessThan=function(e){return this.comp(e)<0};Ne.lt=Ne.lessThan;Ne.lessThanOrEqual=function(e){return this.comp(e)<=0};Ne.lte=Ne.lessThanOrEqual;Ne.le=Ne.lessThanOrEqual;Ne.greaterThan=function(e){return this.comp(e)>0};Ne.gt=Ne.greaterThan;Ne.greaterThanOrEqual=function(e){return this.comp(e)>=0};Ne.gte=Ne.greaterThanOrEqual;Ne.ge=Ne.greaterThanOrEqual;Ne.compare=function(e){if(ii(e)||(e=Ya(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Ne.comp=Ne.compare;Ne.negate=function(){return!this.unsigned&&this.eq(Xo)?Xo:this.not().add(Tf)};Ne.neg=Ne.negate;Ne.add=function(e){ii(e)||(e=Ya(e));var t=this.high>>>16,r=this.high&65535,o=this.low>>>16,i=this.low&65535,a=e.high>>>16,s=e.high&65535,l=e.low>>>16,u=e.low&65535,c=0,d=0,h=0,f=0;return f+=i+u,h+=f>>>16,f&=65535,h+=o+l,d+=h>>>16,h&=65535,d+=r+s,c+=d>>>16,d&=65535,c+=t+a,c&=65535,Tn(h<<16|f,c<<16|d,this.unsigned)};Ne.subtract=function(e){return ii(e)||(e=Ya(e)),this.add(e.neg())};Ne.sub=Ne.subtract;Ne.multiply=function(e){if(this.isZero())return Yi;if(ii(e)||(e=Ya(e)),Xi){var t=Xi.mul(this.low,this.high,e.low,e.high);return Tn(t,Xi.get_high(),this.unsigned)}if(e.isZero())return Yi;if(this.eq(Xo))return e.isOdd()?Xo:Yi;if(e.eq(Xo))return this.isOdd()?Xo:Yi;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(s7)&&e.lt(s7))return qi(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,o=this.high&65535,i=this.low>>>16,a=this.low&65535,s=e.high>>>16,l=e.high&65535,u=e.low>>>16,c=e.low&65535,d=0,h=0,f=0,p=0;return p+=a*c,f+=p>>>16,p&=65535,f+=i*c,h+=f>>>16,f&=65535,f+=a*u,h+=f>>>16,f&=65535,h+=o*c,d+=h>>>16,h&=65535,h+=i*u,d+=h>>>16,h&=65535,h+=a*l,d+=h>>>16,h&=65535,d+=r*c+o*u+i*l+a*s,d&=65535,Tn(f<<16|p,d<<16|h,this.unsigned)};Ne.mul=Ne.multiply;Ne.divide=function(e){if(ii(e)||(e=Ya(e)),e.isZero())throw Error("division by zero");if(Xi){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var t=(this.unsigned?Xi.div_u:Xi.div_s)(this.low,this.high,e.low,e.high);return Tn(t,Xi.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?xd:Yi;var r,o,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return xd;if(e.gt(this.shru(1)))return OZ;i=xd}else{if(this.eq(Xo)){if(e.eq(Tf)||e.eq(nR))return Xo;if(e.eq(Xo))return Tf;var a=this.shr(1);return r=a.div(e).shl(1),r.eq(Yi)?e.isNegative()?Tf:nR:(o=this.sub(e.mul(r)),i=r.add(o.div(e)),i)}else if(e.eq(Xo))return this.unsigned?xd:Yi;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=Yi}for(o=this;o.gte(e);){r=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),l=s<=48?1:qx(2,s-48),u=qi(r),c=u.mul(e);c.isNegative()||c.gt(o);)r-=l,u=qi(r,this.unsigned),c=u.mul(e);u.isZero()&&(u=Tf),i=i.add(u),o=o.sub(c)}return i};Ne.div=Ne.divide;Ne.modulo=function(e){if(ii(e)||(e=Ya(e)),Xi){var t=(this.unsigned?Xi.rem_u:Xi.rem_s)(this.low,this.high,e.low,e.high);return Tn(t,Xi.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Ne.mod=Ne.modulo;Ne.rem=Ne.modulo;Ne.not=function(){return Tn(~this.low,~this.high,this.unsigned)};Ne.and=function(e){return ii(e)||(e=Ya(e)),Tn(this.low&e.low,this.high&e.high,this.unsigned)};Ne.or=function(e){return ii(e)||(e=Ya(e)),Tn(this.low|e.low,this.high|e.high,this.unsigned)};Ne.xor=function(e){return ii(e)||(e=Ya(e)),Tn(this.low^e.low,this.high^e.high,this.unsigned)};Ne.shiftLeft=function(e){return ii(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Tn(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Tn(0,this.low<<e-32,this.unsigned)};Ne.shl=Ne.shiftLeft;Ne.shiftRight=function(e){return ii(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Tn(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Tn(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Ne.shr=Ne.shiftRight;Ne.shiftRightUnsigned=function(e){if(ii(e)&&(e=e.toInt()),e&=63,e===0)return this;var t=this.high;if(e<32){var r=this.low;return Tn(r>>>e|t<<32-e,t>>>e,this.unsigned)}else return e===32?Tn(t,0,this.unsigned):Tn(t>>>e-32,0,this.unsigned)};Ne.shru=Ne.shiftRightUnsigned;Ne.shr_u=Ne.shiftRightUnsigned;Ne.toSigned=function(){return this.unsigned?Tn(this.low,this.high,!1):this};Ne.toUnsigned=function(){return this.unsigned?this:Tn(this.low,this.high,!0)};Ne.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Ne.toBytesLE=function(){var e=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Ne.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,t>>>24,t>>>16&255,t>>>8&255,t&255]};In.fromBytes=function(e,t,r){return r?In.fromBytesLE(e,t):In.fromBytesBE(e,t)};In.fromBytesLE=function(e,t){return new In(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)};In.fromBytesBE=function(e,t){return new In(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};const zZ=s3e(LZ),c3e=Vre({__proto__:null,default:zZ},[LZ]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cd=zZ||c3e;function G2(n){return cd.fromString(n,!0,16)}const VZ=G2("c3a5c85c97cb3127"),td=G2("b492b66fbe98f273"),ro=G2("9ae16a3b2f90404f");function rR(n){return n.xor(n.shru(47))}function GZ(n,e,t){const r=n.slice(e,e+t);return cd.fromBytes(Array.from(r),!0,!0)}function xn(n,e){return GZ(n,e,8)}function l7(n,e){return GZ(n,e,4)}function pr(n,e){return e===0?n:n.shru(e).or(n.shl(64-e))}function Eu(n,e,t=G2("9ddfea08eb382d69")){let r=n.xor(e).mul(t);r=r.xor(r.shru(47));let o=e.xor(r).mul(t);return o=o.xor(o.shru(47)),o=o.mul(t),o}function d3e(n,e,t,r,o,i){o=o.add(n),i=pr(i.add(o).add(r),21);const a=o;return o=o.add(e),o=o.add(t),i=i.add(pr(o,44)),[o.add(r),i.add(a)]}function O1(n,e,t,r){return d3e(xn(n,e),xn(n,e+8),xn(n,e+16),xn(n,e+24),t,r)}function h3e(n,e=n.length){if(e>=8){const t=ro.add(e*2),r=xn(n,0).add(ro),o=xn(n,e-8),i=pr(o,37).mul(t).add(r),a=pr(r,25).add(o).mul(t);return Eu(i,a,t)}if(e>=4){const t=ro.add(e*2),r=l7(n,0);return Eu(r.shl(3).add(e),l7(n,e-4),t)}if(e>0){const t=n[0],r=n[e>>1],o=n[e-1],i=t+(r<<8),a=e+(o<<2);return rR(ro.mul(i).xor(VZ.mul(a))).mul(ro)}return ro}function f3e(n,e=n.length){const t=ro.add(e*2),r=xn(n,0).mul(td),o=xn(n,8),i=xn(n,e-8).mul(t),a=xn(n,e-16).mul(ro);return Eu(pr(r.add(o),43).add(pr(i,30)).add(a),r.add(pr(o.add(ro),18)).add(i),t)}function p3e(n,e=n.length){const t=ro.add(e*2),r=xn(n,0).mul(ro),o=xn(n,8),i=xn(n,e-8).mul(t),a=xn(n,e-16).mul(ro),s=pr(r.add(o),43).add(pr(i,30)).add(a),l=Eu(s,r.add(pr(o.add(ro),18)).add(i),t),u=xn(n,16).mul(t),c=xn(n,24),d=s.add(xn(n,e-32)).mul(t),h=l.add(xn(n,e-24)).mul(t);return Eu(pr(u.add(c),43).add(pr(d,30)).add(h),u.add(pr(c.add(r),18)).add(d),t)}function g3e(n,e=n.length){const t=cd.fromNumber(81,!0);if(e<=32)return e<=16?h3e(n,e):f3e(n,e);if(e<=64)return p3e(n,e);let r=t,o=t.mul(td).add(113),i=rR(o.mul(ro).add(113)).mul(ro),a=[cd.UZERO,cd.UZERO],s=[cd.UZERO,cd.UZERO];r=r.mul(ro).add(xn(n,0));let l=0;const u=(e-1>>6)*64,c=u+(e-1&63)-63;do r=pr(r.add(o).add(a[0]).add(xn(n,l+8)),37).mul(td),o=pr(o.add(a[1]).add(xn(n,l+48)),42).mul(td),r=r.xor(s[1]),o=o.add(a[0]).add(xn(n,l+40)),i=pr(i.add(s[0]),33).mul(td),a=O1(n,l,a[1].mul(td),r.add(s[0])),s=O1(n,l+32,i.add(s[1]),o.add(xn(n,l+16))),[i,r]=[r,i],l+=64;while(l!==u);const d=td.add(i.and(255).shl(1));return l=c,s[0]=s[0].add(e-1&63),a[0]=a[0].add(s[0]),s[0]=s[0].add(a[0]),r=pr(r.add(o).add(a[0]).add(xn(n,l+8)),37).mul(d),o=pr(o.add(a[1]).add(xn(n,l+48)),42).mul(d),r=r.xor(s[1].mul(9)),o=o.add(a[0].mul(9).add(xn(n,l+40))),i=pr(i.add(s[0]),33).mul(d),a=O1(n,l,a[1].mul(d),r.add(s[0])),s=O1(n,l+32,i.add(s[1]),o.add(xn(n,l+16))),[i,r]=[r,i],Eu(Eu(a[0],s[0],d).add(rR(o).mul(VZ)).add(i),Eu(a[1],s[1],d).add(r),d)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rc(n,e){return e==="string"?$u(n):Ch([n],e)}function v3e(n,e){return n instanceof Float32Array&&e==="float32"||n instanceof Int32Array&&e==="int32"||n instanceof Uint8Array&&e==="bool"}function Ch(n,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(n)&&(n=qd(n)),re().getBool("DEBUG")&&UNe(n,e),v3e(n,e))return n;if(e==null||e==="float32"||e==="complex64")return new Float32Array(n);if(e==="int32")return new Int32Array(n);if(e==="bool"){const t=new Uint8Array(n.length);for(let r=0;r<t.length;++r)Math.round(n[r])!==0&&(t[r]=1);return t}else throw new Error(`Unknown data type ${e}`)}function xo(){return re().platform.now()}function $u(n,e="utf-8"){return e=e||"utf-8",re().platform.encode(n,e)}function Gu(n,e="utf-8"){return e=e||"utf-8",re().platform.decode(n,e)}function ia(n){return re().platform.isTypedArray!=null?re().platform.isTypedArray(n):MZ(n)}function qd(n,e=[],t=!1){if(e==null&&(e=[]),typeof n=="boolean"||typeof n=="number"||typeof n=="string"||cM(n)||n==null||ia(n)&&t)e.push(n);else if(Array.isArray(n)||ia(n))for(let r=0;r<n.length;++r)qd(n[r],e,t);else{let r=-1;for(const o of Object.keys(n))/^([1-9]+[0-9]*|0)$/.test(o)&&(r=Math.max(r,Number(o)));for(let o=0;o<=r;o++)qd(n[o],e,t)}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class m3e{constructor(e,t){this.backendTimer=e,this.logger=t,t==null&&(this.logger=new b3e)}profileKernel(e,t,r){let o;const i=()=>{o=r()};let a;const s=xo();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(i);else{i();for(const u of o)u.dataSync();a=Promise.resolve({kernelMs:xo()-s})}if(re().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<o.length;u++){const c=o[u];c.data().then(d=>{y3e(d,c.dtype,e)})}return{kernelName:e,outputs:o,inputs:t,timeMs:a.then(u=>u.kernelMs),extraInfo:a.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:t,outputs:r,timeMs:o,inputs:i,extraInfo:a}=e;r.forEach(s=>{Promise.all([s.data(),o,a]).then(l=>{this.logger.logKernelProfile(t,s,l[0],l[1],i,l[2])})})}}function y3e(n,e,t){if(e!=="float32")return!1;for(let r=0;r<n.length;r++){const o=n[r];if(isNaN(o)||!isFinite(o))return console.warn(`Found ${o} in the result of '${t}'`),!0}return!1}class b3e{logKernelProfile(e,t,r,o,i,a){const s=typeof o=="number"?Uf(`${o}ms`,9):o.error,l=Uf(e,25),u=t.rank,c=t.size,d=Uf(t.shape.toString(),14);let h="";for(const f in i){const p=i[f];if(p!=null){const g=p.shape||t.shape,v=g.length;h+=`${f}: ${v}D ${v>0?g:""} `}}console.log(`%c${l}	%c${s}	%c${u}D ${d}	%c${c}	%c${h}	%c${a}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w3e(n,e,t){const r={},o={};for(let l=0;l<e.length;l++)r[e[l].id]=!0;for(let l=0;l<n.length;l++){const u=n[l],c=u.inputs;for(const d in c){const h=c[d];let f=!1;for(let p=0;p<e.length;p++)if(r[h.id]){u.outputs.forEach(g=>r[g.id]=!0),f=!0,o[u.id]=!0;break}if(f)break}}const i={};i[t.id]=!0;const a={};for(let l=n.length-1;l>=0;l--){const u=n[l],c=u.inputs;for(let d=0;d<u.outputs.length;d++)if(i[u.outputs[d].id]){for(const h in c)i[c[h].id]=!0,a[u.id]=!0;break}}const s=[];for(let l=0;l<n.length;l++){const u=n[l];if(o[u.id]&&a[u.id]){const c={};for(const h in u.inputs){const f=u.inputs[h];r[f.id]&&(c[h]=f)}const d=Object.assign({},u);d.inputs=c,d.outputs=u.outputs,s.push(d)}}return s}function x3e(n,e,t,r){for(let o=e.length-1;o>=0;o--){const i=e[o],a=[];if(i.outputs.forEach(l=>{const u=n[l.id];u!=null?a.push(u):a.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const s=i.gradient(a);for(const l in i.inputs){if(!(l in s))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(s)}.`);const u=t(()=>s[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const c=i.inputs[l];if(!an(u.shape,c.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(n[c.id]==null)n[c.id]=u;else{const d=n[c.id];n[c.id]=r(d,u),d.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u7=20,Jg=3,lT=7;function S3e(n,e,t,r){const o=tt(e),i=C3e(n,e,t,o),a=e.length,s=kw(n,e,t,o,i),l=["Tensor"];return r&&(l.push(`  dtype: ${t}`),l.push(`  rank: ${a}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(s.map(u=>"    "+u).join(`
`)),l.join(`
`)}function C3e(n,e,t,r){const o=ue(e),i=r[r.length-1],a=new Array(i).fill(0),s=e.length,l=t==="complex64"?bv(n):n;if(s>1)for(let u=0;u<o/i;u++){const c=u*i;for(let d=0;d<i;d++)a[d]=Math.max(a[d],yv(l[c+d],0,t).length)}return a}function yv(n,e,t){let r;return Array.isArray(n)?r=`${parseFloat(n[0].toFixed(lT))} + ${parseFloat(n[1].toFixed(lT))}j`:n0(n)?r=`'${n}'`:t==="bool"?r=WZ(n):r=parseFloat(n.toFixed(lT)).toString(),Uf(r,e)}function WZ(n){return n===0?"false":"true"}function kw(n,e,t,r,o,i=!0){const a=t==="complex64"?2:1,s=e[0],l=e.length;if(l===0){if(t==="complex64"){const g=bv(n);return[yv(g[0],0,t)]}return t==="bool"?[WZ(n[0])]:[n[0].toString()]}if(l===1){if(s>u7){const v=Jg*a;let m=Array.from(n.slice(0,v)),y=Array.from(n.slice((s-Jg)*a,s*a));return t==="complex64"&&(m=bv(m),y=bv(y)),["["+m.map((b,w)=>yv(b,o[w],t)).join(", ")+", ..., "+y.map((b,w)=>yv(b,o[s-Jg+w],t)).join(", ")+"]"]}return["["+(t==="complex64"?bv(n):Array.from(n)).map((v,m)=>yv(v,o[m],t)).join(", ")+"]"]}const u=e.slice(1),c=r.slice(1),d=r[0]*a,h=[];if(s>u7){for(let g=0;g<Jg;g++){const v=g*d,m=v+d;h.push(...kw(n.slice(v,m),u,t,c,o,!1))}h.push("...");for(let g=s-Jg;g<s;g++){const v=g*d,m=v+d;h.push(...kw(n.slice(v,m),u,t,c,o,g===s-1))}}else for(let g=0;g<s;g++){const v=g*d,m=v+d;h.push(...kw(n.slice(v,m),u,t,c,o,g===s-1))}const f=l===2?",":"";h[0]="["+(s>0?h[0]+f:"");for(let g=1;g<h.length-1;g++)h[g]=" "+h[g]+f;let p=`,
`;for(let g=2;g<l;g++)p+=`
`;return h[h.length-1]=" "+h[h.length-1]+"]"+(i?"":p),h}function bv(n){const e=[];for(let t=0;t<n.length;t+=2)e.push([n[t],n[t+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Pr{constructor(e,t,r){if(this.dtype=t,this.shape=e.slice(),this.size=ue(e),r!=null){const o=r.length;O(o===this.size,()=>`Length of values '${o}' does not match the size inferred by the shape '${this.size}'.`)}if(t==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Wn(t,this.size),this.strides=tt(e)}set(e,...t){t.length===0&&(t=[0]),O(t.length===this.rank,()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`);const r=this.locToIndex(t);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let t=0;for(const o of e){if(o<0||o>=this.shape[t]){const i=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(i)}t++}let r=e[e.length-1];for(let o=0;o<e.length-1;++o)r+=this.strides[o]*e[o];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let t=e[e.length-1];for(let r=0;r<e.length-1;++r)t+=this.strides[r]*e[r];return t}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const t=new Array(this.shape.length);for(let r=0;r<t.length-1;++r)t[r]=Math.floor(e/this.strides[r]),e-=t[r]*this.strides[r];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return Ia().makeTensor(this.values,this.shape,this.dtype)}}let Ia=null,bf=null;function k3e(n){Ia=n}function _3e(n){bf=n}class or{constructor(e,t,r,o){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=ue(e),this.strides=tt(e),this.dataId=r,this.id=o,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return bf.buffer(this.shape,this.dtype,e)}bufferSync(){return bf.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Na(this.shape,e,this.dtype==="complex64")}arraySync(){return Na(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Ia().read(this.dataId);if(this.dtype==="string"){const t=await e;try{return t.map(r=>Gu(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Ia().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Ia().readSync(this.dataId);if(this.dtype==="string")try{return e.map(t=>Gu(t))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Ia().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Ia().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return bf.print(this,e)}clone(){return this.throwIfDisposed(),bf.clone(this)}toString(e=!1){const t=this.dataSync();return S3e(t,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),bf.cast(this,e)}variable(e=!0,t,r){return this.throwIfDisposed(),Ia().makeVariable(this,e,t,r)}}Object.defineProperty(or,Symbol.hasInstance,{value:n=>!!n&&n.data!=null&&n.dataSync!=null&&n.throwIfDisposed!=null});function le(){return dM("Tensor",()=>or)}le();class Yx extends or{constructor(e,t,r,o){super(e.shape,e.dtype,e.dataId,o),this.trainable=t,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!an(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Ia().disposeTensor(this),this.dataId=e.dataId,Ia().incRef(this,null)}dispose(){Ia().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(Yx,Symbol.hasInstance,{value:n=>n instanceof or&&n.assign!=null&&n.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var c7;(function(n){n.R0="R0",n.R1="R1",n.R2="R2",n.R3="R3",n.R4="R4",n.R5="R5",n.R6="R6"})(c7||(c7={}));var oR;(function(n){n.float32="float32",n.int32="int32",n.bool="int32",n.complex64="complex64"})(oR||(oR={}));var iR;(function(n){n.float32="float32",n.int32="int32",n.bool="bool",n.complex64="complex64"})(iR||(iR={}));var aR;(function(n){n.float32="float32",n.int32="float32",n.bool="float32",n.complex64="complex64"})(aR||(aR={}));var sR;(function(n){n.float32="complex64",n.int32="complex64",n.bool="complex64",n.complex64="complex64"})(sR||(sR={}));const I3e={float32:aR,int32:oR,bool:iR,complex64:sR};function ei(n,e){if(n==="string"||e==="string"){if(n==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${n} with ${e}`)}return I3e[n][e]}function eL(n){return ei(n,"int32")}function HZ(n){return n!=null&&typeof n=="object"&&"texture"in n&&n.texture instanceof WebGLTexture}function UZ(n){return typeof GPUBuffer<"u"&&n!=null&&typeof n=="object"&&"buffer"in n&&n.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jn(n,e){if(n.dtype===e.dtype)return[n,e];const t=ei(n.dtype,e.dtype);return[n.cast(t),e.cast(t)]}function jZ(n){const e=[];return KZ(n,e,new Set),e}function KZ(n,e,t){if(n==null)return;if(n instanceof or){e.push(n);return}if(!T3e(n))return;const r=n;for(const o in r){const i=r[o];t.has(i)||(t.add(i),KZ(i,e,t))}}function T3e(n){return Array.isArray(n)||typeof n=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uT(n){return n.kernelName!=null}class d7{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class pp{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new d7}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const r=e[t];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:t}=this.initializeBackend(e);if(t)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,r=1){return e in this.registryFactory?(pi(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:t,asyncInit:r}=this.initializeBackend(e);if(!(r?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new m3e(this.backendInstance),!0}setupRegisteredKernels(){n7(this.backendName).forEach(t=>{t.setupFunc!=null&&t.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){n7(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const t=this.registryFactory[e];if(t==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=t.factory();if(r&&!(r instanceof aM)&&typeof r.then=="function"){const o=++this.pendingBackendInitId,i=r.then(a=>o<this.pendingBackendInitId?!1:(this.registry[e]=a,this.pendingBackendInit=null,!0)).catch(a=>(o<this.pendingBackendInitId||(this.pendingBackendInit=null,pi(`Initialization of backend ${e} failed`),pi(a.stack||a.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return pi(`Initialization of backend ${e} failed`),pi(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const r=e[t],{success:o,asyncInit:i}=this.initializeBackend(r);if(i||o)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const r=this.state.tensorInfo.get(t),o=r.backend,i=this.readSync(t),a=o.refCount(t);o.disposeData(t,!0),r.backend=e,e.move(t,i,r.shape,r.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let r=null;if(t==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");t=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof t!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let o;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(o),()=>(o=t(),o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),o))}scopedRun(e,t,r){e();try{const o=r();return t(),o}catch(o){throw t(),o}}nextTensorId(){return pp.nextTensorId++}nextVariableId(){return pp.nextVariableId++}clone(e){const t=q.runKernel(C0,{x:e}),r={x:e},o=a=>({x:()=>{const s="float32",l={x:a},u={dtype:s};return q.runKernel(c0,l,u)}}),i=[];return this.addTapeNode(this.state.activeScope.name,r,[t],o,i,{}),t}runKernel(e,t,r){if(this.backendName==null&&this.backend,!(tR(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,r){const o=this.backend.numDataIds();let i=0;r.forEach(l=>{i+=l.dtype==="complex64"?3:1});const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=o-t-i-a;if(s>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${s} data ids) after running '${e}'`)}runKernelFunc(e){let t,r=[];const o=this.isTapeOn(),i=this.state.numBytes,a=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let s;this.backendName==null&&this.backend;let l;const u=uT(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(uT(e)){const{kernelName:p,inputs:g,attrs:v}=e;this.backendName==null&&this.backend;const m=tR(p,this.backendName);O(m!=null,()=>`Cannot find registered kernel '${p}' for backend '${this.backendName}'`),s=()=>{const y=this.backend.numDataIds();l=m.kernelFunc({inputs:g,attrs:v,backend:this.backend});const b=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,y,b);const w=b.map(x=>x.rank!=null?x:this.makeTensorFromTensorInfo(x));if(o){const x=this.getTensorsForGradient(p,g,w);r=this.saveTensorsForBackwardMode(x)}return w}}else{const{forwardFunc:p}=e,g=v=>{o&&(r=v.map(m=>this.keep(this.clone(m))))};s=()=>{const v=this.backend.numDataIds();l=this.tidy(()=>p(this.backend,g));const m=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,v,m),m}}const{inputs:c,attrs:d}=e,h=uT(e)?null:e.backwardsFunc;let f;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?t=s():(f=this.profiler.profileKernel(u,c,()=>s()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(f),t=f.outputs)}),o&&this.addTapeNode(u,c,t,h,r,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(p=>c[p]!=null?c[p].shape:null),outputShapes:t.map(p=>p.shape),kernelTimeMs:f.timeMs,extraInfo:f.extraInfo}),Array.isArray(l)?t:t[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,t,r){const o=t7(e);if(o!=null){const i=o.inputsToSave||[],a=o.outputsToSave||[];let s;o.saveAllInputs?(O(Array.isArray(t),()=>"saveAllInputs is true, expected inputs to be an array."),s=Object.keys(t).map(u=>t[u])):s=i.map(u=>t[u]);const l=r.filter((u,c)=>a[c]);return s.concat(l)}return[]}makeTensor(e,t,r,o){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",o=o||this.backend;let i=e;r==="string"&&n0(e[0])&&(i=e.map(l=>$u(l)));const a=o.write(i,t,r),s=new or(t,r,a,this.nextTensorId());if(this.trackTensor(s,o),r==="string"){const l=this.state.tensorInfo.get(a),u=KNe(i);this.state.numBytes+=u-l.bytes,l.bytes=u}return s}makeTensorFromDataId(e,t,r,o){r=r||"float32";const i={dataId:e,shape:t,dtype:r};return this.makeTensorFromTensorInfo(i,o)}makeTensorFromTensorInfo(e,t){const{dataId:r,shape:o,dtype:i}=e,a=new or(o,i,r,this.nextTensorId());return this.trackTensor(a,t),a}makeVariable(e,t=!0,r,o){r=r||this.nextVariableId().toString(),o!=null&&o!==e.dtype&&(e=e.cast(o));const i=new Yx(e,t,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,t){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*Ux(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof Yx||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*Ux(e.dtype);this.state.numBytes-=r}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(o=>o.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const o of this.state.activeProfile.kernels)o.kernelTimeMs=await o.kernelTimeMs,o.extraInfo=await o.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,t,r,o,i,a){const s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:r,saved:i},l=t7(e);l!=null&&(o=l.gradFunc),o!=null&&(s.gradient=u=>(u=u.map((c,d)=>{if(c==null){const h=r[d],f=jr(h.size,h.dtype);return this.makeTensor(f,h.shape,h.dtype)}return c}),o(u.length>1?u:u[0],i,a))),this.state.activeTape.push(s)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=jZ(e),r=new Set(t.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){const a=this.state.activeScope.track[i];!a.kept&&!r.has(a.id)&&a.dispose()}const o=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach(i=>{!i.kept&&i.scopeId===o.id&&this.track(i)})}gradients(e,t,r,o=!1){if(O(t.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));O(i instanceof or,()=>"The result y returned by f() must be a tensor.");const a=w3e(this.state.activeTape,t,i);if(!o&&a.length===0&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const s={};s[i.id]=r??A3e(i.shape),x3e(s,a,u=>this.tidy(u),D3e);const l=t.map(u=>s[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const c of u.saved)c.dispose()}),this.state.activeTape=null),{value:i,grads:l}})}customGrad(e){return O(qD(e),()=>"The f passed in customGrad(f) must be a function."),(...t)=>{O(t.every(s=>s instanceof or),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const o={};t.forEach((s,l)=>{o[l]=s});const i=(s,l)=>(r=e(...t,l),O(r.value instanceof or,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),O(qD(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),a=(s,l)=>{const u=r.gradFunc(s,l),c=Array.isArray(u)?u:[u];O(c.length===t.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),O(c.every(h=>h instanceof or),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return c.forEach((h,f)=>{d[f]=()=>h}),d};return this.runKernelFunc({forwardFunc:i,backwardsFunc:a,inputs:o})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=xo(),r=await this.backend.time(e);return r.wallMs=xo()-t,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new d7;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}pp.nextTensorId=0;pp.nextVariableId=0;function A3e(n){const e=uM(ue(n),"float32");return q.makeTensor(e,n,"float32")}function XZ(){const n=cZ();if(n._tfengine==null){const e=new YNe(n);n._tfengine=new pp(e)}return e3e(n._tfengine.ENV),k3e(()=>n._tfengine),n._tfengine}const q=XZ();function D3e(n,e){const t={a:n,b:e};return q.runKernel(Qp,t)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R3e(){return typeof navigator<"u"&&navigator!=null}function qZ(n){if(n||R3e()){if(n||(n=navigator),n.product==="ReactNative")return!0;const e=n.userAgent||n.vendor||(typeof window<"u"?window.opera:"");if(!e){const t=n;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function YZ(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mo=re();Mo.registerFlag("DEBUG",()=>!1,n=>{n&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Mo.registerFlag("IS_BROWSER",()=>YZ());Mo.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Mo.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Mo.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Mo.registerFlag("PROD",()=>!1);Mo.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Mo.getBool("DEBUG"));Mo.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Mo.registerFlag("IS_TEST",()=>!1);Mo.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Mo.getBool("DEBUG"));Mo.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Mo.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Mo.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eg(n,e){let t=n;if(ia(n))return e==="string"?[]:[n.length];if(HZ(n)){const o=n.channels||"RGBA";return[n.height,n.width*o.length]}else if(UZ(n))return[n.buffer.size/(e==null?4:Ux(e))];if(!Array.isArray(n))return[];const r=[];for(;Array.isArray(t)||ia(t)&&e!=="string";)r.push(t.length),t=t[0];return Array.isArray(n)&&re().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&ZZ(n,r,[]),r}function ZZ(n,e,t){if(t=t||[],!Array.isArray(n)&&!ia(n)){O(e.length===0,()=>`Element arr[${t.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}O(e.length>0,()=>`Element arr[${t.join("][")}] should be a primitive, but is an array of ${n.length} elements`),O(n.length===e[0],()=>`Element arr[${t.join("][")}] should have ${e[0]} elements, but has ${n.length} elements`);const r=e.slice(1);for(let o=0;o<n.length;++o)ZZ(n[o],r,t.concat(o))}function h7(n,e,t,r){if(n!=="string_or_numeric"){if(n==null)throw new Error("Expected dtype cannot be null.");if(n!=="numeric"&&n!==e||n==="numeric"&&e==="string")throw new Error(`Argument '${t}' passed to '${r}' must be ${n} tensor, but got ${e} tensor`)}}function G(n,e,t,r="numeric"){if(n instanceof le())return h7(r,n.dtype,e,t),n;let o=Zp(n);if(o!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),h7(r,o,e,t),n==null||!ia(n)&&!Array.isArray(n)&&typeof n!="number"&&typeof n!="boolean"&&typeof n!="string"){const l=n==null?"null":n.constructor.name;throw new Error(`Argument '${e}' passed to '${t}' must be a Tensor or TensorLike, but got '${l}'`)}const i=eg(n,o);!ia(n)&&!Array.isArray(n)&&(n=[n]);const s=o!=="string"?Ch(n,o):qd(n,[],!0);return q.makeTensor(s,i,o)}function JZ(n,e,t,r="numeric"){if(!Array.isArray(n))throw new Error(`Argument ${e} passed to ${t} must be a \`Tensor[]\` or \`TensorLike[]\``);return n.map((i,a)=>G(i,`${e}[${a}]`,t,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E3e="__op";function Z(n){const e=Object.keys(n);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let t=e[0];const r=n[t];t.endsWith("_")&&(t=t.substring(0,t.length-1)),t=t+E3e;const o=(...i)=>{q.startScope(t);try{const a=r(...i);return cM(a)&&console.error("Cannot return a Promise inside of tidy."),q.endScope(a),a}catch(a){throw q.endScope(null),a}};return Object.defineProperty(o,"name",{value:t,configurable:!0}),o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $3e(n,e){const t=G(n,"real","complex"),r=G(e,"imag","complex");lM(t.shape,r.shape,`real and imag shapes, ${t.shape} and ${r.shape}, must match in call to tf.complex().`);const o={real:t,imag:r};return q.runKernel(bM,o)}const Yd=Z({complex_:$3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tg(n,e,t,r){if(r==null)r=Zp(n);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(UZ(n)||HZ(n)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return q.backend.createTensorFromGPUData(n,e||t,r)}if(!ia(n)&&!Array.isArray(n)&&typeof n!="number"&&typeof n!="boolean"&&typeof n!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Ol(e);const o=ue(e),i=ue(t);O(o===i,()=>`Based on the provided shape, [${e}], the tensor should have ${o} values but has ${i}`);for(let a=0;a<t.length;++a){const s=t[a],l=a===t.length-1?s!==ue(e.slice(a)):!0;O(t[a]===e[a]||!l,()=>`Error creating a new Tensor. Inferred shape (${t}) does not match the provided shape (${e}). `)}}return!ia(n)&&!Array.isArray(n)&&(n=[n]),e=e||t,n=r!=="string"?Ch(n,r):qd(n,[],!0),q.makeTensor(n,e,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qv(n,e,t){const r=eg(n,t);return tg(n,e,r,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zx={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class oc{static join(e){return new oc(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>ia(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let r=0;r<e.length;r++){const o=e[r];r!==e.length-1&&o.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const i=t+o.byteLength;this.shards.push({buffer:o,start:t,end:i}),t=i}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,t=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);const o=t-e,i=new ArrayBuffer(o),a=new Uint8Array(i);let s=0;for(let l=r;l<this.shards.length;l++){const u=this.shards[l],d=e+s-u.start,h=s,p=Math.min(t,u.end)-u.start,g=new Uint8Array(u.buffer,d,p-d);if(a.set(g,h),s+=g.length,t<u.end)break}return i}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(o){return e<o.start?-1:e>=o.end?1:0}if(t(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=P3e(this.shards,t);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function P3e(n,e){let t=0,r=n.length;for(;t<=r;){const o=Math.floor((r-t)/2)+t,i=e(n[o]);if(i===0)return o;i<0?r=o:t=o+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function us(){return q}function f7(){return q.memory()}function ee(n,e){return q.tidy(n,e)}function Dt(n){jZ(n).forEach(t=>t.dispose())}function Es(n){return q.keep(n)}function M3e(n){return q.setBackend(n)}function QZ(n,e,t=1){return q.registerBackend(n,e,t)}function L3e(){return q.backend}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gp=4;async function p7(n,e){const t=[],r=[],o=Array.isArray(n)?n.map(a=>a.name):Object.keys(n);for(let a=0;a<o.length;++a){const s=o[a],l=Array.isArray(n)?n[a].tensor:n[s];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${s}': ${l.dtype}`);const u={name:s,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const c=new Promise(async d=>{const h=await l.bytes(),f=h.reduce((v,m)=>v+m.length,0)+gp*h.length,p=new Uint8Array(f);let g=0;for(let v=0;v<h.length;v++){const m=h[v],y=new Uint8Array(new Uint32Array([m.length]).buffer);p.set(y,g),g+=gp,p.set(m,g),g+=m.length}d(p)});r.push(c)}else r.push(l.data());e!=null&&(u.group=e),t.push(u)}const i=await Promise.all(r);return{data:B3e(i),specs:t}}function N3e(n,e){const t=new oc(n),r={};let o=0;for(const i of e){const a=O3e(i,(s,l)=>t.slice(o+s,o+l));r[i.name]=F3e(i,t.slice(o,o+a)),o+=a}return r}function O3e(n,e){const t=ue(n.shape);let r;if("quantization"in n){const o=n.quantization;r=Zx[o.dtype]}else if(n.dtype==="string"){let o=0;for(let i=0;i<t;i++)o+=gp+new Uint32Array(e(o,o+gp))[0];return o}else r=Zx[n.dtype];return t*r}function F3e(n,e){const t=n.name,r=n.dtype,o=n.shape,i=ue(o);let a,s=0;if("quantization"in n){const l=n.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error(`Weight ${n.name} with quantization ${l.dtype} doesn't have corresponding metadata min and scale.`)}else if(l.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${n.name} is quantized with ${l.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${n.name} has unknown quantization dtype ${l.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const u=Zx[l.dtype],c=l.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(r==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){a=new Float32Array(c.length);for(let d=0;d<c.length;d++){const h=c[d];a[d]=h*l.scale+l.min}}else if(l.dtype==="float16")a=q3e()(c);else throw new Error(`Unsupported quantization type ${l.dtype} for weight type float32.`);else if(r==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error(`Unsupported quantization type ${l.dtype} for weight type int32.`);a=new Int32Array(c.length);for(let d=0;d<c.length;d++){const h=c[d];a[d]=Math.round(h*l.scale+l.min)}}else throw new Error(`Unsupported dtype in weight '${t}': ${r}`);s+=i*u}else if(r==="string"){const l=ue(n.shape);a=[];for(let u=0;u<l;u++){const c=new Uint32Array(e.slice(s,s+gp))[0];s+=gp;const d=new Uint8Array(e.slice(s,s+c));a.push(d),s+=c}}else{const l=Zx[r];if(r==="float32")a=new Float32Array(e);else if(r==="int32")a=new Int32Array(e);else if(r==="bool")a=new Uint8Array(e);else if(r==="complex64"){a=new Float32Array(e);const u=new Float32Array(a.length/2),c=new Float32Array(a.length/2);for(let p=0;p<u.length;p++)u[p]=a[p*2],c[p]=a[p*2+1];const d=qv(u,o,"float32"),h=qv(c,o,"float32"),f=Yd(d,h);return d.dispose(),h.dispose(),f}else throw new Error(`Unsupported dtype in weight '${t}': ${r}`);s+=i*l}return qv(a,o,r)}function B3e(n){if(n===null)throw new Error(`Invalid input value: ${JSON.stringify(n)}`);let e=0;const t=[];n.forEach(i=>{if(e+=i.byteLength,t.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});const r=new Uint8Array(e);let o=0;return t.forEach(i=>{r.set(new Uint8Array(i.buffer),o),o+=i.byteLength}),r.buffer}const tL=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function g7(n){return tL?Buffer.byteLength(n,"utf8"):new Blob([n]).size}function z3e(n){if(tL)return Buffer.from(n).toString("base64");const e=new Uint8Array(n);let t="";for(let r=0,o=e.length;r<o;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function V3e(n){if(tL){const r=Buffer.from(n,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(n),t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t.set([e.charCodeAt(r)],r);return t.buffer}function G3e(n){return oc.join(n)}function W3e(n,e){const t={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,weightsManifest:e};return n.signature!=null&&(t.signature=n.signature),n.userDefinedMetadata!=null&&(t.userDefinedMetadata=n.userDefinedMetadata),n.modelInitializer!=null&&(t.modelInitializer=n.modelInitializer),n.initializerSignature!=null&&(t.initializerSignature=n.initializerSignature),n.trainingConfig!=null&&(t.trainingConfig=n.trainingConfig),t}function H3e(n,e,t){const r={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy};if(n.trainingConfig!=null&&(r.trainingConfig=n.trainingConfig),n.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!t)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=t}return n.signature!=null&&(r.signature=n.signature),n.userDefinedMetadata!=null&&(r.userDefinedMetadata=n.userDefinedMetadata),n.modelInitializer!=null&&(r.modelInitializer=n.modelInitializer),n.initializerSignature!=null&&(r.initializerSignature=n.initializerSignature),r}async function U3e(n,e){let t,r;return n.weightsManifest!=null&&([t,r]=await e(n.weightsManifest)),H3e(n,t,r)}function nL(n){if(n.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:n.modelTopology==null?0:g7(JSON.stringify(n.modelTopology)),weightSpecsBytes:n.weightSpecs==null?0:g7(JSON.stringify(n.weightSpecs)),weightDataBytes:n.weightData==null?0:new oc(n.weightData).byteLength}}function v7(n){const e=[];for(const t of n)e.push(...t.weights);return e}function j3e(){const n=t=>{let r=t<<13,o=0;for(;!(r&8388608);)o-=8388608,r<<=1;return r&=-8388609,o+=947912704,r|o},e=new Uint32Array(2048);e[0]=0;for(let t=1;t<1024;t++)e[t]=n(t);for(let t=1024;t<2048;t++)e[t]=939524096+(t-1024<<13);return e}function K3e(){const n=new Uint32Array(64);n[0]=0,n[31]=1199570944,n[32]=2147483648,n[63]=3347054592;for(let e=1;e<31;e++)n[e]=e<<23;for(let e=33;e<63;e++)n[e]=2147483648+(e-32<<23);return n}function X3e(){const n=new Uint32Array(64);for(let e=0;e<64;e++)n[e]=1024;return n[0]=n[32]=0,n}function q3e(){const n=j3e(),e=K3e(),t=X3e();return r=>{const o=new ArrayBuffer(4*r.length),i=new Uint32Array(o);for(let a=0;a<r.length;a++){const s=r[a],l=n[t[s>>10]+(s&1023)]+e[s>>10];i[a]=l}return new Float32Array(o)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hr{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return hr.instance==null&&(hr.instance=new hr),hr.instance}static registerSaveRouter(e){hr.getInstance().saveRouters.push(e)}static registerLoadRouter(e){hr.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return hr.getHandlers(e,"save")}static getLoadHandlers(e,t){return hr.getHandlers(e,"load",t)}static getHandlers(e,t,r){const o=[];return(t==="load"?hr.getInstance().loadRouters:hr.getInstance().saveRouters).forEach(a=>{const s=a(e,r);s!==null&&o.push(s)}),o}}const Y3e=n=>hr.getSaveHandlers(n),Z3e=(n,e)=>hr.getLoadHandlers(n,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lR="tensorflowjs",uR=1,Sd="models_store",xu="model_info_store";function eJ(){if(!re().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const n=typeof window>"u"?self:window,e=n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB||n.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function cR(n){const e=n.result;e.createObjectStore(Sd,{keyPath:"modelPath"}),e.createObjectStore(xu,{keyPath:"modelPath"})}class Zd{constructor(e){if(this.indexedDB=eJ(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise((r,o)=>{const i=this.indexedDB.open(lR,uR);i.onupgradeneeded=()=>cR(i),i.onsuccess=()=>{const a=i.result;if(t==null){const s=a.transaction(Sd,"readonly"),u=s.objectStore(Sd).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return a.close(),o(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(u.result.modelArtifacts)},u.onerror=c=>(a.close(),o(u.error)),s.oncomplete=()=>a.close()}else{t.weightData=oc.join(t.weightData);const s=nL(t),l=a.transaction(xu,"readwrite");let u=l.objectStore(xu),c;try{c=u.put({modelPath:this.modelPath,modelArtifactsInfo:s})}catch(h){return o(h)}let d;c.onsuccess=()=>{d=a.transaction(Sd,"readwrite");const h=d.objectStore(Sd);let f;try{f=h.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:s})}catch(p){return o(p)}f.onsuccess=()=>r({modelArtifactsInfo:s}),f.onerror=p=>{u=l.objectStore(xu);const g=u.delete(this.modelPath);g.onsuccess=()=>(a.close(),o(f.error)),g.onerror=v=>(a.close(),o(f.error))}},c.onerror=h=>(a.close(),o(c.error)),l.oncomplete=()=>{d==null?a.close():d.oncomplete=()=>a.close()}}},i.onerror=a=>o(i.error)})}}Zd.URL_SCHEME="indexeddb://";const tJ=n=>re().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(Zd.URL_SCHEME)?J3e(n.slice(Zd.URL_SCHEME.length)):null;hr.registerSaveRouter(tJ);hr.registerLoadRouter(tJ);function J3e(n){return new Zd(n)}function Q3e(n){return n.startsWith(Zd.URL_SCHEME)?n.slice(Zd.URL_SCHEME.length):n}class eOe{constructor(){this.indexedDB=eJ()}async listModels(){return new Promise((e,t)=>{const r=this.indexedDB.open(lR,uR);r.onupgradeneeded=()=>cR(r),r.onsuccess=()=>{const o=r.result,i=o.transaction(xu,"readonly"),s=i.objectStore(xu).getAll();s.onsuccess=()=>{const l={};for(const u of s.result)l[u.modelPath]=u.modelArtifactsInfo;e(l)},s.onerror=l=>(o.close(),t(s.error)),i.oncomplete=()=>o.close()},r.onerror=o=>t(r.error)})}async removeModel(e){return e=Q3e(e),new Promise((t,r)=>{const o=this.indexedDB.open(lR,uR);o.onupgradeneeded=()=>cR(o),o.onsuccess=()=>{const i=o.result,a=i.transaction(xu,"readwrite"),s=a.objectStore(xu),l=s.get(e);let u;l.onsuccess=()=>{if(l.result==null)return i.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const c=s.delete(e),d=()=>{u=i.transaction(Sd,"readwrite");const f=u.objectStore(Sd).delete(e);f.onsuccess=()=>t(l.result.modelArtifactsInfo),f.onerror=p=>r(l.error)};c.onsuccess=d,c.onerror=h=>(d(),i.close(),r(l.error))}},l.onerror=c=>(i.close(),r(l.error)),a.oncomplete=()=>{u==null?i.close():u.oncomplete=()=>i.close()}},o.onerror=i=>r(o.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ll="/",wf="tensorflowjs_models",nJ="info",tOe="model_topology",nOe="weight_specs",rOe="weight_data",oOe="model_metadata";function rJ(n){return{info:[wf,n,nJ].join(ll),topology:[wf,n,tOe].join(ll),weightSpecs:[wf,n,nOe].join(ll),weightData:[wf,n,rOe].join(ll),modelMetadata:[wf,n,oOe].join(ll)}}function oJ(n){for(const e of Object.values(n))window.localStorage.removeItem(e)}function iOe(n){const e=n.split(ll);if(e.length<3)throw new Error(`Invalid key format: ${n}`);return e.slice(1,e.length-1).join(ll)}function aOe(n){return n.startsWith(Jd.URL_SCHEME)?n.slice(Jd.URL_SCHEME.length):n}class Jd{constructor(e){if(!re().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=rJ(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),o=nL(e),i=oc.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,z3e(i));const a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:o}}catch{throw oJ(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${o.modelTopologyBytes}, weightSpecsBytes=${o.weightSpecsBytes}, weightDataBytes=${o.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=r;const o=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(o==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=o;const i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){const s=JSON.parse(i);t.format=s.format,t.generatedBy=s.generatedBy,t.convertedBy=s.convertedBy,s.signature!=null&&(t.signature=s.signature),s.userDefinedMetadata!=null&&(t.userDefinedMetadata=s.userDefinedMetadata),s.modelInitializer!=null&&(t.modelInitializer=s.modelInitializer),s.initializerSignature!=null&&(t.initializerSignature=s.initializerSignature),s.trainingConfig!=null&&(t.trainingConfig=s.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(a==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=V3e(a),t}}Jd.URL_SCHEME="localstorage://";const iJ=n=>re().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(Jd.URL_SCHEME)?sOe(n.slice(Jd.URL_SCHEME.length)):null;hr.registerSaveRouter(iJ);hr.registerLoadRouter(iJ);function sOe(n){return new Jd(n)}class lOe{constructor(){O(re().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),O(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},t=wf+ll,r=ll+nJ;for(let o=0;o<this.LS.length;++o){const i=this.LS.key(o);if(i.startsWith(t)&&i.endsWith(r)){const a=iOe(i);e[a]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){e=aOe(e);const t=rJ(e);if(this.LS.getItem(t.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(t.info));return oJ(t),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m7="://";class hs{constructor(){this.managers={}}static getInstance(){return hs.instance==null&&(hs.instance=new hs),hs.instance}static registerManager(e,t){O(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(m7)&&(e=e.slice(0,e.indexOf(m7))),O(e.length>0,()=>"scheme must not be an empty string.");const r=hs.getInstance();O(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=t}static getManager(e){const t=hs.getInstance().managers[e];if(t==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(hs.getInstance().managers)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uOe{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if(t!=="utf-8"&&t!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){if(typeof window>"u"||!re().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,t);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const o=this.functionRefs[r.data.index];o(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return MZ(e)}}if(re().get("IS_BROWSER")){re().setPlatform("browser",new uOe);try{hs.registerManager(Jd.URL_SCHEME,new lOe)}catch{}try{hs.registerManager(Zd.URL_SCHEME,new eOe)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cOe={importFetch:()=>require("node-fetch")};let cT;class dOe{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return re().global.fetch!=null?re().global.fetch(e,t):(cT==null&&(cT=cOe.importFetch()),cT(e,t))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,t){if(t!=="utf-8"&&t!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return e.length===0?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}re().get("IS_NODE")&&!re().get("IS_BROWSER")&&re().setPlatform("node",new dOe);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $t(n,e="float32",t){return e=e||"float32",Ol(n),new Pr(n,e,t)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hOe(n,e){const t=G(n,"x","cast");if(!jNe(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&t.dtype!=="string"||e!=="string"&&t.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:t},o={dtype:e};return q.runKernel(c0,r,o)}const Be=Z({cast_:hOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fOe(n){const t={x:G(n,"x","clone","string_or_numeric")};return q.runKernel(C0,t)}const Pd=Z({clone_:fOe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pOe(n,e=!1){console.log(n.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */XZ();const gOe={buffer:$t,cast:Be,clone:Pd,print:pOe};_3e(gOe);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vOe(n,e){let t=G(n,"a","add"),r=G(e,"b","add");[t,r]=jn(t,r);const o={a:t,b:r};return q.runKernel(Qp,o)}const Ae=Z({add_:vOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mOe(n,e){let t=G(n,"a","floorDiv"),r=G(e,"b","floorDiv");[t,r]=jn(t,r);const o={a:t,b:r};return q.runKernel(x0,o)}const aJ=Z({floorDiv_:mOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yOe(n,e){let t=G(n,"a","div"),r=G(e,"b","div");if([t,r]=jn(t,r),t.dtype==="int32"&&r.dtype==="int32")return aJ(t,r);const o={a:t,b:r},i={};return q.runKernel(g0,o,i)}const ot=Z({div_:yOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bOe(n,e){let t=G(n,"a","mul"),r=G(e,"b","mul");[t,r]=jn(t,r);const o={a:t,b:r};return q.runKernel($0,o)}const X=Z({mul_:bOe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wOe(n){const e=G(n,"x","abs");if(e.dtype==="complex64"){const t={x:e};return q.runKernel(qC,t)}else{const t={x:e};return q.runKernel(GC,t)}}const to=Z({abs_:wOe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xOe(n){const t={x:G(n,"x","acos")};return q.runKernel(r0,t)}const SOe=Z({acos_:xOe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function COe(n){const t={x:G(n,"x","acosh")};return q.runKernel(o0,t)}const kOe=Z({acosh_:COe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Oe(n,e=null,t=!1){const o={x:G(n,"x","all","bool")},i={axis:e,keepDims:t};return q.runKernel(fM,o,i)}const sJ=Z({all_:_Oe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IOe(n,e=null,t=!1){const o={x:G(n,"x","any","bool")},i={axis:e,keepDims:t};return q.runKernel(pM,o,i)}const dR=Z({any_:IOe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TOe(n,e=0){const r={x:G(n,"x","argMax")},o={axis:e};return q.runKernel(WC,r,o)}const ly=Z({argMax_:TOe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AOe(n,e=0){const r={x:G(n,"x","argMin")},o={axis:e};return q.runKernel(HC,r,o)}const DOe=Z({argMin_:AOe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ROe(n){const t={x:G(n,"x","asin")};return q.runKernel(i0,t)}const EOe=Z({asin_:ROe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Oe(n){const t={x:G(n,"x","asinh")};return q.runKernel(a0,t)}const POe=Z({asinh_:$Oe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MOe(n){const t={x:G(n,"x","atan")};return q.runKernel(s0,t)}const LOe=Z({atan_:MOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NOe(n,e){let t=G(n,"a","atan2"),r=G(e,"b","atan2");[t,r]=jn(t,r);const o={a:t,b:r};return q.runKernel(u0,o)}const OOe=Z({atan2_:NOe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FOe(n){const t={x:G(n,"x","atanh")};return q.runKernel(l0,t)}const BOe=Z({atanh_:FOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J0(n,e,t,r,o="NHWC",i){const a=n[3],s=[...e,a],l=Bl(o);return Nr(n,s,t,i,r,null,null,l)}function ha(n,e,t,r,o,i,a="channelsLast"){const[s,l]=uy(e);let u;if(a==="channelsLast")u=[s,l,n[3],n[3]];else if(a==="channelsFirst")u=[s,l,n[1],n[1]];else throw new Error(`Unknown dataFormat ${a}`);return Nr(n,u,t,r,o,i,!1,a)}function Fl(n,e,t,r,o,i,a="NDHWC"){const[s,l,u]=hR(e);let c,d;if(a==="NDHWC")d="channelsLast",c=[s,l,u,n[4],n[4]];else if(a==="NCDHW")d="channelsFirst",c=[s,l,u,n[1],n[1]];else throw new Error(`Unknown dataFormat ${a}`);return ic(n,c,t,r,o,!1,d,i)}function Nr(n,e,t,r,o,i,a=!1,s="channelsLast"){let[l,u,c,d]=[-1,-1,-1,-1];if(s==="channelsLast")[l,u,c,d]=n;else if(s==="channelsFirst")[l,d,u,c]=n;else throw new Error(`Unknown dataFormat ${s}`);const[h,f,,p]=e,[g,v]=uy(t),[m,y]=uy(r),b=Kf(h,m),w=Kf(f,y),{padInfo:x,outHeight:S,outWidth:C}=GOe(o,u,c,g,v,b,w,i,s),k=a?p*d:p;let _;return s==="channelsFirst"?_=[l,k,S,C]:s==="channelsLast"&&(_=[l,S,C,k]),{batchSize:l,dataFormat:s,inHeight:u,inWidth:c,inChannels:d,outHeight:S,outWidth:C,outChannels:k,padInfo:x,strideHeight:g,strideWidth:v,filterHeight:h,filterWidth:f,effectiveFilterHeight:b,effectiveFilterWidth:w,dilationHeight:m,dilationWidth:y,inShape:n,outShape:_,filterShape:e}}function ic(n,e,t,r,o,i=!1,a="channelsLast",s){let[l,u,c,d,h]=[-1,-1,-1,-1,-1];if(a==="channelsLast")[l,u,c,d,h]=n;else if(a==="channelsFirst")[l,h,u,c,d]=n;else throw new Error(`Unknown dataFormat ${a}`);const[f,p,g,,v]=e,[m,y,b]=hR(t),[w,x,S]=hR(r),C=Kf(f,w),k=Kf(p,x),_=Kf(g,S),{padInfo:I,outDepth:T,outHeight:A,outWidth:D}=WOe(o,u,c,d,m,y,b,C,k,_,s),E=i?v*h:v;let $;return a==="channelsFirst"?$=[l,E,T,A,D]:a==="channelsLast"&&($=[l,T,A,D,E]),{batchSize:l,dataFormat:a,inDepth:u,inHeight:c,inWidth:d,inChannels:h,outDepth:T,outHeight:A,outWidth:D,outChannels:E,padInfo:I,strideDepth:m,strideHeight:y,strideWidth:b,filterDepth:f,filterHeight:p,filterWidth:g,effectiveFilterDepth:C,effectiveFilterHeight:k,effectiveFilterWidth:_,dilationDepth:w,dilationHeight:x,dilationWidth:S,inShape:n,outShape:$,filterShape:e}}function zOe(n,e,t,r,o){r==null&&(r=rL(n,e,t));const i=n[0],a=n[1],s=cy((i-e+2*r)/t+1,o),l=cy((a-e+2*r)/t+1,o);return[s,l]}function VOe(n,e,t,r,o,i){o==null&&(o=rL(n,e[0],r[0]));const a=[0,0,0,t];for(let s=0;s<3;s++)n[s]+2*o>=e[s]&&(a[s]=cy((n[s]-e[s]+2*o)/r[s]+1,i));return a}function rL(n,e,t,r=1){const o=Kf(e,r);return Math.floor((n[0]*(t-1)-t+o)/2)}function uy(n){return typeof n=="number"?[n,n,n]:n.length===2?[n[0],n[1],1]:n}function hR(n){return typeof n=="number"?[n,n,n]:n}function Kf(n,e){return e<=1?n:n+(n-1)*(e-1)}function GOe(n,e,t,r,o,i,a,s,l){let u,c,d;if(typeof n=="number"){u={top:n,bottom:n,left:n,right:n,type:n===0?"VALID":"NUMBER"};const f=zOe([e,t],i,r,n,s);c=f[0],d=f[1]}else if(n==="same"){c=Math.ceil(e/r),d=Math.ceil(t/o);const h=Math.max(0,(c-1)*r+i-e),f=Math.max(0,(d-1)*o+a-t),p=Math.floor(h/2),g=h-p,v=Math.floor(f/2),m=f-v;u={top:p,bottom:g,left:v,right:m,type:"SAME"}}else if(n==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-i+1)/r),d=Math.ceil((t-a+1)/o);else if(typeof n=="object"){const h=l==="channelsLast"?n[1][0]:n[2][0],f=l==="channelsLast"?n[1][1]:n[2][1],p=l==="channelsLast"?n[2][0]:n[3][0],g=l==="channelsLast"?n[2][1]:n[3][1];u={top:h,bottom:f,left:p,right:g,type:h===0&&f===0&&p===0&&g===0?"VALID":"EXPLICIT"},c=cy((e-i+h+f)/r+1,s),d=cy((t-a+p+g)/o+1,s)}else throw Error(`Unknown padding parameter: ${n}`);return{padInfo:u,outHeight:c,outWidth:d}}function WOe(n,e,t,r,o,i,a,s,l,u,c){let d,h,f,p;if(n==="valid"&&(n=0),typeof n=="number"){d={top:n,bottom:n,left:n,right:n,front:n,back:n,type:n===0?"VALID":"NUMBER"};const v=VOe([e,t,r,1],[s,l,u],1,[o,i,a],n,c);h=v[0],f=v[1],p=v[2]}else if(n==="same"){h=Math.ceil(e/o),f=Math.ceil(t/i),p=Math.ceil(r/a);const g=(h-1)*o+s-e,v=(f-1)*i+l-t,m=(p-1)*a+u-r,y=Math.floor(g/2),b=g-y,w=Math.floor(v/2),x=v-w,S=Math.floor(m/2),C=m-S;d={top:w,bottom:x,left:S,right:C,front:y,back:b,type:"SAME"}}else throw Error(`Unknown padding parameter: ${n}`);return{padInfo:d,outDepth:h,outHeight:f,outWidth:p}}function cy(n,e){if(!e)return Math.trunc(n);switch(e){case"round":return Math.round(n);case"ceil":return Math.ceil(n);case"floor":return Math.floor(n);default:throw new Error(`Unknown roundingMode ${e}`)}}function Qd(n){const[e,t,r]=uy(n);return e===1&&t===1&&r===1}function Xr(n,e){return Qd(n)||Qd(e)}function eh(n){return uy(n).every(e=>e>0)}function Bl(n){if(n==="NHWC")return"channelsLast";if(n==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${n}`)}function Oo(n,e,t){if(t!=null){if(typeof e=="string")throw Error(`Error in ${n}: pad must be an integer when using dimRoundingMode ${t} but got pad ${e}.`);if(typeof e=="number")O(hp(e),()=>`Error in ${n}: pad must be an integer when using dimRoundingMode ${t} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(o=>{O(hp(o),()=>`Error in ${n}: pad must be an integer when using dimRoundingMode ${t} but got pad ${o}.`)})});else throw Error(`Error in ${n}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HOe(n,e){const r={x:G(n,"x","reshape","string_or_numeric")},o={shape:e};return q.runKernel(D2,r,o)}const Y=Z({reshape_:HOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UOe(n,e,t,r,o){const i=G(n,"x","avgPool","float32"),a=1;O(Xr(t,a),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${t} and dilations '${a}'`);let s=i,l=!1;i.rank===3&&(l=!0,s=Y(i,[1,i.shape[0],i.shape[1],i.shape[2]])),O(s.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${s.rank}.`),Oo("avgPool",r,o);const u={x:s},c={filterSize:e,strides:t,pad:r,dimRoundingMode:o};let d=q.runKernel(UC,u,c);return d=Be(d,i.dtype),l?Y(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const oL=Z({avgPool_:UOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jOe(n,e,t,r,o,i="NDHWC"){const a=G(n,"x","avgPool3d","float32");let s=a,l=!1;a.rank===4&&(l=!0,s=Y(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),O(s.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${s.rank}.`),O(i==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),O(typeof t=="number"&&t>0||Array.isArray(t)&&t[0]>0&&t[1]>0&&t[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${t}'`),Oo("avgPool3d",r,o);const u={x:s},c={filterSize:e,strides:t,pad:r,dimRoundingMode:o,dataFormat:i};let d=q.runKernel(jC,u,c);return d=Be(d,s.dtype),l?Y(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const KOe=Z({avgPool3d_:jOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XOe(n,e=0){O(n.length>=1,()=>"Pass at least one tensor to concat");const t=JZ(n,"tensors","concat","string_or_numeric");if(t[0].dtype==="complex64"&&t.forEach(i=>{if(i.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${i.dtype}. `)}),t.length===1)return Pd(t[0]);const r=t,o={axis:e};return q.runKernel(YC,r,o)}const Do=Z({concat_:XOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qOe(n,e,t=!1,r=!1){let o=G(n,"a","matMul"),i=G(e,"b","matMul");[o,i]=jn(o,i);const a={a:o,b:i},s={transposeA:t,transposeB:r};return q.runKernel(KC,a,s)}const Qt=Z({matMul_:qOe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YOe(n){const t={x:G(n,"x","sigmoid","float32")};return q.runKernel(W0,t)}const ng=Z({sigmoid_:YOe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZOe(n,e,t){const r=G(n,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const o={x:r},i={begin:e,size:t};return q.runKernel(M2,o,i)}const Sn=Z({slice_:ZOe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JOe(n){const t={x:G(n,"x","tanh","float32")};return q.runKernel(q0,t)}const W2=Z({tanh_:JOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QOe(n,e,t){const r=G(n,"x","batchToSpaceND"),o=e.reduce((s,l)=>s*l);O(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),O(t.length===e.length,()=>`crops.length is ${t.length} but should be equal to blockShape.length  ${e.length}`),O(r.shape[0]%o===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${o}`);const i={x:r},a={blockShape:e,crops:t};return q.runKernel(XC,i,a)}const iL=Z({batchToSpaceND_:QOe});function e5e(n){let e;return n.rank===0||n.rank===1?e=Y(n,[1,1,1,n.size]):n.rank===2?e=Y(n,[1,1,n.shape[0],n.shape[1]]):n.rank===3?e=Y(n,[1,n.shape[0],n.shape[1],n.shape[2]]):e=n,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t5e(n,e,t,r,o,i){i==null&&(i=.001);const a=G(n,"x","batchNorm"),s=G(e,"mean","batchNorm"),l=G(t,"variance","batchNorm");let u;o!=null&&(u=G(o,"scale","batchNorm"));let c;r!=null&&(c=G(r,"offset","batchNorm")),O(s.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),O(c==null||s.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),O(u==null||s.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const h={x:e5e(a),scale:u,offset:c,mean:s,variance:l},f={varianceEpsilon:i},p=q.runKernel(i2,h,f);return Y(p,a.shape)}const H2=Z({batchNorm_:t5e});function n5e(n,e,t,r,o,i){const a=G(n,"x","batchNorm"),s=G(e,"mean","batchNorm"),l=G(t,"variance","batchNorm");let u;o!=null&&(u=G(o,"scale","batchNorm"));let c;return r!=null&&(c=G(r,"offset","batchNorm")),O(a.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${a.rank}.`),O(s.rank===2||s.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${s.rank}.`),O(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&O(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&O(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),H2(a,s,l,c,u,i)}const r5e=Z({batchNorm2d_:n5e});function o5e(n,e,t,r,o,i){const a=G(n,"x","batchNorm"),s=G(e,"mean","batchNorm"),l=G(t,"variance","batchNorm");let u;o!=null&&(u=G(o,"scale","batchNorm"));let c;return r!=null&&(c=G(r,"offset","batchNorm")),O(a.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${a.rank}.`),O(s.rank===3||s.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${s.rank}.`),O(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&O(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&O(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),H2(a,s,l,c,u,i)}const i5e=Z({batchNorm3d_:o5e});function a5e(n,e,t,r,o,i){const a=G(n,"x","batchNorm"),s=G(e,"mean","batchNorm"),l=G(t,"variance","batchNorm");let u;o!=null&&(u=G(o,"scale","batchNorm"));let c;return r!=null&&(c=G(r,"offset","batchNorm")),O(a.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${a.rank}.`),O(s.rank===4||s.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${s.rank}.`),O(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&O(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&O(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),H2(a,s,l,c,u,i)}const s5e=Z({batchNorm4d_:a5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l5e(n,e,t){const r=G(n,"x","bincount"),o=G(e,"weights","bincount");O(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),O(t>=0,()=>`size must be non-negative, but got ${t}.`),O(o.size===r.size||o.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${o.shape}.`);const i={x:r,weights:o},a={size:t};return q.runKernel(mM,i,a)}const u5e=Z({bincount_:l5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c5e(n,e){let t=G(n,"broadcastTo","x");const r=t.shape;if(Ol(e),e.length<t.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${t.rank}.`);if(e.length>t.rank){const u=t.shape.slice();for(;u.length<e.length;)u.unshift(1);t=Y(t,u)}const o=t.shape,i=Array.from(e);for(let u=e.length-1;u>=0;u--)if(o[u]===e[u])i[u]=1;else if(t.shape[u]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(i.map((u,c)=>u>1?c:-1).filter(u=>u>=0).length===0)return Pd(t);const s={x:t},l={reps:i};return q.runKernel(Y0,s,l)}const Yv=Z({broadcastTo_:c5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d5e(n){const t={x:G(n,"x","ceil","float32")};return q.runKernel(d0,t)}const h5e=Z({ceil_:d5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U2(n,e,t){Ol(n),t=t||Zp(e);const r={shape:n,value:e,dtype:t};return q.runKernel($M,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f5e(n,e,t){const r=G(n,"x","clipByValue");if(O(e<=t,()=>`Error in clip: min (${e}) must be less than or equal to max (${t}).`),e===t)return U2(r.shape,e,r.dtype);const o={x:r},i={clipValueMin:e,clipValueMax:t};return q.runKernel(h0,o,i)}const Ci=Z({clipByValue_:f5e});function p5e(n){return Do(n,0)}const g5e=Z({concat1d_:p5e});function v5e(n,e){return Do(n,e)}const m5e=Z({concat2d_:v5e});function y5e(n,e){return Do(n,e)}const b5e=Z({concat3d_:y5e});function w5e(n,e){return Do(n,e)}const x5e=Z({concat4d_:w5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S5e(n,e,t,r,o="NHWC",i=[1,1],a){const s=G(n,"x","conv2d","float32"),l=G(e,"filter","conv2d","float32");let u=s,c=!1;s.rank===3&&(c=!0,u=Y(s,[1,s.shape[0],s.shape[1],s.shape[2]])),O(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),O(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),Oo("conv2d",r,a);const d=o==="NHWC"?u.shape[3]:u.shape[1];O(d===l.shape[2],()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`),O(Xr(t,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${t} and dilations '${i}'`),O(eh(i),()=>"Error in conv2D: Dilated rates should be larger than 0."),O(eh(t),()=>"Error in conv2D: Strides should be larger than 0.");const h={x:u,filter:l},f={strides:t,pad:r,dataFormat:o,dilations:i,dimRoundingMode:a},p=q.runKernel(ZC,h,f);return c?Y(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const th=Z({conv2d_:S5e});function C5e(n,e,t,r,o="NWC",i=1,a){const s=G(n,"x","conv1d"),l=G(e,"filter","conv1d");let u=s,c=!1;s.rank===2&&(c=!0,u=Y(s,[1,s.shape[0],s.shape[1]])),O(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),O(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),Oo("conv1d",r,a),O(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),O(Xr(t,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${t} and dilation '${i}'`),O(eh(i),()=>"Error in conv1D: Dilated rates should be larger than 0."),O(eh(t),()=>"Error in conv1D: Stride should be larger than 0."),O(o==="NWC",()=>`Error in conv1d: got dataFormat of ${o} but only NWC is currently supported.`);const d=Y(l,[1,l.shape[0],l.shape[1],l.shape[2]]),h=Y(u,[u.shape[0],1,u.shape[1],u.shape[2]]),v=th(h,d,[1,t],r,"NHWC",[1,i],a);return c?Y(v,[v.shape[2],v.shape[3]]):Y(v,[v.shape[0],v.shape[2],v.shape[3]])}const lJ=Z({conv1d_:C5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k5e(n,e,t,r,o,i="NHWC",a){O(n.length===e.rank,()=>`Length of inShape (${n.length}) and rank of dy (${e.rank}) must match`);let s=n,l=e,u=!1;e.rank===3&&(u=!0,l=Y(e,[1,e.shape[0],e.shape[1],e.shape[2]]),s=[1,n[0],n[1],n[2]]),O(s.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${s.length}.`),O(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),O(t.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${t.rank}`);const c=i==="NHWC"?s[3]:s[1],d=i==="NHWC"?l.shape[3]:l.shape[1];O(c===t.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${t.shape[2]}.`),O(d===t.shape[3],()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${t.shape[3]}.`),Oo("conv2dDerInput",o,a);const h={dy:l,filter:t},f={strides:r,pad:o,dataFormat:i,dimRoundingMode:a,inputShape:s},p=q.runKernel(JC,h,f);return u?Y(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const aL=Z({conv2DBackpropInput_:k5e});function _5e(n,e,t,r,o,i){const a=G(n,"x","conv2dTranspose"),s=G(e,"filter","conv2dTranspose");return aL(t,a,s,r,o,"NHWC",i)}const uJ=Z({conv2dTranspose_:_5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I5e(n,e,t,r,o="NDHWC",i=[1,1,1]){const a=G(n,"x","conv3d"),s=G(e,"filter","conv3d");let l=a,u=!1;a.rank===4&&(u=!0,l=Y(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),O(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),O(s.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${s.rank}.`),O(l.shape[4]===s.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${s.shape[3]}.`),O(Xr(t,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${t} and dilations '${i}'`),O(o==="NDHWC",()=>`Error in conv3d: got dataFormat of ${o} but only NDHWC is currently supported.`),O(eh(i),()=>"Error in conv3D: Dilated rates should be larger than 0."),O(eh(t),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:l,filter:s},d={strides:t,pad:r,dataFormat:o,dilations:i},h=q.runKernel(QC,c,d);return u?Y(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const T5e=Z({conv3d_:I5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A5e(n,e,t,r,o){O(n.length===e.rank,()=>`Length of inShape (${n.length}) and rank of dy (${e.rank}) must match`);let i=n,a=e,s=!1;e.rank===4&&(s=!0,a=Y(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),i=[1,n[0],n[1],n[2],n[3]]);const l=i[4],u=a.shape[4];O(i.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),O(a.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${a.rank}`),O(t.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${t.rank}`),O(l===t.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${t.shape[3]}.`),O(u===t.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${t.shape[4]}.`);const c={dy:a,filter:t},d={pad:o,strides:r,inputShape:i},h=q.runKernel(SM,c,d);return s?Y(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const cJ=Z({conv3DBackpropInput_:A5e});function D5e(n,e,t,r,o){const i=G(n,"x","conv3dTranspose"),a=G(e,"filter","conv3dTranspose");return cJ(t,i,a,r,o)}const R5e=Z({conv3dTranspose_:D5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E5e(n){const t={x:G(n,"x","cos","float32")};return q.runKernel(f0,t)}const sL=Z({cos_:E5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $5e(n){const t={x:G(n,"x","cosh","float32")};return q.runKernel(p0,t)}const dJ=Z({cosh_:$5e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P5e(n,e=0,t=!1,r=!1){const i={x:G(n,"x","cumprod")},a={axis:e,exclusive:t,reverse:r};return q.runKernel(CM,i,a)}const fR=Z({cumprod_:P5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M5e(n,e=0,t=!1,r=!1){const i={x:G(n,"x","cumsum")},a={axis:e,exclusive:t,reverse:r};return q.runKernel(e2,i,a)}const hJ=Z({cumsum_:M5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L5e(n,e,t,r=!1){const o=G(n,"x","denseBincount"),i=G(e,"weights","denseBincount");O(o.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${o.dtype}`),O(o.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${o.rank}.`),O(t>=0,()=>`size must be non-negative, but got ${t}.`),O(i.size===o.size||i.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${o.shape}, weights shape: ${i.shape}.`);const a={x:o,weights:i},s={size:t,binaryOutput:r};return q.runKernel(_M,a,s)}const y7=Z({denseBincount_:L5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N5e(n,e,t="NHWC"){const r=G(n,"x","depthToSpace","float32"),o=t==="NHWC"?r.shape[1]:r.shape[2],i=t==="NHWC"?r.shape[2]:r.shape[3],a=t==="NHWC"?r.shape[3]:r.shape[1];O(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),O(o*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${o} and ${e}  for depthToSpace with input shape
    ${r.shape}`),O(i*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${e} for depthToSpace with input shape
        ${r.shape}`),O(a%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${a} for depthToSpace with input shape ${r.shape}`);const s={x:r},l={blockSize:e,dataFormat:t};return q.runKernel(IM,s,l)}const O5e=Z({depthToSpace_:N5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F5e(n,e,t,r,o="NHWC",i=[1,1],a){const s=G(n,"x","depthwiseConv2d","float32"),l=G(e,"filter","depthwiseConv2d","float32");let u=s,c=!1;s.rank===3&&(c=!0,u=Y(s,[1,s.shape[0],s.shape[1],s.shape[2]])),O(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),O(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const d=o==="NHWC"?u.shape[3]:u.shape[1];O(d===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`),Oo("depthwiseConv2d",r,a);const h={x:u,filter:l},f={strides:t,pad:r,dataFormat:o,dilations:i,dimRoundingMode:a},p=q.runKernel(t2,h,f);return c?Y(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const lL=Z({depthwiseConv2d_:F5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B5e(n,e,t,r,o=[1,1],i="NHWC"){const a=G(n,"x","dilation2d"),s=G(e,"filter","dilation2d");O(a.rank===3||a.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${a.rank}.`),O(s.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${s.rank}.`),O(i==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let l=a,u=!1;a.rank===3&&(l=Y(a,[1,a.shape[0],a.shape[1],a.shape[2]]),u=!0),O(l.shape[3]===s.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${s.shape[2]}`);const c={x:l,filter:s},d={strides:t,pad:r,dilations:o},h=q.runKernel(n2,c,d);return u?Y(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const z5e=Z({dilation2d_:B5e});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vp(n,e){const t=n.length,r=[];for(let o=0;o<t;o++){const i=t-1-o,a=n[i]||1;(e[e.length-1-o]||1)>1&&a===1&&r.unshift(i)}return r}function cr(n,e){const t=[];for(let r=0;r<e.length;r++){const o=n[n.length-r-1],i=e.length-r-1,a=e[i];(o==null||o===1&&a>1)&&t.unshift(i)}return t}function xt(n,e){const t=Math.max(n.length,e.length),r=new Array(t);for(let o=0;o<t;o++){let i=n[n.length-o-1];i==null&&(i=1);let a=e[e.length-o-1];if(a==null&&(a=1),i===1)r[t-o-1]=a;else if(a===1)r[t-o-1]=i;else if(i!==a){const s=`Operands could not be broadcast together with shapes ${n} and ${e}.`;throw Error(s)}else r[t-o-1]=i}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V5e(n,e){let t=G(n,"a","equal","string_or_numeric"),r=G(e,"b","equal","string_or_numeric");[t,r]=jn(t,r),xt(t.shape,r.shape);const o={a:t,b:r};return q.runKernel(r2,o)}const Gs=Z({equal_:V5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G5e(n,e,t){const r=G(e,"a","where"),o=G(t,"b","where"),i=G(n,"condition","where","bool"),a=xt(xt(i.shape,r.shape),o.shape),s=Yv(i,a),l=Yv(r,a),u=Yv(o,a),c={condition:s,t:l,e:u};return q.runKernel(P2,c)}const so=Z({where_:G5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W5e(n){const t={x:G(n,"x","zerosLike")};return q.runKernel(V2,t)}const jt=Z({zerosLike_:W5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H5e(n,e){let t=G(n,"a","div"),r=G(e,"b","div");[t,r]=jn(t,r);const o=ot(t,r),i=jt(o),a=Gs(r,i);return so(a,i,o)}const U5e=Z({divNoNan_:H5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j5e(n,e){const t=G(n,"t1","dot"),r=G(e,"t2","dot");O((t.rank===1||t.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${t.rank} and ${r.rank}.`);const o=t.rank===1?t.size:t.shape[1],i=r.rank===1?r.size:r.shape[0];if(O(o===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${o} and ${i}.`),t.rank===1&&r.rank===1){const a=Y(t,[1,-1]),s=Y(r,[-1,1]),l=Qt(a,s);return Y(l,[])}else if(t.rank===1&&r.rank===2){const a=Y(t,[1,-1]),s=Y(r,[r.shape[0],r.shape[1]]),l=Qt(a,s);return Y(l,[l.size])}else if(t.rank===2&&r.rank===1){const a=Y(r,[-1,1]),s=Qt(t,a);return Y(s,[s.size])}else{const a=Y(r,[r.shape[0],r.shape[1]]);return Qt(t,a)}}const K5e=Z({dot_:j5e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X5e(n,...e){const t=e.map((o,i)=>G(o,`tensors${i}`,"einsum")),r={equation:n};return q.runKernel(DM,t,r)}const Qg=Z({einsum_:X5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q5e(n){const t={x:G(n,"x","elu","float32")};return q.runKernel(v0,t)}const j2=Z({elu_:q5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y5e(n){let e=G(n,"x","erf");O(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=Be(e,"float32"));const t={x:e};return q.runKernel(m0,t)}const fJ=Z({erf_:Y5e});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uL(n,e){for(let t=0;t<n.length;++t)if(n[n.length-t-1]!==e-1-t)return!1;return!0}function pJ(n,e,t){const r=n.length+e.length,o=[];let i=0,a=0;for(let s=0;s<r;s++)t.indexOf(s)===-1?o.push(n[i++]):o.push(e[a++]);return o}function _r(n,e){const t=[],r=n.length;for(let i=0;i<r;i++)e.indexOf(i)===-1&&t.push(n[i]);const o=e.map(i=>n[i]);return[t,o]}function tr(n,e){const t=e.map(r=>1);return pJ(n,t,e)}function Or(n,e,t){O(uL(e,t),()=>`${n} supports only inner-most axes for now. Got axes ${e} and rank-${t} input.`)}function Fn(n,e){if(uL(n,e))return null;const t=[];for(let r=0;r<e;++r)n.indexOf(r)===-1&&t.push(r);return n.forEach(r=>t.push(r)),t}function ac(n){return n.map((e,t)=>[t,e]).sort((e,t)=>e[1]-t[1]).map(e=>e[0])}function Kn(n,e){const t=[];for(let r=e-n;r<e;++r)t.push(r);return t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z5e(n,e=null,t=!1){const o={x:G(n,"x","max")},i={reductionIndices:e,keepDims:t};return q.runKernel(g2,o,i)}const Oa=Z({max_:Z5e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J5e(n,e=null,t=!1){const o={x:G(n,"x","min")},i={axis:e,keepDims:t};return q.runKernel(b2,o,i)}const Jx=Z({min_:J5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q5e(n,e){let t=G(n,"base","pow"),r=G(e,"exp","pow");[t,r]=jn(t,r);const o={a:t,b:r};return q.runKernel(P0,o)}const nh=Z({pow_:Q5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zt(n,e){if((ia(n)&&e!=="string"||Array.isArray(n))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&ia(n)&&!(n instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return tg(n,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e4e(n){const t={x:G(n,"x","sqrt","float32")};return q.runKernel(U0,t)}const Kr=Z({sqrt_:e4e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t4e(n){const e=G(n,"x","square"),t={};return q.runKernel("Square",{x:e},t)}const _n=Z({square_:t4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n4e(n,e=null,t=!1){let r=G(n,"x","sum");r.dtype==="bool"&&(r=Be(r,"int32"));const o={x:r},i={axis:e,keepDims:t};return q.runKernel(L2,o,i)}const nt=Z({sum_:n4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r4e(n,e="euclidean",t=null,r=!1){n=G(n,"x","norm");const o=gJ(n,e,t);let i=o.shape;if(r){const a=Mt(t,n.shape);i=tr(o.shape,a)}return Y(o,i)}function gJ(n,e,t=null){if(n.rank===0)return to(n);if(n.rank!==1&&t===null)return gJ(Y(n,[-1]),e,t);if(n.rank===1||typeof t=="number"||Array.isArray(t)&&t.length===1){if(e===1)return nt(to(n),t);if(e===1/0)return Oa(to(n),t);if(e===-1/0)return Jx(to(n),t);if(e==="euclidean"||e===2)return Kr(nt(nh(to(n),Zt(2,"int32")),t));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(t)&&t.length===2){if(e===1)return Oa(nt(to(n),t[0]),t[1]-1);if(e===1/0)return Oa(nt(to(n),t[1]),t[0]);if(e===-1/0)return Jx(nt(to(n),t[1]),t[0]);if(e==="fro"||e==="euclidean")return Kr(nt(_n(n),t));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${t}`)}const K2=Z({norm_:r4e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o4e(n,e=null,t=!1){return K2(n,"euclidean",e,t)}const i4e=Z({euclideanNorm_:o4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a4e(n){const t={x:G(n,"x","exp")};return q.runKernel(y0,t)}const Ws=Z({exp_:a4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s4e(n,e=0){const t=G(n,"x","expandDims","string_or_numeric");O(e<=t.rank,()=>"Axis must be <= rank of the tensor");const r={input:t},o={dim:e};return q.runKernel(o2,r,o)}const ko=Z({expandDims_:s4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l4e(n){const t={x:G(n,"x","expm1")};return q.runKernel(b0,t)}const u4e=Z({expm1_:l4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c4e(n,e){const t=G(n,"x","tile","string_or_numeric");O(t.rank===e.length,()=>`Error in transpose: rank of input ${t.rank} must match length of reps ${e}.`);const r={x:t},o={reps:e};return q.runKernel(Y0,r,o)}const Ra=Z({tile_:c4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d4e(n,e,t,r="float32"){e==null&&(e=n);const o=$t([n,e],r),i=n<=e?n:e;for(let s=0;s<i;++s)o.set(1,s,s);const a=Y(o.toTensor(),[n,e]);if(t==null)return a;if(t.length===1)return Ra(ko(a,0),[t[0],1,1]);if(t.length===2)return Ra(ko(ko(a,0),0),[t[0],t[1],1,1]);if(t.length===3)return Ra(ko(ko(ko(a,0),0),0),[t[0],t[1],t[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${t.length}D.`)}const vJ=Z({eye_:d4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h4e(n){const t={x:G(n,"x","floor","float32")};return q.runKernel(w0,t)}const X2=Z({floor_:h4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f4e(n,e,t=0,r=0){const o=G(n,"x","gather"),i=G(e,"indices","gather","int32"),a={x:o,indices:i},s={axis:t,batchDims:r};return q.runKernel(a2,a,s)}const cL=Z({gather_:f4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p4e(n,e){let t=G(n,"a","greater","string_or_numeric"),r=G(e,"b","greater","string_or_numeric");[t,r]=jn(t,r),xt(t.shape,r.shape);const o={a:t,b:r};return q.runKernel(s2,o)}const Ii=Z({greater_:p4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g4e(n,e){let t=G(n,"a","greaterEqual","string_or_numeric"),r=G(e,"b","greaterEqual","string_or_numeric");[t,r]=jn(t,r),xt(t.shape,r.shape);const o={a:t,b:r};return q.runKernel(S0,o)}const kh=Z({greaterEqual_:g4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v4e(n){const t={input:G(n,"input","imag")};return q.runKernel(LM,t)}const dL=Z({imag_:v4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m4e(n){const t={x:G(n,"x","isFinite")};return q.runKernel(k0,t)}const y4e=Z({isFinite_:m4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b4e(n){const t={x:G(n,"x","isInf")};return q.runKernel(_0,t)}const w4e=Z({isInf_:b4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x4e(n){const t={x:G(n,"x","isNaN")};return q.runKernel(I0,t)}const S4e=Z({isNaN_:x4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C4e(n,e=.2){const r={x:G(n,"x","leakyRelu")},o={alpha:e};return q.runKernel(l2,r,o)}const hL=Z({leakyRelu_:C4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k4e(n,e){let t=G(n,"a","less","string_or_numeric"),r=G(e,"b","less","string_or_numeric");[t,r]=jn(t,r),xt(t.shape,r.shape);const o={a:t,b:r};return q.runKernel(u2,o)}const Qx=Z({less_:k4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _4e(n,e){let t=G(n,"a","lessEqual","string_or_numeric"),r=G(e,"b","lessEqual","string_or_numeric");[t,r]=jn(t,r),xt(t.shape,r.shape);const o={a:t,b:r};return q.runKernel(c2,o)}const rg=Z({lessEqual_:_4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I4e(n,e=5,t=1,r=1,o=.5){const i=G(n,"x","localResponseNormalization");O(i.rank===4||i.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),O(hp(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let a=i,s=!1;i.rank===3&&(s=!0,a=Y(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:a},u={depthRadius:e,bias:t,alpha:r,beta:o},c=q.runKernel(p2,l,u);return s?Y(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const T4e=Z({localResponseNormalization_:I4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A4e(n){const t={x:G(n,"x","log","float32")};return q.runKernel(T0,t)}const Hs=Z({log_:A4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D4e(n){const t={x:G(n,"x","log1p")};return q.runKernel(A0,t)}const mJ=Z({log1p_:D4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R4e(n,e){O(qD(n),()=>"The f passed in variableGrads(f) must be a function"),O(e==null||Array.isArray(e)&&e.every(u=>u instanceof Yx),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const t=e!=null;if(!t){e=[];for(const u in q.registeredVariables)e.push(q.registeredVariables[u])}const r=t?e.filter(u=>!u.trainable):null,o=e.length;e=e.filter(u=>u.trainable),O(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${o} variables is trainable.`);const i=!0,{value:a,grads:s}=q.gradients(n,e,null,i);O(s.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),O(a.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${a.rank} tensor`);const l={};return e.forEach((u,c)=>{s[c]!=null&&(l[u.name]=s[c])}),r!=null&&r.forEach(u=>l[u.name]=null),{value:a,grads:l}}function mp(n){return q.customGrad(n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E4e(n){const t={x:G(n,"x","neg")};return q.runKernel(x2,t)}const Hn=Z({neg_:E4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $4e(n){const t={x:G(n,"x","softplus")};return q.runKernel(H0,t)}const Q0=Z({softplus_:$4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P4e(n){const e=G(n,"x","logSigmoid");return mp(r=>({value:Hn(Q0(Hn(r))),gradFunc:a=>X(a,ng(Hn(r)))}))(e)}const M4e=Z({logSigmoid_:P4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L4e(n,e){let t=G(n,"a","sub"),r=G(e,"b","sub");[t,r]=jn(t,r);const o={a:t,b:r};return q.runKernel(K0,o)}const ht=Z({sub_:L4e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N4e(n,e=-1){const t=G(n,"logits","logSoftmax");if(e===-1&&(e=t.rank-1),e!==t.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${t.rank} and axis was ${e}`);return mp((o,i)=>{const s=Oa(o,e,!0),l=ht(o,s),u=ht(Be(l,"float32"),Hs(nt(Ws(l),e,!0)));return i([u]),{value:u,gradFunc:(d,h)=>{const[f]=h,p=!0,g=Ws(f);return ht(d,X(nt(d,e,p),g))}}})(t)}const yJ=Z({logSoftmax_:N4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O4e(n,e=null,t=!1){const r=G(n,"x","logSumExp"),o=Mt(e,r.shape),i=Oa(r,o,!0),a=ht(r,i),s=Ws(a),l=nt(s,o),u=Hs(l),c=Ae(Y(i,u.shape),u);if(t){const d=tr(c.shape,o);return Y(c,d)}return c}const bJ=Z({logSumExp_:O4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F4e(n,e){const t=G(n,"a","logicalAnd","bool"),r=G(e,"b","logicalAnd","bool");xt(t.shape,r.shape);const o={a:t,b:r};return q.runKernel(d2,o)}const Dl=Z({logicalAnd_:F4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B4e(n){const t={x:G(n,"x","logicalNot","bool")};return q.runKernel(h2,t)}const fL=Z({logicalNot_:B4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z4e(n,e){const t=G(n,"a","logicalOr","bool"),r=G(e,"b","logicalOr","bool");xt(t.shape,r.shape);const o={a:t,b:r};return q.runKernel(f2,o)}const wJ=Z({logicalOr_:z4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V4e(n,e){const t=G(n,"a","logicalXor","bool"),r=G(e,"b","logicalXor","bool");return xt(t.shape,r.shape),Dl(wJ(n,e),fL(Dl(n,e)))}const G4e=Z({logicalXor_:V4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W4e(n,e,t,r,o){const i=G(n,"x","maxPool"),a=1;let s=i,l=!1;i.rank===3&&(l=!0,s=Y(i,[1,i.shape[0],i.shape[1],i.shape[2]])),O(s.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${s.rank}.`),O(Xr(t,a),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${t} and dilations '${a}'`),Oo("maxPool",r,o);const u={x:s},c={filterSize:e,strides:t,pad:r,dimRoundingMode:o},d=q.runKernel(v2,u,c);return l?Y(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const pL=Z({maxPool_:W4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H4e(n,e=[1,1,1],t,r,o,i="NDHWC"){const a=G(n,"x","maxPool3d");let s=a,l=!1;a.rank===4&&(l=!0,s=Y(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),O(s.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${s.rank}.`),O(i==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),Oo("maxPool3d",r,o);const u={x:s},c={filterSize:e,strides:t,pad:r,dimRoundingMode:o,dataFormat:i},d=q.runKernel(m2,u,c);return l?Y(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const U4e=Z({maxPool3d_:H4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j4e(n,e){let t=G(n,"a","maximum"),r=G(e,"b","maximum");[t,r]=jn(t,r),t.dtype==="bool"&&(t=Be(t,"int32"),r=Be(r,"int32")),xt(t.shape,r.shape);const o={a:t,b:r};return q.runKernel(D0,o)}const sc=Z({maximum_:j4e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K4e(n,e=null,t=!1){const o={x:G(n,"x","mean")},i={axis:e,keepDims:t};return q.runKernel(y2,o,i)}const Jn=Z({mean_:K4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gr(n,e="float32"){if(Ol(n),e==="complex64"){const r=gr(n,"float32"),o=gr(n,"float32");return Yd(r,o)}const t=jr(ue(n),e);return q.makeTensor(t,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lc(n,e="float32"){if(Ol(n),e==="complex64"){const r=lc(n,"float32"),o=gr(n,"float32");return Yd(r,o)}const t=uM(ue(n),e);return q.makeTensor(t,n,e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X4e(n,e){let t=G(n,"a","minimum"),r=G(e,"b","minimum");[t,r]=jn(t,r),t.dtype==="bool"&&(t=Be(t,"int32"),r=Be(r,"int32")),xt(t.shape,r.shape);const o={a:t,b:r};return q.runKernel(R0,o)}const dy=Z({minimum_:X4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q4e(n,e,t){O(t==="reflect"||t==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${t}.`);const r=G(n,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");O(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const o=t==="reflect"?1:0;for(let s=0;s<r.rank;s++)O(e[s].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),O(e[s][0]>=0&&e[s][0]<=r.shape[s]-o&&e[s][1]>=0&&e[s][1]<=r.shape[s]-o,()=>`Padding in dimension ${s} cannot be greater than or equal to ${r.shape[s]-o} or less than 0 for input of shape ${r.shape}`);const i={paddings:e,mode:t},a={x:r};return q.runKernel(w2,a,i)}const Y4e=Z({mirrorPad_:q4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z4e(n,e){let t=G(n,"a","mod"),r=G(e,"b","mod");[t,r]=jn(t,r);const o={a:t,b:r};return q.runKernel(E0,o)}const J4e=Z({mod_:Z4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q4e(n,e=null,t=!1){n=G(n,"x","moments");const r=Mt(e,n.shape),o=Jn(n,r,t);let i=o.shape;t||(i=tr(o.shape,r));const a=_n(ht(Be(n,"float32"),Y(o,i))),s=Jn(a,r,t);return{mean:o,variance:s}}const gL=Z({moments_:Q4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eFe(n,e){let t=G(n,"a","notEqual","string_or_numeric"),r=G(e,"b","notEqual","string_or_numeric");[t,r]=jn(t,r),xt(t.shape,r.shape);const o={a:t,b:r};return q.runKernel(S2,o)}const eS=Z({notEqual_:eFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tFe(n,e,t=1,r=0,o="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const a={indices:G(n,"indices","oneHot","int32")},s={dtype:o,depth:e,onValue:t,offValue:r};return q.runKernel(k2,a,s)}const xJ=Z({oneHot_:tFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nFe(n){const t={x:G(n,"x","onesLike")};return q.runKernel(C2,t)}const aa=Z({onesLike_:nFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rFe(n,e,t=0){const r=G(n,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const o={paddings:e,constantValue:t},i={x:r};return q.runKernel(I2,i,o)}const vL=Z({pad_:rFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oFe(n,e,t){const r=G(n,"x","spaceToBatchND");O(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),O(t.length===e.length,()=>`paddings.shape[0] ${t.length} must be equal to [blockShape] ${e.length}`),O(r.shape.reduce((a,s,l)=>l>0&&l<=e.length?a&&(s+t[l-1][0]+t[l-1][1])%e[l-1]===0:a,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${t.toString()} must be divisible by blockShapes ${e.toString()}`);const o={x:r},i={blockShape:e,paddings:t};return q.runKernel(N2,o,i)}const mL=Z({spaceToBatchND_:oFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iFe(n,e,t,r,o,i,a){o==null&&(o=[1,1]),i==null&&(i=1),r===0&&(r="valid");const s=G(n,"x","maxPool");let l=s,u=!1;s.rank===3&&(u=!0,l=Y(s,[1,s.shape[0],s.shape[1],s.shape[2]])),O(Xr(i,o),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${o}'`);const c=ha(l.shape,e,i,o,r),d=[c.dilationHeight,c.dilationWidth];let h;r==="same"?h=sFe([c.filterHeight,c.filterWidth],d):h=[[0,0],[0,0]];const f=d[0]===1&&d[1]===1,[p,g]=aFe([c.inHeight,c.inWidth],d,h),v=f?r:"valid",m=f?l:mL(l,d,p),b=(t==="avg"?()=>oL(m,e,i,v,a):()=>pL(m,e,i,v,a))(),w=f?b:iL(b,d,g);return u?Y(w,[w.shape[1],w.shape[2],w.shape[3]]):w}function aFe(n,e,t){const r=t.map(c=>c[0]),o=t.map(c=>c[1]),i=n.concat(r,o),a=e.map((c,d)=>(c-i[d]%c)%c),s=o.map((c,d)=>c+a[d]),l=e.map((c,d)=>[r[d],s[d]]),u=e.map((c,d)=>[0,a[d]]);return[l,u]}function sFe(n,e){const r=n.map((a,s)=>a+(a-1)*(e[s]-1)).map(a=>a-1),o=r.map(a=>Math.floor(a/2)),i=r.map((a,s)=>a-o[s]);return r.map((a,s)=>[o[s],i[s]])}const lFe=Z({pool_:iFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uFe(n,e){const t=G(n,"x","prelu"),r=G(e,"alpha","prelu"),o={x:t,alpha:r};return q.runKernel(T2,o)}const yL=Z({prelu_:uFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cFe(n,e=null,t=!1){let r=G(n,"x","prod");r.dtype==="bool"&&(r=Be(r,"int32"));const o={x:r},i={axis:e,keepDims:t};return q.runKernel(A2,o,i)}const dFe=Z({prod_:cFe});var bL={exports:{}};bL.exports;(function(n){(function(e,t,r){function o(l){var u=this,c=s();u.next=function(){var d=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=d-(u.c=d|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function i(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var c=new o(l),d=u&&u.state,h=c.next;return h.int32=function(){return c.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,d&&(typeof d=="object"&&i(d,c),h.state=function(){return i(c,{})}),h}function s(){var l=4022871197,u=function(c){c=String(c);for(var d=0;d<c.length;d++){l+=c.charCodeAt(d);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return u}t&&t.exports?t.exports=a:this.alea=a})(xh,n)})(bL);var hFe=bL.exports,wL={exports:{}};wL.exports;(function(n){(function(e,t,r){function o(s){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function i(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function a(s,l){var u=new o(s),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,f=(u.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&i(c,u),d.state=function(){return i(u,{})}),d}t&&t.exports?t.exports=a:this.xor128=a})(xh,n)})(wL);var fFe=wL.exports,xL={exports:{}};xL.exports;(function(n){(function(e,t,r){function o(s){var l=this,u="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function a(s,l){var u=new o(s),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,f=(u.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&i(c,u),d.state=function(){return i(u,{})}),d}t&&t.exports?t.exports=a:this.xorwow=a})(xh,n)})(xL);var pFe=xL.exports,SL={exports:{}};SL.exports;(function(n){(function(e,t,r){function o(s){var l=this;l.next=function(){var c=l.x,d=l.i,h,f;return h=c[d],h^=h>>>7,f=h^h<<24,h=c[d+1&7],f^=h^h>>>10,h=c[d+3&7],f^=h^h>>>3,h=c[d+4&7],f^=h^h<<7,h=c[d+7&7],h=h^h<<13,f^=h^h<<9,c[d]=f,l.i=d+1&7,f};function u(c,d){var h,f=[];if(d===(d|0))f[0]=d;else for(d=""+d,h=0;h<d.length;++h)f[h&7]=f[h&7]<<15^d.charCodeAt(h)+f[h+1&7]<<13;for(;f.length<8;)f.push(0);for(h=0;h<8&&f[h]===0;++h);for(h==8?f[7]=-1:f[h],c.x=f,c.i=0,h=256;h>0;--h)c.next()}u(l,s)}function i(s,l){return l.x=s.x.slice(),l.i=s.i,l}function a(s,l){s==null&&(s=+new Date);var u=new o(s),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,f=(u.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(c.x&&i(c,u),d.state=function(){return i(u,{})}),d}t&&t.exports?t.exports=a:this.xorshift7=a})(xh,n)})(SL);var gFe=SL.exports,CL={exports:{}};CL.exports;(function(n){(function(e,t,r){function o(s){var l=this;l.next=function(){var c=l.w,d=l.X,h=l.i,f,p;return l.w=c=c+1640531527|0,p=d[h+34&127],f=d[h=h+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,p=d[h]=p^f,l.i=h,p+(c^c>>>16)|0};function u(c,d){var h,f,p,g,v,m=[],y=128;for(d===(d|0)?(f=d,d=null):(d=d+"\0",f=0,y=Math.max(y,d.length)),p=0,g=-32;g<y;++g)d&&(f^=d.charCodeAt((g+32)%d.length)),g===0&&(v=f),f^=f<<10,f^=f>>>15,f^=f<<4,f^=f>>>13,g>=0&&(v=v+1640531527|0,h=m[g&127]^=f+v,p=h==0?p+1:0);for(p>=128&&(m[(d&&d.length||0)&127]=-1),p=127,g=4*128;g>0;--g)f=m[p+34&127],h=m[p=p+1&127],f^=f<<13,h^=h<<17,f^=f>>>15,h^=h>>>12,m[p]=f^h;c.w=v,c.X=m,c.i=p}u(l,s)}function i(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function a(s,l){s==null&&(s=+new Date);var u=new o(s),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,f=(u.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(c.X&&i(c,u),d.state=function(){return i(u,{})}),d}t&&t.exports?t.exports=a:this.xor4096=a})(xh,n)})(CL);var vFe=CL.exports,kL={exports:{}};kL.exports;(function(n){(function(e,t,r){function o(s){var l=this,u="";l.next=function(){var d=l.b,h=l.c,f=l.d,p=l.a;return d=d<<25^d>>>7^h,h=h-f|0,f=f<<24^f>>>8^p,p=p-d|0,l.b=d=d<<20^d>>>12^h,l.c=h=h-f|0,l.d=f<<16^h>>>16^p,l.a=p-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):u+=s;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function i(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function a(s,l){var u=new o(s),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,f=(u.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&i(c,u),d.state=function(){return i(u,{})}),d}t&&t.exports?t.exports=a:this.tychei=a})(xh,n)})(kL);var mFe=kL.exports,SJ={exports:{}};const yFe={},bFe=Object.freeze(Object.defineProperty({__proto__:null,default:yFe},Symbol.toStringTag,{value:"Module"})),wFe=l3e(bFe);(function(n){(function(e,t,r){var o=256,i=6,a=52,s="random",l=r.pow(o,i),u=r.pow(2,a),c=u*2,d=o-1,h;function f(w,x,S){var C=[];x=x==!0?{entropy:!0}:x||{};var k=m(v(x.entropy?[w,b(t)]:w??y(),3),C),_=new p(C),I=function(){for(var T=_.g(i),A=l,D=0;T<u;)T=(T+D)*o,A*=o,D=_.g(1);for(;T>=c;)T/=2,A/=2,D>>>=1;return(T+D)/A};return I.int32=function(){return _.g(4)|0},I.quick=function(){return _.g(4)/4294967296},I.double=I,m(b(_.S),t),(x.pass||S||function(T,A,D,E){return E&&(E.S&&g(E,_),T.state=function(){return g(_,{})}),D?(r[s]=T,A):T})(I,k,"global"in x?x.global:this==r,x.state)}function p(w){var x,S=w.length,C=this,k=0,_=C.i=C.j=0,I=C.S=[];for(S||(w=[S++]);k<o;)I[k]=k++;for(k=0;k<o;k++)I[k]=I[_=d&_+w[k%S]+(x=I[k])],I[_]=x;(C.g=function(T){for(var A,D=0,E=C.i,$=C.j,P=C.S;T--;)A=P[E=d&E+1],D=D*o+P[d&(P[E]=P[$=d&$+A])+(P[$]=A)];return C.i=E,C.j=$,D})(o)}function g(w,x){return x.i=w.i,x.j=w.j,x.S=w.S.slice(),x}function v(w,x){var S=[],C=typeof w,k;if(x&&C=="object")for(k in w)try{S.push(v(w[k],x-1))}catch{}return S.length?S:C=="string"?w:w+"\0"}function m(w,x){for(var S=w+"",C,k=0;k<S.length;)x[d&k]=d&(C^=x[d&k]*19)+S.charCodeAt(k++);return b(x)}function y(){try{var w;return h&&(w=h.randomBytes)?w=w(o):(w=new Uint8Array(o),(e.crypto||e.msCrypto).getRandomValues(w)),b(w)}catch{var x=e.navigator,S=x&&x.plugins;return[+new Date,e,S,e.screen,b(t)]}}function b(w){return String.fromCharCode.apply(0,w)}if(m(r.random(),t),n.exports){n.exports=f;try{h=wFe}catch{}}else r["seed"+s]=f})(typeof self<"u"?self:xh,[],Math)})(SJ);var xFe=SJ.exports,SFe=hFe,CFe=fFe,kFe=pFe,_Fe=gFe,IFe=vFe,TFe=mFe,_h=xFe;_h.alea=SFe;_h.xor128=CFe;_h.xorwow=kFe;_h.xorshift7=_Fe;_h.xor4096=IFe;_h.tychei=TFe;var _L=_h;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CJ{constructor(e,t,r,o,i){this.mean=e,this.stdDev=t,this.dtype=r,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const a=i||Math.random();this.random=_L.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const o=this.nextVal;return this.nextVal=NaN,o}let e,t,r=!1;for(;!r;){let o,i,a;do o=2*this.random()-1,i=2*this.random()-1,a=o*o+i*i;while(a>=1||a===0);const s=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*o*s,t=this.mean+this.stdDev*i*s,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(t))&&(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class AFe{constructor(e=0,t=1,r,o){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=t-e,this.dtype=r,o==null&&(o=Math.random()),typeof o=="number"&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=_L.alea(o)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DFe(n,e=0,t=1,r,o){if(Ol(n),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const i=new CJ(e,t,r,!1,o),a=$t(n,r);for(let s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}const RFe=Z({randomNormal_:DFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EFe(n,e=0,t=1,r="float32",o){Ol(n);const i=$t(n,r),a=new AFe(e,t,null,o);for(let s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}const eb=Z({randomUniform_:EFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hy(n,e,t=1,r="float32"){if(t===0)throw new Error("Cannot have a step of zero");const o={start:n,stop:e,step:t,dtype:r};return q.runKernel(GM,{},o)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Fe(n){const t={input:G(n,"input","real")};return q.runKernel(WM,t)}const tS=Z({real_:$Fe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PFe(n){const t={x:G(n,"x","reciprocal")};return q.runKernel(M0,t)}const MFe=Z({reciprocal_:PFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LFe(n){const t={x:G(n,"x","relu")};return q.runKernel(L0,t)}const Ih=Z({relu_:LFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NFe(n){const t={x:G(n,"x","relu6")};return q.runKernel(N0,t)}const kJ=Z({relu6_:NFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OFe(n,e){const r={x:G(n,"x","reverse")},o={dims:e};return q.runKernel($2,r,o)}const rh=Z({reverse_:OFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FFe(n){const t={x:G(n,"x","round")};return q.runKernel(O0,t)}const _J=Z({round_:FFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BFe(n){const t={x:G(n,"x","rsqrt","float32")};return q.runKernel(F0,t)}const IJ=Z({rsqrt_:BFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zFe(n){const t={x:G(n,"x","selu")};return q.runKernel(B0,t)}const TJ=Z({selu_:zFe});function VFe(n,e,t,r,o,i=[1,1],a="NHWC"){const s=G(n,"x","separableConv2d"),l=G(e,"depthwiseFilter","separableConv2d"),u=G(t,"pointwiseFilter","separableConv2d");let c=s,d=!1;if(s.rank===3&&(d=!0,c=Y(s,[1,s.shape[0],s.shape[1],s.shape[2]])),a==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");O(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),O(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),O(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),O(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),O(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const h=l.shape[2],f=l.shape[3];O(u.shape[2]===h*f,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${h*f}, but got ${u.shape[2]}.`);const p=lL(c,l,r,o,a,i),v=th(p,u,1,"valid",a);return d?Y(v,[v.shape[1],v.shape[2],v.shape[3]]):v}const AJ=Z({separableConv2d_:VFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GFe(n){const t={x:G(n,"x","sign")};return q.runKernel(G0,t)}const WFe=Z({sign_:GFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HFe(n){const t={x:G(n,"x","sin","float32")};return q.runKernel(z0,t)}const DJ=Z({sin_:HFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UFe(n){const t={x:G(n,"x","sinh")};return q.runKernel(V0,t)}const RJ=Z({sinh_:UFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jFe(n,e,t){const r=G(n,"x","slice1d");return O(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Sn(r,[e],[t])}const IL=Z({slice1d_:jFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KFe(n,e,t){const r=G(n,"x","slice2d");return O(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Sn(r,e,t)}const EJ=Z({slice2d_:KFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XFe(n,e,t){const r=G(n,"x","slice3d");return O(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Sn(r,e,t)}const TL=Z({slice3d_:XFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qFe(n,e,t){const r=G(n,"x","slice4d");return O(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Sn(r,e,t)}const nS=Z({slice4d_:qFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YFe(n,e=-1){const t=G(n,"logits","softmax","float32");if(e===-1&&(e=t.rank-1),e!==t.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${t.rank} and dim was ${e}`);const r={logits:t},o={dim:e};return q.runKernel(F2,r,o)}const AL=Z({softmax_:YFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZFe(n){O(n.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${n.dtype}.`);const e={input:n};return q.runKernel(EM,e)}const $J=Z({fft_:ZFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JFe(n){O(n.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${n.dtype}.`);const e={input:n};return q.runKernel(MM,e)}const pR=Z({ifft_:JFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QFe(n){const e=n.shape[n.shape.length-1],t=n.size/e;let r;if(e<=2){const o=Y(n,[t,e]);r=pR(o)}else{const o=[t,2*(e-1)],i=Y(tS(n),[t,e]),a=Y(dL(n),[t,e]),s=rh(Sn(i,[0,1],[t,e-2]),1),l=X(rh(Sn(a,[0,1],[t,e-2]),1),Zt(-1)),u=Do([i,s],1),c=Do([a,l],1),d=Y(Yd(u,c),[o[0],o[1]]);r=pR(d)}if(r=tS(r),n.rank===3&&n.shape[0]!==0){const o=r,i=n.shape[0];r=Y(r,[i,r.shape[0]/i,r.shape[1]]),o.dispose()}return r}const eBe=Z({irfft_:QFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tBe(n,e,t=0){const o={x:G(n,"x","split")},i={numOrSizeSplits:e,axis:t};return q.runKernel(O2,o,i)}const wi=Z({split_:tBe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nBe(n,e){O(n.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${n.dtype}`);let t=n.shape[n.shape.length-1];const r=n.size/t;let o;if(e!=null&&e<t){const p=n.shape.map(v=>0),g=n.shape.map(v=>v);g[n.shape.length-1]=e,o=Sn(n,p,g),t=e}else if(e!=null&&e>t){const p=n.shape.map(g=>g);p[n.shape.length-1]=e-t,o=Do([n,gr(p)],n.shape.length-1),t=e}else o=n;const i=jt(o),a=Y(Yd(o,i),[r,t]),s=$J(a),l=Math.floor(t/2)+1,u=tS(s),c=dL(s),d=wi(u,[l,t-l],u.shape.length-1),h=wi(c,[l,t-l],c.shape.length-1),f=o.shape.slice();return f[o.shape.length-1]=l,Y(Yd(d[0],h[0]),f)}const rBe=Z({rfft_:nBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oBe(n,e){let t=G(n,"a","squaredDifference"),r=G(e,"b","squaredDifference");[t,r]=jn(t,r),xt(t.shape,r.shape);const o={a:t,b:r},i={};return q.runKernel(j0,o,i)}const iBe=Z({squaredDifference_:oBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aBe(n,e){const t=G(n,"x","squeeze","string_or_numeric");return Y(t,nc(t.shape,e).newShape)}const tb=Z({squeeze_:aBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sBe(n,e=0){const t=JZ(n,"tensors","stack","string_or_numeric");O(t.length>=1,()=>"Pass at least one tensor to tf.stack"),t.length>0&&O(e<=t[0].rank,()=>"Axis must be <= rank of the tensor");const r=t,o={axis:e};return q.runKernel(_2,r,o)}const Rl=Z({stack_:sBe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lBe(n,e=0){const r={x:G(n,"x","step")},o={alpha:e};return q.runKernel(Z0,r,o)}const nb=Z({step_:lBe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uBe(n,e,t,r,o=0,i=0,a=0,s=0,l=0){const c={x:G(n,"x","stridedSlice","string_or_numeric")},d={begin:e,end:t,strides:r,beginMask:o,endMask:i,ellipsisMask:a,newAxisMask:s,shrinkAxisMask:l};return q.runKernel(XM,c,d)}const cBe=Z({stridedSlice_:uBe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dBe(n){const t={x:G(n,"x","tan","float32")};return q.runKernel(X0,t)}const hBe=Z({tan_:dBe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qo(n,e){VC(n);const t=eg(n,e);if(t.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return tg(n,null,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xf(n,e,t){if(VC(n),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=eg(n,t);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return tg(n,e,r,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fBe(n,e,t){if(VC(n),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=eg(n,t);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return tg(n,e,r,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dT(n,e,t){if(VC(n),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=eg(n,t);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return tg(n,e,r,t)}function PJ(n,e,t){const r=e.rank>1?e.shape[e.rank-1]:1,o=e.rank>1?e.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${t.shape}, indices.shape: ${e.shape}, shape: ${n}, sliceDim: ${r}, and batchDim: ${o}.`;if(t.rank<o)throw new Error(i+` update.rank < ${o}. `);if(n.length<r+(t.rank-o))throw new Error(i+` Output shape length < ${r+(t.rank-o)}`);if(t.rank!==o+n.length-r)throw new Error(i+` update.rank != ${o+n.length-r}`);for(let a=0;a<o;++a)if(t.shape[a]!==e.shape[a])throw new Error(i+` updates.shape[${a}] (${t.shape[a]}) != indices.shape[${a}] (${e.shape[a]}).`);for(let a=0;a<t.rank-o;++a)if(t.shape[a+o]!==n[a+r])throw new Error(i+` updates.shape[${a+o}] (${t.shape[a+o]}) != shape[${a+o}] (${n[a+o]})`)}function pBe(n,e,t){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(n.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${n.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(t.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${t}`);if(t.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(n.size===0)throw new Error(`Updates specified for empty output. updates shape: ${n.shape}`)}PJ(t,e,n)}function Th(n,e,t){const r=e.shape.length,o=r>1?e.shape[r-1]:1,i=t.length;let a=1;for(let d=o;d<i;++d)a*=t[d];const s=o<1?1:o,l=ue(e.shape)/s,u=[...tt(t.slice(0,o)),1],c=ue(t);return{sliceRank:o,numUpdates:l,sliceSize:a,strides:u,outputSize:c}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gBe(n,e=1,t=!0){const r=G(n,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const o=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>o)throw new Error(`'k' passed to topk() must be <= the last dimension (${o}) but got ${e}`);const i={x:r},a={k:e,sorted:t},[s,l]=q.runKernel(qM,i,a);return{values:s,indices:l}}const vBe=Z({topk_:gBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mBe(n,e=0,t=1,r,o){if(Ol(n),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const i=new CJ(e,t,r,!0,o),a=$t(n,r);for(let s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}const MJ=Z({truncatedNormal_:mBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yBe(n,e=0){const t=G(n,"x","unique","string_or_numeric");O(t.rank>0,()=>"The input tensor must be at least 1D");const r={x:t},o={axis:e},[i,a]=q.runKernel(ZM,r,o);return{values:i,indices:a}}const bBe=Z({unique_:yBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wBe(n,e,t){const r=G(n,"x","unsortedSegmentSum"),o=G(e,"segmentIds","unsortedSegmentSum","int32");O(hp(t),()=>"numSegments must be of dtype int");const i={x:r,segmentIds:o},a={numSegments:t};return q.runKernel(z2,i,a)}const LJ=Z({unsortedSegmentSum_:wBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xBe(n,e=0){const t=G(n,"x","unstack","string_or_numeric");O(e>=-t.shape.length&&e<t.shape.length,()=>`Axis = ${e} is not in [-${t.shape.length}, ${t.shape.length})`);const r={value:t},o={axis:e};return q.runKernel(B2,r,o)}const oh=Z({unstack_:xBe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SBe(n,e=!0,t,r){return q.makeVariable(n,e,t,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NJ(n,e){const t=[];for(let i=0;i<e.length;i++)e[i]&&t.push(i);const r=$t(n,"int32"),o=$t([t.length,n.length],"int32");for(let i=0;i<t.length;i++){const a=r.indexToLoc(t[i]),s=i*n.length;o.values.set(a,s)}return o.toTensor()}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CBe(n,e,t){const r=G(n,"x","transpose");if(e==null&&(e=r.shape.map((a,s)=>s).reverse()),O(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(a=>{O(a>=0&&a<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const o={x:r},i={perm:e};return r.dtype==="complex64"?ee(()=>{let a=tS(r),s=dL(r);return a=q.runKernel(jf,{x:a},i),s=q.runKernel(jf,{x:s},i),t&&(s=Hn(s)),Yd(a,s)}):q.runKernel(jf,o,i)}const Ut=Z({transpose_:CBe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kBe(n,e){if(e==null)return n.shape.slice();if(an(n.shape,e))return e;if(n.shape.length===e.length){const t=[];for(let r=0;r<n.shape.length;r++)e[r]==null&&n.shape[r]!=null?t.push(n.shape[r]):t.push(e[r]);return t}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Be(n,e,t,r){const o=G(n,"x","dropout");if(O(o.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${o.dtype} tensor instead.`),O(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return n instanceof or?o.clone():o;const i=kBe(o,t),a=1-e,s=ot(X2(Ae(eb(i,0,1,"float32",r),a)),a);return X(o,s)}const IBe=Z({dropout_:_Be});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TBe(n,e,t,r,o,i="NHWC",a){let s=n;n.rank===3&&(s=Y(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let l=e;l.rank===3&&(l=Y(e,[1,e.shape[0],e.shape[1],e.shape[2]])),O(s.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${s.shape}.`),O(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),O(t.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${t}.`);const u=i==="NHWC"?s.shape[3]:s.shape[1],c=i==="NHWC"?l.shape[3]:l.shape[1];O(u===t[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${t[2]}.`),O(c===t[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${t[3]}).`),Oo("conv2dDerFilter",o,a);const d={x:s,dy:l},h={strides:r,pad:o,dataFormat:i,dimRoundingMode:a,filterShape:t};return q.runKernel(wM,d,h)}const DL=Z({conv2DBackpropFilter_:TBe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RL(n,e,t){if(t==null||t==="linear")return n;if(t==="relu")return X(n,nb(e));throw new Error(`Cannot compute gradient for fused activation ${t}.`)}function EL(n,e){let t=e;const r=cr(n.shape,e.shape);return r.length>0&&(t=nt(t,r)),Y(t,n.shape)}function $L(n,e,t,r){if(e==="linear")return n;if(e==="relu")return Ih(n);if(e==="elu")return j2(n);if(e==="relu6")return kJ(n);if(e==="prelu")return yL(n,t);if(e==="leakyrelu")return hL(n,r);if(e==="sigmoid")return ng(n);throw new Error(`Unknown fused activation ${e}.`)}const PL=(n,e)=>!(n>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ABe({x:n,filter:e,strides:t,pad:r,dataFormat:o="NHWC",dilations:i=[1,1],dimRoundingMode:a,bias:s,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",PL(q.state.gradientDepth,l)===!1){O(o==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${o} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let S=th(n,e,t,r,o,i,a);return s!=null&&(S=Ae(S,s)),$L(S,l,u,c)}const d=G(n,"x","conv2d","float32"),h=G(e,"filter","conv2d","float32");let f=d,p=!1;d.rank===3&&(p=!0,f=Y(d,[1,d.shape[0],d.shape[1],d.shape[2]])),O(f.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${f.rank}.`),O(h.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${h.rank}.`),Oo("fused conv2d",r,a);const g=o==="NHWC"?f.shape[3]:f.shape[1];O(h.shape[2]===g,()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${h.shape[2]}.`),O(Xr(t,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${t} and dilations '${i}'`);const v=Nr(f.shape,h.shape,t,i,r,a);let m;s!=null&&(m=G(s,"bias","fused conv2d"),[m]=jn(m,d),o==="NHWC"?xt(v.outShape,m.shape):(O(m.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${m.shape.length}.`),O(m.shape.length===0||m.shape[0]===v.outChannels||m.shape[0]===1,()=>`Error in fused conv2d: bias shape (${m.shape}) is not compatible with the number of output channels (${v.outChannels})`)));let y;if(u!=null){const S=u.shape;if(O(S.length<=1||S.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${S.length}.`),S.length===1)O(S[0]===1||S[0]===v.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${S}) is not compatible with the number of output channels (${v.outChannels}).`);else if(S.length===3)try{xt(S,v.outShape)}catch{const k=`Error in fused conv2d: PReLU activation weights (${S}) is not compatible with the output shape of the conv2d (${v.outShape}).`;throw Error(k)}y=G(u,"prelu weights","fused conv2d")}const b=(S,C)=>{O(o==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${o} but only NHWC is currently supported.`);const[k,_,I,T]=C,A=RL(S,I,l);O(Qd(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const D=aL(_.shape,A,k,t,r),E=DL(_,A,k.shape,t,r),$=[D,E];if(T!=null){const P=EL(T,A);$.push(P)}return $},w={x:f,filter:h,bias:m,preluActivationWeights:y},x={strides:t,pad:r,dataFormat:o,dilations:i,dimRoundingMode:a,activation:l,leakyreluAlpha:c};return s==null?mp((C,k,_)=>{let I=q.runKernel(Kx,w,x);return _([k,C,I]),p&&(I=Y(I,[I.shape[1],I.shape[2],I.shape[3]])),{value:I,gradFunc:b}})(f,h):mp((C,k,_,I)=>{let T=q.runKernel(Kx,w,x);return I([k,C,T,_]),p&&(T=Y(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:b}})(f,h,m)}const DBe=Z({fusedConv2d_:ABe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RBe(n,e,t,r,o,i=[1,1],a){let s=n;n.rank===3&&(s=Y(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let l=e;l.rank===3&&(l=Y(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={x:s,dy:l},c={strides:r,pad:o,dimRoundingMode:a,dilations:i,filterShape:t};return q.runKernel(TM,u,c)}const EBe=Z({depthwiseConv2dNativeBackpropFilter_:RBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Be(n,e,t,r,o,i=[1,1],a){let s=e,l=!1;e.rank===3&&(l=!0,s=Y(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={dy:s,filter:t},c={strides:r,pad:o,dimRoundingMode:a,dilations:i,inputShape:n},d=q.runKernel(AM,u,c);return l?Y(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const PBe=Z({depthwiseConv2dNativeBackpropInput_:$Be});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MBe({a:n,b:e,transposeA:t=!1,transposeB:r=!1,bias:o,activation:i="linear",preluActivationWeights:a,leakyreluAlpha:s=.2}){if(PL(q.state.gradientDepth,i)===!1){let T=Qt(n,e,t,r);return o!=null&&(T=Ae(T,o)),$L(T,i,a,s)}let l=G(n,"a","fused matMul"),u=G(e,"b","fused matMul");[l,u]=jn(l,u);const c=t?l.shape[l.rank-2]:l.shape[l.rank-1],d=r?u.shape[u.rank-1]:u.shape[u.rank-2],h=t?l.shape[l.rank-1]:l.shape[l.rank-2],f=r?u.shape[u.rank-2]:u.shape[u.rank-1],p=l.shape.slice(0,-2),g=u.shape.slice(0,-2),v=ue(p),m=ue(g);O(c===d,()=>`Error in fused matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${t} and transposeB=${r} must match.`);const b=xt(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([h,f]),w=t?Y(l,[v,c,h]):Y(l,[v,h,c]),x=r?Y(u,[m,f,d]):Y(u,[m,d,f]);let S;o!=null&&(S=G(o,"bias","fused matMul"),[S]=jn(S,l),xt(b,S.shape));let C;a!=null&&(C=G(a,"prelu weights","fused matMul"));const k=(T,A)=>{const[D,E,$,P]=A,N=RL(Y(T,$.shape),$,i);let M,L;if(!t&&!r?(M=Qt(N,E,!1,!0),L=Qt(D,N,!0,!1)):!t&&r?(M=Qt(N,E,!1,!1),L=Qt(N,D,!0,!1)):t&&!r?(M=Qt(E,N,!1,!0),L=Qt(D,N,!1,!1)):(M=Qt(E,N,!0,!0),L=Qt(N,D,!0,!0)),o!=null){const V=EL(P,N);return[M,L,V]}else return[M,L]},_={a:w,b:x,bias:S,preluActivationWeights:C},I={transposeA:t,transposeB:r,activation:i,leakyreluAlpha:s};return o==null?mp((A,D,E)=>{const $=q.runKernel(jx,_,I);return E([A,D,$]),{value:Y($,b),gradFunc:k}})(w,x):mp((A,D,E,$)=>{const P=q.runKernel(jx,_,I);return $([A,D,P,E]),{value:Y(P,b),gradFunc:k}})(w,x,S)}const b7=Z({fusedMatMul_:MBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LBe(n,e,t,r,o="bilinear",i=0){const a=G(n,"image","cropAndResize"),s=G(e,"boxes","cropAndResize","float32"),l=G(t,"boxInd","cropAndResize","int32"),u=s.shape[0];O(a.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${a.rank}.`),O(s.rank===2&&s.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${s.shape}.`),O(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${s.shape}.`),O(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),O(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),O(o==="bilinear"||o==="nearest",()=>`method must be bilinear or nearest, but was ${o}`);const c={image:a,boxes:s,boxInd:l},d={method:o,extrapolationValue:i,cropSize:r};return q.runKernel(kM,c,d)}const NBe=Z({cropAndResize_:LBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OBe(n){const e=G(n,"image","flipLeftRight","float32");O(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const t={image:e};return q.runKernel(PM,t,{})}const FBe=Z({flipLeftRight_:OBe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BBe(n){const e=G(n,"image","grayscaleToRGB"),t=e.rank-1,r=e.shape[t];O(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),O(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const o=new Array(e.rank);return o.fill(1,0,t),o[t]=3,Ra(e,o)}const zBe=Z({grayscaleToRGB_:BBe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VBe(n){const e=G(n,"image","RGBToGrayscale"),t=e.rank-1,r=e.shape[t];O(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),O(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const o=e.dtype,i=Be(e,"float32"),a=qo([.2989,.587,.114]);let s;switch(e.rank){case 2:s=Qg("ij,j->i",i,a);break;case 3:s=Qg("ijk,k->ij",i,a);break;case 4:s=Qg("ijkl,l->ijk",i,a);break;case 5:s=Qg("ijklm,m->ijkl",i,a);break;case 6:s=Qg("ijklmn,n->ijklm",i,a);break;default:throw new Error("Not a valid tensor rank.")}return s=ko(s,-1),Be(s,o)}const GBe=Z({rgbToGrayscale_:VBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WBe(n,e,t=0,r=.5){const o=G(n,"image","rotateWithOffset","float32");O(o.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${o.rank}.`);const i={image:o},a={radians:e,fillValue:t,center:r};return q.runKernel(JM,i,a)}const HBe=Z({rotateWithOffset_:WBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function og(n,e,t,r,o,i){r==null&&(r=.5),o==null&&(o=Number.NEGATIVE_INFINITY),i==null&&(i=0);const a=n.shape[0];return t=Math.min(t,a),O(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),O(n.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${n.rank}'`),O(n.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${n.shape[1]}`),O(e.rank===1,()=>"scores must be a 1D tensor"),O(e.shape[0]===a,()=>`scores has incompatible shape with boxes. Expected ${a}, but was ${e.shape[0]}`),O(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:t,iouThreshold:r,scoreThreshold:o,softNmsSigma:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UBe(n,e,t,r=.5,o=Number.NEGATIVE_INFINITY){const i=G(n,"boxes","nonMaxSuppression","float32"),a=G(e,"scores","nonMaxSuppression","float32"),s=og(i,a,t,r,o);t=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;const l={maxOutputSize:t,iouThreshold:r,scoreThreshold:o};return q.runKernel(BM,{boxes:i,scores:a},l)}const jBe=Z({nonMaxSuppression_:UBe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KBe(n,e,t){const r=XBe(n,e,t),o=r<0?-(r+1):r;n.splice(o,0,e)}function XBe(n,e,t){return YBe(n,e,t||qBe)}function qBe(n,e){return n>e?1:n<e?-1:0}function YBe(n,e,t){let r=0,o=n.length,i=0,a=!1;for(;r<o;){i=r+(o-r>>>1);const s=t(e,n[i]);s>0?r=i+1:(o=i,a=!s)}return a?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ML(n,e,t,r,o){return OL(n,e,t,r,o,0)}function LL(n,e,t,r,o,i){return OL(n,e,t,r,o,0,!1,i,!0)}function NL(n,e,t,r,o,i){return OL(n,e,t,r,o,i,!0)}function OL(n,e,t,r,o,i,a=!1,s=!1,l=!1){const u=[];for(let v=0;v<e.length;v++)e[v]>o&&u.push({score:e[v],boxIndex:v,suppressBeginIndex:0});u.sort(w7);const c=i>0?-.5/i:0,d=[],h=[];for(;d.length<t&&u.length>0;){const v=u.pop(),{score:m,boxIndex:y,suppressBeginIndex:b}=v;if(m<o)break;let w=!1;for(let x=d.length-1;x>=b;--x){const S=ZBe(n,y,d[x]);if(S>=r){w=!0;break}if(v.score=v.score*JBe(r,c,S),v.score<=o)break}v.suppressBeginIndex=d.length,w||(v.score===m?(d.push(y),h.push(v.score)):v.score>o&&KBe(u,v,w7))}const f=d.length,p=t-f;s&&p>0&&(d.push(...new Array(p).fill(0)),h.push(...new Array(p).fill(0)));const g={selectedIndices:d};return a&&(g.selectedScores=h),l&&(g.validOutputs=f),g}function ZBe(n,e,t){const r=n.subarray(e*4,e*4+4),o=n.subarray(t*4,t*4+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(o[0],o[2]),c=Math.min(o[1],o[3]),d=Math.max(o[0],o[2]),h=Math.max(o[1],o[3]),f=(s-i)*(l-a),p=(d-u)*(h-c);if(f<=0||p<=0)return 0;const g=Math.max(i,u),v=Math.max(a,c),m=Math.min(s,d),y=Math.min(l,h),b=Math.max(m-g,0)*Math.max(y-v,0);return b/(f+p-b)}function JBe(n,e,t){const r=Math.exp(e*t*t);return t<=n?r:0}function w7(n,e){return n.score-e.score||n.score===e.score&&e.boxIndex-n.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function QBe(n,e,t,r=.5,o=Number.NEGATIVE_INFINITY){const i=G(n,"boxes","nonMaxSuppressionAsync"),a=G(e,"scores","nonMaxSuppressionAsync"),s=og(i,a,t,r,o);t=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;const l=await Promise.all([i.data(),a.data()]),u=l[0],c=l[1],{selectedIndices:d}=ML(u,c,t,r,o);return i!==n&&i.dispose(),a!==e&&a.dispose(),qo(d,"int32")}const e6e=QBe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t6e(n,e,t,r=.5,o=Number.NEGATIVE_INFINITY,i=0){const a=G(n,"boxes","nonMaxSuppression"),s=G(e,"scores","nonMaxSuppression"),l=og(a,s,t,r,o,i);t=l.maxOutputSize,r=l.iouThreshold,o=l.scoreThreshold,i=l.softNmsSigma;const u={boxes:a,scores:s},c={maxOutputSize:t,iouThreshold:r,scoreThreshold:o,softNmsSigma:i},d=q.runKernel(VM,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}const n6e=Z({nonMaxSuppressionWithScore_:t6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function r6e(n,e,t,r=.5,o=Number.NEGATIVE_INFINITY,i=0){const a=G(n,"boxes","nonMaxSuppressionAsync"),s=G(e,"scores","nonMaxSuppressionAsync"),l=og(a,s,t,r,o,i);t=l.maxOutputSize,r=l.iouThreshold,o=l.scoreThreshold,i=l.softNmsSigma;const u=await Promise.all([a.data(),s.data()]),c=u[0],d=u[1],{selectedIndices:h,selectedScores:f}=NL(c,d,t,r,o,i);return a!==n&&a.dispose(),s!==e&&s.dispose(),{selectedIndices:qo(h,"int32"),selectedScores:qo(f)}}const o6e=r6e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i6e(n,e,t,r=.5,o=Number.NEGATIVE_INFINITY,i=!1){const a=G(n,"boxes","nonMaxSuppression"),s=G(e,"scores","nonMaxSuppression"),l=og(a,s,t,r,o,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,h={boxes:a,scores:s},f={maxOutputSize:u,iouThreshold:c,scoreThreshold:d,padToMaxOutputSize:i},p=q.runKernel(zM,h,f);return{selectedIndices:p[0],validOutputs:p[1]}}const a6e=Z({nonMaxSuppressionPadded_:i6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function s6e(n,e,t,r=.5,o=Number.NEGATIVE_INFINITY,i=!1){const a=G(n,"boxes","nonMaxSuppressionAsync"),s=G(e,"scores","nonMaxSuppressionAsync"),l=og(a,s,t,r,o,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[h,f]=await Promise.all([a.data(),s.data()]),{selectedIndices:p,validOutputs:g}=LL(h,f,u,c,d,i);return a!==n&&a.dispose(),s!==e&&s.dispose(),{selectedIndices:qo(p,"int32"),validOutputs:Zt(g,"int32")}}const l6e=s6e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u6e(n,e,t=!1,r=!1){const o=G(n,"images","resizeBilinear");O(o.rank===3||o.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${o.rank}.`),O(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),O(r===!1||t===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=o,a=!1;o.rank===3&&(a=!0,i=Y(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const s={images:i},l={alignCorners:t,halfPixelCenters:r,size:e},u=q.runKernel(E2,s,l);return a?Y(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const OJ=Z({resizeBilinear_:u6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c6e(n,e,t=!1,r=!1){const o=G(n,"images","resizeNearestNeighbor");O(o.rank===3||o.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${o.rank}.`),O(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),O(o.dtype==="float32"||o.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),O(r===!1||t===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=o,a=!1;o.rank===3&&(a=!0,i=Y(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const s={images:i},l={alignCorners:t,halfPixelCenters:r,size:e},u=q.runKernel(R2,s,l);return a?Y(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const FJ=Z({resizeNearestNeighbor_:c6e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d6e(n,e="binary",t=!1,r=.5){const o=G(n,"image","threshold"),i=.2989,a=.587,s=.114,l=o.shape[0]*o.shape[1];let u=X(qo([r]),255),c,d,h,f;if(O(o.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${o.rank}.`),O(o.shape[2]===3||o.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${o.shape[2]}.`),O(o.dtype==="int32"||o.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${o.dtype}.`),O(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),o.shape[2]===3){[c,d,h]=wi(o,[1,1,1],-1);const v=X(c,i),m=X(d,a),y=X(h,s);f=Ae(Ae(v,m),y)}else f=n;if(e==="otsu"){const v=u5e(Be(_J(f),"int32"),qv([]),256);u=h6e(v,l)}const p=t?rg(f,u):Ii(f,u);return Be(X(p,255),"int32")}function h6e(n,e){let t=qo([-1]),r=qo([0]),o=qo([0]),i,a,s,l,u,c;for(let d=0;d<n.size-1;d++){i=Sn(n,0,d+1),a=Sn(n,d+1),u=ot(nt(i),e),c=ot(nt(a),e);const h=nt(X(i,hy(0,i.size)));s=ot(h,nt(i));const f=U2(a.shape,i.size),p=Ae(hy(0,a.size),f),g=X(a,p);l=ot(nt(g),nt(a));const v=ht(s,l),m=ht(s,l),y=X(u,c);o=X(X(y,v),m);const b=Ii(o,r);r=so(b,o,r),t=so(b,qo([d]),t)}return t}const f6e=Z({threshold_:d6e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p6e(n,e,t="nearest",r="constant",o=0,i){const a=G(n,"image","transform","float32"),s=G(e,"transforms","transform","float32");O(a.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${a.rank}.`),O(s.rank===2&&(s.shape[0]===a.shape[0]||s.shape[0]===1)&&s.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),O(i==null||i.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);const l={image:a,transforms:s},u={interpolation:t,fillMode:r,fillValue:o,outputShape:i};return q.runKernel(YM,l,u)}const g6e=Z({transform_:p6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v6e(n,e,t){const r=G(n,"a","bandPart");O(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const o=r.shape,[i,a]=r.shape.slice(-2);let s,l;typeof e=="number"?(O(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),O(e<=i,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${i}).`),s=G(e<0?i:e,"numLower","bandPart")):(O(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),s=so(Qx(e,0),i,dy(e,i))),typeof t=="number"?(O(t%1===0,()=>`bandPart(): numUpper must be an integer, got ${t}.`),O(t<=a,()=>`bandPart(): numUpper (${t}) must not be greater than the number of columns (${a}).`),l=G(t<0?a:t,"numUpper","bandPart")):(O(t.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=so(Qx(t,0),a,dy(t,a)));const u=Y(hy(0,i,1,"int32"),[-1,1]),c=hy(0,a,1,"int32"),d=ht(u,c),h=Dl(rg(d,s),kh(d,Hn(l))),f=gr([i,a],r.dtype);return Y(Rl(oh(Y(r,[-1,i,a])).map(p=>so(h,p,f))),o)}const m6e=Z({bandPart_:v6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y6e(n){let e;if(Array.isArray(n)){e=!1,O(n!=null&&n.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const o=n[0].shape[0];for(let i=1;i<n.length;++i)O(n[i].shape[0]===o,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${n[i].shape[0]} vs. ${o})`)}else e=!0,n=wi(n,n.shape[0],0).map(o=>tb(o,[0]));O(n.length<=n[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${n.length}) exceeds number of dimensions (${n[0].shape[0]}).`);const t=[],r=n;for(let o=0;o<n.length;++o)t.push(q.tidy(()=>{let i=r[o];if(o>0)for(let a=0;a<o;++a){const s=X(nt(X(t[a],i)),t[a]);i=ht(i,s)}return ot(i,K2(i,"euclidean"))}));return e?Rl(t,0):t}const b6e=Z({gramSchmidt_:y6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w6e(n,e=!1){if(O(n.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${n.rank}`),n.rank===2)return x7(n,e);{const t=n.shape.slice(0,n.shape.length-2).reduce((l,u)=>l*u),r=oh(Y(n,[t,n.shape[n.shape.length-2],n.shape[n.shape.length-1]]),0),o=[],i=[];r.forEach(l=>{const[u,c]=x7(l,e);o.push(u),i.push(c)});const a=Y(Rl(o,0),n.shape),s=Y(Rl(i,0),n.shape);return[a,s]}}function x7(n,e=!1){return q.tidy(()=>{O(n.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${n.shape.length}D Tensor.`);const t=n.shape[0],r=n.shape[1];let o=vJ(t),i=Pd(n);const a=Xf([[1]],[1,1]);let s=Pd(a);const l=t>=r?r:t;for(let u=0;u<l;++u){const c=i,d=s,h=o;[s,i,o]=q.tidy(()=>{const f=Sn(i,[u,u],[t-u,1]),p=K2(f),g=Sn(i,[u,u],[1,1]),v=so(Ii(g,0),Xf([[-1]]),Xf([[1]])),m=ht(g,X(v,p)),y=ot(f,m);y.shape[0]===1?s=Pd(a):s=Do([a,Sn(y,[1,0],[y.shape[0]-1,y.shape[1]])],0);const b=Hn(ot(Qt(v,m),p)),w=Sn(i,[u,0],[t-u,r]),x=X(b,s),S=Ut(s);if(u===0)i=ht(w,Qt(x,Qt(S,w)));else{const _=ht(w,Qt(x,Qt(S,w)));i=Do([Sn(i,[0,0],[u,r]),_],0)}const C=Ut(x),k=Sn(o,[0,u],[t,o.shape[1]-u]);if(u===0)o=ht(k,Qt(Qt(k,s),C));else{const _=ht(k,Qt(Qt(k,s),C));o=Do([Sn(o,[0,0],[t,u]),_],1)}return[s,i,o]}),Dt([c,d,h])}return!e&&t>r&&(o=Sn(o,[0,0],[t,r]),i=Sn(i,[0,0],[r,r])),[o,i]})}const x6e=Z({qr_:w6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gl={flipLeftRight:FBe,grayscaleToRGB:zBe,resizeNearestNeighbor:FJ,resizeBilinear:OJ,rgbToGrayscale:GBe,rotateWithOffset:HBe,cropAndResize:NBe,nonMaxSuppression:jBe,nonMaxSuppressionAsync:e6e,nonMaxSuppressionWithScore:n6e,nonMaxSuppressionWithScoreAsync:o6e,nonMaxSuppressionPadded:a6e,nonMaxSuppressionPaddedAsync:l6e,threshold:f6e,transform:g6e},S6e={bandPart:m6e,gramSchmidt:b6e,qr:x6e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C6e=new Map,k6e=new Map;class ig{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class Ui{constructor(){this.classNameMap={}}static getMap(){return Ui.instance==null&&(Ui.instance=new Ui),Ui.instance}static register(e){Ui.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function xe(n,e,t){O(n.className!=null,()=>"Class being registered does not have the static className property defined."),O(typeof n.className=="string",()=>"className is required to be a string, but got type "+typeof n.className),O(n.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof t>"u"&&(t=n.className);const r=t,o=e+">"+r;return Ui.register(n),C6e.set(o,n),k6e.set(n,o),n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uc extends ig{minimize(e,t=!1,r){const{value:o,grads:i}=this.computeGradients(e,r);if(r!=null){const a=r.map(s=>({name:s.name,tensor:i[s.name]}));this.applyGradients(a)}else this.applyGradients(i);return Dt(i),t?o:(o.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return R4e(e,t)}dispose(){this.iterations_!=null&&Dt(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Zt(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(uc,Symbol.hasInstance,{value:n=>n.minimize!=null&&n.computeGradients!=null&&n.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BJ extends uc{static get className(){return"Adadelta"}constructor(e,t,r=null){super(),this.learningRate=e,this.rho=t,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=q.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,o)=>{const i=q.registeredVariables[r],a=!1;this.accumulatedGrads[o]==null&&(this.accumulatedGrads[o]={originalName:`${r}/accum_grad`,variable:ee(()=>jt(i).variable(a))}),this.accumulatedUpdates[o]==null&&(this.accumulatedUpdates[o]={originalName:`${r}/accum_var`,variable:ee(()=>jt(i).variable(a))});const s=Array.isArray(e)?e[o].tensor:e[r];if(s==null)return;const l=this.accumulatedGrads[o].variable,u=this.accumulatedUpdates[o].variable;ee(()=>{const c=Ae(X(l,this.rho),X(_n(s),1-this.rho)),d=X(ot(Kr(Ae(u,this.epsilon)),Kr(Ae(l,this.epsilon))),s),h=Ae(X(u,this.rho),X(_n(d),1-this.rho));l.assign(c),u.assign(h);const f=Ae(X(d,-this.learningRate),i);i.assign(f)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Dt(this.accumulatedGrads.map(e=>e.variable)),Dt(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(e){e=await this.extractIterations(e);const t=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,t).map(o=>({originalName:o.name,variable:o.tensor.variable(r)})),this.accumulatedUpdates=e.slice(t,t*2).map(o=>({originalName:o.name,variable:o.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zJ extends uc{static get className(){return"Adagrad"}constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,o)=>{const i=q.registeredVariables[r];this.accumulatedGrads[o]==null&&(this.accumulatedGrads[o]={originalName:`${r}/accumulator`,variable:ee(()=>U2(i.shape,this.initialAccumulatorValue).variable(!1))});const a=Array.isArray(e)?e[o].tensor:e[r];if(a==null)return;const s=this.accumulatedGrads[o].variable;ee(()=>{const l=Ae(s,_n(a));s.assign(l);const u=Ae(X(ot(a,Kr(Ae(l,q.backend.epsilon()))),-this.learningRate),i);i.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Dt(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const t=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(t)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VJ extends uc{static get className(){return"Adam"}constructor(e,t,r,o=null){super(),this.learningRate=e,this.beta1=t,this.beta2=r,this.epsilon=o,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],ee(()=>{this.accBeta1=Zt(t).variable(),this.accBeta2=Zt(r).variable()}),o==null&&(this.epsilon=q.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);ee(()=>{const r=ht(1,this.accBeta1),o=ht(1,this.accBeta2);t.forEach((i,a)=>{const s=q.registeredVariables[i],l=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${i}/m`,variable:ee(()=>jt(s).variable(l))}),this.accumulatedSecondMoment[a]==null&&(this.accumulatedSecondMoment[a]={originalName:`${i}/v`,variable:ee(()=>jt(s).variable(l))});const u=Array.isArray(e)?e[a].tensor:e[i];if(u==null)return;const c=this.accumulatedFirstMoment[a].variable,d=this.accumulatedSecondMoment[a].variable,h=Ae(X(c,this.beta1),X(u,1-this.beta1)),f=Ae(X(d,this.beta2),X(_n(u),1-this.beta2)),p=ot(h,r),g=ot(f,o);c.assign(h),d.assign(f);const v=Ae(X(ot(p,Ae(Kr(g),this.epsilon)),-this.learningRate),s);s.assign(v)}),this.accBeta1.assign(X(this.accBeta1,this.beta1)),this.accBeta2.assign(X(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Dt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Dt(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(e){e=await this.extractIterations(e),ee(()=>{this.accBeta1.assign(nh(this.beta1,this.iterations_+1)),this.accBeta2.assign(nh(this.beta2,this.iterations_+1))});const t=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,t).map(o=>({originalName:o.name,variable:o.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(t,t*2).map(o=>({originalName:o.name,variable:o.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GJ extends uc{static get className(){return"Adamax"}constructor(e,t,r,o=null,i=0){super(),this.learningRate=e,this.beta1=t,this.beta2=r,this.epsilon=o,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],ee(()=>{this.iteration=Zt(0).variable(),this.accBeta1=Zt(t).variable()}),o==null&&(this.epsilon=q.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);ee(()=>{const r=ht(1,this.accBeta1),o=ot(-this.learningRate,Ae(X(this.iteration,this.decay),1));t.forEach((i,a)=>{const s=q.registeredVariables[i],l=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${i}/m`,variable:jt(s).variable(l)}),this.accumulatedWeightedInfNorm[a]==null&&(this.accumulatedWeightedInfNorm[a]={originalName:`${i}/v`,variable:jt(s).variable(l)});const u=Array.isArray(e)?e[a].tensor:e[i];if(u==null)return;const c=this.accumulatedFirstMoment[a].variable,d=this.accumulatedWeightedInfNorm[a].variable,h=Ae(X(c,this.beta1),X(u,1-this.beta1)),f=X(d,this.beta2),p=to(u),g=sc(f,p);c.assign(h),d.assign(g);const v=Ae(X(ot(o,r),ot(h,Ae(g,this.epsilon))),s);s.assign(v)}),this.iteration.assign(Ae(this.iteration,1)),this.accBeta1.assign(X(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Dt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Dt(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FL extends uc{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,o)=>{const i=Array.isArray(e)?e[o].tensor:e[r];if(i==null)return;const a=q.registeredVariables[r];ee(()=>{const s=Ae(X(this.c,i),a);a.assign(s)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Es(Zt(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WJ extends FL{static get className(){return"Momentum"}constructor(e,t,r=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=r,this.accumulations=[],this.m=Zt(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,o)=>{const i=q.registeredVariables[r];this.accumulations[o]==null&&(this.accumulations[o]={originalName:`${r}/momentum`,variable:ee(()=>jt(i).variable(!1))});const a=this.accumulations[o].variable,s=Array.isArray(e)?e[o].tensor:e[r];s!=null&&ee(()=>{let l;const u=Ae(X(this.m,a),s);this.useNesterov?l=Ae(X(this.c,Ae(s,X(u,this.m))),i):l=Ae(X(this.c,u),i),a.assign(u),i.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Dt(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const t=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(t)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HJ extends uc{static get className(){return"RMSProp"}constructor(e,t=.9,r=0,o=null,i=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=r,this.epsilon=o,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,o==null&&(this.epsilon=q.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,o)=>{const i=q.registeredVariables[r],a=!1;this.accumulatedMeanSquares[o]==null&&(this.accumulatedMeanSquares[o]={originalName:`${r}/rms`,variable:ee(()=>jt(i).variable(a))}),this.accumulatedMoments[o]==null&&(this.accumulatedMoments[o]={originalName:`${r}/momentum`,variable:ee(()=>jt(i).variable(a))}),this.accumulatedMeanGrads[o]==null&&this.centered&&(this.accumulatedMeanGrads[o]={originalName:`${r}/mg`,variable:ee(()=>jt(i).variable(a))});const s=Array.isArray(e)?e[o].tensor:e[r];if(s==null)return;const l=this.accumulatedMeanSquares[o].variable,u=this.accumulatedMoments[o].variable;ee(()=>{const c=Ae(X(l,this.decay),X(_n(s),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[o].variable,h=Ae(X(d,this.decay),X(s,1-this.decay)),f=ot(X(s,this.learningRate),Kr(ht(c,Ae(_n(h),this.epsilon)))),p=Ae(X(u,this.momentum),f);l.assign(c),d.assign(h),u.assign(p);const g=ht(i,p);i.assign(g)}else{const d=Ae(X(l,this.decay),X(_n(s),1-this.decay)),h=Ae(X(u,this.momentum),ot(X(s,this.learningRate),Kr(Ae(d,this.epsilon))));l.assign(d),u.assign(h);const f=ht(i,h);i.assign(f)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Dt(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Dt(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Dt(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,t).map(o=>({originalName:o.name,variable:o.tensor.variable(r)})),this.accumulatedMoments=e.slice(t,t*2).map(o=>({originalName:o.name,variable:o.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(t*2,t*3).map(o=>({originalName:o.name,variable:o.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _6e=[BJ,zJ,VJ,GJ,WJ,HJ,FL];function I6e(){for(const n of _6e)xe(n)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S7(n,e,t,r){a(n),t=t??0,r=r??1,s(t,r);let o=0;const i=l=>(l.then(u=>{const c=t+ ++o/n.length*(r-t);return e(c),u}),l);function a(l){O(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function s(l,u){O(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),O(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),O(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(n.map(i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function T6e(n,e){e==null&&(e={});const t=e.fetchFunc==null?re().platform.fetch:e.fetchFunc,r=n.map(d=>t(d,e.requestInit,{isBinary:!0})),s=(e.onProgress==null?await Promise.all(r):await S7(r,e.onProgress,0,.5)).map(d=>d.arrayBuffer());return e.onProgress==null?await Promise.all(s):await S7(s,e.onProgress,.5,1)}function A6e(n,e){var t;const r=e.fetchFunc==null?re().platform.fetch:e.fetchFunc;let o=0,i;return(t=e.onProgress)===null||t===void 0||t.call(e,0),new ReadableStream({pull:async a=>{for(var s;o<n.length;){i||(i=(await r(n[o],e.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:u}=await i.read();if(l){o++,i=void 0,(s=e.onProgress)===null||s===void 0||s.call(e,o/n.length);continue}a.enqueue(u);return}a.close()}})}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D6e="application/octet-stream",R6e="application/json";class BL{constructor(e,t){if(this.DEFAULT_METHOD="POST",t==null&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,t.fetchFunc!=null?(O(typeof t.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=t.fetchFunc):this.fetch=re().platform.fetch,O(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&O(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,t.requestInit!=null&&t.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],o=W3e(e,r);if(t.body.append("model.json",new Blob([JSON.stringify(o)],{type:R6e}),"model.json"),e.weightData!=null){const a=oc.join(e.weightData);t.body.append("model.weights.bin",new Blob([a],{type:D6e}),"model.weights.bin")}const i=await this.fetch(this.path,t);if(i.ok)return{modelArtifactsInfo:nL(e),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch{let a=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?a+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":a+=" Please make sure the server is serving valid JSON for this request.",new Error(a)}const r=t.modelTopology,o=t.weightsManifest;if(r==null&&o==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return U3e(e,t=>this.loadWeights(t))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),r=v7(e.weightsManifest),o=()=>A6e(t,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:r,getWeightStream:o})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[r,o]=E6e(t),i=this.weightPathPrefix||r,a=[],s=[];for(const l of e)for(const u of l.paths)this.weightUrlConverter!=null?s.push(this.weightUrlConverter(u)):a.push(i+u+o);return this.weightUrlConverter&&a.push(...await Promise.all(s)),a}async loadWeights(e){const t=await this.getWeightUrls(e),r=v7(e),o=await T6e(t,this.loadOptions);return[r,o]}}BL.URL_SCHEME_REGEX=/^https?:\/\//;function E6e(n){const e=n.lastIndexOf("/"),t=n.lastIndexOf("?"),r=n.substring(0,e),o=t>e?n.substring(t):"";return[r+"/",o]}function C7(n){return n.match(BL.URL_SCHEME_REGEX)!=null}const UJ=(n,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let t=!0;if(Array.isArray(n)?t=n.every(r=>C7(r)):t=C7(n),t)return jJ(n,e)}return null};hr.registerSaveRouter(UJ);hr.registerLoadRouter(UJ);function jJ(n,e){return new BL(n,e)}function $6e(n,e){return jJ(n,e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Hc;function P6e(n,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(n==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let t=!1,r=!1,o=!1,i=!1,a=!1,s=!1;if(n.data instanceof Uint8Array)t=!0;else if(typeof ImageData<"u"&&n instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement)o=!0;else if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement)i=!0;else if(n.getContext!=null)a=!0;else if(typeof ImageBitmap<"u"&&n instanceof ImageBitmap)s=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${n.constructor.name}`);if(tR(QD,q.backendName)!=null){const p={pixels:n},g={numChannels:e};return q.runKernel(QD,p,g)}const[u,c]=o?[n.videoWidth,n.videoHeight]:[n.width,n.height];let d;if(a)d=n.getContext("2d").getImageData(0,0,u,c).data;else if(r||t)d=n.data;else if(i||o||s){if(Hc==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Hc=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Hc=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Hc.canvas.width=u,Hc.canvas.height=c,Hc.drawImage(n,0,0,u,c),d=Hc.getImageData(0,0,u,c).data}let h;if(e===4)h=new Int32Array(d);else{const p=u*c;h=new Int32Array(p*e);for(let g=0;g<p;g++)for(let v=0;v<e;++v)h[g*e+v]=d[g*4+v]}return fBe(h,[c,u,e],"int32")}const M6e=Z({fromPixels_:P6e});function zL(n,e){const t=n.shape.length,r=e.shape.length;if(t<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${t}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>t)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${t}`);if(ue(n.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${n.shape}.`);const o=e.shape,i=o[o.length-1];let a=1;for(let d=0;d<o.length-1;++d)a*=o[d];const s=n.shape,l=o.slice();l.pop();let u=1;for(let d=i;d<t;++d)u*=s[d],l.push(s[d]);const c=[...tt(n.shape).map(d=>d/u),1].slice(0,i);return[l,a,u,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gR=-2,L6e=-1;function VL(n,e,t){const r=n.shape.length;O(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),O(r===t.length,()=>`Error in slice${r}D: Length of size ${t} must match the rank of the array (${r}).`);for(let o=0;o<r;++o)O(e[o]+t[o]<=n.shape[o],()=>`Error in slice${r}D: begin[${o}] + size[${o}] (${e[o]+t[o]}) would overflow input.shape[${o}] (${n.shape[o]})`)}function N6e(n){const e=[];let t=0;for(;n>0;)n&1&&e.push(t),n/=2,t++;return e}function GL(n,e,t){const r=[];for(let o=0;o<n.length;o++)r[o]=Math.ceil((e[o]-n[o])/t[o]);return r}function KJ(n,e,t,r){const o=[...n];for(let i=o.length;i<r.length;i++)o.push(1);for(let i=0;i<t;i++)i===0?o[e]=1:(o.splice(e,0,1),o.pop());return o}function XJ(n,e,t){return t<=n?t:t-(e-1)}function qJ(n,e){const t=[];for(let r=0;r<n;r++)t.push(e+r);return t}function O6e(n,e,t,r,o,i,a,s,l){const u=n.length;let c=new Array(u),d=new Array(u),h=new Array(u);if(e.length&&t>0){const f=e[0],p=t+1;c=YJ(a,f,p,r,n),d=ZJ(s,f,p,o,n),h=KJ(i,f,p,n)}else for(let f=0;f<u;f++)c[f]=QJ(a,r,i,n,f,l),d[f]=eQ(s,o,i,n,f,l),h[f]=JJ(i,f,l);return{begin:c,end:d,strides:h}}function YJ(n,e,t,r,o){const i=[...o],a=qJ(t,e);for(let s=0;s<i.length;s++)if(a.indexOf(s)>-1)i[s]=0;else{const l=XJ(e,t,s);let u=r[l];n&1<<l&&(u=0),i[s]=u}return i}function ZJ(n,e,t,r,o){const i=[...o],a=qJ(t,e);for(let s=0;s<i.length;s++)if(a.indexOf(s)>-1)i[s]=Number.MAX_SAFE_INTEGER;else{const l=XJ(e,t,s);let u=r[l];n&1<<l&&(u=Number.MAX_SAFE_INTEGER),i[s]=u}for(let s=0;s<i.length;s++){const l=o[s];i[s]<0&&(i[s]+=l),i[s]=Xd(0,i[s],o[s])}return i}function JJ(n,e,t){let r=n[e];return(t&1<<e||r==null)&&(r=1),r}function QJ(n,e,t,r,o,i){let a=e[o];const s=t[o]||1;(n&1<<o||i&1<<o||a==null)&&(s>0?a=Number.MIN_SAFE_INTEGER:a=Number.MAX_SAFE_INTEGER);const l=r[o];return a<0&&(a+=l),a=Xd(0,a,l-1),a}function eQ(n,e,t,r,o,i){let a=e[o];const s=t[o]||1;(n&1<<o||i&1<<o||a==null)&&(s>0?a=Number.MAX_SAFE_INTEGER:a=Number.MIN_SAFE_INTEGER);const l=r[o];return a<0&&(a+=l),s>0?a=Xd(0,a,l):a=Xd(-1,a,l-1),a}function WL(n,e,t){let r=t.length;for(let o=0;o<t.length;o++)if(t[o]>1){r=o;break}for(let o=r+1;o<t.length;o++)if(e[o]>0||t[o]!==n[o])return!1;return!0}function HL(n,e){let t=n.length>0?n[n.length-1]:1;for(let r=0;r<n.length-1;r++)t+=n[r]*e[r];return t}function q2(n,e,t){let r;const o=n.shape.length;typeof e=="number"?r=[e,...new Array(o-1).fill(0)]:e.length<o?r=e.concat(new Array(o-e.length).fill(0)):r=e.slice(),r.forEach(a=>{O(a!==-1,()=>"slice() does not support negative begin indexing.")});let i;return t==null?i=new Array(o).fill(-1):typeof t=="number"?i=[t,...new Array(o-1).fill(-1)]:t.length<o?i=t.concat(new Array(o-t.length).fill(-1)):i=t,i=i.map((a,s)=>a>=0?a:(O(a===-1,()=>`Negative size values should be exactly -1 but got ${a} for the slice() size at index ${s}.`),n.shape[s]-r[s])),[r,i]}function UL(n,e,t,r,o,i,a,s,l){let u;if(r==null?(u=new Array(e.length),u.fill(1)):u=r,a!=null&&a&a-1)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:t.slice(),strides:u.slice(),beginMask:o,endMask:i,ellipsisMask:a,newAxisMask:s,shrinkAxisMask:l};for(let b=0;b<d.dims;b++)c&&1<<b&s&&d.numAddAxisAfterEllipsis++,1<<b&a&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const h={dims:n.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};F6e(d,h);let f=!0,p=!0,g=!0;const v=[],m=[];for(let b=0;b<n.length;++b){if(h.strides[b]===0)throw Error(`strides[${b}] must be non-zero`);const w=!!(h.shrinkAxisMask&1<<b),x=n[b];if(x===-1){v.push(w?1:-1);continue}const S=[h.beginMask&1<<b,h.endMask&1<<b],C=[h.strides[b]>0?0:-1,h.strides[b]>0?x:x-1];if(w&&h.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");g=g&&h.strides[b]===1;const k=!!(h.beginMask&1<<b&&h.endMask&1<<b);if(h.beginValid&&h.endValid){if(w){const A=h.begin[b]<0?x+h.begin[b]:h.begin[b];if(h.begin[b]=A,h.end[b]=h.begin[b]+1,A<0||A>=x)throw Error(`slice index ${h.begin[b]} of dimension ${b} out of bounds.`)}else h.begin[b]=k7(h.begin[b],0,h.strides[b],x,S,C),h.end[b]=k7(h.end[b],1,h.strides[b],x,S,C);const T=h.strides[b]===1&&h.begin[b]===0&&h.end[b]===x;f=f&&T,p=p&&(b===0&&h.strides[b]===1||T)}else f=f&&h.strides[b]===1&&k,p=p&&(b===0&&h.strides[b]===1||k);let _,I=!1;if(h.beginValid&&h.endValid?(_=h.end[b]-h.begin[b],I=!0):w?(_=1,I=!0):k&&x>=0&&(h.strides[b]<0?_=-x:_=x,I=!0),I){let T;_===0||_<0!=h.strides[b]<0?T=0:T=Math.trunc(_/h.strides[b])+(_%h.strides[b]!==0?1:0),v.push(T)}else v.push(-1)}for(let b=0;b<h.finalShapeGatherIndices.length;++b){const w=h.finalShapeGatherIndices[b];w>=0?m.push(v[w]):w===gR&&m.push(1)}return{finalShapeSparse:m.filter((b,w)=>h.finalShapeGatherIndices[w]!==gR),finalShape:m,isIdentity:f,sliceDim0:p,isSimpleSlice:g,begin:h.begin,end:h.end,strides:h.strides}}function F6e(n,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let t=0;e.beginValid=n.begin!=null,e.endValid=n.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<n.dims;r++)if(1<<r&n.ellipsisMask){const o=Math.min(e.dims-(n.dims-r)+1+n.numAddAxisAfterEllipsis,e.dims);for(;t<o;t++)e.begin[t]=0,e.end[t]=0,e.strides[t]=1,e.beginMask|=1<<t,e.endMask|=1<<t,e.finalShapeGatherIndices.push(t),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[t]=r}else if(1<<r&n.newAxisMask)e.finalShapeGatherIndices.push(gR),e.finalShapeGatherIndicesSparse.push(-1);else{if(t===e.begin.length)throw Error(`Index out of range using input dim ${t}; input has only ${e.dims} dims, ${e.begin.length}.`);n.begin!=null&&(e.begin[t]=n.begin[r]),n.end!=null&&(e.end[t]=n.end[r]),e.strides[t]=n.strides[r],n.beginMask&1<<r&&(e.beginMask|=1<<t),n.endMask&1<<r&&(e.endMask|=1<<t),n.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(L6e),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<t):(e.finalShapeGatherIndices.push(t),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[t]=r,t++}}function k7(n,e,t,r,o,i){if(o[e])return t>0?i[e]:i[e+1&1];{const a=n<0?r+n:n;return a<i[0]?i[0]:a>i[1]?i[1]:a}}const B6e=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:VL,computeFlatOffset:HL,computeOutShape:GL,getNormalizedAxes:O6e,isSliceContinous:WL,maskToAxes:N6e,parseSliceParams:q2,sliceInfo:UL,startForAxis:QJ,startIndicesWithElidedDims:YJ,stopForAxis:eQ,stopIndicesWithElidedDims:ZJ,stridesForAxis:JJ,stridesWithElidedDims:KJ},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z6e{static sgd(e){return new FL(e)}static momentum(e,t,r=!1){return new WJ(e,t,r)}static rmsprop(e,t=.9,r=0,o=null,i=!1){return new HJ(e,t,r,o,i)}static adam(e=.001,t=.9,r=.999,o=null){return new VJ(e,t,r,o)}static adadelta(e=.001,t=.95,r=null){return new BJ(e,t,r)}static adamax(e=.002,t=.9,r=.999,o=null,i=0){return new GJ(e,t,r,o,i)}static adagrad(e,t=.1){return new zJ(e,t)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const of=z6e;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V6e=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:n=>n();function rS(){return new Promise(n=>V6e(()=>n()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jL(n,e){const t=n[0].length;n.forEach((o,i)=>{O(o.length===t,()=>`Error in concat${t}D: rank of tensors[${i}] must be the same as the rank of the rest (${t})`)}),O(e>=0&&e<t,()=>`Error in concat${t}D: axis must be between 0 and ${t-1}.`);const r=n[0];n.forEach((o,i)=>{for(let a=0;a<t;a++)O(a===e||o[a]===r[a],()=>`Error in concat${t}D: Shape of tensors[${i}] (${o}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function $s(n,e){const t=n[0].slice();for(let r=1;r<n.length;r++)t[e]+=n[r][e];return t}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Ta;(function(n){n[n.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",n[n.VALUE_ROWIDS=1]="VALUE_ROWIDS",n[n.ROW_LENGTHS=2]="ROW_LENGTHS",n[n.ROW_SPLITS=3]="ROW_SPLITS",n[n.ROW_LIMITS=4]="ROW_LIMITS",n[n.ROW_STARTS=5]="ROW_STARTS"})(Ta||(Ta={}));function tQ(n,e,t){let r=new Array;if(t==null&&e==null)return r;if(e==null)for(;r.length<n+t.length;)r.push(-1);else r=e.slice();if(t==null)return r;if(n+t.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${n+t.length}, but shape.rank = ${r.length}`);for(let o=1;o<t.length;++o){const i=t[o],a=r[r.length-t.length+o],s=r[a];if(i>=0)if(s>=0){if(s!==i)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${o+n}] = ${i} but shape[${o+n}] = ${s}`)}else r[a]=i}return r}function nQ(n){const e={FIRST_DIM_SIZE:Ta.FIRST_DIM_SIZE,VALUE_ROWIDS:Ta.VALUE_ROWIDS,ROW_LENGTHS:Ta.ROW_LENGTHS,ROW_SPLITS:Ta.ROW_SPLITS,ROW_LIMITS:Ta.ROW_LIMITS,ROW_STARTS:Ta.ROW_STARTS},t=[];for(const r of n)if(r in e)t.push(e[r]);else break;return t}function rQ(n){return n.length===0?0:n[0]===Ta.FIRST_DIM_SIZE?n.length-1:n.length}function oQ(n,e){if(n==null||e==null)return;const t=n.length,r=e.length;if(t>=r)throw new Error(`defaultValue.shape=${n} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${t} must be less than ragged tensor input flatValues.rank = ${r})`);for(let o=0;o<Math.min(t,r-1);++o){const i=n[o],a=e[o+1];if(i>=0&&a>=0&&i!==1&&i!==a)throw new Error(`defaultValue.shape=${n}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${o-n.length}] = ${i} but ragged tensor input.flatValues.shape[${o-n.length}] = ${a}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KL=30;function Y2(n){return n<=KL?n:YD(n,Math.floor(Math.sqrt(n)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XL(n,e,t){const r=t*(typeof n=="number"?n:n[0]),o=e*(typeof n=="number"?n:n[1]);return[r,o]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rb(n,e,t,r=!0){let o=[];if(r)o=o.concat(e.slice(0)),o.push(n[0]/t),o=o.concat(n.slice(1));else{o=o.concat(n[0]);const i=e.length;for(let a=0;a<i;++a)o=o.concat([n[a+1]/e[a],e[a]]);o=o.concat(n.slice(i+1))}return o}function ob(n,e,t=!0){const r=[];if(t){r.push(e);for(let o=e+1;o<n;++o)o<=2*e?(r.push(o),r.push(o-(e+1))):r.push(o)}else{const o=[],i=[];for(let a=1;a<n;++a)a>=e*2+1||a%2===1?i.push(a):o.push(a);r.push(...o),r.push(0),r.push(...i)}return r}function ib(n,e,t,r=!0){const o=[];r?o.push(n[0]/t):o.push(n[0]*t);for(let i=1;i<n.length;++i)i<=e.length?r?o.push(e[i-1]*n[i]):o.push(n[i]/e[i-1]):o.push(n[i]);return o}function qL(n,e){const t=[0];for(let r=0;r<e;++r)t.push(n[r][0]);return t}function YL(n,e,t){const r=n.slice(0,1);for(let o=0;o<t;++o)r.push(n[o+1]-e[o][0]-e[o][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z2=1.7580993408473768,J2=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZL=.3275911,JL=.254829592,QL=-.284496736,eN=1.421413741,tN=-1.453152027,nN=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function El(n,e){if(n.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${n.length}, imag: ${e.length}.`);const t=new Float32Array(n.length*2);for(let r=0;r<t.length;r+=2)t[r]=n[r/2],t[r+1]=e[r/2];return t}function iQ(n){const e=new Float32Array(n.length/2),t=new Float32Array(n.length/2);for(let r=0;r<n.length;r+=2)e[r/2]=n[r],t[r/2]=n[r+1];return{real:e,imag:t}}function aQ(n){const e=Math.ceil(n.length/4),t=new Float32Array(e),r=new Float32Array(e);for(let o=0;o<n.length;o+=4)t[Math.floor(o/4)]=n[o],r[Math.floor(o/4)]=n[o+1];return{real:t,imag:r}}function sQ(n){const e=Math.floor(n.length/4),t=new Float32Array(e),r=new Float32Array(e);for(let o=2;o<n.length;o+=4)t[Math.floor(o/4)]=n[o],r[Math.floor(o/4)]=n[o+1];return{real:t,imag:r}}function rN(n,e){const t=n[e*2],r=n[e*2+1];return{real:t,imag:r}}function lQ(n,e,t,r){n[r*2]=e,n[r*2+1]=t}function uQ(n,e){const t=new Float32Array(n/2),r=new Float32Array(n/2);for(let o=0;o<Math.ceil(n/2);o++){const i=(e?2:-2)*Math.PI*(o/n);t[o]=Math.cos(i),r[o]=Math.sin(i)}return{real:t,imag:r}}function cQ(n,e,t){const r=(t?2:-2)*Math.PI*(n/e),o=Math.cos(r),i=Math.sin(r);return{real:o,imag:i}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hT="->",G6e=/->/g,_7=",",I7="...";function oN(n,e){n=n.replace(/\s/g,"");const t=(n.length-n.replace(G6e,"").length)/hT.length;if(t<1)throw new Error("Equations without an arrow are not supported.");if(t>1)throw new Error(`Equation must contain exactly one arrow ("${hT}").`);const[r,o]=n.split(hT);O(r.indexOf(I7)===-1,()=>`The ellipsis notation ("${I7}") is not supported yet.`);const i=r.split(_7),a=i.length;if(e!==a)throw new Error(`Expected ${a} input tensors, received ${e}`);if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let h=0;h<o.length;++h){const f=o[h];if(!i.some(p=>p.indexOf(f)!==-1))throw new Error(`Output subscripts contain the label ${f} not present in the input subscripts.`);s.indexOf(f)===-1&&s.push(f)}for(let h=0;h<r.length;++h){const f=r[h];s.indexOf(f)===-1&&f!==_7&&s.push(f)}const l=new Array(i.length);for(let h=0;h<a;++h){if(new Set(i[h].split("")).size!==i[h].length)throw new Error(`Found duplicate axes in input component ${i[h]}. Support for duplicate axes in input is not implemented yet.`);l[h]=[];for(let f=0;f<i[h].length;++f)l[h].push(s.indexOf(i[h][f]))}const u=s.length,c=o.length,d=[];for(let h=c;h<u;++h)d.push(h);return{allDims:s,summedDims:d,idDims:l}}function iN(n,e){let t=new Array(n);t.fill(-1);for(let o=0;o<e.length;++o)t[e[o]]=o;const r=[];for(let o=0;o<n;++o)t[o]===-1&&r.push(o);return t=t.filter(o=>o!==-1),{permutationIndices:t,expandDims:r}}function aN(n,e,t){const r=new Array(n);for(let o=0;o<t.length;++o){const i=t[o].shape;for(let a=0;a<e[o].length;++a)r[e[o][a]]===void 0?r[e[o][a]]=i[a]:O(r[e[o][a]]===i[a],()=>`Expected dimension ${r[e[o][a]]} at axis ${a} of input shaped ${JSON.stringify(i)}, but got dimension ${i[a]}`)}}function sN(n,e){const t=n,r=[];let o=0;n.length===0&&t.push(-1),o=n.length+1;for(let a=0;a<o;++a)r.push([]);const i=[];for(let a=0;a<t.length;++a){const s=t[a],l=W6e(e,s);for(const u of l)i.indexOf(u)===-1&&(r[a].push(u),i.push(u))}return{path:t,steps:r}}function lN(n){return n.every((e,t)=>e===t)}function W6e(n,e){const t=[];for(let r=0;r<n.length;++r)(n[r].length===0||n[r].indexOf(e)!==-1||e===-1)&&t.push(r);return t}function uN(n,e,t=0){let r=[];if(typeof e=="number")O(n.shape[t]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(n.shape[t]/e);else{const o=e.reduce((a,s)=>(s===-1&&(a+=1),a),0);O(o<=1,()=>"There should be only one negative value in split array.");const i=e.indexOf(-1);if(i!==-1){const a=e.reduce((s,l)=>l>0?s+l:s);e[i]=n.shape[t]-a}O(n.shape[t]===e.reduce((a,s)=>a+s),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dQ(n){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${n}`}function hQ(n,e){return`indices(${n}, 0) is invalid: ${e} < 0`}function fQ(n,e,t){return`indices(${n}, 0) is invalid: ${e} >= ${t}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pQ(n,e){return`only one output dimension may be -1, not both ${n} and ${e}`}function gQ(n,e){return`size ${n} must be non-negative, not ${e}`}function vQ(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function mQ(n,e){const t=ue(n),r=ue(e);return`Input to reshape is a SparseTensor with ${t}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${n} outputShape= ${e}`}function yQ(n,e){const t=ue(n),r=ue(e);return`Input to reshape is a tensor with ${t} dense values, but the requested shape has ${r}. inputShape=${n} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vR(){return"segment ids must be >= 0"}function bQ(){return"segment ids are not increasing"}function wQ(n,e){return`Segment id ${n} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function xQ(n,e,t){return`Bad: indices[${n}] == ${e} out of range [0, ${t})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SQ(n,e){let t=!1,r;for(n<=KL?(r=n,t=!0):r=YD(n,Math.floor(Math.sqrt(n)));!t;)r>e||r===n?t=!0:r=YD(n,r+1);return r}function CQ(n,e,t){const r=[],o=n.length;for(let i=0;i<o;i++)i!==e?r.push(n[i]):r.push(t);return r}function cN(n,e,t,r){const o=e.shape.length,i=n.shape.length;if(r!==0&&(r<-o||r>o))throw new Error(`Expect batchDims in the range of [-${o}, ${o}], but got ${r}`);if(r<0&&(r+=o),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(t<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${t}).`);for(let d=0;d<r;++d)if(n.shape[d]!==e.shape[d])throw new Error(`x.shape[${d}]: ${n.shape[d]} should be equal to indices.shape[${d}]: ${e.shape[d]}.`);const a=n.shape[t],s=[];let l=1,u=1,c=1;for(let d=0;d<r;++d)s.push(n.shape[d]),l*=n.shape[d];for(let d=r;d<t;d++)s.push(n.shape[d]),u*=n.shape[d];for(let d=r;d<o;d++)s.push(e.shape[d]);for(let d=t+1;d<i;d++)s.push(n.shape[d]),c*=n.shape[d];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:a,outputShape:s}}const H6e=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:cN,computeOutShape:CQ,segOpComputeOptimalWindowSize:SQ},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $l(n){try{return n.map(e=>Gu(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function kQ(n){return n.map(e=>$u(e))}const U6e=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:JL,ERF_A2:QL,ERF_A3:eN,ERF_A4:tN,ERF_A5:nN,ERF_P:ZL,PARALLELIZE_THRESHOLD:KL,get RowPartitionType(){return Ta},SELU_SCALE:J2,SELU_SCALEALPHA:Z2,applyActivation:$L,assertAndGetBroadcastShape:xt,assertAxesAreInnerMostDims:Or,assertParamsConsistent:jL,assignToTypedArray:lQ,axesAreInnerMostDims:uL,calculateShapes:Th,checkEinsumDimSizes:aN,checkPadOnDimRoundingMode:Oo,combineLocations:pJ,combineRaggedTensorToTensorShapes:tQ,complexWithEvenIndex:aQ,complexWithOddIndex:sQ,computeConv2DInfo:Nr,computeConv3DInfo:ic,computeDefaultPad:rL,computeDilation2DInfo:J0,computeOptimalWindowSize:Y2,computeOutAndReduceShapes:_r,computeOutShape:$s,computePool2DInfo:ha,computePool3DInfo:Fl,convertConv2DDataFormat:Bl,decodeEinsumEquation:oN,eitherStridesOrDilationsAreOne:Xr,expandShapeToKeepDim:tr,exponent:cQ,exponents:uQ,fromStringArrayToUint8:kQ,fromUint8ToStringArray:$l,getAxesPermutation:Fn,getBroadcastDims:vp,getComplexWithIndex:rN,getEinsumComputePath:sN,getEinsumPermutation:iN,getFusedBiasGradient:EL,getFusedDyActivation:RL,getImageCenter:XL,getInnerMostAxes:Kn,getPermuted:ob,getRaggedRank:rQ,getReductionAxes:cr,getReshaped:rb,getReshapedPermuted:ib,getRowPartitionTypesHelper:nQ,getSliceBeginCoords:qL,getSliceSize:YL,getSparseFillEmptyRowsIndicesDenseShapeMismatch:dQ,getSparseFillEmptyRowsNegativeIndexErrorMessage:hQ,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:fQ,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:vQ,getSparseReshapeInputOutputMismatchErrorMessage:yQ,getSparseReshapeInputOutputMultipleErrorMessage:mQ,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:pQ,getSparseReshapeNegativeOutputDimErrorMessage:gQ,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:xQ,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:vR,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:bQ,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:wQ,getUndoAxesPermutation:ac,isIdentityPermutation:lN,log:i3e,mergeRealAndImagArrays:El,prepareAndValidate:zL,prepareSplitSize:uN,segment_util:H6e,shouldFuse:PL,slice_util:B6e,splitRealAndImagArrays:iQ,stridesOrDilationsArePositive:eh,tupleValuesAreOne:Qd,upcastType:ei,validateDefaultValueShape:oQ,validateInput:pBe,validateUpdateShape:PJ,warn:pi},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */I6e();/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Q={kernelName:GC,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>X(n,nb(Be(t,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j6e={kernelName:r0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>{const r=_n(Be(t,"float32")),o=Kr(ht(Zt(1),r));return Hn(ot(n,o))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K6e={kernelName:o0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>{const r=Kr(ht(_n(Be(t,"float32")),1));return ot(n,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X6e={kernelName:Qp,inputsToSave:["a","b"],gradFunc:(n,e)=>{const[t,r]=e,o=xt(t.shape,r.shape);return{a:()=>{let s=n;const l=cr(t.shape,o);return l.length>0&&(s=nt(s,l)),Y(s,t.shape)},b:()=>{let s=n;const l=cr(r.shape,o);return l.length>0&&(s=nt(s,l)),Y(s,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q6e={kernelName:hM,saveAllInputs:!0,gradFunc:(n,e)=>{const t={};return e.forEach((r,o)=>{t[o]=()=>n.clone()}),t}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y6e={kernelName:WC,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>jt(t)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z6e={kernelName:HC,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>jt(t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J6e={kernelName:i0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>ot(n,Kr(ht(Zt(1),_n(Be(t,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q6e={kernelName:a0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>{const r=Kr(Ae(Zt(1),_n(Be(t,"float32"))));return ot(n,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eze={kernelName:u0,inputsToSave:["a","b"],gradFunc:(n,e)=>{const[t,r]=e,o=xt(t.shape,r.shape);return{a:()=>{const s=Ae(_n(t),_n(r));let l=X(n,ot(r,s));const u=cr(t.shape,o);return u.length>0&&(l=nt(l,u)),Y(l,t.shape)},b:()=>{const s=Ae(_n(t),_n(r));let l=Hn(X(n,ot(t,s)));const u=cr(r.shape,o);return u.length>0&&(l=nt(l,u)),Y(l,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tze={kernelName:s0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>ot(n,Ae(_n(Be(t,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nze={kernelName:l0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>ot(n,ht(Zt(1),_n(Be(t,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rze(n,e,t,r,o,i){const a=G(n,"dy","avgPool3dGrad"),s=G(e,"input","avgPool3dGrad");let l=a,u=s,c=!1;s.rank===4&&(c=!0,l=Y(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),u=Y(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),O(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),O(u.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`),Oo("avgPool3dGrad",o,i);const d={dy:l,input:u},h={filterSize:t,strides:r,pad:o,dimRoundingMode:i},f=q.runKernel(vM,d,h);return c?Y(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const oze=Z({avgPool3dGrad_:rze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ize={kernelName:jC,inputsToSave:["x"],gradFunc:(n,e,t)=>{const[r]=e,{filterSize:o,strides:i,pad:a,dimRoundingMode:s}=t;return{x:()=>oze(n,r,o,i,a,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aze(n,e,t,r,o){const i=G(n,"dy","avgPoolGrad"),a=G(e,"input","avgPoolGrad");O(a.rank===i.rank,()=>`Rank of input (${a.rank}) does not match rank of dy (${i.rank})`);let s=a,l=i,u=!1;a.rank===3&&(u=!0,s=Y(a,[1,a.shape[0],a.shape[1],a.shape[2]]),l=Y(i,[1,i.shape[0],i.shape[1],i.shape[2]])),O(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),O(s.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${s.rank}.`);const c={dy:l,input:s},d={filterSize:t,strides:r,pad:o},h=q.runKernel(gM,c,d);return u?Y(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const sze=Z({avgPoolGrad_:aze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lze={kernelName:UC,inputsToSave:["x"],gradFunc:(n,e,t)=>{const[r]=e,{filterSize:o,strides:i,pad:a}=t;return{x:()=>sze(n,r,o,i,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uze={kernelName:KC,inputsToSave:["a","b"],gradFunc:(n,e,t)=>{const[r,o]=e,{transposeA:i,transposeB:a}=t;return!i&&!a?{a:()=>Qt(n,o,!1,!0),b:()=>Qt(r,n,!0,!1)}:!i&&a?{a:()=>Qt(n,o,!1,!1),b:()=>Qt(n,r,!0,!1)}:i&&!a?{a:()=>Qt(o,n,!1,!0),b:()=>Qt(r,n,!1,!1)}:{a:()=>Qt(o,n,!0,!0),b:()=>Qt(n,r,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cze={kernelName:XC,gradFunc:(n,e,t)=>{const{blockShape:r,crops:o}=t;return{x:()=>mL(n,r,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dze={kernelName:n3e,gradFunc:(n,e,t)=>{const r=t,o=r.inputShape,i=r.shape,a=Array.from(i);for(let l=o.length-1;l>=0;l--)if(o[l]===i[l])a[l]=1;else if(o[l]!==1)throw new Error(`broadcastTo(): [${o}] cannot be broadcast to [${i}].`);const s=[];for(let l=0;l<a.length;l++)a[l]>1&&s.push(l);return{x:()=>nt(n,s,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hze={kernelName:c0,gradFunc:n=>({x:()=>n.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fze={kernelName:d0,gradFunc:n=>({x:()=>jt(n)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pze={kernelName:h0,inputsToSave:["x"],gradFunc:(n,e,t)=>{const[r]=e,{clipValueMin:o,clipValueMax:i}=t;return{x:()=>so(Dl(kh(r,o),rg(r,i)),n,jt(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gze={kernelName:qC,inputsToSave:["x"],gradFunc:_Q.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vze={kernelName:YC,saveAllInputs:!0,gradFunc:(n,e,t)=>{const r=e.map(l=>l.shape),{axis:o}=t,i=Mt(o,e[0].shape)[0],a=r.map(l=>l[i]);return wi(n,a,i).map(l=>()=>l)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mze={kernelName:ZC,inputsToSave:["x","filter"],gradFunc:(n,e,t)=>{const[r,o]=e,{dilations:i,strides:a,pad:s,dataFormat:l}=t;return O(Qd(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>aL(r.shape,n,o,a,s,l),filter:()=>DL(r,n,o.shape,a,s,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yze={kernelName:JC,inputsToSave:["dy","filter"],gradFunc:(n,e,t)=>{const[r,o]=e,{strides:i,pad:a,dataFormat:s,dimRoundingMode:l}=t;return{dy:()=>th(n,o,i,a,s,1,l),filter:()=>DL(n,r,o.shape,i,a,s,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bze(n,e,t,r,o){let i=n;n.rank===4&&(i=Y(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]]));let a=e;a.rank===4&&(a=Y(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),O(i.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),O(a.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${a.shape}.`),O(t.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${t}.`),O(i.shape[4]===t[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${t[3]}.`),O(a.shape[4]===t[4],()=>`Error in conv3dDerFilter: depth of dy (${a.shape[4]}) must match output depth for filter (${t[4]}).`);const s={x:i,dy:a},l={strides:r,pad:o,filterShape:t};return q.runKernel(xM,s,l)}const wze=Z({conv3DBackpropFilter_:bze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xze={kernelName:QC,inputsToSave:["x","filter"],gradFunc:(n,e,t)=>{const{dilations:r,strides:o,pad:i}=t;O(Qd(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[a,s]=e;return{x:()=>cJ(a.shape,n,s,o,i),filter:()=>wze(a,n,s.shape,o,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sze={kernelName:f0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>X(Hn(DJ(Be(t,"float32"))),n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cze={kernelName:p0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>X(RJ(Be(t,"float32")),n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kze={kernelName:e2,inputsToSave:["x"],gradFunc:(n,e,t)=>{const[r]=e,{axis:o,exclusive:i,reverse:a}=t;return{x:()=>{const s=Fn([o],r.rank);let l=hJ(n,o,i,!a);return s!=null&&(l=Ut(l,s)),l}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ze={kernelName:t2,inputsToSave:["x","filter"],gradFunc:(n,e,t)=>{const{dilations:r,strides:o,pad:i,dimRoundingMode:a}=t,s=r??[1,1];O(Qd(s),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`);const[l,u]=e;return O(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),O(u.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`),O(l.shape[3]===u.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`),O(Xr(o,s),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${o} and dilations '${s}'.`),Oo("depthwiseConv2d",i,a),{x:()=>PBe(l.shape,n,u,o,i,s,a),filter:()=>EBe(l,n,u.shape,o,i,s,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ize={kernelName:n2,inputsToSave:["x","filter"],gradFunc:(n,e,t)=>{const[r,o]=e,i={x:r,filter:o,dy:n},a={x:r,filter:o,dy:n};return{x:()=>q.runKernel(ZD,i,t),filter:()=>q.runKernel(JD,a,t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tze={kernelName:v0,outputsToSave:[!0],gradFunc:(n,e)=>{const[t]=e,r={dy:n,y:t};return{x:()=>q.runKernel(RM,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Aze={kernelName:m0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e,r=X(Ws(Hn(_n(t))),2/Math.sqrt(Math.PI));return{x:()=>X(n,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dze={kernelName:y0,outputsToSave:[!0],gradFunc:(n,e)=>{const[t]=e;return{x:()=>X(n,t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rze={kernelName:o2,inputsToSave:["input"],gradFunc:(n,e)=>{const[t]=e;return{input:()=>Y(n,t.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eze={kernelName:b0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>X(n,Ws(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ze={kernelName:w0,gradFunc:n=>({x:()=>jt(n)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pze={kernelName:x0,inputsToSave:["a","b"],gradFunc:(n,e)=>{const[t,r]=e,o=xt(t.shape,r.shape);return{a:()=>{const s=ot(n,Be(r,"float32")),l=cr(t.shape,o);return l.length>0?Y(nt(s,l),t.shape):s},b:()=>{let s=X(n,Be(t,"float32"));const l=cr(r.shape,o);l.length>0&&(s=Y(nt(s,l),r.shape));const u=_n(r);return Hn(ot(s,Be(u,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mze={kernelName:i2,inputsToSave:["x","mean","variance","scale"],gradFunc:(n,e,t)=>{const{varianceEpsilon:r}=t,[o,i,a,s]=e,l=s??Zt(1),u=cr(i.shape,o.shape),c=[];if(i.rank===1){for(let w=0;w<o.shape.length-1;++w)c.push(o.shape[w]);c.push(1)}const d=ht(o,i),h=X(n,l),f=IJ(Ae(a,Zt(r))),p=X(X(X(f,f),f),Zt(-.5));return{x:()=>i.rank===1?Y(X(X(n,Ra(Y(f,[1,1,1,i.shape[0]]),c)),l),o.shape):Y(X(X(n,f),l),o.shape),mean:()=>{let w=X(X(f,Zt(-1)),h);return i.rank===1&&(w=nt(w,u)),Y(w,i.shape)},variance:()=>{let w=X(X(p,d),h);return i.rank===1&&(w=nt(w,u)),Y(w,i.shape)},scale:()=>{const w=X(d,f);let x=X(n,w);return i.rank===1&&(x=nt(x,u)),Y(x,i.shape)},offset:()=>{let w=n;return i.rank===1&&(w=nt(w,u)),Y(w,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lze={kernelName:a2,inputsToSave:["x","indices"],gradFunc:(n,e,t)=>{const[r,o]=e,{axis:i,batchDims:a}=t,s=Mt(i,r.shape)[0],l=(u,c,d)=>()=>{const h=u.shape,f=c.size,p=h.slice(0,s),g=p.length,v=h.slice(i,h.length).slice(1),m=v.length,y=T7(0,g),b=T7(g+1,g+1+m),w=A7([p,[f],v]),x=Y(d,w),S=Y(c,[f]),C=A7([[g],y,b]),k=Ut(x,C);let _=LJ(k,S,u.shape[s]);const I=ac(C);return _=Ut(_,I),_};if(a===1){const u=r.shape[0],c=r.split(u,0);return{x:()=>Rl(c.map((f,p)=>l(f,o.slice(p,1),n.slice(p,1))())).reshape(r.shape),indices:()=>o}}else return{x:l(r,o,n),indices:()=>o}}};function T7(n,e){const t=[];for(let r=n;r<e;++r)t.push(r);return t}function A7(n){const e=[];for(let t=0;t<n.length;++t)for(let r=0;r<n[t].length;++r)e.push(n[t][r]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nze={kernelName:S0,inputsToSave:["a","b"],gradFunc:(n,e)=>{const[t,r]=e;return{a:()=>jt(t),b:()=>jt(r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oze={kernelName:C0,gradFunc:n=>({x:()=>Be(n,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fze={kernelName:k0,gradFunc:n=>({x:()=>jt(n)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bze={kernelName:_0,gradFunc:n=>({x:()=>jt(n)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zze={kernelName:I0,gradFunc:n=>({x:()=>jt(n)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vze={kernelName:l2,inputsToSave:["x"],gradFunc:(n,e,t)=>{const[r]=e,{alpha:o}=t,i=Ii(r,0);return{x:()=>so(i,n,X(n,o))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gze={kernelName:A0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>ot(n,Ae(t,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wze={kernelName:T0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>ot(n,Be(t,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hze={kernelName:o3e,inputsToSave:[],outputsToSave:[!0],gradFunc:(n,e,t)=>{const[r]=e,{axis:o}=t;return{logits:()=>{const a=Ws(r);return ht(n,X(nt(n,o,!0),a))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uze(n,e,t,r=5,o=1,i=1,a=.5){const s={x:n,y:e,dy:t},l={depthRadius:r,bias:o,alpha:i,beta:a};return q.runKernel(NM,s,l)}const jze=Z({localResponseNormalizationBackprop_:Uze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kze={kernelName:p2,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,e,t)=>{const[r,o]=e,{depthRadius:i,bias:a,alpha:s,beta:l}=t;return{x:()=>jze(r,o,n,i,a,s,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IQ(n,e,t,r){return e.rank<t.rank&&(e=Y(e,tr(e.shape,r))),n.rank<t.rank&&(n=Y(n,tr(n.shape,r))),{x:()=>X(n,Be(Gs(t,e),n.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D7={kernelName:g2,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,e,t)=>{const r=t,{reductionIndices:o}=r,i=e[0],a=e[1],s=Mt(o,i.shape),l=IQ(n,a,i,s);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xze={kernelName:D0,inputsToSave:["a","b"],gradFunc:(n,e)=>{const[t,r]=e;return{a:()=>X(n,Be(kh(t,r),"float32")),b:()=>X(n,Be(Qx(t,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qze(n,e,t,r,o,i,a){const s=G(n,"dy","maxPool3dGrad"),l=G(e,"input","maxPool3dGrad"),u=G(t,"output","maxPool3dGrad");let c=s,d=l,h=u,f=!1;l.rank===4&&(f=!0,c=Y(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),d=Y(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),h=Y(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),O(c.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),O(d.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${d.rank}.`),O(h.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${h.rank}.`),Oo("maxPool3dGrad",i,a);const p={dy:c,input:d,output:h},g={filterSize:r,strides:o,pad:i,dimRoundingMode:a},v=q.runKernel(FM,p,g);return f?Y(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}const Yze=Z({maxPool3dGrad_:qze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zze={kernelName:m2,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,e,t)=>{const[r,o]=e,{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=t;return{x:()=>Yze(n,r,o,i,a,s,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jze(n,e,t,r,o,i,a){const s=G(n,"dy","maxPoolGrad"),l=G(e,"input","maxPoolGrad"),u=G(t,"output","maxPoolGrad");O(l.rank===s.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${s.rank})`),O(s.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${s.rank}.`),O(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),Oo("maxPoolGrad",i,a);const c={dy:s,input:l,output:u},d={filterSize:r,strides:o,pad:i,dimRoundingMode:a};return q.runKernel(OM,c,d)}const Qze=Z({maxPoolGrad_:Jze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eVe={kernelName:v2,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,e,t)=>{const[r,o]=e,{filterSize:i,strides:a,pad:s}=t;return{x:()=>Qze(n,r,o,i,a,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tVe={kernelName:y2,inputsToSave:["x"],gradFunc:(n,e,t)=>{const[r]=e,{axis:o}=t,i=Mt(o,r.shape),s=_r(r.shape,i)[1],l=ue(s);return{x:()=>{const c=r.shape.slice();i.forEach(f=>{c[f]=1});const d=Y(n,c);return ot(X(d,lc(r.shape,"float32")),l)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nVe={kernelName:b2,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,e,t)=>{const r=t,{axis:o}=r,[i,a]=e,s=Mt(o,i.shape),l=IQ(n,a,i,s);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rVe={kernelName:R0,inputsToSave:["a","b"],gradFunc:(n,e)=>{const[t,r]=e;return{a:()=>X(n,Be(rg(t,r),"float32")),b:()=>X(n,Be(Ii(t,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oVe={kernelName:w2,inputsToSave:["x"],gradFunc:(n,e,t)=>{const r=e[0],{paddings:o}=t,i=o.map(a=>a[0]);return{x:()=>Sn(n,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iVe={kernelName:E0,inputsToSave:["a","b"],gradFunc:(n,e)=>{const[t,r]=e,o=xt(t.shape,r.shape);return{a:()=>{const s=cr(t.shape,o);return s.length>0?Y(nt(n,s),t.shape):n},b:()=>{const s=X(n,Hn(X2(ot(t,r)))),l=cr(r.shape,o);return l.length>0?Y(nt(s,l),r.shape):s}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aVe={kernelName:$0,inputsToSave:["a","b"],gradFunc:(n,e)=>{const[t,r]=e,o=xt(t.shape,r.shape);return{a:()=>{const s=X(n,Be(r,"float32")),l=cr(t.shape,o);return l.length>0?Y(nt(s,l),t.shape):s},b:()=>{const s=X(n,Be(t,"float32")),l=cr(r.shape,o);return l.length>0?Y(nt(s,l),r.shape):s}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sVe={kernelName:x2,gradFunc:n=>({x:()=>Hn(n)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lVe={kernelName:k2,inputsToSave:["indices"],gradFunc:(n,e)=>{const t=e[0];return{indices:()=>gr(t.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uVe={kernelName:C2,gradFunc:n=>({x:()=>jt(n)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cVe={kernelName:_2,saveAllInputs:!0,gradFunc:(n,e,t)=>{const{axis:r}=t;return oh(n,r).map(i=>()=>i)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R7={kernelName:I2,inputsToSave:["x"],gradFunc:(n,e,t)=>{const r=e[0],{paddings:o}=t,i=o.map(a=>a[0]);return{x:()=>Sn(n,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dVe={kernelName:P0,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(n,e)=>{const[t,r,o]=e,i=t,a=r,s=xt(i.shape,a.shape);return{a:()=>{const c=Be(a,"float32");let d=X(n,X(c,nh(i,ht(c,Zt(1)))));const h=cr(i.shape,s);return h.length>0&&(d=nt(d,h)),Y(d,i.shape)},b:()=>{const c=Ii(i,0),d=so(c,Hs(i),jt(i));let h=X(n,X(o,d));const f=cr(a.shape,s);return f.length>0&&(h=nt(h,f)),Y(h,a.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hVe={kernelName:T2,inputsToSave:["x","alpha"],gradFunc:(n,e)=>{const[t,r]=e,o=Ii(t,0);return{x:()=>so(o,n,X(n,r)),alpha:()=>{let i=so(o,jt(n),X(n,t));const a=cr(r.shape,n.shape);return a.length>0&&(i=nt(i,a)),Y(i,r.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fVe(n,e,t){const r=n.shape.slice();r[t]=1;const o=Y(e,r),i=fR(n,t,!0,!1),a=fR(n,t,!0,!0),s=X(i,a);return X(o,s)}function pVe(n,e,t){const r=n.shape.length,o=r-t.length,i=Fn(t,r);let a=n;i!=null&&(a=Ut(n,i));const s=a.shape.slice(),u=s.splice(r-t.length,t.length).reduce((h,f)=>h*f,1);s.push(u);const c=a.reshape(s);let d=fVe(c,e,o);if(d=d.reshape(a.shape),i!=null){const h=ac(i);d=Ut(d,h)}return d}const gVe={kernelName:A2,inputsToSave:["x"],gradFunc:(n,e,t)=>{const[r]=e,{axis:o}=t;let i=[];return o==null?i=r.shape.map((a,s)=>s):typeof o=="number"?i=[o]:i=o,{x:()=>pVe(r,n,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vVe={kernelName:g0,inputsToSave:["a","b"],gradFunc:(n,e)=>{const[t,r]=e,o=xt(t.shape,r.shape);return{a:()=>{const s=ot(n,Be(r,"float32")),l=cr(t.shape,o);return l.length>0?Y(nt(s,l),t.shape):s},b:()=>{let s=X(n,Be(t,"float32"));const l=cr(r.shape,o);l.length>0&&(s=Y(nt(s,l),r.shape));const u=_n(r);return Hn(ot(s,Be(u,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mVe={kernelName:M0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>ot(n,Hn(_n(t)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yVe={kernelName:N0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e,r=X(rg(t,6),nb(t));return{x:()=>X(n,Be(r,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bVe={kernelName:L0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>X(n,Be(nb(t),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wVe={kernelName:D2,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>Y(n,t.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xVe={kernelName:E2,inputsToSave:["images"],gradFunc:(n,e,t)=>{const[r]=e,o={dy:n,images:r};return{images:()=>q.runKernel(UM,o,t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SVe={kernelName:R2,inputsToSave:["images"],gradFunc:(n,e,t)=>{const[r]=e,o={dy:n,images:r};return{images:()=>q.runKernel(HM,o,t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CVe={kernelName:$2,gradFunc:(n,e,t)=>{const{dims:r}=t,o=Mt(r,n.shape);return{x:()=>rh(n,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kVe={kernelName:O0,gradFunc:n=>({x:()=>jt(n)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Ve={kernelName:F0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>Hn(ot(n,X(nh(t,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IVe={kernelName:P2,inputsToSave:["condition"],gradFunc:(n,e)=>{const[t]=e;return{condition:()=>Be(jt(t),"float32"),t:()=>X(n,Be(t,n.dtype)),e:()=>X(n,Be(fL(t),n.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TVe={kernelName:B0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>{const r=Ii(t,Zt(0)),o=Zt(Z2),i=Zt(J2),a=X(n,i),s=X(X(n,o),Ws(Be(t,"float32")));return so(r,a,s)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AVe={kernelName:W0,outputsToSave:[!0],gradFunc:(n,e)=>{const[t]=e;return{x:()=>X(n,X(t,ht(Zt(1),t)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DVe={kernelName:G0,gradFunc:n=>({x:()=>jt(n)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RVe={kernelName:z0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>X(sL(Be(t,"float32")),n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EVe={kernelName:V0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>X(dJ(Be(t,"float32")),n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Ve={kernelName:M2,inputsToSave:["x"],gradFunc:(n,e,t)=>{const[r]=e,{begin:o,size:i}=t,a=r.shape,[s,l]=q2(r,o,i),u=[];for(let c=0;c<n.rank;c++)u.push([s[c],a[c]-s[c]-l[c]]);return{x:()=>vL(n,u)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PVe={kernelName:F2,outputsToSave:[!0],gradFunc:(n,e,t)=>{const[r]=e,{dim:o}=t,i=!0,a=X(n,r);return{logits:()=>ht(a,X(nt(a,[o],i),r))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MVe={kernelName:H0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>X(n,ng(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E7={kernelName:N2,gradFunc:(n,e,t)=>{const{blockShape:r,paddings:o}=t;return{x:()=>iL(n,r,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $7={kernelName:O2,gradFunc:(n,e,t)=>{const{axis:r}=t;return{x:()=>Do(n,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LVe={kernelName:U0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>ot(n,X(Kr(Be(t,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NVe={kernelName:jM,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>X(n,X(Be(t,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OVe={kernelName:j0,inputsToSave:["a","b"],gradFunc:(n,e)=>{const[t,r]=e,o=Zt(2);return{a:()=>X(n,X(o,ht(t,r))),b:()=>X(n,X(o,ht(r,t)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FVe={kernelName:Z0,gradFunc:n=>({x:()=>jt(n)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BVe={kernelName:K0,inputsToSave:["a","b"],gradFunc:(n,e)=>{const[t,r]=e,o=xt(t.shape,r.shape);return{a:()=>{let s=n;const l=cr(t.shape,o);return l.length>0&&(s=nt(s,l)),Y(s,t.shape)},b:()=>{let s=n;const l=cr(r.shape,o);return l.length>0&&(s=nt(s,l)),Y(Hn(s),r.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zVe={kernelName:L2,inputsToSave:["x"],gradFunc:(n,e,t)=>{const[r]=e,o=r.shape.slice(),{axis:i}=t;Mt(i,r.shape).forEach(u=>{o[u]=1});const s=Y(n,o),l=X(s,lc(r.shape,"float32"));return{x:()=>l}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VVe={kernelName:X0,inputsToSave:["x"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>ot(n,_n(sL(t)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GVe={kernelName:q0,outputsToSave:[!0],gradFunc:(n,e)=>{const[t]=e;return{x:()=>X(ht(Zt(1),_n(t)),n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WVe={kernelName:Y0,inputsToSave:["x"],gradFunc:(n,e,t)=>{const[r]=e,{reps:o}=t;return{x:()=>{let a=jt(r);if(r.rank===1)for(let s=0;s<o[0];++s)a=Ae(a,Sn(n,[s*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let s=0;s<o[0];++s)for(let l=0;l<o[1];++l)a=Ae(a,Sn(n,[s*r.shape[0],l*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let s=0;s<o[0];++s)for(let l=0;l<o[1];++l)for(let u=0;u<o[2];++u)a=Ae(a,Sn(n,[s*r.shape[0],l*r.shape[1],u*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let s=0;s<o[0];++s)for(let l=0;l<o[1];++l)for(let u=0;u<o[2];++u)for(let c=0;c<o[3];++c)a=Ae(a,Sn(n,[s*r.shape[0],l*r.shape[1],u*r.shape[2],c*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HVe={kernelName:jf,gradFunc:(n,e,t)=>{const r=t,{perm:o}=r,i=ac(o);return{x:()=>Ut(n,i)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UVe={kernelName:B2,gradFunc:(n,e,t)=>{const r=t,{axis:o}=r;return{value:()=>Rl(n,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jVe={kernelName:z2,inputsToSave:["segmentIds"],gradFunc:(n,e)=>{const[t]=e;return{x:()=>KVe(n,t)}}};function KVe(n,e){const t=sc(e,jt(e)),r=cL(n,t);let o=kh(e,Zt(0,"int32"));const i=r.rank-o.rank;for(let s=0;s<i;++s)o=ko(o,s+1);o=Dl(o,lc(r.shape,"bool"));const a=jt(r);return so(o,r,a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XVe={kernelName:V2,gradFunc:n=>({x:()=>jt(n)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qVe=[_Q,j6e,K6e,X6e,q6e,Y6e,Z6e,J6e,Q6e,eze,tze,nze,ize,lze,uze,cze,dze,hze,fze,pze,gze,vze,yze,mze,xze,Sze,Cze,kze,_ze,Ize,vVe,Tze,Aze,Dze,Rze,Eze,Pze,$ze,Mze,Lze,Nze,Oze,Fze,Bze,zze,Vze,Gze,Wze,Hze,Kze,D7,D7,Xze,Zze,eVe,tVe,nVe,rVe,oVe,iVe,aVe,sVe,lVe,uVe,cVe,R7,R7,dVe,hVe,gVe,mVe,yVe,bVe,wVe,xVe,SVe,CVe,kVe,_Ve,IVe,TVe,AVe,DVe,RVe,EVe,$Ve,PVe,MVe,E7,E7,$7,$7,LVe,OVe,NVe,FVe,BVe,zVe,VVe,GVe,WVe,HVe,UVe,jVe,XVe];for(const n of qVe)a3e(n);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.abs=function(){return this.throwIfDisposed(),to(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.acos=function(){return this.throwIfDisposed(),SOe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.acosh=function(){return this.throwIfDisposed(),kOe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.add=function(n){return this.throwIfDisposed(),Ae(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.all=function(n,e){return this.throwIfDisposed(),sJ(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.any=function(n,e){return this.throwIfDisposed(),dR(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.argMax=function(n){return this.throwIfDisposed(),ly(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.argMin=function(n){return this.throwIfDisposed(),DOe(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.asScalar=function(){return this.throwIfDisposed(),O(this.size===1,()=>"The array must have only 1 element."),Y(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.asType=function(n){return this.throwIfDisposed(),Be(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.as1D=function(){return this.throwIfDisposed(),Y(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.as2D=function(n,e){return this.throwIfDisposed(),Y(this,[n,e])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.as3D=function(n,e,t){return this.throwIfDisposed(),Y(this,[n,e,t])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.as4D=function(n,e,t,r){return this.throwIfDisposed(),Y(this,[n,e,t,r])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.as5D=function(n,e,t,r,o){return this.throwIfDisposed(),Y(this,[n,e,t,r,o])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.asin=function(){return this.throwIfDisposed(),EOe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.asinh=function(){return this.throwIfDisposed(),POe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.atan=function(){return this.throwIfDisposed(),LOe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.atan2=function(n){return this.throwIfDisposed(),OOe(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.atanh=function(){return this.throwIfDisposed(),BOe(this)};le().prototype.avgPool=function(n,e,t,r){return this.throwIfDisposed(),oL(this,n,e,t,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.batchToSpaceND=function(n,e){return this.throwIfDisposed(),iL(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.batchNorm=function(n,e,t,r,o){return this.throwIfDisposed(),H2(this,n,e,t,r,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.broadcastTo=function(n){return this.throwIfDisposed(),Yv(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.cast=function(n){return this.throwIfDisposed(),Be(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.ceil=function(){return this.throwIfDisposed(),h5e(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.clipByValue=function(n,e){return this.throwIfDisposed(),Ci(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.concat=function(n,e){return this.throwIfDisposed(),n instanceof or&&(n=[n]),Do([this,...n],e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.conv1d=function(n,e,t,r,o,i){return this.throwIfDisposed(),lJ(this,n,e,t,r,o,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.conv2dTranspose=function(n,e,t,r,o){return this.throwIfDisposed(),uJ(this,n,e,t,r,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.conv2d=function(n,e,t,r,o,i){return this.throwIfDisposed(),th(this,n,e,t,r,o,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.cos=function(){return this.throwIfDisposed(),sL(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.cosh=function(){return this.throwIfDisposed(),dJ(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.cumprod=function(n,e,t){return this.throwIfDisposed(),fR(this,n,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.cumsum=function(n,e,t){return this.throwIfDisposed(),hJ(this,n,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.depthToSpace=function(n,e){return this.throwIfDisposed(),O5e(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.depthwiseConv2d=function(n,e,t,r,o,i){return this.throwIfDisposed(),lL(this,n,e,t,r,o,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.dilation2d=function(n,e,t,r,o){return this.throwIfDisposed(),z5e(this,n,e,t,r,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.divNoNan=function(n){return this.throwIfDisposed(),U5e(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.div=function(n){return this.throwIfDisposed(),ot(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.dot=function(n){return this.throwIfDisposed(),K5e(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.elu=function(){return this.throwIfDisposed(),j2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.equal=function(n){return this.throwIfDisposed(),Gs(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.erf=function(){return this.throwIfDisposed(),fJ(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.euclideanNorm=function(n,e){return this.throwIfDisposed(),i4e(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.exp=function(){return this.throwIfDisposed(),Ws(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.expandDims=function(n){return this.throwIfDisposed(),ko(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.expm1=function(){return this.throwIfDisposed(),u4e(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.fft=function(){return this.throwIfDisposed(),$J(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.flatten=function(){return this.throwIfDisposed(),Y(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.floor=function(){return this.throwIfDisposed(),X2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.floorDiv=function(n){return this.throwIfDisposed(),aJ(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.gather=function(n,e,t){return this.throwIfDisposed(),cL(this,n,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.greaterEqual=function(n){return this.throwIfDisposed(),kh(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.greater=function(n){return this.throwIfDisposed(),Ii(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.ifft=function(){return this.throwIfDisposed(),pR(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.irfft=function(){return this.throwIfDisposed(),eBe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.isFinite=function(){return this.throwIfDisposed(),y4e(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.isInf=function(){return this.throwIfDisposed(),w4e(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.isNaN=function(){return this.throwIfDisposed(),S4e(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.leakyRelu=function(n){return this.throwIfDisposed(),hL(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.lessEqual=function(n){return this.throwIfDisposed(),rg(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.less=function(n){return this.throwIfDisposed(),Qx(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.localResponseNormalization=function(n,e,t,r){return this.throwIfDisposed(),T4e(this,n,e,t,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.logSigmoid=function(){return this.throwIfDisposed(),M4e(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.logSoftmax=function(n){return this.throwIfDisposed(),yJ(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.logSumExp=function(n,e){return this.throwIfDisposed(),bJ(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.log=function(){return this.throwIfDisposed(),Hs(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.log1p=function(){return this.throwIfDisposed(),mJ(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.logicalAnd=function(n){return this.throwIfDisposed(),Dl(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.logicalNot=function(){return this.throwIfDisposed(),fL(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.logicalOr=function(n){return this.throwIfDisposed(),wJ(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.logicalXor=function(n){return this.throwIfDisposed(),G4e(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.matMul=function(n,e,t){return this.throwIfDisposed(),Qt(this,n,e,t)};le().prototype.maxPool=function(n,e,t,r){return this.throwIfDisposed(),pL(this,n,e,t,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.max=function(n,e){return this.throwIfDisposed(),Oa(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.maximum=function(n){return this.throwIfDisposed(),sc(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.mean=function(n,e){return this.throwIfDisposed(),Jn(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.min=function(n,e){return this.throwIfDisposed(),Jx(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.minimum=function(n){return this.throwIfDisposed(),dy(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.mirrorPad=function(n,e){return this.throwIfDisposed(),Y4e(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.mod=function(n){return this.throwIfDisposed(),J4e(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.mul=function(n){return this.throwIfDisposed(),X(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.neg=function(){return this.throwIfDisposed(),Hn(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.norm=function(n,e,t){return this.throwIfDisposed(),K2(this,n,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.notEqual=function(n){return this.throwIfDisposed(),eS(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.oneHot=function(n,e=1,t=0){return this.throwIfDisposed(),xJ(this,n,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.onesLike=function(){return this.throwIfDisposed(),aa(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.pad=function(n,e){return this.throwIfDisposed(),vL(this,n,e)};le().prototype.pool=function(n,e,t,r,o,i){return this.throwIfDisposed(),lFe(this,n,e,t,r,o,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.pow=function(n){return this.throwIfDisposed(),nh(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.prelu=function(n){return this.throwIfDisposed(),yL(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.prod=function(n,e){return this.throwIfDisposed(),dFe(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.reciprocal=function(){return this.throwIfDisposed(),MFe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.relu=function(){return this.throwIfDisposed(),Ih(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.relu6=function(){return this.throwIfDisposed(),kJ(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.reshapeAs=function(n){return this.throwIfDisposed(),Y(this,n.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.reshape=function(n){return this.throwIfDisposed(),Y(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.resizeBilinear=function(n,e,t){return this.throwIfDisposed(),OJ(this,n,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.resizeNearestNeighbor=function(n,e,t){return this.throwIfDisposed(),FJ(this,n,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.reverse=function(n){return this.throwIfDisposed(),rh(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.rfft=function(){return this.throwIfDisposed(),rBe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.round=function(){return this.throwIfDisposed(),_J(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.rsqrt=function(){return this.throwIfDisposed(),IJ(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.selu=function(){return this.throwIfDisposed(),TJ(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.separableConv2d=function(n,e,t,r,o,i){return this.throwIfDisposed(),AJ(this,n,e,t,r,o,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.sigmoid=function(){return this.throwIfDisposed(),ng(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.sign=function(){return this.throwIfDisposed(),WFe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.sin=function(){return this.throwIfDisposed(),DJ(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.sinh=function(){return this.throwIfDisposed(),RJ(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.slice=function(n,e){return this.throwIfDisposed(),Sn(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.softmax=function(n){return this.throwIfDisposed(),AL(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.softplus=function(){return this.throwIfDisposed(),Q0(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.spaceToBatchND=function(n,e){return this.throwIfDisposed(),mL(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.split=function(n,e){return this.throwIfDisposed(),wi(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.sqrt=function(){return this.throwIfDisposed(),Kr(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.square=function(){return this.throwIfDisposed(),_n(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.squaredDifference=function(n){return this.throwIfDisposed(),iBe(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.squeeze=function(n){return this.throwIfDisposed(),tb(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.stack=function(n,e){this.throwIfDisposed();const t=n instanceof or?[this,n]:[this,...n];return Rl(t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.step=function(n){return this.throwIfDisposed(),nb(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.stridedSlice=function(n,e,t,r,o,i,a,s){return this.throwIfDisposed(),cBe(this,n,e,t,r,o,i,a,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.sub=function(n){return this.throwIfDisposed(),ht(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.sum=function(n,e){return this.throwIfDisposed(),nt(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.tan=function(){return this.throwIfDisposed(),hBe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.tanh=function(){return this.throwIfDisposed(),W2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.tile=function(n){return this.throwIfDisposed(),Ra(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.toBool=function(){return this.throwIfDisposed(),Be(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.toFloat=function(){return this.throwIfDisposed(),Be(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.toInt=function(){return this.throwIfDisposed(),Be(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.topk=function(n,e){return this.throwIfDisposed(),vBe(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.transpose=function(n){return this.throwIfDisposed(),Ut(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.unique=function(n){return this.throwIfDisposed(),bBe(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.unsortedSegmentSum=function(n,e){return this.throwIfDisposed(),LJ(this,n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.unstack=function(n){return this.throwIfDisposed(),oh(this,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.where=function(n,e){return this.throwIfDisposed(),so(n,this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */le().prototype.zerosLike=function(){return this.throwIfDisposed(),jt(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ps extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ps.prototype)}}class Zi extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Zi.prototype)}}class U extends Error{constructor(e){super(e),Object.setPrototypeOf(this,U.prototype)}}class kt extends Error{constructor(e){super(e),Object.setPrototypeOf(this,kt.prototype)}}class dN extends Error{constructor(e){super(e),Object.setPrototypeOf(this,dN.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class TQ{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const r=this.cache.keys().next().value;this.cache.delete(r)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ih(n,e){if(Array.isArray(n)){let t=[];for(let r=0;r<e;r++)t=t.concat(n);return t}else{const t=new Array(e);return t.fill(n),t}}function gs(n,e){if(!n)throw new dN(e)}function P7(n,e){let t=0;for(const r of n)r===e&&t++;return t}function _o(n){return n.length===1?n[0]:n}function un(n){return Array.isArray(n)?n:[n]}function al(n){const t=n.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return t[0]!=="_"?t:"private"+t}function dd(n){return n.length<=1||n.indexOf("_")===-1?n:n.replace(/[_]+(\w|$)/g,(e,t)=>t.toUpperCase())}let Mi={};function hN(n){if(n==null)return null;const e={};return e.className=n.getClassName(),e.config=n.getConfig(),e}function mR(n){if(!(n==null||typeof n!="object"))if(Array.isArray(n))n.forEach(e=>mR(e));else{const e=Object.keys(n);for(const t of e){const r=n[t];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?n[t]=r.value:mR(r))}}}function ab(n,e={},t={},r="object",o=!1){if(typeof n=="string"){const i=n;let a;if(i in t)a=t[i];else if(i in Mi)a=Mi[i];else if(a=e[i],a==null)throw new U(`Unknown ${r}: ${n}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return a}else{const i=n;if(i.className==null||i.config==null)throw new U(`${r}: Improper config format: ${JSON.stringify(i)}.
'className' and 'config' must set.`);const a=i.className;let s,l;if(a in t?[s,l]=t[a]:a in Mi?[s,l]=Mi.className:a in e&&([s,l]=e[a]),s==null)throw new U(`Unknown ${r}: ${a}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const u={};for(const f of Object.keys(Mi))u[f]=Mi[f];for(const f of Object.keys(t))u[f]=t[f];const c=i.config;c.customObjects=u;const d=Object.assign({},Mi);for(const f of Object.keys(t))Mi[f]=t[f];mR(i.config);const h=l(s,i.config,t,o);return Mi=Object.assign({},d),h}else{const u=Object.assign({},Mi);for(const d of Object.keys(t))Mi[d]=t[d];const c=new s(i.config);return Mi=Object.assign({},u),c}}}function YVe(n,e){return n<e?-1:n>e?1:0}function F1(n,e){return-1*YVe(n,e)}function Pu(n){if(n==null)return n;const e=[];for(const t of n)e.indexOf(t)===-1&&e.push(t);return e}function ZVe(n){if(n==null)throw new U(`Invalid value in obj: ${JSON.stringify(n)}`);for(const e in n)if(n.hasOwnProperty(e))return!1;return!0}function Ah(n,e,t){if(t!=null&&n.indexOf(t)<0)throw new U(`${t} is not a valid ${e}.  Valid values are ${n} or null/undefined.`)}function fN(n,e,t=0,r=1/0){return gs(t>=0),gs(r>=t),Array.isArray(n)&&n.length>=t&&n.length<=r&&n.every(o=>typeof o===e)}function wr(n,e){Array.isArray(n)?(O(n.length>0,()=>`${e} is unexpectedly an empty array.`),n.forEach((t,r)=>wr(t,`element ${r+1} of ${e}`))):O(Number.isInteger(n)&&n>0,()=>`Expected ${e} to be a positive integer, but got ${AQ(n)}.`)}function AQ(n){return n===null?"null":Array.isArray(n)?"["+n.map(e=>AQ(e)).join(",")+"]":typeof n=="string"?`"${n}"`:`${n}`}function JVe(n,e,t){let r=t!=null?t():xo(),o;return(...a)=>{const s=t!=null?t():xo();return s-r<e||(r=s,o=n(...a)),o}}function DQ(n){return n==="relu"?"relu":n==="linear"?"linear":n==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let QVe=0;function RQ(){return QVe++}const B1={};function Q2(n=""){return n in B1||(B1[n]=0),B1[n]+=1,n+B1[n].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const e7e=["channelsFirst","channelsLast"],t7e=["nearest","bilinear"],n7e=["valid","same","causal"],r7e=["max","avg"],o7e=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const af=new Map;function Xn(n){Ah(e7e,"DataFormat",n)}function i7e(n){Ah(t7e,"InterpolationFormat",n)}function Ti(n){Ah(n7e,"PaddingMode",n)}function EQ(n){Ah(r7e,"PoolMode",n)}const Zv=[],M7="/";function Md(n,e){Zv.push(n);try{const t=e();return Zv.pop(),t}catch(t){throw Zv.pop(),t}}function a7e(){return Zv.length===0?"":Zv.join(M7)+M7}function $Q(n){if(!MQ(n))throw new Error("Not a valid tensor name: '"+n+"'");return a7e()+n}function PQ(n){if(!MQ(n))throw new Error("Not a valid tensor name: '"+n+"'");af.has(n)||af.set(n,0);const e=af.get(n);if(af.set(n,af.get(n)+1),e>0){const t=`${n}_${e}`;return af.set(t,1),t}else return n}const s7e=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function MQ(n){return!!n.match(s7e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function l7e(n){return n===parseInt(n.toString(),10)}function Mu(n,e,t){e==null&&(e=0),t==null&&(t=n.length);let r=1;for(let o=e;o<t;++o)r*=n[o];return r}function yp(n){if(n.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let t=0;t<n.length;t++){const r=n[t];r<e&&(e=r)}return e}function Wu(n){if(n.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let t=0;t<n.length;t++){const r=n[t];r>e&&(e=r)}return e}function Ha(n,e){if(e<n)throw new U(`end (${e}) < begin (${n}) is forbidden.`);const t=[];for(let r=n;r<e;++r)t.push(r);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let fT;function ar(){return fT==null&&(fT=L3e().epsilon()),fT}function Ua(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ps(n,e){return Be(n,e)}function sb(n,e=-1){const t=n.shape.slice();return e<0&&(e=t.length+e+1),t.splice(e,0,1),Y(n,t)}function u7e(n,e){return ee(()=>{if(n.shape.length!==2)throw new U(`repeat() expects a rank-2 tensor, but received a rank-${n.shape.length} tensor.`);const t=sb(n,1);return yR(t,[1,e,1])})}function c7e(n){const e=[Mu(n.shape)];return Y(n,e)}function d7e(n){if(n.rank<=1)throw new U(`batchFlatten requires a minimum rank of 2. Got rank: ${n.rank}.`);const e=[n.shape[0],Mu(n.shape,1)];return Y(n,e)}function Ld(n,e,t){return ee(()=>{switch(n.rank){case 1:return IL(n,e,t);case 2:return EJ(n,[e,0],[t,n.shape[1]]);case 3:return TL(n,[e,0,0],[t,n.shape[1],n.shape[2]]);case 4:return nS(n,[e,0,0,0],[t,n.shape[1],n.shape[2],n.shape[3]]);case 5:return Sn(n,[e,0,0,0,0],[t,n.shape[1],n.shape[2],n.shape[3],n.shape[4]]);case 6:return Sn(n,[e,0,0,0,0,0],[t,n.shape[1],n.shape[2],n.shape[3],n.shape[4],n.shape[5]]);default:throw new U(`sliceAlongFirstAxis() received an unsupported tensor rank: ${n.rank}`)}})}function pT(n,e,t){return ee(()=>{switch(n.rank){case 1:return IL(n,e,t);case 2:return EJ(n,[0,e],[n.shape[0],t]);case 3:return TL(n,[0,0,e],[n.shape[0],n.shape[1],t]);case 4:return nS(n,[0,0,0,e],[n.shape[0],n.shape[1],n.shape[2],t]);default:throw new U(`sliceAlongLastAxis() received an unsupported tensor rank: ${n.rank}`)}})}function z1(n,e,t,r){return ee(()=>{switch(n.rank){case 1:return IL(n,e,t);case 2:switch(r){case 1:return Ld(n,e,t);case 2:return pT(n,e,t);default:throw new U(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return Ld(n,e,t);case 2:return TL(n,[0,e,0],[n.shape[0],t,n.shape[2]]);case 3:return pT(n,e,t);default:throw new U(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return Ld(n,e,t);case 2:return nS(n,[0,e,0,0],[n.shape[0],t,n.shape[2],n.shape[3]]);case 3:return nS(n,[0,0,e,0],[n.shape[0],n.shape[1],t,n.shape[3]]);case 4:return pT(n,e,t);default:throw new U(`The axis is not within the rank of the tensor ${r}`)}default:throw new U(`sliceAlongLastAxis() received an unsupported tensor rank: ${n.rank}`)}})}function pN(n,e=-1){let t;return e<0&&(t=n[0].rank,t!==0?e=t:e=0),e===n[0].rank&&(e=-1),Do(n,e)}function L7(n,e){switch(n.rank){case 1:return g5e([n,e]);case 2:return m5e([n,e],0);case 3:return b5e([n,e],0);case 4:return x5e([n,e],0);default:throw new U(`concatAlongFirstAxis() received an unsupported tensor rank: ${n.rank}`)}}function yR(n,e){if(Array.isArray(e)||(e=[e]),n.rank!==e.length)throw new U(`The length of input n (${e.length}) does not match the number of dimensions in input x (${n.rank})`);return Ra(n,e)}function ek(n,e=0,t=1,r,o){return RFe(n,e,t,r,o)}function Ms(n,e,t,r){if(n.rank<2||e.rank<2)throw new kt(`dot requires both inputs to be rank >= 2 but got x shape = ${n.shape} and y shape = ${e.shape}`);if(e.rank>=3){const o=n.shape.slice(-1)[0],i=e.shape.slice(-2)[0];if(o!==i)throw new kt(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${n.shape} and  y shape = ${e.shape}`)}if(n.rank===2&&e.rank===2)return b7({a:n,b:e,transposeA:!1,transposeB:!1,bias:r?bR(n.rank,r,Ua()):null,activation:t});{const o=n.shape.slice(),i=o.pop();n=Y(n,[-1,i]);const a=e.shape.slice(),s=a.pop(),l=a.pop(),u=[...a,s],c=Array.from({length:e.rank},(p,g)=>g===0?e.rank-2:g<=e.rank-2?g-1:g);e=Y(Ut(e,c),[l,-1]);const d=[...o,...u];return Y(b7({a:n,b:e,transposeA:!1,transposeB:!1,bias:r?bR(n.rank,r,Ua()):null,activation:t}),d)}}function LQ(n,e,t){return ee(()=>(Array.isArray(e)?e=qo(e,"int32"):e=Be(e,"int32"),cL(n,e,t)))}function lb(n){return X(n,n)}function bR(n,e,t){const r=e.shape;if(e.rank!==1&&e.rank!==n)throw new U(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${n}`);if(n===5){if(t==="channelsFirst")return r.length===1?Y(e,[1,r[0],1,1,1]):Y(e,[1,r[3],r[0],r[1],r[2]]);if(t==="channelsLast")return r.length===1?Y(e,[1,1,1,1,r[0]]):Y(e,[1].concat(r))}else if(n===4){if(t==="channelsFirst")return r.length===1?Y(e,[1,r[0],1,1]):Y(e,[1,r[2],r[0],r[1]]);if(t==="channelsLast")return r.length===1?Y(e,[1,1,1,r[0]]):Y(e,[1].concat(r))}else if(n===3){if(t==="channelsFirst")return r.length===1?Y(e,[1,r[0],1]):Y(e,[1,r[1],r[0]]);if(t==="channelsLast")return r.length===1?Y(e,[1,1,r[0]]):Y(e,[1].concat(r))}else if(n<3)return e;throw new U(`Unsupported input rank by biasAdd: ${e.rank}`)}function Za(n,e,t){return ee(()=>(t==null&&(t=Ua()),Xn(t),Ae(n,bR(n.rank,e,t))))}function h7e(n,e=1){if(e!==1)throw new kt(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return j2(n)}function f7e(n){return ee(()=>ot(n,Ae(to(n),1)))}function NQ(n,e,t,r){return ee(()=>IBe(n,e,t,r))}function p7e(n){return ee(()=>{const e=Ae(.5,X(.2,n));return Ci(e,0,1)})}function ub(n,e,t=!1){return t?n():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const g7e=["fanIn","fanOut","fanAvg"],v7e=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function m7e(n){Ah(g7e,"FanMode",n)}function y7e(n){Ah(v7e,"Distribution",n)}class fa extends ig{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class OQ extends fa{apply(e,t){return gr(e,t)}}OQ.className="Zeros";xe(OQ);class gN extends fa{apply(e,t){return lc(e,t)}}gN.className="Ones";xe(gN);class FQ extends fa{constructor(e){if(super(),typeof e!="object")throw new U(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new U(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return ee(()=>X(Zt(this.value),lc(e,t)))}getConfig(){return{value:this.value}}}FQ.className="Constant";xe(FQ);class BQ extends fa{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return eb(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}BQ.className="RandomUniform";xe(BQ);class zQ extends fa{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if(t=t||"float32",t!=="float32"&&t!=="int32")throw new kt(`randomNormal does not support dType ${t}.`);return ek(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}zQ.className="RandomNormal";xe(zQ);class VQ extends fa{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if(t=t||"float32",t!=="float32"&&t!=="int32")throw new kt(`truncatedNormal does not support dType ${t}.`);return MJ(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}VQ.className="TruncatedNormal";xe(VQ);class GQ extends fa{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,t){return ee(()=>{if(e.length!==2||e[0]!==e[1])throw new U("Identity matrix initializer can only be used for 2D square matrices.");return X(this.gain,vJ(e[0]))})}getConfig(){return{gain:this.gain}}}GQ.className="Identity";xe(GQ);function b7e(n,e="channelsLast"){let t,r;if(Xn(e),n.length===2)t=n[0],r=n[1];else if([3,4,5].indexOf(n.length)!==-1){if(e==="channelsFirst"){const o=Mu(n,2);t=n[1]*o,r=n[0]*o}else if(e==="channelsLast"){const o=Mu(n,0,n.length-2);t=n[n.length-2]*o,r=n[n.length-1]*o}}else{const o=Mu(n);t=Math.sqrt(o),r=Math.sqrt(o)}return[t,r]}class ti extends fa{constructor(e){if(super(),e.scale<0)throw new U(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,m7e(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,y7e(this.distribution),this.seed=e.seed}apply(e,t){const r=b7e(e),o=r[0],i=r[1];let a=this.scale;if(this.mode==="fanIn"?a/=Math.max(1,o):this.mode==="fanOut"?a/=Math.max(1,i):a/=Math.max(1,(o+i)/2),this.distribution==="normal"){const s=Math.sqrt(a);if(t=t||"float32",t!=="float32"&&t!=="int32")throw new kt(`${this.getClassName()} does not support dType ${t}.`);return MJ(e,0,s,t,this.seed)}else{const s=Math.sqrt(3*a);return eb(e,-s,s,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}ti.className="VarianceScaling";xe(ti);class vN extends ti{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return ti.className}}vN.className="GlorotUniform";xe(vN);class mN extends ti{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return ti.className}}mN.className="GlorotNormal";xe(mN);class yN extends ti{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return ti.className}}yN.className="HeNormal";xe(yN);class bN extends ti{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return ti.className}}bN.className="HeUniform";xe(bN);class wN extends ti{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return ti.className}}wN.className="LeCunNormal";xe(wN);class xN extends ti{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return ti.className}}xN.className="LeCunUniform";xe(xN);class WQ extends fa{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return ee(()=>{if(e.length<2)throw new kt("Shape must be at least 2D.");if(t!=="int32"&&t!=="float32"&&t!==void 0)throw new TypeError(`Unsupported data type ${t}.`);t=t;const r=ue(e.slice(0,-1)),o=e[e.length-1],i=r*o;i>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${i}) elements: Slowness may result.`);const a=[Math.max(o,r),Math.min(o,r)],s=ek(a,0,1,t,this.seed),l=S6e.qr(s,!1);let u=l[0];const d=l[1].flatten().stridedSlice([0],[Math.min(o,r)*Math.min(o,r)],[Math.min(o,r)+1]);return u=X(u,d.sign()),r<o&&(u=u.transpose()),X(Zt(this.gain),u.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}WQ.className="Orthogonal";xe(WQ);const N7={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function O7(n,e={}){return ab(n,Ui.getMap().classNameMap,e,"initializer")}function Ln(n){return hN(n)}function Dn(n){if(typeof n=="string"){const e=n in N7?N7[n]:n;if(e==="GlorotNormal")return new mN;if(e==="GlorotUniform")return new vN;if(e==="HeNormal")return new yN;if(e==="HeUniform")return new bN;if(e==="LeCunNormal")return new wN;if(e==="LeCunUniform")return new xN;{const t={};return t.className=e,t.config={},O7(t)}}else return n instanceof fa?n:O7(n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function wR(n){return Array.isArray(n)&&Array.isArray(n[0])}function oS(n){return n.length===0?[]:Array.isArray(n[0])?n:[n]}function ft(n){let e;if(Array.isArray(n)){if(n.length!==1)throw new U(`Expected Tensor length to be 1; got ${n.length}`);e=n[0]}else e=n;return e}function qt(n){if(Array.isArray(n)&&Array.isArray(n[0])){if(n.length===1)return n=n,n[0];throw new U(`Expected exactly 1 Shape; got ${n.length}`)}else return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function iS(n){let e=0;for(const t of n)t.shape.length===0?e+=1:e+=t.shape.reduce((r,o)=>r*o);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const F7="Variable";class w7e{constructor(e,t="float32",r=F7,o=!0,i=null){this.dtype=t??"float32",this.shape=e.shape,this.id=RQ(),r=r??F7,this.originalName=$Q(r),this.name=PQ(this.originalName),this.trainable_=o,this.constraint=i,this.val=SBe(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),x7e(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function x7e(n,e){if(n.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(n.shape)+" vs. "+JSON.stringify(e.shape))}function xR(n){return n.map(e=>e.read())}function SN(n){n.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class sr{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class Us{constructor(e,t,r,o,i,a,s){this.dtype=e,this.shape=t,this.sourceLayer=r,this.inputs=o,this.callArgs=i,this.outputTensorIndex=s,this.id=RQ(),a!=null&&(this.originalName=$Q(a),this.name=PQ(this.originalName)),this.rank=t.length}}let S7e=0;class tk{constructor(e,t){this.callArgs=t,this.id=S7e++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const r of e.inboundLayers)r!=null&&r.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)t!=null?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let C7e=0;class Lt extends ig{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=C7e++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const r=this.getClassName();t=al(r)+"_"+Q2(r)}if(this.name=t,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let r;if(e.batchInputShape!=null)r=e.batchInputShape;else if(e.inputShape!=null){let i=null;e.batchSize!=null&&(i=e.batchSize),r=[i].concat(e.inputShape)}this.batchInputShape=r;let o=e.dtype;o==null&&(o=e.inputDType),o==null&&(o="float32"),this.dtype=o}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(this.inboundNodes.length===0)throw new Zi(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new U(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return _o(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return _o(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new ps(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new ps(`Layer ${this.name} is not connected, no input to return.`);return _o(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new ps(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new ps(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return _o(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(t=>t.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const t=un(e);if(this.inputSpec==null||this.inputSpec.length===0)return;const r=un(this.inputSpec);if(t.length!==r.length)throw new U(`Layer ${this.name} expects ${r.length} inputs, but it received ${t.length} input tensors. Input received: ${e}`);for(let o=0;o<t.length;o++){const i=t[o],a=r[o];if(a==null)continue;const s=i.rank;if(a.ndim!=null&&s!==a.ndim)throw new U(`Input ${o} is incompatible with layer ${this.name}: expected ndim=${a.ndim}, found ndim=${s}`);if(a.maxNDim!=null&&s>a.maxNDim)throw new U(`Input ${o} is incompatible with layer ${this.name}: expected max_ndim=${a.maxNDim}, found ndim=${s}`);if(a.minNDim!=null&&s<a.minNDim)throw new U(`Input ${o} is incompatible with layer ${this.name}: expected min_ndim=${a.minNDim}, found ndim=${s}.`);if(a.dtype!=null&&i.dtype!==a.dtype)throw new U(`Input ${o} is incompatible with layer ${this.name} : expected dtype=${a.dtype}, found dtype=${i.dtype}.`);if(a.axes){const l=i.shape;for(const u in a.axes){const c=Number(u),d=a.axes[u],h=c>=0?l[c]:l[l.length+c];if(d!=null&&[d,null].indexOf(h)===-1)throw new U(`Input ${o} is incompatible with layer ${this.name}: expected axis ${c} of input shape to have value ${d} but got shape ${l}.`)}}if(a.shape!=null)for(let l=0;l<a.shape.length;++l){const u=a.shape[l],c=i.shape[l];if(u!=null&&c!=null&&u!==c)throw new U(`Input ${o} is incompatible with layer ${this.name}: expected shape=${a.shape}, found shape=${i.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){this._callHook!=null&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const r=un(e),o=I7e(e),i=T7e(e);if(o===i)throw new U("Arguments to apply() must be all SymbolicTensors or all Tensors");return Md(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const a=[];for(const s of un(e))a.push(s.shape);this.build(_o(a)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&i&&(this._refCount=1)}if(this.assertInputCompatibility(e),i){let a=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,a);const s=un(a),l=[];for(let u of s)r.indexOf(u)!==-1&&(u=u.clone()),l.push(u);if(a=_o(l),this.activityRegularizer!=null)throw new kt("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}else{const a=k7e(e),s=this.computeOutputShape(a);let l;const u=_7e(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?a[0]:a),s!=null&&s.length>0&&Array.isArray(s[0])?l=s.map((c,d)=>new Us(u,c,this,un(e),t,this.name,d)):l=new Us(u,s,this,un(e),t,this.name),this.addInboundNode(e,l,null,null,a,s,t),this._refCount++,this.activityRegularizer!=null)throw new kt("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let t=!1;this.batchInputShape.forEach((r,o)=>{r!=null&&e[o]!=null&&e[o]!==r&&(t=!0)}),t&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new ps(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const t of this.inboundNodes){const r=JSON.stringify(t.outputShapes);e.indexOf(r)===-1&&e.push(r)}if(e.length===1){const t=this.inboundNodes[0].outputShapes;return Array.isArray(t)&&Array.isArray(t[0])&&t.length===1?t[0]:t}else throw new ps(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new Zi(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return iS(this.weights)}build(e){this.built=!0}getWeights(e=!1){return xR(e?this.trainableWeights:this.weights)}setWeights(e){ee(()=>{const t=this.weights;if(t.length!==e.length)throw new U(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${t.length} weights. Provided weights: ${e}...`);if(t.length===0)return;const r=[],o=xR(t);for(let i=0;i<o.length;++i){const a=o[i],s=t[i],l=e[i];if(!an(a.shape,l.shape))throw new U(`Layer weight shape ${a.shape} not compatible with provided weight shape ${l.shape}`);r.push([s,l])}SN(r)})}addWeight(e,t,r,o,i,a,s,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new U(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),r==null&&(r="float32"),this.fastWeightInitDuringBuild&&(o=l!=null?l():Dn("zeros"));const u=o.apply(t,r),c=new w7e(u,r,e,a,s);return u.dispose(),i!=null&&this.addLoss(()=>i.apply(c.read())),a==null&&(a=!0),a?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=un(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(t!=null)if(Array.isArray(t))t.forEach(r=>{if(r!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return t}setMaskMetadata(e,t,r){if(!this.supportsMasking)return;const o=this.computeMask(e,r),i=un(t),a=un(o);if(i.length!==a.length)throw new Error(`${this.name} outputs ${i.length} tensors but ${i.length} masks for those tensors`);for(let s=0;s<i.length;s++)i[s].kerasMask=a[s]}addInboundNode(e,t,r,o,i,a,s=null){const l=un(e);t=un(t),r=un(r),o=un(o),i=oS(i),a=oS(a);const u=[],c=[],d=[];for(const h of l)u.push(h.sourceLayer),c.push(h.nodeIndex),d.push(h.tensorIndex);new tk({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:d,inputTensors:l,outputTensors:t,inputMasks:r,outputMasks:o,inputShapes:i,outputShapes:a},s);for(let h=0;h<t.length;h++)t[h].sourceLayer=this,t[h].nodeIndex=this.inboundNodes.length-1,t[h].tensorIndex=h}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function k7e(n){n=un(n);const e=[];for(const t of n)e.push(t.shape);return _o(e)}function _7e(n){return"float32"}function HQ(n,e,t){if((e==null||t!=null&&t>0)&&(e=n.sourceLayer,t=n.nodeIndex),e.inboundNodes.length===0)return[n];{const r=e.inboundNodes[t];if(r.inboundLayers.length===0)return r.inputTensors;{const o=[];for(let i=0;i<r.inboundLayers.length;i++){const a=r.inputTensors[i],s=r.inboundLayers[i],l=r.nodeIndices[i],u=HQ(a,s,l);for(const c of u)o.indexOf(c)===-1&&o.push(c)}return o}}}function I7e(n){let e=!0;for(const t of un(n))if(!(t instanceof Us)){e=!1;break}return e}function T7e(n){let e=!0;for(const t of un(n))if(t instanceof Us){e=!1;break}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class cb extends Lt{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:Q2("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new U("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(t==null){if(e.inputShape==null)throw new U("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new U("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=e.dtype||"float32";this.batchInputShape=t,this.dtype=r,this.inputSpec=[{shape:t}];const o=new Us(this.dtype,this.batchInputShape,this,[],{},this.name);o.nodeIndex=0,o.tensorIndex=0,new tk({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[o],outputTensors:[o],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new U(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}cb.className="InputLayer";xe(cb);function A7e(n){if(n.batchShape==null&&n.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(n.batchShape!=null&&n.shape!=null)throw new U("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=n.batchShape;n.shape!=null&&e==null&&(e=[null].concat(n.shape));let t=n.dtype;return t==null&&(t="float32"),new cb({batchInputShape:e,name:n.name,dtype:t,sparse:n.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function D7e(n,e){if(n.dtype==null||n.dtype===e.dtype)return e;try{return Be(e,n.dtype)}catch{throw new U(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${n.name}' (${n.dtype}).`)}}class Su{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Su)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(e==null)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,r){if(this.id2Value[e.id]==null)this.id2Value[e.id]=D7e(e,t),this.name2Id[e.name]=e.id,r!=null&&(this.id2Mask[e.id]=r);else throw new U(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof Us){if(this.id2Value[e.id]==null)throw new U(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const t=this.name2Id[e];if(t==null)throw new U(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}}getMask(e){if(e instanceof Us){if(this.id2Value[e.id]==null)throw new U(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const t=this.name2Id[e];if(t==null)throw new U(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}}disposeMasks(){this.id2Mask!=null&&Dt(this.id2Mask)}}const aS=new TQ,sS=new TQ;function R7e(n){aS!=null&&aS.setMaxEntries(n),sS!=null&&sS.setMaxEntries(n)}function wv(n,e,t,r){const o=t==null?!1:t.training,i=Array.isArray(n),a=i?n:[n],s=a.map(p=>p.name),l=[],u=e.names();for(const p of s)u.indexOf(p)!==-1?l.push(e.getValue(p)):l.push(null);const c=s.join(",")+"|"+e.names().sort().join(",");let d=aS.get(c),h;if(d==null){const p=E7e(a,e);d=p.sorted,h=p.recipientCounts,aS.put(c,d),sS.put(c,h)}h={},o||Object.assign(h,sS.get(c));const f=new Su(e);for(let p=0;p<d.length;++p){const g=d[p],v=g.sourceLayer;if(v instanceof cb)continue;const m=[],y=[],b=[];let w=!1;for(const _ of g.inputs){const I=f.getValue(_),T=f.getMask(_);m.push(I),y.push(T),T!=null&&(w=!0),o||(h[_.name]--,h[_.name]===0&&!e.hasKey(_)&&s.indexOf(_.name)===-1&&!I.isDisposed&&_.sourceLayer.stateful!==!0&&b.push(I))}w&&(t=t||{},t.mask=y[0]);const x=un(v.apply(m,t));let S=null;v.supportsMasking&&(S=v.computeMask(m,y));const C=P7e(g),k=Array.isArray(C)?C:[C];for(let _=0;_<k.length;++_){f.hasKey(k[_])||f.add(k[_],x[_],Array.isArray(S)?S[0]:S);const I=s.indexOf(k[_].name);I!==-1&&(l[I]=x[_])}o||Dt(b)}return f.disposeMasks(),i?l:l[0]}function E7e(n,e){O(n!=null&&n.length>0,()=>"Expected at least one fetch, got none");let t=[],r={};if(n.length===1){const o=B7(n[0],e);t=o.sorted,r=o.recipientMap}else{const o=new Set;for(const i of n){const{sorted:a,recipientMap:s}=B7(i,e);for(const l of a)o.has(l.name)||(t.push(l),o.add(l.name));for(const l in s)r[l]==null&&(r[l]=new Set),s[l].forEach(u=>r[l].add(u))}}return{sorted:t,recipientCounts:$7e(r)}}function $7e(n){const e={};for(const t in n)e[t]=n[t].size;return e}function B7(n,e){const t=new Set,r=[],o={};for(const s of e.names())t.add(s);const i=[],a=[];for(i.push(n);i.length>0;){const s=i[i.length-1];if(t.has(s.name)){i.pop();continue}const l=a[a.length-1]===i.length-1;if(s.inputs.length===0||l)i.pop(),r.push(s),t.add(s.name),l&&a.pop();else{a.push(i.length-1);for(const u of s.inputs)o[u.name]==null&&(o[u.name]=new Set),o[u.name].add(s.name),!t.has(u.name)&&i.push(u)}}return{sorted:r,recipientMap:o}}function P7e(n){let e;if(n.sourceLayer.inboundNodes.length===1)e=n.sourceLayer.output;else{let t=null;for(let r=0;r<n.sourceLayer.inboundNodes.length;++r)for(const o of n.sourceLayer.inboundNodes[r].outputTensors)if(o.id===n.id){t=r;break}e=n.sourceLayer.getOutputAt(t)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M7e=re();M7e.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,R7e);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function CN(n,e){return ee(()=>Kr(nt(X(n,n),e,!0)))}class db extends ig{getConfig(){return{}}}class UQ extends db{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ee(()=>{const t=CN(e,this.axis),r=Ci(t,0,this.maxValue);return X(e,ot(r,Ae(ar(),t)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}UQ.className="MaxNorm";xe(UQ);class jQ extends db{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ee(()=>ot(e,Ae(ar(),CN(e,this.axis))))}getConfig(){return{axis:this.axis}}}jQ.className="UnitNorm";xe(jQ);class KQ extends db{apply(e){return Ih(e)}}KQ.className="NonNeg";xe(KQ);class XQ extends db{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ee(()=>{const t=CN(e,this.axis),r=Ae(X(this.rate,Ci(t,this.minValue,this.maxValue)),X(1-this.rate,t));return X(e,ot(r,Ae(ar(),t)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}XQ.className="MinMaxNorm";xe(XQ);const z7={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function lr(n){return hN(n)}function V7(n,e={}){return ab(n,Ui.getMap().classNameMap,e,"constraint")}function ur(n){if(n==null)return null;if(typeof n=="string"){const t={className:n in z7?z7[n]:n,config:{}};return V7(t)}else return n instanceof db?n:V7(n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function Uc(n){if(n==null)return;const e=[],t=[],r=[];for(const o in n){const i=n[o];if(typeof i!="number"){const a=i;e.push(a.data()),t.push(o),r.push(a)}}if(e.length>0){const o=await Promise.all(e);for(let i=0;i<o.length;++i)n[t[i]]=o[i][0];Dt(r)}}function qQ(n){if(n!=null)for(const e in n){const t=n[e];typeof t!="number"&&t.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var G7;(function(n){n[n.SILENT=0]="SILENT",n[n.VERBOSE=1]="VERBOSE"})(G7||(G7={}));const L7e=125;class fy{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class N7e{constructor(e,t=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){t==null&&(t={});for(const r of this.callbacks)await r.onEpochBegin(e,t)}async onEpochEnd(e,t){t==null&&(t={});for(const r of this.callbacks)await r.onEpochEnd(e,t)}async onBatchBegin(e,t){t==null&&(t={});for(const r of this.callbacks)await r.onBatchBegin(e,t)}async onBatchEnd(e,t){t==null&&(t={});for(const r of this.callbacks)await r.onBatchEnd(e,t)}async onTrainBegin(e){e==null&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class O7e extends fy{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){t==null&&(t={});const r=t.size==null?0:t.size;this.seen+=r;for(const o in t){const i=t[o];if(typeof i=="number")this.totals.hasOwnProperty(o)||(this.totals[o]=0),this.totals[o]=this.totals[o]+i*r;else{let a;o in this.totals?a=this.totals[o]:this.totals[o]=0;const s=ee(()=>Ae(this.totals[o],X(i,r)));this.totals[o]=s,a!=null&&a.dispose()}}}async onEpochEnd(e,t){if(t!=null)for(const r of this.params.metrics)this.totals[r]!=null&&(typeof this.totals[r]=="number"?t[r]=this.totals[r]/this.seen:ee(()=>{const o=X(ot(1,this.seen),this.totals[r]);t[r]=o,this.totals[r].dispose(),Es(t[r])}))}}class F7e extends fy{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){t==null&&(t={}),this.epoch.push(e);for(const r in t)this.history[r]==null&&(this.history[r]=[]),this.history[r].push(t[r])}async syncData(){const e=[],t=[],r=[];for(const i in this.history){const a=this.history[i];for(let s=0;s<a.length;++s)if(typeof a[s]!="number"){const l=a[s];e.push(l.data()),t.push(i),r.push(s)}}const o=await Promise.all(e);for(let i=0;i<o.length;++i)this.history[t[i]][r[i]].dispose(),this.history[t[i]][r[i]]=o[i][0]}}class B7e extends fy{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||rS,this.yieldEvery=t||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=L7e),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");XD(this.yieldEvery)&&(this.maybeWait=JVe(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,r){const o=[];this.yield!=null&&(await Uc(r),o.push(this.yield(e,t,r))),o.push(this.nextFrameFunc()),await Promise.all(o)}async onEpochBegin(e,t){this.currentEpoch=e,this.epochBegin!=null&&(await Uc(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const r=[];this.epochEnd!=null&&(await Uc(t),r.push(this.epochEnd(e,t))),this.yieldEvery==="epoch"&&r.push(this.nextFrameFunc()),await Promise.all(r)}async onBatchBegin(e,t){this.batchBegin!=null&&(await Uc(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const r=[];this.batchEnd!=null&&(await Uc(t),r.push(this.batchEnd(e,t))),this.yieldEvery==="batch"?r.push(this.nextFrameFunc()):XD(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(r)}async onTrainBegin(e){this.trainBegin!=null&&(await Uc(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await Uc(e),await this.trainEnd(e))}}function YQ(n,e){return n==null&&(n={}),n instanceof fy?[n]:Array.isArray(n)&&n[0]instanceof fy?n:un(n).map(r=>new B7e(r,e))}class Bi{constructor(){}static registerCallbackConstructor(e,t){O(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),Bi.checkForDuplicate(t),Bi.constructors[e]==null&&(Bi.constructors[e]=[]),Bi.constructors[e].push(t)}static checkForDuplicate(e){for(const t in Bi.constructors)Bi.constructors[+t].forEach(o=>{if(o===e)throw new U("Duplicate callback constructor.")})}static clear(){Bi.constructors={}}static createCallbacks(e){const t=[];for(const r in Bi.constructors){const o=+r;e>=o&&t.push(...Bi.constructors[o])}return t.map(r=>new r)}}Bi.constructors={};function ZQ(n,e,t,r,o,i,a,s,l){const u=new F7e,c=[new O7e,...Bi.createCallbacks(e)];n!=null&&c.push(...n),c.push(u);const d=new N7e(c);return d.setParams({epochs:t,initialEpoch:r,samples:o,steps:i,batchSize:a,verbose:e,doValidation:s,metrics:l}),{callbackList:d,history:u}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ls(n,e={},t=!1){return ab(n,Ui.getMap().classNameMap,e,"layer",t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function lS(n,e){return ee(()=>{n.dtype!=="float32"&&(n=Be(n,"float32"));const t=nt(lb(n),e,!0),r=U2(t.shape,ar()),o=Kr(sc(t,r));return ot(n,o)})}function nk(n,e){return ee(()=>Jn(lb(ht(e,n)),-1))}function kN(n,e){return ee(()=>Jn(to(ht(e,n)),-1))}function _N(n,e){return ee(()=>{const t=ht(n,e),r=Ci(to(n),ar(),Number.MAX_VALUE),o=to(ot(t,r));return X(100,Jn(o,-1))})}function z7e(n,e){return ee(()=>{const t=Ci(e,ar(),Number.MAX_VALUE),r=Hs(Ae(1,t)),o=Ci(n,ar(),Number.MAX_VALUE),i=Hs(Ae(1,o));return Jn(lb(ht(r,i)),-1)})}function V7e(n,e){return ee(()=>{const t=sc(0,ht(1,X(n,e)));return Jn(lb(t),-1)})}function G7e(n,e){return ee(()=>{const t=sc(0,ht(1,X(n,e)));return Jn(t,-1)})}function W7e(n,e){return ee(()=>{const t=nt(X(n,e),-1),r=Oa(X(ht(1,n),e),-1);return sc(0,Ae(1,ht(r,t)))})}function H7e(n,e){return ee(()=>{const t=Math.log(2),r=ht(e,n),o=ht(Ae(r,Q0(X(-2,r))),t);return Jn(o,-1)})}function py(n,e,t=!1){return ee(()=>{if(t)e=AL(e);else{const r=nt(e,e.shape.length-1,!0);e=ot(e,r)}return e=Ci(e,ar(),1-ar()),Hn(nt(X(Be(n,"float32"),Hs(e)),e.shape.length-1))})}function uS(n,e,t=!1){return ee(()=>{const r=Be(X2(c7e(n)),"int32");e=Ci(e,ar(),1-ar());const o=e.shape,i=Y(xJ(r,o[o.length-1]),o);return py(i,e,t)})}function U7e(n,e){if(!an(n.shape,e.shape))throw new U(`logits and labels must have the same shape, but got shapes ${JSON.stringify(n.shape)} and ${JSON.stringify(e.shape)}`);return ee(()=>{const t=Ih(e),r=Hn(to(e));return Ae(ht(t,X(e,n)),mJ(Ws(r)))})}function rk(n,e){return ee(()=>{let t;return t=Ci(e,ar(),1-ar()),t=Hs(ot(t,ht(1,t))),Jn(U7e(n,t),-1)})}function j7e(n,e){return ee(()=>{const t=Ci(n,ar(),1),r=Ci(e,ar(),1);return nt(X(n,Hs(ot(t,r))),-1)})}function K7e(n,e){return ee(()=>{const t=Hs(Ae(ar(),e));return Jn(ht(e,X(n,t)),-1)})}function JQ(n,e){return ee(()=>{const t=lS(n,-1),r=lS(e,-1),o=X(t,r);return Hn(nt(o,-1))})}const cS={meanSquaredError:nk,meanAbsoluteError:kN,meanAbsolutePercentageError:_N,meanSquaredLogarithmicError:z7e,squaredHinge:V7e,hinge:G7e,categoricalHinge:W7e,logcosh:H7e,categoricalCrossentropy:py,sparseCategoricalCrossentropy:uS,binaryCrossentropy:rk,kullbackLeiblerDivergence:j7e,poisson:K7e,cosineProximity:JQ};function gT(n){if(typeof n=="string"){if(n in cS)return cS[n];let e=`Unknown loss ${n}`;throw n.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${n}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new U(e)}else return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function QQ(n,e){return ee(()=>{const t=X(.5,aa(e)),r=Ps(Ii(e,t),n.dtype);return Jn(Gs(n,r),-1)})}function eee(n,e){return ee(()=>Ps(Gs(ly(n,-1),ly(e,-1)),"float32"))}function X7e(n,e){return ee(()=>Be(nt(Dl(Gs(n,1),Gs(e,1))),"float32"))}function q7e(n,e){return ee(()=>Be(nt(Dl(Gs(n,0),Gs(e,1))),"float32"))}function Y7e(n,e){return ee(()=>{const t=X7e(n,e),r=q7e(n,e),o=Ae(t,r);return Be(so(Ii(o,0),ot(t,o),0),"float32")})}function Z7e(n,e){return rk(n,e)}function J7e(n,e){return n.rank===e.rank&&(n=tb(n,[n.rank-1])),e=ly(e,-1),e.dtype!==n.dtype&&(e=Be(e,n.dtype)),Be(Gs(n,e),"float32")}const Q7e=nk,e8e=nk,t8e=kN,n8e=kN,r8e=_N,o8e=_N,tee=py,i8e=JQ,nee=uS,dS={binaryAccuracy:QQ,categoricalAccuracy:eee,precision:Y7e,categoricalCrossentropy:tee,sparseCategoricalCrossentropy:nee,mse:Q7e,MSE:e8e,mae:t8e,MAE:n8e,mape:r8e,MAPE:o8e,cosine:i8e};function a8e(n){if(typeof n=="string"&&n in dS)return dS[n];if(typeof n!="string"&&n!=null)return n;throw new U(`Unknown metric ${n}`)}function V1(n){if(gs(n!==null,`Unknown LossOrMetricFn ${n}`),typeof n=="string")return n;{let e;for(const t of Object.keys(cS))if(cS[t]===n){e=t;break}if(e!==void 0)return e;for(const t of Object.keys(dS))if(dS[t]===n){e=t;break}return e!==void 0?e:n.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function s8e(n){const e={Adagrad:()=>of.adagrad(.01),Adadelta:()=>of.adadelta(1,.95,ar()),Adam:()=>of.adam(.001,.9,.999,ar()),Adamax:()=>of.adamax(.002,.9,.999,ar(),0),RMSProp:()=>of.rmsprop(.001,.9,0,ar()),SGD:()=>of.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,n in e)return e[n]();throw new U(`Unknown Optimizer ${n}`)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const W7=1*1024*1024;function H7(n,e,t=!1){if(n==null||typeof n!="object"||Object.getPrototypeOf(n)!==Object.prototype||!SR(n))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(t){const r=JSON.stringify(n);r.length>W7&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${W7}.`)}}function SR(n){if(n===null)return!0;if(typeof n=="object")if(Object.getPrototypeOf(n)===Object.prototype){const e=Object.keys(n);for(const t of e)if(typeof t!="string"||!SR(n[t]))return!1;return!0}else if(Array.isArray(n)){for(const e of n)if(!SR(e))return!1;return!0}else return!1;else{const e=typeof n;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function l8e(n,e,t,r=console.log){const o=c8e(n),i=["Layer (type)","Input Shape","Output shape","Param #"];o?(e=e||90,t=t||[.32,.61,.89,1]):(e=e||115,t=t||[.24,.48,.7,.8,1]),t[t.length-1]<=1&&(t=t.map(c=>Math.floor(e*c)));let a;if(!o){i.push("Receives inputs"),a=[];for(const c in n.nodesByDepth)a.push(...n.nodesByDepth[c])}r("_".repeat(e)),hS(i,t,r),r("=".repeat(e));const s=n.layers;for(let c=0;c<s.length;++c)o?d8e(s[c],t,r):h8e(s[c],t,a,r),r((c===s.length-1?"=":"_").repeat(e));n.checkTrainableWeightsConsistency();const l=u8e(n),u=iS(n.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(e))}function u8e(n){let e;return n.collectedTrainableWeights!=null?e=iS(n.collectedTrainableWeights):e=iS(n.trainableWeights),e}function c8e(n){let e=!0;const t=[],r=[];for(const o in n.nodesByDepth)t.push(n.nodesByDepth[o]);for(const o of t){if(o.length>1||o.length===1&&o[0].inboundLayers.length>1){e=!1;break}r.push(...o)}if(e)for(const o of n.layers){let i=!1;for(const a of o.inboundNodes)if(r.indexOf(a)!==-1)if(i){e=!1;break}else i=!0;if(!e)break}return e}function hS(n,e,t=console.log){let r="";for(let o=0;o<n.length;++o)o>0&&(r=r.slice(0,r.length-1)+" "),r+=n[o],r=r.slice(0,e[o]),r+=" ".repeat(e[o]-r.length);t(r)}function d8e(n,e,t){let r,o;try{o=n.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{o="multiple"}try{r=JSON.stringify(n.outputShape)}catch{r="multiple"}const i=n.name,a=n.getClassName(),s=[`${i} (${a})`,o,r,n.countParams().toString()];hS(s,e,t)}function h8e(n,e,t,r){let o,i;try{i=n.inboundNodes.map(d=>JSON.stringify(d.inputShapes)).join(",")}catch{i="multiple"}try{o=JSON.stringify(n.outputShape)}catch{o="multiple"}const a=[];for(const d of n.inboundNodes)if(!(t!=null&&t.length>0&&t.indexOf(d)===-1))for(let h=0;h<d.inboundLayers.length;++h){const f=d.inboundLayers[h].name,p=d.nodeIndices[h],g=d.tensorIndices[h];a.push(`${f}[${p}][${g}]`)}const s=n.name,l=n.getClassName(),u=a.length===0?"":a[0],c=[`${s} (${l})`,i,o,n.countParams().toString(),u];hS(c,e,r);for(let d=1;d<a.length;++d)hS(["","","","",a[d]],e,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ree(n,e,t){return(n==="inboundNodes"||n==="outputLayers"||n==="inputLayers")&&e===0&&typeof t=="string"}function fS(n,e){if(n===null)return null;if(typeof n=="string")return dd(n);if(typeof n=="number"||typeof n=="boolean")return n;if(n instanceof Array){const t=[],r=n.length;for(let o=0;o<r;++o){const i=n[o];ree(e,o,i)?t.push(i):t.push(fS(i,e))}return t}else{const t={};for(const r of Object.keys(n)){const o=n[r];if(r==="name"&&typeof o=="string")t[r]=o;else{const i=dd(r);t[i]=fS(o,i)}}return t}}function CR(n,e){if(n==null)return null;if(typeof n=="string")return al(n);if(typeof n=="number"||typeof n=="boolean")return n;if(n instanceof Array){const t=[],r=n.length;for(let o=0;o<r;++o){const i=n[o];ree(e,o,i)?t.push(i):t.push(CR(i,e))}return t}else{const t={};for(const r of Object.keys(n)){const o=n[r],i=al(r);(r==="name"||r==="className")&&typeof o=="string"?t[i]=o:t[i]=CR(o,r)}return t}}/** @license See the LICENSE file. */const oee="4.21.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const f8e=n=>{const e=Object.keys(n);if(e.length===0)return!1;const t=e[0].split("/");return!isNaN(parseInt(t[t.length-1],10))};class Sa extends Lt{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const y=this.getClassName().toLowerCase();this.name=Q2(y)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],Pu(this.inputs).length!==this.inputs.length)throw new U(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(y=>y.name)}`);Pu(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(y=>y.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const b=y.sourceLayer,w=y.nodeIndex,x=y.tensorIndex;this.outputLayers.push(b),this.outputLayersNodeIndices.push(w),this.outputLayersTensorIndices.push(x)}for(const y of this.inputs){const b=y.sourceLayer,w=y.nodeIndex,x=y.tensorIndex;gs(w===0,"input layer has >1 nodes"),gs(x===0,"input layer has >1 tensors"),this.inputLayers.push(b),this.inputLayersNodeIndices.push(w),this.inputLayersTensorIndices.push(x)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const b=this.inputLayers[y];if(!(b instanceof cb))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${y} (0-based) originates from layer type ${b.getClassName()}.`);this.inputNames.push(b.name),this.feedInputShapes.push(b.batchInputShape),this.feedInputNames.push(b.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map(y=>y.shape),this.internalOutputShapes=this.outputs.map(y=>y.shape);const t={},r={},o={},i={},a={},s=[],l=(y,b,w,x,S,C)=>{(x==null||S==null||C==null)&&(x=y.sourceLayer,S=y.nodeIndex,C=y.tensorIndex);const k=x.inboundNodes[S];if(w.indexOf(k)!==-1)throw new Zi(`The tensor ${y.name} at layer "${x.name}" is part of a cycle.`);if(b.indexOf(k)!==-1)return;this.containerNodes.add(Sa.nodeKey(x,S)),x.id in a||(a[x.id]=Object.keys(a).length),w.indexOf(k)===-1&&w.push(k);const _=k.inboundLayers.length;for(let I=0;I<_;I++){const T=k.inputTensors[I],A=k.inboundLayers[I],D=k.nodeIndices[I],E=k.tensorIndices[I];l(T,b,w,A,D,E)}for(b.push(k);w.indexOf(k)>=0;)w.splice(w.indexOf(k),1);s.push(k)},u=[],c=[];for(const y of this.outputs)l(y,u,c);const d=s.slice().reverse();for(const y of d){r[y.id]=y,y.id in t||(t[y.id]=0);let b=t[y.id];const w=o[y.outboundLayer.id]==null?0:o[y.outboundLayer.id];b=Math.max(b,w),o[y.outboundLayer.id]=b,i[y.outboundLayer.id]=y.outboundLayer,t[y.id]=b;for(let x=0;x<y.inboundLayers.length;x++){const S=y.inboundLayers[x],C=y.nodeIndices[x],k=S.inboundNodes[C],_=t[k.id]==null?0:t[k.id];t[k.id]=Math.max(b+1,_),r[k.id]=k}}const h={};for(const y in t){const b=t[y];b in h||(h[b]=[]),h[b].push(r[y])}const f={};for(const y in o){const b=o[y];b in f||(f[b]=[]),f[b].push(i[y])}let p=Object.keys(f).map(y=>parseInt(y,10)).sort(F1);this.layers=[];for(const y of p){const b=f[y];b.sort((w,x)=>{const S=a[w.id],C=a[x.id];return S<C?-1:S>C?1:0});for(const w of b)w instanceof Sa&&this.internalContainerRefs.push(w),this.layers.push(w)}this.layersByDepth=f,p=Object.keys(h).map(y=>parseInt(y,10)).sort(F1);const g=this.inputs.slice(),v=[];for(const y of p)for(const b of h[y]){const w=b.outboundLayer;if(w!=null){for(const x of b.inputTensors)if(g.indexOf(x)===-1)throw new Zi(`Graph disconnected: cannot obtain value for tensor ${x} at layer "${w.name}". The following previous layers were accessed without issue: ${v}`);for(const x of b.outputTensors)g.push(x);v.push(w.name)}}this.nodesByDepth=h;const m=this.layers.map(y=>y.name);for(const y of m){const b=m.filter(w=>w===y).length;if(b!==1)throw new Zi(`The name "${y}" is used ${b} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(m))}this.outboundNodes=[],this.inboundNodes=[],new tk({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(y=>null),outputMasks:this.outputs.map(y=>null),inputShapes:this.inputs.map(y=>y.shape),outputShapes:this.outputs.map(y=>y.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(t=>{t._trainableWeights.forEach(r=>r.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new U("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const r of this.layers)t.push(...r.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,t=!0){const r={};let o=0;const i=f8e(e);i&&this.parseWeights(e);for(const s of this.layers)for(const[l,u]of s.weights.entries()){const c=i?`${u.name.split("/").slice(0,-1).join("/")+"/"}${l}`:u.originalName;if(r[c]!=null)throw new U(`Duplicate weight name: ${c}`);r[c]=u,o++}const a=[];for(const s in e){let l=s;if(r[s]==null){const u=s.split("/");l=u.slice(0,-2).concat([u[u.length-1]]).join("/")}if(r[l]!=null)a.push([r[l],e[s]]);else if(t)throw new U(`Provided weight data has no target variable: ${s}`);delete r[l]}if(t){const s=[];for(const l in r)s.push(l);if(s.length>0)throw new U(`${s.length} of ${o} weights are not set: ${s}`)}SN(a)}parseWeights(e){for(const t in Object.keys(e)){const r=t.split("/"),o=["vars","layer_checkpoint_dependencies"],i=r.map(a=>a.startsWith("_")?a.slice(1):a).filter(a=>!o.includes(a)).join("/");i!==t&&(e[i]=e[t],delete e[t])}}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion=`tfjs-layers ${oee}`,t.backend="TensorFlow.js",t}toJSON(e,t=!0){const r=CR(this.updatedConfig());return t?JSON.stringify(r):r}call(e,t){return ee(()=>{e=un(e);const r=new Su;for(let o=0;o<this.inputs.length;++o)r.add(this.inputs[o],e[o]);return wv(this.outputs,r,t)})}computeMask(e,t){return ee(()=>{e=un(e);let r;return t==null?r=ih(null,e.length):r=un(t),this.runInternalGraph(e,r)[1]})}computeOutputShape(e){const t=oS(e);if(t.length!==this.inputLayers.length)throw new U(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let s=0;s<t.length;s++){const l=this.inputLayers[s],u=t[s],c=l.name+"_0_0";r[c]=u}const o=Object.keys(this.nodesByDepth).map(s=>parseInt(s,10)).sort(F1);if(o.length>1)for(const s of o){const l=this.nodesByDepth[s];for(const u of l){const c=u.outboundLayer;if(this.inputLayers.map(g=>g.id).indexOf(c.id)!==-1)continue;const d=[];for(let g=0;g<u.inboundLayers.length;g++){const v=u.inboundLayers[g],m=u.nodeIndices[g],y=u.tensorIndices[g],b=`${v.name}_${m}_${y}`,w=r[b];d.push(w)}const h=c.computeOutputShape(_o(d)),f=oS(h),p=c.inboundNodes.indexOf(u);for(let g=0;g<f.length;g++){const v=`${c.name}_${p}_${g}`;r[v]=f[g]}}}const i=[],a=[];for(let s=0;s<this.outputLayers.length;s++){const l=this.outputLayers[s],u=this.outputLayersNodeIndices[s],c=this.outputLayersTensorIndices[s],d=`${l.name}_${u}_${c}`;a.push(d)}for(let s=0;s<a.length;s++){const l=a[s];gs(l in r),i.push(r[l])}return _o(i)}runInternalGraph(e,t){t==null&&(t=ih(null,e.length));const r={};for(let l=0;l<this.inputs.length;++l){const u=this.inputs[l],c=e[l],d=t[l];r[u.id]=[c,d]}const o=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(F1);for(const l of o){const u=this.nodesByDepth[l];for(const c of u){const d=c.outboundLayer,h=c.inputTensors,f=c.outputTensors,p=new Array;for(const g of h)g.id in r&&p.push(r[g.id]);if(p.length===h.length){let g={},v,m,y,b;if(c.callArgs!=null&&(g=c.callArgs),p.length===1){const[w,x]=p[0];g.mask==null&&(g.mask=x),y=un(d.call(w,g)),b=un(d.computeMask(w,x)),v=[w],m=[x]}else v=p.map(w=>w[0]),m=p.map(w=>w[1]),g.mask==null&&(g.mask=m),y=un(d.call(v,g)),b=un(d.computeMask(v,m));if(d.activityRegularizer)throw new kt("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let w=0;w<f.length;++w){const x=f[w],S=y[w],C=b[w];r[x.id]=[S,C]}}}}const i=[],a=[],s=[];for(const l of this.outputs){gs(l.id in r,`Could not compute output ${l.name} : ${l.id}`);const[u,c]=r[l.id];s.push(u.shape),i.push(u),a.push(c)}return[i,a,s]}buildNodeConversionMap(e){const t={};let r;for(const o of this.layers){r=o instanceof Sa?1:0;for(let i=0;i<o.inboundNodes.length;i++){const a=Sa.nodeKey(o,i);this.containerNodes.has(a)&&(t[a]=r,r+=1)}}return t}getLayer(e,t){if(t!=null)return this.findLayer(t);if(e==null)throw new U("Provide either a layer name or layer index");if(typeof e=="number")return this.findLayer(e);for(const r of this.layers)if(r.name===e)return r;throw new U(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new U(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return ee(()=>{const e=[];for(const t of this.layers)for(let r=0;r<t.inboundNodes.length;++r){const o=Sa.nodeKey(t,r);this.containerNodes.has(o)&&e.push(...t.calculateLosses())}return e})}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),r=[];for(const a of this.layers){const s=a.getClassName(),l=a.getConfig(),u=[];for(let d=0;d<a.inboundNodes.length;d++){const h=a.inboundNodes[d],f=Sa.nodeKey(a,d);let p={};if(this.containerNodes.has(f)){if(h.callArgs)try{JSON.stringify(h.callArgs),p=h.callArgs}catch{console.warn(`Layer ${a.name} was passed non-serializable keyword arguments: ${h.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),p={}}if(h.inboundLayers.length>0){const g=[];for(let v=0;v<h.inboundLayers.length;v++){const m=h.inboundLayers[v],y=h.nodeIndices[v],b=h.tensorIndices[v],w=Sa.nodeKey(m,y);let x=t[w];x==null&&(x=0),g.push([m.name,x,b,p])}u.push(g)}}}const c={};c.name=a.name,c.className=s,c.config=l,c.inboundNodes=u,r.push(c)}e.layers=r;const o=[];for(let a=0;a<this.inputLayers.length;a++){const s=this.inputLayers[a],l=this.inputLayersNodeIndices[a],u=Sa.nodeKey(s,l);if(!this.containerNodes.has(u))continue;let c=t[u];c==null&&(c=0);const d=this.inputLayersTensorIndices[a];o.push([s.name,c,d])}e.inputLayers=o;const i=[];for(let a=0;a<this.outputLayers.length;a++){const s=this.outputLayers[a],l=this.outputLayersNodeIndices[a],u=Sa.nodeKey(s,l);if(!this.containerNodes.has(u))continue;let c=t[u];c==null&&(c=0);const d=this.outputLayersTensorIndices[a];i.push([s.name,c,d])}return e.outputLayers=i,e}static fromConfig(e,t,r={},o=!1){const i={},a={};function s(v,m){v.name in a?a[v.name].push(m):a[v.name]=[m]}function l(v,m){const y=[];let b;for(const w of m){const x=w[0],S=w[1],C=w[2];if(b=w[3]==null?{}:w[3],!(x in i)){s(v,m);return}const k=i[x];if(k.inboundNodes.length<=S){s(v,m);return}const _=k.inboundNodes[S];y.push(_.outputTensors[C])}y.length>0&&v.apply(_o(y),b)}function u(v){const m=v.name,y=Ls(v,t.customObjects!=null?t.customObjects:{});y.setFastWeightInitDuringBuild(o),i[m]=y,v.inboundNodes.forEach(w=>{if(!(w instanceof Array))throw new U(`Corrupted configuration, expected array for nodeData: ${w}`);s(y,w)})}const c=t.name,d=t.layers;for(const v of d)u(v);for(;!ZVe(a);)for(const v of d){const m=i[v.name];if(m.name in a){const y=a[m.name];delete a[m.name];for(const b of y)l(m,b)}}const h=[],f=[],p=t.inputLayers;for(const v of p){const m=v[0],y=v[1],b=v[2];gs(m in i);const x=i[m].inboundNodes[y].outputTensors;h.push(x[b])}const g=t.outputLayers;for(const v of g){const m=v[0],y=v[1],b=v[2];gs(m in i);const x=i[m].inboundNodes[y].outputTensors;f.push(x[b])}return new e({inputs:h,outputs:f,name:c})}get stateful(){if(this._stateful)throw new U("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){ee(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function p8e(n,e,t){const r=e.length;if(n==null||Array.isArray(n)&&n.length===0)return e.map(o=>null);if(r===1)return Array.isArray(n)&&n.length===1?n:typeof n=="object"&&e[0]in n?[n[e[0]]]:[n];if(Array.isArray(n)){if(n.length!==r)throw new Error(`Provided ${t} is an array of ${n.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return n}else if(typeof n=="object"&&Object.keys(n).length>0&&typeof n[Object.keys(n)[0]]=="object"){const o=[];return e.forEach(i=>{i in n?o.push(n[i]):o.push(null)}),o}else throw new Error(`The model has multiple (${r}) outputs, so ${t} must be either an array with ${r} elements or an object with ${e} keys. Provided ${t} not understood: ${JSON.stringify(n)}`)}function iee(n,e){return p8e(n,e,"classWeight")}async function aee(n,e,t,r){if(t!=null){const o=ee(()=>{if(n.shape.length===1)return Pd(n);if(n.shape.length===2){if(n.shape[1]>1)return ly(n,1);if(n.shape[1]===1)return Y(n,[n.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${n.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${n.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),i=Array.from(await o.data());Dt(o);const a=[];return i.forEach(s=>{if(t[s]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${s} exists in the data but not in classWeight`);a.push(t[s])}),qo(a,"float32")}else return null}function g8e(n,e){return X(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const v8e=32;function see(n,e){let t,r;const o=e;t=o.xs,r=o.ys,O(t!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const i=U7("input",n.inputNames,t),a=U7("output",n.outputNames,r),s=i[0].shape[0];O(i.length===n.inputs.length,()=>`LayersModel has ${n.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(n.inputNames)})`),O(a.length===n.outputs.length,()=>`LayersModel has ${n.outputs.length} outputs, but the dataset provides ${a.length} outputs.  (Expected output keys: ${JSON.stringify(n.outputNames)})`);for(let l=0;l<i.length;l++)O(i[l].shape[0]===s,()=>`Batch size mismatch: input ${n.inputNames[l]} has ${i[l].shape[0]}; expected  ${s} based on input ${n.inputNames[0]}.`);for(let l=0;l<a.length;l++)O(a[l].shape[0]===s,()=>`Batch size mismatch: output ${n.outputNames[l]} has ${a[l].shape[0]}; expected  ${s} based on input ${n.inputNames[0]}.`);return{xs:i,ys:a}}function U7(n,e,t){if(t instanceof or)return[t];if(Array.isArray(t))return O(t.length===e.length,()=>`Received an array of ${t.length} Tensors, but expected ${e.length} to match the ${n} keys ${e}.`),t;{const r=[];for(const o of e){if(t[o]==null)throw new U(`The feature data generated by the dataset lacks the required ${n} key '${o}'.`);r.push(t[o])}return r}}function m8e(n){if(n.length===3)throw new kt("Validation with sample weights is not implemented yet.");return{xs:n[0],ys:n[1]}}async function y8e(n,e,t){const r=t.batchesPerEpoch!=null;if(O(n.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),O(t!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),O(t.epochs!=null&&t.epochs>0&&Number.isInteger(t.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${t.epochs}`),O(!r||t.batchesPerEpoch>0&&Number.isInteger(t.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${t.batchesPerEpoch}`),O(t.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),n.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");n.isTraining=!0;try{const o=t.validationData!=null;let i,a;if(o)if(j7(t.validationData))O(t.validationBatches==null||t.validationBatches>0&&Number.isInteger(t.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${t.validationBatches}`);else{const v=m8e(t.validationData);i=v.xs,a=v.ys}const s=n.makeTrainFunction(),l=n.getDedupedMetricsNames();let u;o?u=l.slice().concat(l.map(v=>"val_"+v)):u=l.slice();const c=YQ(t.callbacks,t.yieldEvery),d=t.verbose==null?1:t.verbose,{callbackList:h,history:f}=ZQ(c,d,t.epochs,null,null,b8e(e,t),null,o,u);h.setModel(n),n.history=f,await h.onTrainBegin(),n.stopTraining_=!1;let p=t.initialEpoch==null?0:t.initialEpoch,g=await e.iterator();for(;p<t.epochs;){const v={};await h.onEpochBegin(p);let m=0,y=0;for(r||(g=await e.iterator());!r||m<t.batchesPerEpoch;){const b=await g.next();if(r&&b.done){console.warn(`You provided \`batchesPerEpoch\` as ${t.batchesPerEpoch}, but your dataset iterator ran out of data after ${m} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${t.batchesPerEpoch*t.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(b.value!=null){const{xs:w,ys:x}=see(n,b.value),S={};S.batch=y,S.size=w[0].shape[0],await h.onBatchBegin(y,S);const C=[];if(t.classWeight!=null){const I=iee(t.classWeight,n.outputNames);for(let T=0;T<I.length;++T)C.push(await aee(x[T],null,I[T]))}const k=w.concat(x).concat(C),_=s(k);Dt(k);for(let I=0;I<l.length;++I){const T=l[I],A=_[I];S[T]=A,Es(A)}await h.onBatchEnd(y,S),qQ(S),y++,m++}if(r?m>=t.batchesPerEpoch:b.done){if(o){let w;j7(t.validationData)?w=un(await n.evaluateDataset(t.validationData,{batches:t.validationBatches})):w=un(n.evaluate(i,a,{batchSize:t.validationBatchSize==null?v8e:t.validationBatchSize,verbose:0}));for(let x=0;x<n.metricsNames.length;++x)v[`val_${n.metricsNames[x]}`]=w[x]}break}if(n.stopTraining_)break}if(await h.onEpochEnd(p,v),p++,n.stopTraining_)break}return await h.onTrainEnd(),await n.history.syncData(),n.history}finally{n.isTraining=!1}}function b8e(n,e){let t=null;return e.batchesPerEpoch!=null?t=e.batchesPerEpoch:Number.isFinite(n.size)&&(t=n.size),t}function j7(n){return typeof n.iterator=="function"}function w8e(n){return typeof n.next=="function"}async function x8e(n,e,t){t=t||{};const r=t.batches!=null,o=n.testFunction;let i=[];if(t.verbose>0)throw new kt("Verbose mode is not implemented yet.");O(!r||t.batches>0&&Number.isInteger(t.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(t.batches)}`);const a=w8e(e)?e:await e.iterator();let s=0,l=0;for(;!r||l<t.batches;){const u=await a.next();if(i=ee(()=>{if(u.value){const{xs:c,ys:d}=see(n,u.value),h=c.concat(d),f=ee(()=>o(h));if(Dt(h),l===0)for(let g=0;g<f.length;++g)i.push(Zt(0));const p=h[0].shape[0];for(let g=0;g<f.length;++g){const v=f[g],m=i[g];i[g]=ee(()=>Ae(i[g],X(p,v))),l>0&&Dt(m)}Dt(f),s+=p,++l}return i}),u.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${t.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<i.length;++u){const c=i[u];i[u]=ot(i[u],s),Dt(c)}return _o(i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function vT(n){O(n>0&&Number.isInteger(n),()=>`batchSize is required to be a positive integer, but got ${n}`)}function ev(n,e,t){return n==null?[null]:Array.isArray(n)?n.map(r=>Ld(r,e,t-e)):Ld(n,e,t-e)}function kR(n,e){return ee(()=>n==null?null:Array.isArray(n)?n.map(t=>kR(t,e)):LQ(n,e.dtype==="int32"?e:Be(e,"int32")))}function mT(n,e){const t=[];let r=0,o=null;for(;r<n;)o=r+e,o>=n&&(o=n),t.push([r,o]),r=o;return t}function lee(n){const e=[];n instanceof or&&(n=[n]);for(let t=0;t<n.length;++t){const r=n[t];if(r.rank===1)e.push(sb(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(r)}}return e}function ya(n,e){if(n==null)return;const t=[];if(e instanceof or)t.push(e.id);else if(Array.isArray(e))e.forEach(o=>t.push(o.id));else if(e!=null)for(const o in e){const i=e[o];t.push(i.id)}const r=[];if(n instanceof or)t.indexOf(n.id)===-1&&r.push(n);else if(Array.isArray(n))n.forEach(o=>{t.indexOf(o.id)===-1&&r.push(o)});else if(n!=null)for(const o in n){const i=n[o];t.indexOf(i.id)===-1&&r.push(i)}r.forEach(o=>{o.isDisposed||o.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function S8e(n){return n instanceof or}function _R(n){return Array.isArray(n)}function K7(n){return!S8e(n)&&!_R(n)}function X7(n,e,t,r=!0,o=""){if(e==null||e.length===0){if(n!=null){let a=!1;if(_R(n)&&n.length>0)a=!0;else if(K7(n)){for(const s in n)if(n.hasOwnProperty(s)){a=!0;break}}else a=!0;if(a)throw new U(`Error when checking model ${o} expected no data, but got ${n}`)}return[]}if(n==null)return e.map(a=>null);let i;if(K7(n)){n=n,i=[];for(const a of e){if(n[a]==null)throw new U(`No data provided for "${a}". Need data for each key in: ${e}`);i.push(n[a])}}else if(_R(n)){if(n=n,n.length!==e.length)throw new U(`Error when checking model ${o}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${n}`);i=n}else{if(n=n,e.length>1)throw new U(`The model ${o} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${n.shape}`);i=[n]}if(i=lee(i),t!=null)for(let a=0;a<e.length;++a){if(t[a]==null)continue;const s=i[a];if(s.shape.length!==t[a].length)throw new U(`Error when checking ${o}: expected ${e[a]} to have ${t[a].length} dimension(s). but got array with shape ${s.shape}`);for(let l=0;l<t[a].length;++l){if(l===0&&!r)continue;const u=s.shape[l],c=t[a][l];if(c!=null&&c>=0&&u!==c)throw new U(`${o} expected a batch of elements where each example has shape [${t[a].slice(1,t[a].length)}] (i.e.,tensor shape [*,${t[a].slice(1,t[a].length)}]) but the ${o} received an input with ${s.shape[0]} examples, each with shape [${s.shape.slice(1,s.shape.length)}] (tensor shape [${s.shape}])`)}}return i}function C8e(n,e,t){const r=Pu(n.map(i=>i.shape[0]));r.sort();const o=Pu(e.map(i=>i.shape[0]));if(o.sort(),r.length>1)throw new U(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(n.map(i=>i.shape))}`);if(o.length>1)throw new U(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(i=>i.shape))}`);if(r.length>0&&o.length>0&&!an(r,o))throw new U(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${o[0]} target sample(s).`)}function k8e(n,e,t){const r=[nk,rk,py];for(let o=0;o<n.length;++o){const i=n[o],a=e[o],s=t[o];if(a!=null){if(a===py&&i.shape[i.shape.length-1]===1)throw new U(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(a)!==-1){const l=i.shape.slice(1),u=s.slice(1);for(let c=0;c<l.length;++c){const d=l[c],h=u[c];if(h!=null&&d!==h)throw new U(`A target Tensor with shape ${i.shape} was passed for an output of shape ${s}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function q7(n,e,t,r=!0,o=""){let i;if(Array.isArray(n)){if(n.length!==e.length)throw new U(`Error when checking model ${o}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${n.length} Tensors(s).`);i=n}else{if(e.length>1)throw new U(`The model expects ${e.length} ${o} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(n.shape)}.`);i=[n]}if(t!=null)for(let a=0;a<e.length;++a){if(t[a]==null)continue;const s=i[a];if(s.shape.length!==t[a].length)throw new U(`Error when checking ${o}: expected ${e[a]} to have ${t[a].length} dimension(s), but got array with shape ${JSON.stringify(s.shape)}`);for(let l=0;l<t[a].length;++l){if(l===0&&!r)continue;const u=s.shape[l],c=t[a][l];if(c!=null&&c!==u)throw new U(`Error when checking ${o}: expected ${e[a]} to have shape ${JSON.stringify(t[a])} but got array with shape ${JSON.stringify(s.shape)}.`)}}}function _8e(n,e){if(n==null||Array.isArray(n)&&n.length===0)return e.map(r=>[]);let t;if(typeof n=="string"||typeof n=="function")t=[n];else if(Array.isArray(n)||typeof n=="object")t=n;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${n}`);if(Array.isArray(t))return e.map(r=>t);{const r=[];for(const o of e){let i=t.hasOwnProperty(o)?t[o]:[];Array.isArray(i)||(i=[i]),r.push(i)}return r}}const I8e="layers-model";class qf extends Sa{constructor(e){super(e),this.isTraining=!1}summary(e,t,r=console.log){if(!this.built)throw new U("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");l8e(this,e,t,r)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=s8e(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof uc))throw new U("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const a in e.loss)if(this.outputNames.indexOf(a)===-1)throw new U(`Unknown entry in loss dictionary: "${a}". Only expected the following keys: ${this.outputNames}`);for(const a of this.outputNames)e.loss[a]==null&&console.warn(`Output "${a}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${a} during training`),t.push(gT(e.loss[a]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new U(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);t=e.loss.map(s=>gT(s))}else{const a=gT(e.loss);this.outputs.forEach(s=>{t.push(a)})}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let a=0;a<this.outputs.length;++a){const s=this.internalOutputShapes[a],l=this.outputNames[a];this.feedOutputNames.push(l),this.feedOutputShapes.push(s),this.feedLossFns.push(this.lossFunctions[a])}const r=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Md("loss",()=>{for(let a=0;a<this.outputs.length;++a){if(r.indexOf(a)!==-1)continue;const s=this.lossFunctions[a];this.outputs.length>1&&(this.metricsTensors.push([s,a]),this.metricsNames.push(this.outputNames[a]+"_loss"))}});const o=_8e(e.metrics,this.outputNames),i=(a,s,l)=>{this.outputNames.length>1&&(s=this.outputNames[a]+"_"+s),this.metricsNames.push(s),this.metricsTensors.push([l,a])};Md("metric",()=>{for(let a=0;a<this.outputs.length;++a){if(r.indexOf(a)!==-1)continue;const s=o[a];(u=>{const c="";let d,h,f;for(const p of u){if(typeof p=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(p)!==-1){const v=this.internalOutputShapes[a];v[v.length-1]===1||this.lossFunctions[a]===rk?["accuracy","acc"].indexOf(p)!==-1?h=QQ:["crossentropy","ce"].indexOf(p)!==-1&&(h=Z7e):this.lossFunctions[a]===uS?["accuracy","acc"].indexOf(p)!==-1?h=J7e:["crossentropy","ce"].indexOf(p)!==-1&&(h=nee):["accuracy","acc"].indexOf(p)!==-1?h=eee:["crossentropy","ce"].indexOf(p)!==-1&&(h=tee);let m;["accuracy","acc"].indexOf(p)!==-1?m="acc":["crossentropy","ce"].indexOf(p)!==-1&&(m="ce"),f=h,d=c+m}else f=a8e(p),d=c+V1(p);let g;Md(d,()=>{g=f}),i(a,d,g)}})(s)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t,r={}){const o=r.batchSize==null?32:r.batchSize;vT(o);const a=this.standardizeUserDataXY(e,t,!0,o);try{const s=a[0].concat(a[1]);this.makeTestFunction();const l=this.testFunction,u=this.testLoop(l,s,o,r.verbose,r.steps);return _o(u)}finally{ya(a[0],e),ya(a[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),x8e(this,e,t)}checkNumSamples(e,t,r,o="steps"){let i;if(r!=null){if(i=null,t!=null)throw new U(`If ${o} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else if(e!=null)Array.isArray(e)?i=e[0].shape[0]:i=e.shape[0];else throw new U(`Either the input data should have a defined shape, or ${o} shoud be specified.`);return i}execute(e,t){if(Array.isArray(t)&&t.length===0)throw new U("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(t),o=r?t:[t],i=this.retrieveSymbolicTensors(o),a=new Su;if(e instanceof or&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new U(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)a.add(this.inputs[l],e[l])}else for(const l of this.inputs){const u=e[l.name];if(u==null)throw new U(`No value is provided for the model's input ${l.name}`);a.add(l,u)}const s=wv(i,a);return r?s:s[0]}retrieveSymbolicTensors(e){const t=ih(null,e.length);let r=e.length;for(const o of this.layers){const i=Array.isArray(o.output)?o.output:[o.output],a=i.map(s=>s.name);for(let s=0;s<e.length;++s){const l=a.indexOf(e[s]);if(l!==-1&&(t[s]=i[l],r--),r===0)break}if(r===0)break}if(r>0){const o=[];throw t.forEach((i,a)=>{i==null&&o.push(e[a])}),new U(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(o)}`)}return t}predictLoop(e,t=32,r=!1){return ee(()=>{const o=this.checkNumSamples(e);if(r)throw new kt("Verbose predictLoop() is not implemented yet.");const i=mT(o,t),a=this.outputs.map(s=>[]);for(let s=0;s<i.length;++s)ee(()=>{const u=i[s][0],c=i[s][1],d=ev(e,u,c),h=[];if(Array.isArray(d))for(let p=0;p<d.length;++p)h.push({key:this.inputs[p],value:d[p]});else h.push({key:this.inputs[0],value:d});const f=new Su(h);return wv(this.outputs,f)}).forEach((u,c)=>a[c].push(u));return _o(a.map(s=>Do(s,0)))})}predict(e,t={}){const r=lee(e);q7(r,this.inputNames,this.feedInputShapes,!1);try{const o=t.batchSize==null?32:t.batchSize;return vT(o),this.predictLoop(r,o)}finally{ya(r,e)}}predictOnBatch(e){q7(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t,r=!0,o){if(this.optimizer_==null)throw new Zi("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const i=[];for(let a=0;a<this.feedOutputShapes.length;++a){const s=this.feedOutputShapes[a];this.feedLossFns[a]===uS?i.push(s.slice(0,s.length-1).concat([1])):i.push(s)}if(e=X7(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=X7(t,this.feedOutputNames,i,!1,"target"),C8e(e,t),k8e(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&o!=null&&o>0&&e[0].shape[0]%o!==0)throw new U(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${o}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,r,o,i=!0,a){const[s,l]=this.standardizeUserDataXY(e,t,i,a);if(r!=null)throw new Error("sample weight is not supported yet.");let u=null;if(o!=null){const c=iee(o,this.outputNames);u=[];for(let d=0;d<c.length;++d)u.push(await aee(l[d],null,c[d]))}return[s,l,u]}testLoop(e,t,r,o=0,i){return ee(()=>{const a=this.checkNumSamples(t,r,i,"steps"),s=[];if(o>0)throw new kt("Verbose mode is not implemented yet.");if(i!=null)throw new kt("steps mode in testLoop() is not implemented yet");{const l=mT(a,r),u=qo(Ha(0,a));for(let c=0;c<l.length;++c){const d=l[c][0],h=l[c][1],f=Ld(u,d,h-d),p=kR(t,f),g=e(p);if(c===0)for(let v=0;v<g.length;++v)s.push(Zt(0));for(let v=0;v<g.length;++v){const m=g[v];s[v]=Ae(s[v],X(h-d,m))}}for(let c=0;c<s.length;++c)s[c]=ot(s[c],a)}return s})}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let r=0;r<e.length;++r){const o=e[r];let i=o;if(P7(e,o)>1){const a=P7(e.slice(0,r),o);i+=`_${a}`}t.push(i)}return t}makeTrainFunction(){return e=>{const t=[],r=e.slice(0,this.inputs.length),o=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),a=[],s=()=>{const d=[];for(let g=0;g<this.inputs.length;++g)d.push({key:this.inputs[g],value:r[g]});const h=new Su(d),f=wv(this.outputs,h,{training:!0});let p;for(let g=0;g<this.lossFunctions.length;++g){const v=this.lossFunctions[g];let m=v(o[g],f[g]);i[g]!=null&&(m=g8e(m,i[g]));const y=Jn(m);t.push(y),g===0?p=m:p=Ae(p,m)}for(let g=0;g<this.metricsTensors.length;++g){let v;if(this.outputs.length>1&&g<this.outputs.length)v=t[g];else{const m=this.metricsTensors[g][0],y=this.metricsTensors[g][1];v=Jn(m(o[y],f[y]))}Es(v),a.push(v)}return p=Jn(p),this.calculateLosses().forEach(g=>{p=Ae(p,g)}),p},l=this.collectedTrainableWeights.map(d=>d.read());return[this.optimizer_.minimize(s,!0,l)].concat(a)}}makeTestFunction(){this.testFunction=e=>ee(()=>{const t=[];let r;const o=e.slice(0,this.inputs.length),i=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=[];for(let u=0;u<this.inputs.length;++u)a.push({key:this.inputs[u],value:o[u]});const s=new Su(a),l=wv(this.outputs,s);for(let u=0;u<this.lossFunctions.length;++u){const c=this.lossFunctions[u],d=Jn(c(i[u],l[u]));u===0?r=d:r=Ae(r,d),t.push(r)}for(let u=0;u<this.metricsTensors.length;++u){const c=this.metricsTensors[u][0],d=this.metricsTensors[u][1],h=Jn(c(i[d],l[d]));t.push(h)}return t})}async fit(e,t,r={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let o,i,a,s,l,u,c,d,h;try{const f=r.batchSize==null?32:r.batchSize;vT(f);const g=await this.standardizeUserData(e,t,r.sampleWeight,r.classWeight,!1,f);o=g[0],i=g[1],h=g[2];let v=!1,m;if(r.validationData!=null&&r.validationData.length>0){if(v=!0,r.validationData.length===2)l=r.validationData[0],u=r.validationData[1];else throw r.validationData.length===3?new kt("validationData including sample weights is not supported yet."):new U(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);const I=await this.standardizeUserData(l,u,null,null,!0,f);c=I[0],d=I[1],m=c.concat(d)}else if(r.validationSplit!=null&&r.validationSplit>0&&r.validationSplit<1){v=!0;const _=Math.floor(o[0].shape[0]*(1-r.validationSplit)),I=o[0].shape[0];c=ev(o,_,I),a=o,o=ev(o,0,_),d=ev(i,_,I),s=i,i=ev(i,0,_),m=c.concat(d)}else r.validationSteps!=null&&(v=!0);const y=o.concat(i).concat(h);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),w=this.getDedupedMetricsNames();let x,S;v?(this.makeTestFunction(),x=this.testFunction,S=w.slice().concat(w.map(_=>"val_"+_))):(x=null,m=[],S=w.slice());const C=YQ(r.callbacks,r.yieldEvery);return await this.fitLoop(b,y,w,f,r.epochs,r.verbose,C,x,m,r.shuffle,S,r.initialEpoch,null,null)}finally{this.isTraining=!1,ya(o,e),ya(i,t),ya(a,e),ya(s,t),ya(c,l),ya(d,u),h!=null&&Dt(h)}}async fitLoop(e,t,r,o,i,a,s,l,u,c,d,h,f,p){o==null&&(o=32),i==null&&(i=1),c==null&&(c=!0),h==null&&(h=0);let g=!1;if(l!=null&&u!=null&&(g=!0),p!=null&&(g=!0,f==null))throw new U("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const v=this.checkNumSamples(t,o,f,"steps_per_epoch");let m;v!=null&&(m=Ha(0,v)),a==null&&(a=1);const{callbackList:y,history:b}=ZQ(s,a,i,h,v,f,o,g,d);y.setModel(this),this.history=b,await y.onTrainBegin(),this.stopTraining_=!1;for(let w=h;w<i;++w){await y.onEpochBegin(w);const x={};if(f!=null)throw new kt("stepsPerEpoch mode is not implemented yet.");{if(c==="batch")throw new kt("batch shuffling is not implemneted yet");c&&WNe(m);const S=qo(m),C=mT(v,o);for(let k=0;k<C.length;++k){const _={};if(await y.onBatchBegin(k,_),ee(()=>{const I=C[k][0],T=C[k][1],A=Ld(S,I,T-I);_.batch=k,_.size=T-I;const D=kR(t,A),E=e(D);for(let $=0;$<r.length;++$){const P=r[$],N=E[$];_[P]=N,Es(N)}if(k===C.length-1&&g){const $=this.testLoop(l,u,o);for(let P=0;P<r.length;++P){const N=r[P],M=$[P];Es(M),x["val_"+N]=M}}}),await y.onBatchEnd(k,_),qQ(_),this.stopTraining_)break}S.dispose()}if(await y.onEpochEnd(w,x),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return y8e(this,e,t)}async trainOnBatch(e,t){const r=await this.standardizeUserData(e,t),o=r[0],i=r[1],s=this.makeTrainFunction()(o.concat(i)),l=[];for(const u of s){const c=await u.data();l.push(c[0])}return Dt(s),ya(r[0],e),ya(r[1],t),_o(l)}getNamedWeights(e){const t=[],r=e!=null&&e.trainableOnly,o=r?this.trainableWeights:this.weights,i=this.getWeights(r);for(let a=0;a<o.length;++a)r&&!o[a].trainable||t.push({name:o[a].originalName,tensor:i[a]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const t=f7().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-f7().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=al(this.loss);else if(Array.isArray(this.loss)){for(const t of this.loss)if(typeof t!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(t=>al(t))}else{const t=Object.keys(this.loss);e={};const r=this.loss;for(const o of t)if(typeof r[o]=="string")e[o]=al(r[o]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[al(V1(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>al(V1(e)));{const e={};for(const t in this.metrics)e[t]=al(V1(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const t=fS(e.optimizer_config),r=Ls(t);let o;if(typeof e.loss=="string")o=dd(e.loss);else if(Array.isArray(e.loss))o=e.loss.map(a=>dd(a));else if(e.loss!=null){o={};for(const a in e.loss)o[a]=dd(e.loss[a])}let i;if(Array.isArray(e.metrics))i=e.metrics.map(a=>dd(a));else if(e.metrics!=null){i={};for(const a in e.metrics)i[a]=dd(e.metrics[a])}this.compile({loss:o,metrics:i,optimizer:r})}async save(e,t){if(typeof e=="string"){const u=Y3e(e);if(u.length===0)throw new U(`Cannot find any save handlers for URL '${e}'`);if(u.length>1)throw new U(`Found more than one (${u.length}) save handlers for URL '${e}'`);e=u[0]}if(e.save==null)throw new U("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await p7(this.getNamedWeights(t)),s={modelTopology:this.toJSON(null,!1),format:I8e,generatedBy:`TensorFlow.js tfjs-layers v${oee}`,convertedBy:null};if((t==null?!1:t.includeOptimizer)&&this.optimizer!=null){s.trainingConfig=this.getTrainingConfig();const u="optimizer",{data:c,specs:d}=await p7(await this.optimizer.getWeights(),u);r.specs.push(...d),r.data=G3e([r.data,c])}return this.userDefinedMetadata!=null&&(H7(this.userDefinedMetadata,this.name,!0),s.userDefinedMetadata=this.userDefinedMetadata),s.weightData=r.data,s.weightSpecs=r.specs,e.save(s)}setUserDefinedMetadata(e){H7(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}qf.className="Model";xe(qf);class uee extends qf{}uee.className="Functional";xe(uee);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function Y7(n,e){if(e==null&&(e={}),typeof n=="string"){const t=Z3e(n,e);if(t.length===0)t.push($6e(n,e));else if(t.length>1)throw new U(`Found more than one (${t.length}) load handlers for URL '${n}'`);n=t[0]}return T8e(n,void 0,e)}async function T8e(n,e,t){if(t==null&&(t={}),n.load==null)throw new U("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const r=await n.load();let o=r.modelTopology;o.model_config!=null&&(o=o.model_config);const i=t.strict==null?!0:t.strict,a=r.weightData!=null&&r.weightSpecs!=null&&i,s=Ls(fS(o),e,a),l=r.trainingConfig;if(l!=null&&s.loadTrainingConfig(l),r.userDefinedMetadata!=null&&s.setUserDefinedMetadata(r.userDefinedMetadata),r.weightData!=null){if(r.weightSpecs==null)throw new U("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:u,optimizerWeights:c}=A8e(r.weightData,r.weightSpecs);s.loadWeights(u,i),s.optimizer!=null&&c.length>0&&await s.optimizer.setWeights(c),Dt(u),Dt(c.map(d=>d.tensor))}return s}function A8e(n,e){const t=N3e(n,e),r={},o=[];return e.forEach(i=>{i.group==="optimizer"?o.push({name:i.name,tensor:t[i.name]}):r[i.name]=t[i.name]}),{modelWeights:r,optimizerWeights:o}}class bp extends qf{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:Q2("sequential_"),e.layers!=null)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new U(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const t=e instanceof bp||e instanceof qf;let r;if(t){if(r=e,r.outputs.length!==1)throw new U("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new U("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new U("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const o=A7e({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(o)}if(t)this.outputs=r.outputs,this.inputs=r.inputs;else{if(e.inboundNodes.length!==1)throw new U(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new U("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=HQ(this.outputs[0])}this.inboundNodes=[],new tk({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:ih(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(o=>o.shape),outputShapes:this.outputs[0].shape})}else{const o=e.apply(this.outputs[0]);if(Array.isArray(o))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[o],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return this.model==null&&this.build(),this.model.call(e,t)}build(e){if(qt(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new qf({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t,r=console.log){this.built||this.build(),super.summary(e,t,r)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,t,r={}){if(!this.built)throw new Zi("The model needs to be compiled before being used.");return this.model.evaluate(e,t,r)}async evaluateDataset(e,t){if(!this.built)throw new Zi("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e,t={}){return this.model==null&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t,r={}){if(!this.built)throw new Zi("The model needs to be compiled before being used.");return this.model.fit(e,t,r)}async fitDataset(e,t){if(!this.built)throw new Zi("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t,r={},o=!1){let i,a={};if(t instanceof Array){if(t[0].className==null||t[0].className==="Merge")throw new U("Legacy serialization format not supported yet.");i=t}else O(t.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),i=t.layers,delete t.layers,a=t;const s=new e(a);if(!(s instanceof bp))throw new kt(`Sequential.fromConfig called on non-Sequential input: ${s}`);for(const l of i){const c=Ls(l,void 0,o);o&&c.setFastWeightInitDuringBuild(!0),s.add(c)}return s}set stopTraining(e){if(this.model==null)throw new U("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new U("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const r={};r.className=t.getClassName(),r.config=t.getConfig(),e.push(r)}return{name:this.name,layers:e}}}bp.className="Sequential";xe(bp);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Z7(n){return new bp(n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let qr=class extends ig{getConfig(){return{}}};class cee extends qr{apply(e,t=1){return h7e(e,t)}}cee.className="elu";xe(cee);class dee extends qr{apply(e){return TJ(e)}}dee.className="selu";xe(dee);class hee extends qr{apply(e){return Ih(e)}}hee.className="relu";xe(hee);class fee extends qr{apply(e){return ee(()=>dy(6,Ih(e)))}}fee.className="relu6";xe(fee);class pee extends qr{apply(e){return e}}pee.className="linear";xe(pee);class gee extends qr{apply(e){return ng(e)}}gee.className="sigmoid";xe(gee);class vee extends qr{apply(e){return p7e(e)}}vee.className="hardSigmoid";xe(vee);class mee extends qr{apply(e){return Q0(e)}}mee.className="softplus";xe(mee);class yee extends qr{apply(e){return f7e(e)}}yee.className="softsign";xe(yee);class bee extends qr{apply(e){return W2(e)}}bee.className="tanh";xe(bee);let IN=class extends qr{apply(e,t=-1){return AL(e,t)}};IN.className="softmax";xe(IN);class wee extends qr{apply(e,t=-1){return yJ(e,t)}}wee.className="logSoftmax";xe(wee);class xee extends qr{apply(e){return ee(()=>ee(()=>{const t=Math.sqrt(2),r=X(.5,Ae(1,fJ(ot(e,t))));return X(e,r)}))}}xee.className="gelu";xe(xee);class See extends qr{apply(e){return ee(()=>X(.5,X(e,Ae(1,W2(X(Kr(ot(2,Math.PI)),Ae(e,X(.044715,nh(e,3)))))))))}}See.className="gelu_new";xe(See);class Cee extends qr{apply(e){return ee(()=>X(e,W2(Q0(e))))}}Cee.className="mish";xe(Cee);class kee extends qr{apply(e,t=1){return ee(()=>X(ng(X(e,t)),e))}}kee.className="swish";xe(kee);function Hu(n){return n.getClassName()}function yT(n,e={}){return ab(n,Ui.getMap().classNameMap,e,"activation")}function Uu(n){if(n==null){const e={};return e.className="linear",e.config={},yT(e)}if(typeof n=="string"){const e={};return e.className=n,e.config={},yT(e)}else return n instanceof qr?n:yT(n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function D8e(n){if(n!=null&&typeof n!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${n}`)}class _ee extends ig{}class Iee extends _ee{constructor(e){super(),D8e(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return ee(()=>{let t=gr([1]);return this.hasL1&&(t=Ae(t,nt(X(this.l1,to(e))))),this.hasL2&&(t=Ae(t,nt(X(this.l2,lb(e))))),Y(t,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}Iee.className="L1L2";xe(Iee);const J7={l1l2:"L1L2"};function yn(n){return hN(n)}function Q7(n,e={}){return ab(n,Ui.getMap().classNameMap,e,"regularizer")}function Rn(n){if(n==null)return null;if(typeof n=="string"){const t={className:n in J7?J7[n]:n,config:{}};return Q7(t)}else return n instanceof _ee?n:Q7(n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Tee extends Lt{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,t){e=ft(e);let r=Ih(e);return this.maxValue!=null&&(r=Ci(r,0,this.maxValue)),r}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}Tee.className="ReLU";xe(Tee);class Aee extends Lt{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,t){const r=ft(e);return hL(r,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}Aee.className="LeakyReLU";xe(Aee);class Dee extends Lt{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=Dn(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Rn(e.alphaRegularizer),this.alphaConstraint=ur(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new U(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=qt(e);const t=e.slice(1);if(this.sharedAxes!=null)for(const o of this.sharedAxes)t[o-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(this.sharedAxes!=null)for(let o=1;o<e.length;++o)r[o]=e[o];this.inputSpec=[new sr({ndim:e.length,axes:r})],this.built=!0}call(e,t){return e=ft(e),yL(e,this.alpha.read())}getConfig(){const e={alphaInitializer:Ln(this.alphaInitializer),alphaRegularizer:yn(this.alphaRegularizer),alphaConstraint:lr(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}Dee.className="PReLU";xe(Dee);let Ree=class extends Lt{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new kt(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,t){const r=ft(e);return j2(r)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}};Ree.className="ELU";xe(Ree);class Eee extends Lt{constructor(e){super(e??{}),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,t){const r=ft(e);return X(r,Be(Ii(r,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}Eee.className="ThresholdedReLU";xe(Eee);class $ee extends Lt{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new IN().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,t){return ee(()=>{let r=ft(e);const o=t.mask;if(o!=null){const i=X(ht(lc(r.shape),Be(o,r.dtype)),Zt(-1e9));r=Ae(r,i)}return this.axis instanceof Array?this.axis.length>1?Ws(ht(r,bJ(r,this.axis,!0))):this.softmax(r,this.axis[0]):this.softmax(r,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}$ee.className="Softmax";xe($ee);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Yf(n,e,t){if(typeof n=="number")return ih(n,e);if(n.length!==e)throw new U(`The ${t} argument must be an integer or tuple of ${e} integers. Received: ${n.length} elements.`);for(let r=0;r<e;++r){const o=n[r];if(!l7e(o))throw new U(`The ${t} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(n)} including a non-integer number ${o}`)}return n}function Fa(n,e,t,r,o=1){if(n==null)return n;const i=e+(e-1)*(o-1);let a;return t==="same"?a=n:a=n-i+1,Math.floor((a+r-1)/r)}function vs(n,e,t,r){if(n==null)return null;if(r==="valid")n=n*e+Wu([t-e,0]);else if(r==="same")n=n*e;else throw new U(`Unsupport padding mode: ${r}.`);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function TN(n,e){return ee(()=>(Xn(e),e==="channelsFirst"?Ut(n,[0,2,3,1]):n))}function Pee(n,e){return ee(()=>(Xn(e),e==="channelsFirst"?Ut(n,[0,2,3,4,1]):n))}function R8e(n,e,t,r=1,o="valid",i,a=1){return ee(()=>{if(i==null&&(i=Ua()),Xn(i),n.shape.length!==3)throw new U(`The input of a conv1dWithBias operation should be 3, but is ${n.shape.length} instead.`);if(e.shape.length!==3)throw new U(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(t!=null&&t.shape.length!==1)throw new U(`The bias for a conv1dWithBias operation should be 1, but is ${t.shape.length} instead`);if(i==="channelsFirst"&&(n=Ut(n,[0,2,1])),o==="causal")throw new kt("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let s=lJ(n,e,r,o==="same"?"same":"valid","NWC",a);return t!=null&&(s=Za(s,t)),s})}function e8(n,e,t,r=[1,1],o="valid",i,a,s=null){return ee(()=>{if(i==null&&(i=Ua()),Xn(i),n.rank!==3&&n.rank!==4)throw new U(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${n.rank}.`);if(e.rank!==3&&e.rank!==4)throw new U(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${n.rank}.`);let l=TN(n,i);if(o==="causal")throw new kt("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=DBe({x:l,filter:e,strides:r,pad:o==="same"?"same":"valid",dilations:a,dataFormat:"NHWC",bias:t,activation:s}),i==="channelsFirst"&&(l=Ut(l,[0,3,1,2])),l})}function E8e(n,e,t,r=[1,1,1],o="valid",i,a){return ee(()=>{if(i==null&&(i=Ua()),Xn(i),n.rank!==4&&n.rank!==5)throw new U(`conv3dWithBias expects input to be of rank 4 or 5, but received ${n.rank}.`);if(e.rank!==4&&e.rank!==5)throw new U(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${n.rank}.`);let s=Pee(n,i);if(o==="causal")throw new kt("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=T5e(s,e,r,o==="same"?"same":"valid","NDHWC",a),t!=null&&(s=Za(s,t)),i==="channelsFirst"&&(s=Ut(s,[0,4,1,2,3])),s})}class ok extends Lt{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",ok.verifyArgs(t),this.rank=e,wr(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new kt(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Yf(t.kernelSize,e,"kernelSize"),this.strides=Yf(t.strides==null?1:t.strides,e,"strides"),this.padding=t.padding==null?"valid":t.padding,Ti(this.padding),this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,Xn(this.dataFormat),this.activation=Uu(t.activation),this.useBias=t.useBias==null?!0:t.useBias,this.biasInitializer=Dn(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=ur(t.biasConstraint),this.biasRegularizer=Rn(t.biasRegularizer),this.activityRegularizer=Rn(t.activityRegularizer),this.dilationRate=Yf(t.dilationRate==null?1:t.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new U(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new U(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new U(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(gs("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!fN(e.kernelSize,"number",1,3))throw new U(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Hu(this.activation),useBias:this.useBias,biasInitializer:Ln(this.biasInitializer),biasRegularizer:yn(this.biasRegularizer),activityRegularizer:yn(this.activityRegularizer),biasConstraint:lr(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class ag extends ok{constructor(e,t){super(e,t),this.kernel=null,ag.verifyArgs(t),this.filters=t.filters,wr(this.filters,"filters"),this.kernelInitializer=Dn(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=ur(t.kernelConstraint),this.kernelRegularizer=Rn(t.kernelRegularizer)}build(e){e=qt(e);const t=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[t]==null)throw new U(`The channel dimension of the input should be defined. Found ${e[t]}`);const r=e[t],o=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:r}}],this.built=!0}call(e,t){return ee(()=>{e=ft(e);let r;const o=this.bias==null?null:this.bias.read(),i=DQ(this.activation.getClassName());if(i!=null&&this.rank===2)r=e8(e,this.kernel.read(),o,this.strides,this.padding,this.dataFormat,this.dilationRate,i);else{if(this.rank===1)r=R8e(e,this.kernel.read(),o,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=e8(e,this.kernel.read(),o,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=E8e(e,this.kernel.read(),o,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new kt("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(e){e=qt(e);const t=[],r=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let i=0;i<r.length;++i){const a=Fa(r[i],this.kernelSize[i],this.padding,this.strides[i],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[i]);t.push(a)}let o=[e[0]];return this.dataFormat==="channelsLast"?(o=o.concat(t),o.push(this.filters)):(o.push(this.filters),o=o.concat(t)),o}getConfig(){const e={filters:this.filters,kernelInitializer:Ln(this.kernelInitializer),kernelRegularizer:yn(this.kernelRegularizer),kernelConstraint:lr(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new U(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class sg extends ag{constructor(e){super(2,e),sg.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!fN(e.kernelSize,"number",1,2))throw new U(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}sg.className="Conv2D";xe(sg);class hb extends ag{constructor(e){super(3,e),hb.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new U(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}hb.className="Conv3D";xe(hb);class Mee extends sg{constructor(e){if(super(e),this.inputSpec=[new sr({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new U(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=qt(e),e.length!==4)throw new U("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[t]==null)throw new U("The channel dimension of the inputs should be defined. Found `None`.");const r=e[t],o=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",o,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new sr({ndim:4,axes:{[t]:r}})],this.built=!0}call(e,t){return ee(()=>{let r=ft(e);if(r.shape.length!==4)throw new U(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const o=r.shape,i=o[0];let a,s;this.dataFormat==="channelsFirst"?(a=2,s=3):(a=1,s=2);const l=o[a],u=o[s],c=this.kernelSize[0],d=this.kernelSize[1],h=this.strides[0],f=this.strides[1],p=vs(l,h,c,this.padding),g=vs(u,f,d,this.padding),v=[i,p,g,this.filters];this.dataFormat!=="channelsLast"&&(r=Ut(r,[0,2,3,1]));let m=uJ(r,this.kernel.read(),v,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(m=Ut(m,[0,3,1,2])),this.bias!=null&&(m=Za(m,this.bias.read(),this.dataFormat)),this.activation!=null&&(m=this.activation.apply(m)),m})}computeOutputShape(e){e=qt(e);const t=e.slice();let r,o,i;this.dataFormat==="channelsFirst"?(r=1,o=2,i=3):(r=3,o=1,i=2);const a=this.kernelSize[0],s=this.kernelSize[1],l=this.strides[0],u=this.strides[1];return t[r]=this.filters,t[o]=vs(t[o],l,a,this.padding),t[i]=vs(t[i],u,s,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}Mee.className="Conv2DTranspose";xe(Mee);class Lee extends hb{constructor(e){if(super(e),this.inputSpec=[new sr({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new U(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=qt(e),e.length!==5)throw new U("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[t]==null)throw new U("The channel dimension of the inputs should be defined. Found `None`.");const r=e[t],o=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",o,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new sr({ndim:5,axes:{[t]:r}})],this.built=!0}call(e,t){return ee(()=>{let r=ft(e);if(r.shape.length!==5)throw new U(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const o=r.shape,i=o[0];let a,s,l;this.dataFormat==="channelsFirst"?(l=2,a=3,s=4):(l=1,a=2,s=3);const u=o[l],c=o[a],d=o[s],h=this.kernelSize[0],f=this.kernelSize[1],p=this.kernelSize[2],g=this.strides[0],v=this.strides[1],m=this.strides[2],y=vs(u,g,h,this.padding),b=vs(c,v,f,this.padding),w=vs(d,m,p,this.padding),x=[i,y,b,w,this.filters];this.dataFormat!=="channelsLast"&&(r=Ut(r,[0,2,3,4,1]));let S=R5e(r,this.kernel.read(),x,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(S=Ut(S,[0,4,1,2,3])),this.bias!==null&&(S=Za(S,this.bias.read(),this.dataFormat)),this.activation!==null&&(S=this.activation.apply(S)),S})}computeOutputShape(e){e=qt(e);const t=e.slice();let r,o,i,a;this.dataFormat==="channelsFirst"?(r=1,o=2,i=3,a=4):(r=4,o=1,i=2,a=3);const s=this.kernelSize[0],l=this.kernelSize[1],u=this.kernelSize[2],c=this.strides[0],d=this.strides[1],h=this.strides[2];return t[r]=this.filters,t[o]=vs(t[o],c,s,this.padding),t[i]=vs(t[i],d,l,this.padding),t[a]=vs(t[a],h,u,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}Lee.className="Conv3DTranspose";xe(Lee);class Nee extends ag{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,t.filters==null)throw new U("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(t.kernelInitializer!=null||t.kernelRegularizer!=null||t.kernelConstraint!=null)throw new U("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(t.padding!=null&&t.padding!=="same"&&t.padding!=="valid")throw new U(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=t.depthMultiplier==null?1:t.depthMultiplier,this.depthwiseInitializer=Dn(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Rn(t.depthwiseRegularizer),this.depthwiseConstraint=ur(t.depthwiseConstraint),this.pointwiseInitializer=Dn(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Rn(t.pointwiseRegularizer),this.pointwiseConstraint=ur(t.pointwiseConstraint)}build(e){if(e=qt(e),e.length<this.rank+2)throw new U(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const t=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[t]==null||e[t]<0)throw new U(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);const r=e[t],o=this.kernelSize.concat([r,this.depthMultiplier]),i=[];for(let s=0;s<this.rank;++s)i.push(1);i.push(r*this.depthMultiplier,this.filters);const a=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",o,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,a,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,a,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,a,this.biasConstraint):this.bias=null,this.inputSpec=[new sr({ndim:this.rank+2,axes:{[t]:r}})],this.built=!0}call(e,t){return ee(()=>{e=ft(e);let r;if(this.rank===1)throw new kt("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=Ut(e,[0,2,3,1])),r=AJ(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=Za(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),this.dataFormat==="channelsFirst"&&(r=Ut(r,[0,3,1,2])),r})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Ln(this.depthwiseInitializer),e.pointwiseInitializer=Ln(this.pointwiseInitializer),e.depthwiseRegularizer=yn(this.depthwiseRegularizer),e.pointwiseRegularizer=yn(this.pointwiseRegularizer),e.depthwiseConstraint=lr(this.depthwiseConstraint),e.pointwiseConstraint=lr(this.pointwiseConstraint),e}}Nee.className="SeparableConv";class Oee extends Nee{constructor(e){super(2,e)}}Oee.className="SeparableConv2D";xe(Oee);class ik extends ag{constructor(e){super(1,e),ik.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!fN(e.kernelSize,"number",1,1))throw new U(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}ik.className="Conv1D";xe(ik);class Fee extends Lt{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return ee(()=>{if(e=ft(e),this.dataFormat==="channelsLast"){const r=z1(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return z1(r,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const r=z1(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return z1(r,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}Fee.className="Cropping2D";xe(Fee);class Bee extends Lt{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Xn(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,i7e(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const t=e[2]==null?null:this.size[0]*e[2],r=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],t,r]}else{const t=e[1]==null?null:this.size[0]*e[1],r=e[2]==null?null:this.size[1]*e[2];return[e[0],t,r,e[3]]}}call(e,t){return ee(()=>{let r=ft(e);const o=r.shape;if(this.dataFormat==="channelsFirst"){r=Ut(r,[0,2,3,1]);const i=this.size[0]*o[2],a=this.size[1]*o[3],s=this.interpolation==="nearest"?gl.resizeNearestNeighbor(r,[i,a]):gl.resizeBilinear(r,[i,a]);return Ut(s,[0,3,1,2])}else{const i=this.size[0]*o[1],a=this.size[1]*o[2];return this.interpolation==="nearest"?gl.resizeNearestNeighbor(r,[i,a]):gl.resizeBilinear(r,[i,a])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}Bee.className="UpSampling2D";xe(Bee);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function $8e(n,e,t=[1,1],r="valid",o,i){return ee(()=>{o==null&&(o=Ua()),Xn(o);let a=TN(n,o);if(n.rank!==4)throw new U(`Input for depthwiseConv2d is required to be 4-D, but is instead ${n.rank}-D`);if(e.rank!==4)throw new U(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return a=lL(a,e,t,r==="same"?"same":"valid","NHWC",i),o==="channelsFirst"&&(a=Ut(a,[0,3,1,2])),a})}class zee extends ok{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=Dn(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=ur(e.depthwiseConstraint),this.depthwiseRegularizer=Rn(e.depthwiseRegularizer)}build(e){if(e=qt(e),e.length<4)throw new U(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const t=this.dataFormat==="channelsFirst"?1:3;if(e[t]==null||e[t]<0)throw new U(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);const r=e[t],o=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",o,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return ee(()=>{e=ft(e);let r=$8e(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=Za(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),r})}computeOutputShape(e){e=qt(e);const t=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],o=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=Fa(t,this.kernelSize[0],this.padding,this.strides[0]),a=Fa(r,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],o,i,a]:[e[0],i,a,o]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Ln(this.depthwiseInitializer),e.depthwiseRegularizer=yn(this.depthwiseRegularizer),e.depthwiseConstraint=lr(this.depthwiseRegularizer),e}}zee.className="DepthwiseConv2D";xe(zee);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Vee(n,e,t,r){if(Array.isArray(n)){if(e!=null||t!=null)throw new U("When inputs is an array, neither initialState or constants should be provided");r!=null&&(t=n.slice(n.length-r,n.length),n=n.slice(0,n.length-r)),n.length>1&&(e=n.slice(1,n.length)),n=n[0]}function o(i){return i==null||Array.isArray(i)?i:[i]}return e=o(e),t=o(t),{inputs:n,initialState:e,constants:t}}function Gee(n,e,t,r=!1,o,i,a=!1,s=!1){return ee(()=>{const l=e.shape.length;if(l<3)throw new U(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat(Ha(2,l));e=Ut(e,u),a&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),o!=null&&(o=Be(Be(o,"bool"),"float32"),o.rank===l-1&&(o=ko(o,-1)),o=Ut(o,u)),r&&(e=rh(e,0),o!=null&&(o=rh(o,0)));const c=[];let d,h=t;const f=e.shape[0],p=oh(e);let g;o!=null&&(g=oh(o));for(let m=0;m<f;++m){const y=p[m],b=ee(()=>n(y,h));if(o==null)d=b[0],h=b[1];else{const w=ee(()=>{const x=g[m],S=ht(aa(x),x),C=Ae(X(b[0],x),X(h[0],S)),k=h.map((_,I)=>Ae(X(b[1][I],x),X(_,S)));return{output:C,newStates:k}});d=w.output,h=w.newStates}s&&c.push(d)}let v;return s&&(v=Rl(c,1)),[d,v,h]})}class cc extends Lt{constructor(e){super(e);let t;if(e.cell==null)throw new U("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?t=new RN({cells:e.cell}):t=e.cell,t.stateSize==null)throw new U("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new sr({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return Ha(0,e).map(t=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){wR(e)&&(e=e[0]),e=e;let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const r=t[0];let o;if(this.returnSequences?o=[e[0],e[1],r]:o=[e[0],r],this.returnState){const i=[];for(const a of t)i.push([e[0],a]);return[o].concat(i)}else return o}computeMask(e,t){return ee(()=>{Array.isArray(t)&&(t=t[0]);const r=this.returnSequences?t:null;if(this.returnState){const o=this.states.map(i=>null);return[r].concat(o)}else return r})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let r=0;r<e;++r)t.push(null);return t}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new kt("Constants support is not implemented in RNN yet.");wR(e)&&(e=e[0]),e=e;const t=this.stateful?e[0]:null,r=e.slice(2);this.inputSpec[0]=new sr({shape:[t,null,...r]});const o=[e[0]].concat(e.slice(2));this.cell.build(o);let i;if(Array.isArray(this.cell.stateSize)?i=this.cell.stateSize:i=[this.cell.stateSize],this.stateSpec!=null){if(!an(this.stateSpec.map(a=>a.shape[a.shape.length-1]),i))throw new U(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=i.map(a=>new sr({shape:[null,a]}));this.stateful&&this.resetStates()}resetStates(e,t=!1){ee(()=>{if(!this.stateful)throw new ps("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(r==null)throw new U("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(o=>gr([r,o])):this.states_=[gr([r,this.cell.stateSize])];else if(e==null)Dt(this.states_),this.keptStates!=null&&(Dt(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(o=>gr([r,o])):this.states_[0]=gr([r,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new U(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t===!0?this.keptStates.push(this.states_.slice()):Dt(this.states_);for(let o=0;o<this.states_.length;++o){const i=e[o],a=Array.isArray(this.cell.stateSize)?this.cell.stateSize[o]:this.cell.stateSize,s=[r,a];if(!an(i.shape,s))throw new U(`State ${o} is incompatible with layer ${this.name}: expected shape=${s}, received shape=${i.shape}`);this.states_[o]=i}}this.states_=this.states_.map(o=>Es(o.clone()))})}apply(e,t){let r=t==null?null:t.initialState,o=t==null?null:t.constants;t==null&&(t={});const i=Vee(e,r,o,this.numConstants);e=i.inputs,r=i.initialState,o=i.constants;let a=[],s=[];if(r!=null){t.initialState=r,a=a.concat(r),this.stateSpec=[];for(const u of r)this.stateSpec.push(new sr({shape:u.shape}));s=s.concat(this.stateSpec)}if(o!=null&&(t.constants=o,a=a.concat(o),this.numConstants=o.length),a[0]instanceof Us){const u=[e].concat(a),c=this.inputSpec.concat(s),d=this.inputSpec;this.inputSpec=c;const h=super.apply(u,t);return this.inputSpec=d,h}else return super.apply(e,t)}call(e,t){return ee(()=>{const r=t==null?null:t.mask,o=t==null?null:t.training;let i=t==null?null:t.initialState;e=ft(e),i==null&&(this.stateful?i=this.states_:i=this.getInitialState(e));const a=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==a)throw new U(`RNN Layer has ${a} state(s) but was passed ${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const s={training:o},u=Gee((p,g)=>{const v=this.cell.call([p].concat(g),s);return[v[0],v.slice(1)]},e,i,this.goBackwards,r,null,this.unroll,this.returnSequences),c=u[0],d=u[1],h=u[2];this.stateful&&this.resetStates(h,o);const f=this.returnSequences?d:c;return this.returnState?[f].concat(h):f})}getInitialState(e){return ee(()=>{let t=gr(e.shape);return t=nt(t,[1,2]),t=sb(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?yR(t,[1,r]):t):this.cell.stateSize>1?[yR(t,[1,this.cell.stateSize])]:[t]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(t.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===cc.className&&(t.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),e),t)}static fromConfig(e,t,r={}){const o=t.cell,i=Ls(o,r);return new e(Object.assign(t,{cell:i}))}}cc.className="RNN";xe(cc);class ak extends Lt{}class AN extends ak{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,wr(this.units,"units"),this.activation=Uu(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Dn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Dn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Dn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Rn(e.kernelRegularizer),this.recurrentRegularizer=Rn(e.recurrentRegularizer),this.biasRegularizer=Rn(e.biasRegularizer),this.kernelConstraint=ur(e.kernelConstraint),this.recurrentConstraint=ur(e.recurrentConstraint),this.biasConstraint=ur(e.biasConstraint),this.dropout=yp([1,Wu([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=yp([1,Wu([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=qt(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return ee(()=>{if(e=e,e.length!==2)throw new U(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];const o=t.training==null?!1:t.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ju({ones:()=>aa(e),rate:this.dropout,training:o,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ju({ones:()=>aa(r),rate:this.recurrentDropout,training:o,dropoutFunc:this.dropoutFunc}));let i;const a=this.dropoutMask,s=this.recurrentDropoutMask;a!=null?i=Ms(X(e,a),this.kernel.read()):i=Ms(e,this.kernel.read()),this.bias!=null&&(i=Za(i,this.bias.read())),s!=null&&(r=X(r,s));let l=Ae(i,Ms(r,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Hu(this.activation),useBias:this.useBias,kernelInitializer:Ln(this.kernelInitializer),recurrentInitializer:Ln(this.recurrentInitializer),biasInitializer:Ln(this.biasInitializer),kernelRegularizer:yn(this.kernelRegularizer),recurrentRegularizer:yn(this.recurrentRegularizer),biasRegularizer:yn(this.biasRegularizer),activityRegularizer:yn(this.activityRegularizer),kernelConstraint:lr(this.kernelConstraint),recurrentConstraint:lr(this.recurrentConstraint),biasConstraint:lr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}AN.className="SimpleRNNCell";xe(AN);class Wee extends cc{constructor(e){e.cell=new AN(e),super(e)}call(e,t){return ee(()=>{this.cell.dropoutMask!=null&&(Dt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Dt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=t==null?null:t.mask,o=t==null?null:t.training,i=t==null?null:t.initialState;return super.call(e,{mask:r,training:o,initialState:i})})}static fromConfig(e,t){return new e(t)}}Wee.className="SimpleRNN";xe(Wee);class DN extends ak{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new U("GRUCell does not support reset_after parameter set to true.");this.units=e.units,wr(this.units,"units"),this.activation=Uu(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Uu(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Dn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Dn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Dn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Rn(e.kernelRegularizer),this.recurrentRegularizer=Rn(e.recurrentRegularizer),this.biasRegularizer=Rn(e.biasRegularizer),this.kernelConstraint=ur(e.kernelConstraint),this.recurrentConstraint=ur(e.recurrentConstraint),this.biasConstraint=ur(e.biasConstraint),this.dropout=yp([1,Wu([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=yp([1,Wu([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=qt(e);const t=e[e.length-1];this.kernel=this.addWeight("kernel",[t,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return ee(()=>{if(e=e,e.length!==2)throw new U(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const r=t.training==null?!1:t.training;let o=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ju({ones:()=>aa(e),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ju({ones:()=>aa(o),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;let s,l,u;0<this.dropout&&this.dropout<1&&(e=X(e,i[0]));let c=Ms(e,this.kernel.read());this.useBias&&(c=Za(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(o=X(o,a[0]));const d=this.recurrentKernel.read(),[h,f]=wi(d,[2*this.units,this.units],d.rank-1),p=Ms(o,h),[g,v,m]=wi(c,3,c.rank-1),[y,b]=wi(p,2,p.rank-1);s=this.recurrentActivation.apply(Ae(g,y)),l=this.recurrentActivation.apply(Ae(v,b));const w=Ms(X(l,o),f);u=this.activation.apply(Ae(m,w));const x=Ae(X(s,o),X(Ae(1,Hn(s)),u));return[x,x]})}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Hu(this.activation),recurrentActivation:Hu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ln(this.kernelInitializer),recurrentInitializer:Ln(this.recurrentInitializer),biasInitializer:Ln(this.biasInitializer),kernelRegularizer:yn(this.kernelRegularizer),recurrentRegularizer:yn(this.recurrentRegularizer),biasRegularizer:yn(this.biasRegularizer),activityRegularizer:yn(this.activityRegularizer),kernelConstraint:lr(this.kernelConstraint),recurrentConstraint:lr(this.recurrentConstraint),biasConstraint:lr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}DN.className="GRUCell";xe(DN);class Hee extends cc{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new DN(e),super(e)}call(e,t){return ee(()=>{this.cell.dropoutMask!=null&&(Dt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Dt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=t==null?null:t.mask,o=t==null?null:t.training,i=t==null?null:t.initialState;return super.call(e,{mask:r,training:o,initialState:i})})}static fromConfig(e,t){return t.implmentation===0&&(t.implementation=1),new e(t)}}Hee.className="GRU";xe(Hee);class sk extends ak{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,wr(this.units,"units"),this.activation=Uu(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Uu(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Dn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Dn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Dn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Rn(e.kernelRegularizer),this.recurrentRegularizer=Rn(e.recurrentRegularizer),this.biasRegularizer=Rn(e.biasRegularizer),this.kernelConstraint=ur(e.kernelConstraint),this.recurrentConstraint=ur(e.recurrentConstraint),this.biasConstraint=ur(e.biasConstraint),this.dropout=yp([1,Wu([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=yp([1,Wu([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;e=qt(e);const r=e[e.length-1];this.kernel=this.addWeight("kernel",[r,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let o;if(this.useBias){if(this.unitForgetBias){const i=this.biasInitializer,a=this.units;o=new(t=class extends fa{apply(l,u){const c=i.apply([a]),d=new gN().apply([a]),h=i.apply([a*2]);return L7(L7(c,d),h)}},t.className="CustomInit",t)}else o=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,o,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return ee(()=>{const r=t.training==null?!1:t.training;if(e=e,e.length!==3)throw new U(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let o=e[1];const i=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ju({ones:()=>aa(e),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ju({ones:()=>aa(o),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,s=this.recurrentDropoutMask;let l,u,c,d;0<this.dropout&&this.dropout<1&&(e=X(e,a[0]));let h=Ms(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(o=X(o,s[0])),h=Ae(h,Ms(o,this.recurrentKernel.read())),this.useBias&&(h=Za(h,this.bias.read()));const[f,p,g,v]=wi(h,4,h.rank-1);l=this.recurrentActivation.apply(f),u=this.recurrentActivation.apply(p),c=Ae(X(u,i),X(l,this.activation.apply(g))),d=this.recurrentActivation.apply(v);const m=X(d,this.activation.apply(c));return[m,m,c]})}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Hu(this.activation),recurrentActivation:Hu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ln(this.kernelInitializer),recurrentInitializer:Ln(this.recurrentInitializer),biasInitializer:Ln(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:yn(this.kernelRegularizer),recurrentRegularizer:yn(this.recurrentRegularizer),biasRegularizer:yn(this.biasRegularizer),activityRegularizer:yn(this.activityRegularizer),kernelConstraint:lr(this.kernelConstraint),recurrentConstraint:lr(this.recurrentConstraint),biasConstraint:lr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}sk.className="LSTMCell";xe(sk);class Uee extends cc{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new sk(e),super(e)}call(e,t){return ee(()=>{this.cell.dropoutMask!=null&&(Dt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Dt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=t==null?null:t.mask,o=t==null?null:t.training,i=t==null?null:t.initialState;return super.call(e,{mask:r,training:o,initialState:i})})}static fromConfig(e,t){return t.implmentation===0&&(t.implementation=1),new e(t)}}Uee.className="LSTM";xe(Uee);class RN extends ak{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return ee(()=>{e=e;let r=e.slice(1);const o=[];for(const s of this.cells.slice().reverse())Array.isArray(s.stateSize)?o.push(r.splice(0,s.stateSize.length)):o.push(r.splice(0,1));o.reverse();const i=[];let a;for(let s=0;s<this.cells.length;++s){const l=this.cells[s];r=o[s],s===0?a=[e[0]].concat(r):a=[a[0]].concat(r),a=l.call(a,t),i.push(a.slice(1))}r=[];for(const s of i.slice().reverse())r.push(...s);return[a[0]].concat(r)})}build(e){wR(e)&&(e=e[0]),e=e;let t;this.cells.forEach((r,o)=>{Md(`RNNCell_${o}`,()=>{r.build(e),Array.isArray(r.stateSize)?t=r.stateSize[0]:t=r.stateSize,e=[e[0],t]})}),this.built=!0}getConfig(){const e=super.getConfig(),t=i=>({className:i.getClassName(),config:i.getConfig()}),o={cells:this.cells.map(t)};return Object.assign(Object.assign({},e),o)}static fromConfig(e,t,r={}){const o=[];for(const i of t.cells)o.push(Ls(i,r));return new e({cells:o})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const r of this.cells)t.push(...r.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return xR(e)}setWeights(e){const t=[];for(const r of this.cells){const o=r.weights.length,i=e.splice(o);for(let a=0;a<r.weights.length;++a)t.push([r.weights[a],i[a]])}SN(t)}}RN.className="StackedRNNCells";xe(RN);function ju(n){const{ones:e,rate:t,training:r=!1,count:o=1,dropoutFunc:i}=n,a=()=>i!=null?i(e(),t):NQ(e(),t),s=()=>ub(a,e,r);return!o||o<=1?Es(s().clone()):Array(o).fill(void 0).map(s).map(u=>Es(u.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var P8e=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};class jee extends cc{constructor(e){if(e.unroll)throw new kt("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new kt("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new sr({ndim:5})]}call(e,t){return ee(()=>{if(this.cell.dropoutMask!=null&&(Dt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Dt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new U("ConvRNN2D cell does not support constants");const r=t==null?null:t.mask,o=t==null?null:t.training,i=t==null?null:t.initialState;return super.call(e,{mask:r,training:o,initialState:i})})}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return ee(()=>{const{stateSize:t}=this.cell,r=e.shape,o=this.computeSingleOutputShape(r),i=[o[0],...o.slice(2)],a=gr(i);return Array.isArray(t)?Array(t.length).fill(a):[a]})}resetStates(e,t=!1){ee(()=>{if(!this.stateful)throw new ps("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,o=this.computeSingleOutputShape(r),i=[o[0],...o.slice(2)];if(r[0]==null)throw new U("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>gr(i)):this.states_=[gr(i)];else if(e==null)Dt(this.states_),this.keptStates!=null&&(Dt(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>gr(i)):this.states_[0]=gr(i);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new U(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t?this.keptStates.push(this.states_.slice()):Dt(this.states_);for(let s=0;s<this.states_.length;++s){const l=e[s],u=i;if(!an(l.shape,u))throw new U(`State ${s} is incompatible with layer ${this.name}: expected shape=${u}, received shape=${l.shape}`);this.states_[s]=l}}this.states_=this.states_.map(s=>Es(s.clone()))})}computeSingleOutputShape(e){const{dataFormat:t,filters:r,kernelSize:o,padding:i,strides:a,dilationRate:s}=this.cell,l=t==="channelsFirst",u=e[l?3:2],c=e[l?4:3],d=Fa(u,o[0],i,a[0],s[0]),h=Fa(c,o[1],i,a[1],s[1]);return[...e.slice(0,2),...l?[r,d,h]:[d,h,r]]}}jee.className="ConvRNN2D";class EN extends sk{constructor(e){const{filters:t,kernelSize:r,strides:o,padding:i,dataFormat:a,dilationRate:s}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,wr(this.filters,"filters"),this.kernelSize=Yf(r,2,"kernelSize"),this.kernelSize.forEach(l=>wr(l,"kernelSize")),this.strides=Yf(o||1,2,"strides"),this.strides.forEach(l=>wr(l,"strides")),this.padding=i||"valid",Ti(this.padding),this.dataFormat=a||"channelsLast",Xn(this.dataFormat),this.dilationRate=Yf(s||1,2,"dilationRate"),this.dilationRate.forEach(l=>wr(l,"dilationRate"))}build(e){var t;e=qt(e);const r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new U(`The channel dimension of the input should be defined. Found ${e[r]}`);const o=e[r],i=4,a=this.kernelSize.concat([o,this.filters*i]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const s=this.kernelSize.concat([this.filters,this.filters*i]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",s,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const u=this.biasInitializer,c=this.filters;l=new(t=class extends fa{apply(h,f){const p=u.apply([c]),g=lc([c]),v=u.apply([c*2]);return pN([p,g,v])}},t.className="CustomInit",t)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*i],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return ee(()=>{if(e.length!==3)throw new U(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const r=t.training||!1,o=e[0],i=e[1],a=e[2],s=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ju({ones:()=>aa(o),rate:this.dropout,training:r,count:s,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,u=(V,W,j)=>!W||!W[j]?V:X(W[j],V);let c=u(o,l,0),d=u(o,l,1),h=u(o,l,2),f=u(o,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ju({ones:()=>aa(i),rate:this.recurrentDropout,training:r,count:s,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let g=u(i,p,0),v=u(i,p,1),m=u(i,p,2),y=u(i,p,3);const b=3,[w,x,S,C]=wi(this.kernel.read(),s,b),[k,_,I,T]=this.useBias?wi(this.bias.read(),s):[null,null,null,null];c=this.inputConv(c,w,k,this.padding),d=this.inputConv(d,x,_,this.padding),h=this.inputConv(h,S,I,this.padding),f=this.inputConv(f,C,T,this.padding);const[A,D,E,$]=wi(this.recurrentKernel.read(),s,b);g=this.recurrentConv(g,A),v=this.recurrentConv(v,D),m=this.recurrentConv(m,E),y=this.recurrentConv(y,$);const P=this.recurrentActivation.apply(Ae(c,g)),N=this.recurrentActivation.apply(Ae(d,v)),M=Ae(X(N,a),X(P,this.activation.apply(Ae(h,m)))),L=X(this.recurrentActivation.apply(Ae(f,y)),this.activation.apply(M));return[L,L,M]})}getConfig(){const e=super.getConfig(),t=P8e(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},t),r)}inputConv(e,t,r,o){const i=th(e,t,this.strides,o||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return r?Za(i,r,this.dataFormat):i}recurrentConv(e,t){return th(e,t,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}EN.className="ConvLSTM2DCell";xe(EN);class Kee extends jee{constructor(e){const t=new EN(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}}Kee.className="ConvLSTM2D";xe(Kee);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class lk extends Lt{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const t=e.shape,r=[];for(let o=0;o<this.noiseShape.length;++o)r.push(this.noiseShape[o]==null?t[o]:this.noiseShape[o]);return r}call(e,t){return ee(()=>{this.invokeCallHook(e,t);const r=ft(e);if(0<this.rate&&this.rate<1){const o=t.training==null?!1:t.training,i=this.getNoiseShape(r);return ub(()=>NQ(r,this.rate,i,this.seed),()=>r,o)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}lk.className="Dropout";xe(lk);class Xee extends lk{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}Xee.className="SpatialDropout1D";xe(Xee);class $N extends Lt{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let t=null;e.batchSize!=null&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,wr(this.units,"units"),this.activation=Uu(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=Dn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=Dn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=ur(e.kernelConstraint),this.biasConstraint=ur(e.biasConstraint),this.kernelRegularizer=Rn(e.kernelRegularizer),this.biasRegularizer=Rn(e.biasRegularizer),this.activityRegularizer=Rn(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=qt(e);const t=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){e=qt(e);const t=e.slice();return t[t.length-1]=this.units,t}call(e,t){return ee(()=>{this.invokeCallHook(e,t);const r=ft(e),o=DQ(this.activation.getClassName());let i;return o!=null?i=Ms(r,this.kernel.read(),o,this.bias?this.bias.read():null):(i=Ms(r,this.kernel.read()),this.bias!=null&&(i=Za(i,this.bias.read())),this.activation!=null&&(i=this.activation.apply(i))),i})}getConfig(){const e={units:this.units,activation:Hu(this.activation),useBias:this.useBias,kernelInitializer:Ln(this.kernelInitializer),biasInitializer:Ln(this.biasInitializer),kernelRegularizer:yn(this.kernelRegularizer),biasRegularizer:yn(this.biasRegularizer),activityRegularizer:yn(this.activityRegularizer),kernelConstraint:lr(this.kernelConstraint),biasConstraint:lr(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}$N.className="Dense";xe($N);class PN extends Lt{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=qt(e);for(const t of e.slice(1))if(t==null)throw new U(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Mu(e,1)]}call(e,t){return ee(()=>{this.invokeCallHook(e,t);let r=ft(e);if(this.dataFormat==="channelsFirst"&&r.rank>1){const o=[0];for(let i=2;i<r.rank;++i)o.push(i);o.push(1),r=Ut(r,o)}return d7e(r)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}PN.className="Flatten";xe(PN);class qee extends Lt{constructor(e){super(e),this.supportsMasking=!0,this.activation=Uu(e.activation)}call(e,t){return ee(()=>{this.invokeCallHook(e,t);const r=ft(e);return this.activation.apply(r)})}getConfig(){const e={activation:Hu(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}qee.className="Activation";xe(qee);class Yee extends Lt{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return ee(()=>(e=ft(e),u7e(e,this.n)))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}Yee.className="RepeatVector";xe(Yee);class Zee extends Lt{constructor(e){super(e),this.targetShape=e.targetShape;for(let t=0;t<this.targetShape.length;++t)this.isUnknown(this.targetShape[t])&&(this.targetShape[t]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,t){const r="Total size of new array must be unchanged.",o=t.slice();let i=1,a=null;for(let l=0;l<o.length;++l){const u=o[l];if(this.isUnknown(u))if(a===null)a=l;else throw new U("Can only specifiy one unknown dimension.");else i*=u}const s=Mu(e);if(a!==null){if(i===0||s%i!==0)throw new U(r);o[a]=s/i}else if(s!==i)throw new U(r);return o}computeOutputShape(e){let t=!1;for(let r=0;r<e.length;++r)if(this.isUnknown(e[r])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return ee(()=>{this.invokeCallHook(e,t);const r=ft(e),o=r.shape,i=o.slice(0,1).concat(this.fixUnknownDimension(o.slice(1),this.targetShape));return Y(r,i)})}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}Zee.className="Reshape";xe(Zee);class Jee extends Lt{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const t=Ha(1,e.dims.length+1);if(!an(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new sr({ndim:this.dims.length+1})]}computeOutputShape(e){e=qt(e);const t=e.slice();return this.dims.forEach((r,o)=>{t[o+1]=e[r]}),t}call(e,t){return Ut(ft(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}Jee.className="Permute";xe(Jee);class Qee extends Lt{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const r=ft(e);return dR(eS(r,this.maskValue),-1)}call(e,t){return ee(()=>{this.invokeCallHook(e,t);const r=ft(e),a=dR(eS(r,this.maskValue),-1,!0);return X(r,Be(a,r.dtype))})}}Qee.className="Masking";xe(Qee);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ete extends Lt{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let t=null;e.batchSize!=null&&(t=e.batchSize),e.inputLength==null?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(un(e.inputLength))}this.inputDim=e.inputDim,wr(this.inputDim,"inputDim"),this.outputDim=e.outputDim,wr(this.outputDim,"outputDim"),this.embeddingsInitializer=Dn(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Rn(e.embeddingsRegularizer),this.activityRegularizer=Rn(e.activityRegularizer),this.embeddingsConstraint=ur(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return ee(()=>this.maskZero?(e=ft(e),eS(e,jt(e))):null)}computeOutputShape(e){if(e=qt(e),this.inputLength==null)return[...e,this.outputDim];const t=un(this.inputLength);if(t.length!==e.length-1)throw new U(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let r=0;for(let o=0;o<t.length;++o){const i=t[o],a=e[o+1];if(i!=null&&a!=null&&i!==a)throw new U(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);i==null&&(t[r]=a),r++}}return[e[0],...t,this.outputDim]}call(e,t){return ee(()=>{this.invokeCallHook(e,t);let r=ft(e);r.dtype!=="int32"&&(r=Ps(r,"int32"));const o=LQ(this.embeddings.read(),Y(r,[r.size]));return Y(o,qt(this.computeOutputShape(r.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Ln(this.embeddingsInitializer),embeddingsRegularizer:yn(this.embeddingsRegularizer),activityRegularizer:yn(this.activityRegularizer),embeddingsConstraint:lr(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}ete.className="Embedding";xe(ete);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Dh extends Lt{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new kt}computeElementwiseOpOutputShape(e,t){if(e==null||t==null)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(t.length===0)return e;const r=e.slice(0,e.length-t.length);for(let o=0;o<t.length;++o){const i=e[e.length-t.length+o],a=t[o];if(i==null||a==null||i<0||a<0)r.push(null);else if(i===1)r.push(a);else if(a===1)r.push(i);else{if(i!==a)throw new U("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));r.push(i)}}return r}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[qt(e)]),e=e,e.length<2)throw new U(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let t=[];for(const i of e)i!=null&&i[0]!==null&&t.push(i[0]);if(t=Pu(t),t.length>1)throw new U(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let r=e[0]==null?null:e[0].slice(1);for(let i=1;i<e.length;++i){const a=e[i]==null?null:e[i].slice(1);r=this.computeElementwiseOpOutputShape(r,a)}const o=e.map(i=>i.length);e.indexOf(null)===-1&&Pu(o).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return ee(()=>{if(e=e,this.reshapeRequired){const r=[],o=e.map(i=>i.rank);if(o.indexOf(null)===-1){const i=Wu(o);for(let a of e){const s=a.rank;for(let l=0;l<i-s;++l)a=sb(a,1);r.push(a)}return this.mergeFunction(r)}else{let i=!1;for(const l of e){const u=l.rank;if(u==null){const c=l.shape,d=c[0],h=c.slice(1).concat([d]);let f=Y(l,[d].concat(Mu(c.slice(1))));f=Ut(f,[1,0]),f=Y(f,h),r.push(f),i=!0}else if(u>1){const c=Ha(1,u).concat([0]);r.push(Ut(l,c)),i=!0}else r.push(l)}let a=this.mergeFunction(r);const s=a.rank;if(i){if(s==null){const l=a.shape,u=l.length,c=l[u-1],d=[c].concat(l.slice(0,l.length-1));a=Y(Ut(Y(a,[-1,c]),[1,0]),d)}else if(s>1){const l=[s-1].concat(Ha(0,s-1));a=Ut(a,l)}}return a}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let t;e[0]==null?t=null:t=e[0].slice(1);for(let o=1;o<e.length;++o){const i=e[o]==null?null:e[o].slice(1);t=this.computeElementwiseOpOutputShape(t,i)}let r=[];for(const o of e)o!=null&&o[0]!==null&&r.push(o[0]);return r=Pu(r),r.length===1?t=r.concat(t):t=[null].concat(t),t}computeMask(e,t){return ee(()=>{if(t==null)return null;if(!Array.isArray(t))throw new U("`mask` should be an Array");if(!Array.isArray(e))throw new U("`inputs` should be an Array");if(t.length!==e.length)throw new U(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every(o=>o==null))return null;t=t.map(o=>o==null?o:ko(o,0));let r=t[0];for(let o=1;o<t.length-1;++o)r=Dl(r,t[o]);return r})}}class tte extends Dh{constructor(e){super(e)}mergeFunction(e){return ee(()=>{let t=e[0].clone();for(let r=1;r<e.length;++r)t=Ae(t,e[r]);return t})}}tte.className="Add";xe(tte);class nte extends Dh{constructor(e){super(e)}mergeFunction(e){return ee(()=>{let t=e[0].clone();for(let r=1;r<e.length;++r)t=X(t,e[r]);return t})}}nte.className="Multiply";xe(nte);class rte extends Dh{constructor(e){super(e)}mergeFunction(e){return ee(()=>{let t=e[0].clone();for(let r=1;r<e.length;++r)t=Ae(t,e[r]);return X(1/e.length,t)})}}rte.className="Average";xe(rte);class ote extends Dh{constructor(e){super(e)}mergeFunction(e){return ee(()=>{let t=e[0];for(let r=1;r<e.length;++r)t=sc(t,e[r]);return t})}}ote.className="Maximum";xe(ote);class ite extends Dh{constructor(e){super(e)}mergeFunction(e){return ee(()=>{let t=e[0];for(let r=1;r<e.length;++r)t=dy(t,e[r]);return t})}}ite.className="Minimum";xe(ite);class ate extends Dh{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new U("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let t=!0;for(const o of e)if(o!=null){t=!1;break}if(t)return;const r=[];for(let o=0;o<e.length;++o){const i=e[o].slice();i.splice(this.axis,1);let a=!1;for(const s of r)if(an(s,i)){a=!0;break}a||r.push(i)}if(r.length>1)throw new U("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return ee(()=>pN(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new U("A `Concatenate` layer should be called on a list of inputs.");const t=e,r=t[0].slice(),o=this.axis<0?r.length+this.axis:this.axis;for(const i of t.slice(1)){if(r[o]==null||i[o]==null){r[o]=null;break}r[o]+=i[o]}return r}computeMask(e,t){if(t==null)return null;if(!Array.isArray(t))throw new U("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new U("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new U(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return ee(()=>{let r=!0;if(t.forEach(a=>{if(a!=null){r=!1;return}}),r)return null;const o=[];for(let a=0;a<e.length;++a)t[a]==null?o.push(Be(aa(e[a]),"bool")):t[a].rank<e[a].rank?o.push(ko(t[a],-1)):o.push(t[a]);const i=Do(o,this.axis);return sJ(i,-1,!1)})}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}ate.className="Concatenate";xe(ate);function tv(n,e){for(;n<0;)n+=e;return n}function M8e(n,e,t){if(n.shape.length>3||e.shape.length>3)throw new kt("batchDot is not implemented for tensors of 4D or higher rank yet");if(O(n.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${n.shape.length}`),O(n.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof t=="number"&&(t=[t,t]),n.dtype==="complex64"||e.dtype==="complex64")throw new kt("batchDot is not implemented for complex64-type Tensors yet.");const r=n.shape.length,o=e.shape.length;t==null&&(t=[r-1,o-2]);const i=t;return ee(()=>{let a;if(r>o){a=r-o;const l=[];for(let u=0;u<a;++u)l.push(1);e=Y(e,e.shape.concat(l))}else if(o>r){a=o-r;const l=[];for(let u=0;u<a;++u)l.push(1);n=Y(n,n.shape.concat(l))}else a=0;let s;if(n.shape.length===2&&e.shape.length===2)i[0]===i[1]?s=nt(X(n,e),i[0]):s=nt(X(Ut(n,[1,0]),e),i[1]);else{const l=i[0]!==n.shape.length-1,u=i[1]===e.shape.length-1;s=Qt(n,e,l,u)}if(a>0){let l;r>o?l=r+o-3:l=r-1;const u=[];for(let c=l;c<l+a;++c)u.push(c);s=tb(s,u)}return s.shape.length===1&&(s=ko(s,1)),s})}class ste extends Dh{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){O(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const t=e[0],r=e[1];if(t.length>3||r.length>3)throw new kt("Dot layer does not support tensors of 4D or higher rank yet.");const o=this.interpretAxes(t,r);if(t[o[0]]!==r[o[1]])throw new U(`Dimension incompatibility: ${t[o[0]]} !== ${r[o[1]]}`)}mergeFunction(e){if(e.length!==2)throw new U(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let t=e[0],r=e[1],o;return Array.isArray(this.axes)?o=this.axes.map((i,a)=>tv(i,e[a].shape.length)):o=[tv(this.axes,t.shape.length),tv(this.axes,r.shape.length)],this.normalize&&(t=lS(t,o[0]),r=lS(r,o[1])),M8e(t,r,o)}interpretAxes(e,t){let r;return Array.isArray(this.axes)?r=this.axes:r=[tv(this.axes,e.length),tv(this.axes,t.length)],r}computeOutputShape(e){O(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const t=e[0].slice(),r=e[1].slice();if(t.length>3||r.length>3)throw new kt("Dot layer does not support tensors of 4D or higher rank yet.");const o=this.interpretAxes(t,r);t.splice(o[0],1),r.splice(o[1],1),r.splice(0,1);const i=t.concat(r);return i.length===1&&i.push(1),i}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}ste.className="Dot";xe(ste);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class lte extends Lt{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return ee(()=>{this.invokeCallHook(e,t);const r=ft(e);return ub(()=>Ae(ek(r.shape,0,this.stddev),r),()=>r,t.training||!1)})}}lte.className="GaussianNoise";xe(lte);class ute extends Lt{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return ee(()=>{this.invokeCallHook(e,t);const r=ft(e);return this.rate>0&&this.rate<1?ub(()=>{const i=Math.sqrt(this.rate/(1-this.rate));return X(r,ek(r.shape,1,i))},()=>r,t.training||!1):r})}}ute.className="GaussianDropout";xe(ute);class cte extends Lt{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||ft(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return ee(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(e);return ub(()=>{const i=ft(e),l=-1.6732632423543772*1.0507009873554805;let u=kh(eb(r),this.rate);u=Ps(u,"float32");const c=((1-this.rate)*(1+this.rate*l**2))**-.5,d=-c*l*this.rate,h=Ae(X(i,u),X(Ae(u,-1),l));return Ae(X(h,c),d)},()=>ft(e),t.training||!1)}return e})}}cte.className="AlphaDropout";xe(cte);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function gy(n,e,t,r,o,i=.001){let a;if(n.rank===2)a=r5e(n,e,t,r,o,i);else if(n.rank===3)a=i5e(n,e,t,r,o,i);else if(n.rank===4)a=s5e(n,e,t,r,o,i);else throw new kt(`batchNormalization is not implemented for array of rank ${n.rank} yet`);return a}function L8e(n,e,t,r,o=.001){return ee(()=>{const i=gL(n,r),a=i.mean,s=i.variance;return[gy(n,a,s,t,e,o),a,s]})}function N8e(n,e,t,r,o=.001){return ee(()=>{const i=gL(n,r),a=i.mean,s=i.variance,l=[];for(const p of Ha(0,n.rank))r.indexOf(p)!==-1?l.push(1):l.push(n.shape[p]);const u=Y(a,l),c=Y(s,l),d=e==null?null:Y(e,l),h=t==null?null:Y(t,l);return[gy(n,u,c,h,d,o),a,s]})}function O8e(n,e,t,r,o=.001){return an(r.slice().sort(),Ha(0,n.rank-1))?L8e(n,e,t,r,o):N8e(n,e,t,r,o)}class MN extends Lt{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Dn(e.betaInitializer||"zeros"),this.gammaInitializer=Dn(e.gammaInitializer||"ones"),this.movingMeanInitializer=Dn(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=Dn(e.movingVarianceInitializer||"ones"),this.betaConstraint=ur(e.betaConstraint),this.gammaConstraint=ur(e.gammaConstraint),this.betaRegularizer=Rn(e.betaRegularizer),this.gammaRegularizer=Rn(e.gammaRegularizer)}build(e){e=qt(e);const t=this.axis>=0?this.axis:this.axis+e.length,r=e[t];if(r==null)throw new U(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new sr({ndim:e.length,axes:{[t]:r}})];const o=[r];this.scale&&(this.gamma=this.addWeight("gamma",o,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",o,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",o,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",o,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return ee(()=>{const r=t.training==null?!1:t.training,o=ft(e),i=o.shape,a=i.length,s=Ha(0,a),l=this.axis>=0?this.axis:this.axis+a;s.splice(l,1);const u=ih(1,a);u[l]=i[l];const c=s.slice();c.sort();const d=!an(c,Ha(0,a).slice(0,a-1)),h=()=>{if(d){const y=Y(this.movingMean.read(),u),b=Y(this.movingVariance.read(),u),w=this.center?Y(this.beta.read(),u):null,x=this.scale?Y(this.gamma.read(),u):null;return gy(o,y,b,w,x,this.epsilon)}else return gy(o,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!r)return h();const[f,p,g]=O8e(o,this.gamma.read(),this.beta.read(),s,this.epsilon),v=(y,b,w)=>{ee(()=>{const x=1-w,S=y.read(),C=X(ht(S,b),x);y.write(ht(S,C))})};return(()=>{v(this.movingMean,p,this.momentum),v(this.movingVariance,g,this.momentum)})(),f})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Ln(this.betaInitializer),gammaInitializer:Ln(this.gammaInitializer),movingMeanInitializer:Ln(this.movingMeanInitializer),movingVarianceInitializer:Ln(this.movingVarianceInitializer),betaRegularizer:yn(this.betaRegularizer),gammaRegularizer:yn(this.gammaRegularizer),betaConstraint:lr(this.betaConstraint),gammaConstraint:lr(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}MN.className="BatchNormalization";xe(MN);class dte extends Lt{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const t of this.axis)if(!Number.isInteger(t))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Dn(e.betaInitializer||"zeros"),this.gammaInitializer=Dn(e.gammaInitializer||"ones"),this.betaRegularizer=Rn(e.betaRegularizer),this.gammaRegularizer=Rn(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=qt(e);const t=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let i=0;i<this.axis.length;++i)this.axis[i]<0&&(this.axis[i]+=t);for(const i of this.axis)if(i<0||i>=t)throw new Error(`Invalid axis: ${i}`);if(this.axis.length!==Pu(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(i=>e[i]),o=!0;this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,o):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,o):this.beta=null,this.built=!0}call(e,t){const r=ft(e),o=r.shape,i=o.length;return ee(()=>{let{mean:s,variance:l}=gL(r,this.axis,!0);const u=ih(1,i);for(const g of this.axis)u[g]=o[g];const c=g=>g!=null&&g.shape.length!==i?Y(g,u):g;let d=this.scale?c(this.gamma.read()):null,h=this.center?c(this.beta.read()):null;const f=[],p=[];for(let g=0;g<i;++g)this.axis.indexOf(g)!==-1?(f.push(o[g]),p.push(1)):(f.push(1),p.push(o[g]));return s=Ra(s,f),l=Ra(l,f),d!=null&&(d=Ra(d,p)),h!=null&&(h=Ra(h,p)),gy(r,s,l,h,d,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Ln(this.betaInitializer),gammaInitializer:Ln(this.gammaInitializer),betaRegularizer:yn(this.betaRegularizer),gammaRegularizer:yn(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}dte.className="LayerNormalization";xe(dte);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function F8e(n,e,t){return ee(()=>{if(n.rank!==4)throw new U(`temporalPadding expects input tensor to be 4-D, but received a ${n.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new U("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(t==null&&(t=Ua()),t!=="channelsLast"&&t!=="channelsFirst")throw new U(`Unknown data format: ${t}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return t==="channelsFirst"?r=[[0,0],[0,0],e[0],e[1]]:r=[[0,0],e[0],e[1],[0,0]],vL(n,r)})}class hte extends Lt{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?Ua():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new U(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let t,r;if(typeof e.padding[0]=="number")t=[e.padding[0],e.padding[0]],r=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new U(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],e.padding[1].length!==2)throw new U(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);r=e.padding[1]}this.padding=[t,r]}this.inputSpec=[new sr({ndim:4})]}computeOutputShape(e){e=qt(e);let t,r;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?t=e[2]+this.padding[0][0]+this.padding[0][1]:t=null,e[3]!=null&&e[3]>=0?r=e[3]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],e[1],t,r]):(e[1]!=null&&e[1]>=0?t=e[1]+this.padding[0][0]+this.padding[0][1]:t=null,e[2]!=null&&e[2]>=0?r=e[2]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],t,r,e[3]])}call(e,t){return ee(()=>F8e(ft(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}hte.className="ZeroPadding2D";xe(hte);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function uk(n,e,t,r,o,i){return ee(()=>{Xn(o),EQ(i),Ti(r),t==null&&(t=[1,1]),r==null&&(r="valid"),o==null&&(o=Ua()),i==null&&(i="max"),n=TN(n,o);let a;const s=r==="same"?"same":"valid";return i==="max"?a=pL(n,e,t,s):a=oL(n,e,t,s),o==="channelsFirst"&&(a=Ut(a,[0,3,1,2])),a})}function fte(n,e,t,r,o,i){return ee(()=>{Xn(o),EQ(i),Ti(r),t==null&&(t=[1,1,1]),r==null&&(r="valid"),o==null&&(o=Ua()),i==null&&(i="max"),n=Pee(n,o);let a;const s=r==="same"?"same":"valid";return i==="max"?a=U4e(n,e,t,s):a=KOe(n,e,t,s),o==="channelsFirst"&&(a=Ut(a,[0,4,1,2,3])),a})}class pte extends Lt{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new U(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(wr(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new U(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);wr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,Ti(this.padding),this.inputSpec=[new sr({ndim:3})]}computeOutputShape(e){e=qt(e);const t=Fa(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return ee(()=>{this.invokeCallHook(e,t),e=sb(ft(e),2);const r=this.poolingFunction(ft(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return tb(r,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class gte extends pte{constructor(e){super(e)}poolingFunction(e,t,r,o,i){return Xn(i),Ti(o),uk(e,t,r,o,i,"max")}}gte.className="MaxPooling1D";xe(gte);class vte extends pte{constructor(e){super(e)}poolingFunction(e,t,r,o,i){return Xn(i),Ti(o),uk(e,t,r,o,i,"avg")}}vte.className="AveragePooling1D";xe(vte);class mte extends Lt{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new U(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];wr(this.poolSize,"poolSize"),wr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Xn(this.dataFormat),Ti(this.padding),this.inputSpec=[new sr({ndim:4})]}computeOutputShape(e){e=qt(e);let t=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2];return t=Fa(t,this.poolSize[0],this.padding,this.strides[0]),r=Fa(r,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],t,r]:[e[0],t,r,e[3]]}call(e,t){return ee(()=>(this.invokeCallHook(e,t),this.poolingFunction(ft(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class LN extends mte{constructor(e){super(e)}poolingFunction(e,t,r,o,i){return Xn(i),Ti(o),uk(e,t,r,o,i,"max")}}LN.className="MaxPooling2D";xe(LN);class yte extends mte{constructor(e){super(e)}poolingFunction(e,t,r,o,i){return Xn(i),Ti(o),uk(e,t,r,o,i,"avg")}}yte.className="AveragePooling2D";xe(yte);class bte extends Lt{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new U(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];wr(this.poolSize,"poolSize"),wr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Xn(this.dataFormat),Ti(this.padding),this.inputSpec=[new sr({ndim:5})]}computeOutputShape(e){e=qt(e);let t=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],o=this.dataFormat==="channelsFirst"?e[4]:e[3];return t=Fa(t,this.poolSize[0],this.padding,this.strides[0]),r=Fa(r,this.poolSize[1],this.padding,this.strides[1]),o=Fa(o,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],t,r,o]:[e[0],t,r,o,e[4]]}call(e,t){return ee(()=>(this.invokeCallHook(e,t),this.poolingFunction(ft(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class wte extends bte{constructor(e){super(e)}poolingFunction(e,t,r,o,i){return Xn(i),Ti(o),fte(e,t,r,o,i,"max")}}wte.className="MaxPooling3D";xe(wte);class xte extends bte{constructor(e){super(e)}poolingFunction(e,t,r,o,i){return Xn(i),Ti(o),fte(e,t,r,o,i,"avg")}}xte.className="AveragePooling3D";xe(xte);class Ste extends Lt{constructor(e){super(e),this.inputSpec=[new sr({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new kt}}class Cte extends Ste{constructor(e){super(e||{})}call(e,t){return ee(()=>{const r=ft(e);return Jn(r,1)})}}Cte.className="GlobalAveragePooling1D";xe(Cte);class kte extends Ste{constructor(e){super(e||{})}call(e,t){return ee(()=>{const r=ft(e);return Oa(r,1)})}}kte.className="GlobalMaxPooling1D";xe(kte);class _te extends Lt{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Xn(this.dataFormat),this.inputSpec=[new sr({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new kt}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class Ite extends _te{call(e,t){return ee(()=>{const r=ft(e);return this.dataFormat==="channelsLast"?Jn(r,[1,2]):Jn(r,[2,3])})}}Ite.className="GlobalAveragePooling2D";xe(Ite);class Tte extends _te{call(e,t){return ee(()=>{const r=ft(e);return this.dataFormat==="channelsLast"?Oa(r,[1,2]):Oa(r,[2,3])})}}Tte.className="GlobalMaxPooling2D";xe(Tte);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Ate extends Lt{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t,r={}){const o=t.layer,i=Ls(o,r);delete t.layer;const a={layer:i};return Object.assign(a,t),new e(a)}}class Dte extends Ate{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=qt(e),e.length<3)throw new U(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=qt(e);const t=[e[0]].concat(e.slice(2)),r=this.layer.computeOutputShape(t),o=e[1];return[r[0],o].concat(r.slice(1))}call(e,t){return ee(()=>(e=ft(e),Gee((a,s)=>[ft(this.layer.call(a,t)),[]],e,[],!1,null,null,!1,!0)[1]))}}Dte.className="TimeDistributed";xe(Dte);function B8e(n){Ah(o7e,"BidirectionalMergeMode",n)}const z8e="concat";class Rte extends Ate{constructor(e){super(e);const t=e.layer.getConfig(),r={};r.className=e.layer.getClassName(),r.config=t,this.forwardLayer=Ls(r),t.goBackwards=t.goBackwards!==!0;const o={};if(o.className=e.layer.getClassName(),o.config=t,this.backwardLayer=Ls(o),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?z8e:e.mergeMode,B8e(this.mergeMode),e.weights)throw new kt("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,r=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,r)),this.backwardLayer.setWeights(e.slice(r))}computeOutputShape(e){let t=this.forwardLayer.computeOutputShape(e);Array.isArray(t)&&Array.isArray(t[0])||(t=[t]),t=t;let r,o,i;return this.returnState&&(i=t.slice(1)),r=t[0],r=r,this.mergeMode==="concat"?(r[r.length-1]*=2,o=[r]):this.mergeMode==null?o=[r,r.slice()]:o=[r],this.returnState?this.mergeMode==null?o.concat(i).concat(i.slice()):[r].concat(i).concat(i.slice()):_o(o)}apply(e,t){let r=t==null?null:t.initialState,o=t==null?null:t.constants;t==null&&(t={});const i=Vee(e,r,o,this.numConstants);if(e=i.inputs,r=i.initialState,o=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(r==null||r.length===0)&&o==null)return super.apply(e,t);const a=[],s=[];if(r!=null){const u=r.length;if(u%2>0)throw new U("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=r,a.push(...r);const c=r.map(d=>new sr({shape:d.shape}));this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),s.push(...c)}if(o!=null)throw new kt("Support for constants in Bidirectional layers is not implemented yet.");const l=a[0]instanceof Us;for(const u of a)if(u instanceof Us!==l)throw new U("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const u=[e].concat(a),c=this.inputSpec.concat(s),d=this.inputSpec;this.inputSpec=c;const h=super.apply(u,t);return this.inputSpec=d,h}else return super.apply(e,t)}call(e,t){return ee(()=>{const r=t.initialState;let o,i;if(r==null)o=this.forwardLayer.call(e,t),i=this.backwardLayer.call(e,t);else{const l=r.slice(0,r.length/2),u=r.slice(r.length/2);o=this.forwardLayer.call(e,Object.assign(t,{initialState:l})),i=this.backwardLayer.call(e,Object.assign(t,{initialState:u}))}let a;this.returnState&&(Array.isArray(o)&&(a=o.slice(1).concat(i.slice(1))),o=o[0],i=i[0]),this.returnSequences&&(i=rh(i,1));let s;return this.mergeMode==="concat"?s=pN([o,i]):this.mergeMode==="sum"?s=Ae(o,i):this.mergeMode==="ave"?s=X(.5,Ae(o,i)):this.mergeMode==="mul"?s=X(o,i):this.mergeMode==null&&(s=[o,i]),this.returnState?this.mergeMode==null?s.concat(a):[s].concat(a):s})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Md(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),Md(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,t){Array.isArray(t)&&(t=t[0]);let r;if(this.returnSequences?this.mergeMode==null?r=[t,t]:r=t:this.mergeMode==null?r=[null,null]:r=null,this.returnState){const i=this.forwardLayer.states.map(a=>null);return Array.isArray(r)?r.concat(i).concat(i):[r].concat(i).concat(i)}else return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const r=Ls(t.layer);if(delete t.layer,t.numConstants!=null)throw new kt("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const o=t;return o.layer=r,new e(o)}}Rte.className="Bidirectional";xe(Rte);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Ete extends Lt{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return ee(()=>(e=ft(e),e.dtype!=="float32"&&(e=Ps(e,"float32")),Ae(X(e,this.scale),this.offset)))}}Ete.className="Rescaling";xe(Ete);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:V8e,cropAndResize:G8e}=gl;class $te extends Lt{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,r,o,i,a,s,l){return ee(()=>{let u,c=!1;const d=t/a,h=r/s,f=(o+t)/a,p=(i+r)/s,g=[d,h,f,p],v=[];e.rank===3?(c=!0,u=Rl([e])):u=e;for(let x=0;x<u.shape[0];x++)v.push(g);const m=qv(v,[v.length,4]),y=hy(0,v.length,1,"int32"),w=G8e(u,m,y,[o,i],"nearest");return Ps(c?ft(oh(w)):w,l)})}upsize(e,t,r,o){return ee(()=>{const i=V8e(e,[t,r]);return Ps(i,o)})}call(e,t){return ee(()=>{const r=ft(e),o=r.dtype,i=r.shape,a=i[i.length-3],s=i[i.length-2];let l=0;a!==this.height&&(l=Math.floor((a-this.height)/2));let u=0;return s!==this.width&&(u=Math.floor((s-this.width)/2),u===0&&(u=1)),l>=0&&u>=0?this.centerCrop(r,l,u,this.height,this.width,a,s,o):this.upsize(e,this.height,this.width,o)})}getConfig(){const e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){e=qt(e);const t=e.length-3,r=e.length-2;return e[t]=this.height,e[r]=this.width,e}}$te.className="CenterCrop";xe($te);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function W8e(n,e,t,r){let o=ft(n);if(o.dtype!=="int32"&&(o=Ps(o,"int32")),e==="int")return o;const i=o.shape;if(o.rank===0&&(o=ko(o,-1)),e==="oneHot"&&o.shape[o.shape.length-1]!==1&&(o=ko(o,-1)),o.rank>2)throw new U(`When outputMode is not int, maximum output rank is 2 Received outputMode ${e} and input shape ${i} which would result in output rank ${o.rank}.`);const a=["multiHot","oneHot"].includes(e),s=o;let l;if(typeof r<"u"&&e==="count"?l=y7(s,r,t,a):l=y7(s,[],t,a),e!=="tfIdf")return l;if(r)return X(l,r);throw new U("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Pte extends Lt{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return e=qt(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return ee(()=>{e=ft(e),e.dtype!=="int32"&&(e=Ps(e,"int32"));let r;if(typeof t.countWeights<"u"){if(this.outputMode!=="count")throw new U(`countWeights is not used when outputMode !== count.
              Received countWeights=${t.countWeights}`);r=ft(t.countWeights)}const o=Oa(e),i=Jx(e),a=Ii(this.numTokens,o).bufferSync().get(0),s=kh(i,0).bufferSync().get(0);if(!(a&&s))throw new U(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return W8e(e,this.outputMode,this.numTokens,r)})}}Pte.className="CategoryEncoding";xe(Pte);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const H8e=["bilinear","nearest"],t8=new Set(H8e);class Mte extends Lt{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(t8.has(e.interpolation))this.interpolation=e.interpolation;else throw new U(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=qt(e);const t=e[2];return[this.height,this.width,t]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return ee(()=>{const r=[this.height,this.width];if(this.interpolation==="bilinear")return gl.resizeBilinear(e,r,!this.cropToAspectRatio);if(this.interpolation==="nearest")return gl.resizeNearestNeighbor(e,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...t8]} are supported`)})}}Mte.className="Resizing";xe(Mte);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Lte{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}}Lte.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Nte extends Lt{constructor(e){super(e),this.randomGenerator=new Lte(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}}Nte.className="BaseRandomLayer";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const U8e=["bilinear","nearest"],n8=new Set(U8e);class Ote extends Nte{constructor(e){super(e);const{factor:t,interpolation:r="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new U(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new U(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new U(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(r)if(n8.has(r))this.interpolation=r;else throw new U(`Invalid interpolation parameter: ${r} is not implemented`)}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){e=qt(e);const t=e[2];return[this.imgHeight,-1,t]}call(e,t){return ee(()=>{const r=ft(e);this.imgHeight=r.shape[r.shape.length-3];const o=r.shape[r.shape.length-2];this.widthFactor=eb([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let i=this.widthFactor.dataSync()[0]*o;i=Math.round(i);const a=[this.imgHeight,i];switch(this.interpolation){case"bilinear":return gl.resizeBilinear(e,a);case"nearest":return gl.resizeNearestNeighbor(e,a);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...n8]} are supported`)}})}}Ote.className="RandomWidth";xe(Ote);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function bT(n){return new sg(n)}function nv(n){return new $N(n)}function wT(n){return new lk(n)}function r8(n){return new PN(n)}function sf(n){return new MN(n)}function xT(n){return new LN(n)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j8e=re();j8e.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,n=>{n&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var o8;(function(n){n[n.DT_INVALID=0]="DT_INVALID",n[n.DT_FLOAT=1]="DT_FLOAT",n[n.DT_DOUBLE=2]="DT_DOUBLE",n[n.DT_INT32=3]="DT_INT32",n[n.DT_UINT8=4]="DT_UINT8",n[n.DT_INT16=5]="DT_INT16",n[n.DT_INT8=6]="DT_INT8",n[n.DT_STRING=7]="DT_STRING",n[n.DT_COMPLEX64=8]="DT_COMPLEX64",n[n.DT_INT64=9]="DT_INT64",n[n.DT_BOOL=10]="DT_BOOL",n[n.DT_QINT8=11]="DT_QINT8",n[n.DT_QUINT8=12]="DT_QUINT8",n[n.DT_QINT32=13]="DT_QINT32",n[n.DT_BFLOAT16=14]="DT_BFLOAT16",n[n.DT_QINT16=15]="DT_QINT16",n[n.DT_QUINT16=16]="DT_QUINT16",n[n.DT_UINT16=17]="DT_UINT16",n[n.DT_COMPLEX128=18]="DT_COMPLEX128",n[n.DT_HALF=19]="DT_HALF",n[n.DT_RESOURCE=20]="DT_RESOURCE",n[n.DT_VARIANT=21]="DT_VARIANT",n[n.DT_UINT32=22]="DT_UINT32",n[n.DT_UINT64=23]="DT_UINT64",n[n.DT_FLOAT_REF=101]="DT_FLOAT_REF",n[n.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",n[n.DT_INT32_REF=103]="DT_INT32_REF",n[n.DT_UINT8_REF=104]="DT_UINT8_REF",n[n.DT_INT16_REF=105]="DT_INT16_REF",n[n.DT_INT8_REF=106]="DT_INT8_REF",n[n.DT_STRING_REF=107]="DT_STRING_REF",n[n.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",n[n.DT_INT64_REF=109]="DT_INT64_REF",n[n.DT_BOOL_REF=110]="DT_BOOL_REF",n[n.DT_QINT8_REF=111]="DT_QINT8_REF",n[n.DT_QUINT8_REF=112]="DT_QUINT8_REF",n[n.DT_QINT32_REF=113]="DT_QINT32_REF",n[n.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",n[n.DT_QINT16_REF=115]="DT_QINT16_REF",n[n.DT_QUINT16_REF=116]="DT_QUINT16_REF",n[n.DT_UINT16_REF=117]="DT_UINT16_REF",n[n.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",n[n.DT_HALF_REF=119]="DT_HALF_REF",n[n.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",n[n.DT_VARIANT_REF=121]="DT_VARIANT_REF",n[n.DT_UINT32_REF=122]="DT_UINT32_REF",n[n.DT_UINT64_REF=123]="DT_UINT64_REF"})(o8||(o8={}));var i8;(function(n){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(n.CheckpointFormatVersion||(n.CheckpointFormatVersion={}))})(i8||(i8={}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var a8;(function(n){n[n.FAIL=0]="FAIL",n[n.SHORTEST=1]="SHORTEST",n[n.LONGEST=2]="LONGEST"})(a8||(a8={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ke(n,e){Array.isArray(n)||(n=[n]),n.forEach(t=>{t!=null&&O(t.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K8e=NJ;class ck extends aM{nextDataId(){return ck.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new oZ(this,us())}write(e,t,r){this.firstUse&&(this.firstUse=!1,re().get("IS_NODE")&&pi(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const o={id:this.nextDataId()};return this.data.set(o,{values:e,dtype:r,refCount:1}),o}makeTensorInfo(e,t,r){let o;if(t==="string"&&r!=null&&r.length>0&&n0(r[0])){const i=r.map(a=>$u(a));o=this.write(i,e,t)}else o=this.write(r,e,t);return{dataId:o,shape:e,dtype:t}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const t=this.data.get(e);t.refCount++}decRef(e){if(this.data.has(e)){const t=this.data.get(e);t.refCount--}}move(e,t,r,o,i){this.data.set(e,{values:t,dtype:o,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:r}=this.data.get(e);if(t==="complex64"){const o=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return El(o,i)}return qNe(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if(e.dtype==="string")try{const r=t.map(o=>Gu(o));return $t(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return $t(e.shape,e.dtype,t)}makeOutput(e,t,r){return us().makeTensorFromTensorInfo(this.makeTensorInfo(t,r,e),this)}disposeData(e,t=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=xo();return e(),{kernelMs:xo()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Ke([e],"where");const t=this.readSync(e.dataId);return K8e(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}ck.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fte(n){const e=new Float32Array(n.length);for(let t=0;t<n.length;++t)e[t]=Math.abs(n[t]);return e}const X8e=n=>{const{x:e}=n.inputs,t=n.backend;Ke(e,"abs");let r=new Float32Array(ue(e.shape));const o=t.data.get(e.dataId).values;return r=Fte(o),t.makeOutput(r,e.shape,e.dtype)},q8e={kernelName:GC,backendName:"cpu",kernelFunc:X8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qn(n){return(e,t,r,o,i)=>{const a=xt(e,t),s=a.length,l=tt(a),u=ue(a),c=Ur(i,u),d=e.length,h=t.length,f=tt(e),p=tt(t),g=vp(e,a),v=vp(t,a);if(g.length+v.length===0)for(let m=0;m<c.length;++m)c[m]=n(r[m%r.length],o[m%o.length]);else for(let m=0;m<c.length;++m){const y=Jp(m,s,l),b=y.slice(-d);g.forEach(C=>b[C]=0);const w=Rs(b,d,f),x=y.slice(-h);v.forEach(C=>x[C]=0);const S=Rs(x,h,p);c[m]=n(r[w],o[S])}return[c,a]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ko(n){const{inputs:e,backend:t}=n,{real:r,imag:o}=e,i=t.data.get(r.dataId).values,a=t.data.get(o.dataId).values,s=t.makeTensorInfo(r.shape,"complex64"),l=t.data.get(s.dataId);return l.complexTensorInfos={real:t.makeTensorInfo(r.shape,"float32",i),imag:t.makeTensorInfo(o.shape,"float32",a)},s}const Y8e={kernelName:bM,backendName:"cpu",kernelFunc:Ko};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pS(n,e,t="float32"){if(t==="complex64"){const o=pS(n,e,"float32"),i=pS(n,e,"float32");return Ko({inputs:{real:o,imag:i},backend:n})}const r=jr(ue(e),t);return n.makeTensorInfo(e,t,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function js(n){const{inputs:e,backend:t}=n,{x:r}=e;return t.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const Z8e={kernelName:C0,backendName:"cpu",kernelFunc:js};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ah(n){const{inputs:e,backend:t}=n,{input:r}=e,o=t.data.get(r.dataId).complexTensorInfos.real,i=t.data.get(o.dataId).values;return t.makeTensorInfo(o.shape,o.dtype,i)}const J8e={kernelName:WM,backendName:"cpu",kernelFunc:ah};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bte(n,e,t,r){if(r==="int32"){const o=Int32Array.from(n);return[e,"int32",o]}if(r==="bool"){const o=Ch([0],t),[i,a]=qn((s,l)=>s!==l?1:0)(e,[],n,o,"bool");return[a,"bool",i]}throw new Error(`Error in Cast: failed to cast ${t} to ${r}`)}function Ku(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{dtype:i}=r;if(i==="complex64"){if(o.dtype==="complex64")return js({inputs:{x:o},backend:t});const c=pS(t,o.shape,o.dtype),d=Ku({inputs:{x:o},backend:t,attrs:{dtype:"float32"}}),h=Ko({inputs:{real:d,imag:c},backend:t});return t.disposeIntermediateTensorInfo(c),t.disposeIntermediateTensorInfo(d),h}if(o.dtype==="complex64"){const c=ah({inputs:{input:o},backend:t}),d=Ku({inputs:{x:c},backend:t,attrs:{dtype:i}});return t.disposeIntermediateTensorInfo(c),d}if(!aZ(o.dtype,i)){const c=js({inputs:{x:o},backend:t});return{dataId:c.dataId,shape:c.shape,dtype:i}}const a=t.data.get(o.dataId).values,[s,l,u]=Bte(a,o.shape,o.dtype,i);return t.makeTensorInfo(s,l,u)}const Q8e={kernelName:c0,backendName:"cpu",kernelFunc:Ku};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dr(n,e,t,r){return t==null?({inputs:o,backend:i})=>{const{a,b:s}=o,l=i;Ke([a,s],n);const u=l.data.get(a.dataId).values,c=l.data.get(s.dataId).values,d=a.dtype==="string"?$l(u):u,h=a.dtype==="string"?$l(c):c,f=r||a.dtype,[p,g]=e(a.shape,s.shape,d,h,f);return l.makeTensorInfo(g,f,p)}:({inputs:o,backend:i})=>{const{a,b:s}=o,l=i;if(a.dtype==="complex64"||s.dtype==="complex64"){const u=Ku({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),c=l.data.get(u.dataId),d=c.complexTensorInfos.real,h=c.complexTensorInfos.imag,f=l.data.get(d.dataId).values,p=l.data.get(h.dataId).values,g=Ku({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),v=l.data.get(g.dataId),m=v.complexTensorInfos.real,y=v.complexTensorInfos.imag,b=l.data.get(m.dataId).values,w=l.data.get(y.dataId).values,[x,S,C]=t(a.shape,s.shape,f,p,b,w),k=l.makeTensorInfo(C,"float32",x),_=l.makeTensorInfo(C,"float32",S),I=Ko({inputs:{real:k,imag:_},backend:l});return l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(g),l.disposeIntermediateTensorInfo(k),l.disposeIntermediateTensorInfo(_),I}else{const u=l.data.get(a.dataId).values,c=l.data.get(s.dataId).values,d=r||a.dtype,[h,f]=e(a.shape,s.shape,u,c,d);return l.makeTensorInfo(f,d,h)}}}function NN(n){return(e,t,r,o,i,a)=>{const s=xt(e,t),l=ue(s),u=s.length,c=tt(s),d=Ur("float32",l),h=Ur("float32",l),f=vp(e,s),p=vp(t,s),g=El(r,o),v=El(i,a),m=e.length,y=tt(e),b=t.length,w=tt(t);if(f.length+p.length===0)for(let x=0;x<d.length;x++){const S=x%g.length,C=x%v.length,k=n(g[S*2],g[S*2+1],v[C*2],v[C*2+1]);d[x]=k.real,h[x]=k.imag}else for(let x=0;x<d.length;x++){const S=Jp(x,u,c),C=S.slice(-m);f.forEach(A=>C[A]=0);const k=Rs(C,m,y),_=S.slice(-b);p.forEach(A=>_[A]=0);const I=Rs(_,b,w),T=n(g[k*2],g[k*2+1],v[I*2],v[I*2+1]);d[x]=T.real,h[x]=T.imag}return[d,h,s]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zte=qn((n,e)=>n+e),e9e=NN((n,e,t,r)=>({real:n+t,imag:e+r})),wp=dr(Qp,zte,e9e),t9e={kernelName:Qp,backendName:"cpu",kernelFunc:wp};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ON(n,e,t,r,o){const i=ue(r),a=jr(o,t);for(let s=0;s<n.length;s++){const l=n[s];if(l<0)throw new Error("Input x must be non-negative!");l>=o||(i>0?a[l]+=e[s]:a[l]+=1)}return a}function Vte(n,e,t,r=!1){const o=n.shape[0],i=n.shape[1],a=$t([o,t],e.dtype);for(let s=0;s<o;s++)for(let l=0;l<i;l++){const u=n.get(s,l);if(u<0)throw new Error("Input x must be non-negative!");u>=t||(r?a.set(1,s,u):e.size>0?a.set(a.get(s,u)+e.get(s,l),s,u):a.set(a.get(s,u)+1,s,u))}return a}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gte=qn((n,e)=>n&e),n9e=dr(yM,Gte),r9e={kernelName:yM,backendName:"cpu",kernelFunc:n9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zs(n){return(e,t,r)=>{const o=Wn(t,e.length);for(let i=0;i<e.length;++i)o[i]=n(e[i],r);return o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hn(n,e,t){const r=Zs(e);return dc(n,r,t)}function dc(n,e,t){return({inputs:r,attrs:o,backend:i})=>{const{x:a}=r;Ke(a,n);const s=i,l=s.data.get(a.dataId).values;let u;if(a.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");u=$l(l)}else u=l;const c=t||a.dtype,d=e(u,c,o);return s.makeTensorInfo(a.shape,c,d)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wte=Zs(n=>Math.ceil(n)),o9e=dc(d0,Wte),i9e={kernelName:d0,backendName:"cpu",kernelFunc:o9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hte(n,e,t,r){const o=Wn(t,ue(e));if(r&&t!=="string"){let i=0;n.forEach(a=>{const s=ue(a.shape);o.set(a.vals,i),i+=s})}else{let i=0;n.forEach(a=>{const s=t==="string"?$l(a.vals):a.vals;let l=0;for(let u=0;u<a.shape[0];++u){const c=u*e[1]+i;for(let d=0;d<a.shape[1];++d)o[c+d]=s[l++]}i+=a.shape[1]})}return o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ute=qn((n,e)=>n===e?1:0),jte=dr(r2,Ute,null,"bool"),a9e={kernelName:r2,backendName:"cpu",kernelFunc:jte};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kte=Zs(n=>Math.exp(n)),Xte=dc(y0,Kte,"float32"),s9e={kernelName:y0,backendName:"cpu",kernelFunc:Xte};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qte=Zs(n=>Math.expm1(n)),l9e=dc(b0,qte),u9e={kernelName:b0,backendName:"cpu",kernelFunc:l9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yte=Zs(n=>Math.floor(n)),c9e=dc(w0,Yte),d9e={kernelName:w0,backendName:"cpu",kernelFunc:c9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zte=qn((n,e)=>Math.floor(n/e)),h9e=dr(x0,Zte,null,"int32"),f9e={kernelName:x0,backendName:"cpu",kernelFunc:h9e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jte(n,e,t,r,o,i,a,s,l){const u=$t([r,i],t);for(let c=0;c<r;c++){const d=[];let h=0;for(let f=0;f<o;f++){const p=n[c*o+f];h+=p*a[f],d.push(p)}if(h<0||h>=l/i)throw new Error(`Invalid indices: ${d} does not index into ${s}`);for(let f=0;f<i;f++)u.values[c*i+f]=e.get(...e.indexToLoc(h*i+f))}return u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qte(n,e,t){const r=$t(t,n.dtype);for(let o=0;o<r.size;++o){const a=r.indexToLoc(o).slice(),s=a[0],l=a[2],u=e.locToIndex([s,l]);a[2]=e.values[u];const c=n.locToIndex(a);0<=c&&c<n.values.length&&(r.values[o]=n.values[c])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ene=qn((n,e)=>n>e?1:0),p9e=dr(s2,ene,null,"bool"),g9e={kernelName:s2,backendName:"cpu",kernelFunc:p9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tne=qn((n,e)=>n>=e?1:0),v9e=dr(S0,tne,null,"bool"),m9e={kernelName:S0,backendName:"cpu",kernelFunc:v9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nne=qn((n,e)=>n<e?1:0),y9e=dr(u2,nne,null,"bool"),b9e={kernelName:u2,backendName:"cpu",kernelFunc:y9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rne=qn((n,e)=>n<=e?1:0),w9e=dr(c2,rne,null,"bool"),x9e={kernelName:c2,backendName:"cpu",kernelFunc:w9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function one(n,e,t){const r=(e-n)/(t-1),o=jr(t,"float32");o[0]=n;for(let i=1;i<o.length;i++)o[i]=o[i-1]+r;return o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ine=Zs(n=>Math.log(n)),S9e=dc(T0,ine),C9e={kernelName:T0,backendName:"cpu",kernelFunc:S9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ane(n,e,t,r){const o=Ur(r,ue(t));for(let i=0;i<o.length;++i){const a=i*e;let s=n[a];for(let l=0;l<e;++l){const u=n[a+l];(Number.isNaN(u)||u>s)&&(s=u)}o[i]=s}return o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sne=qn((n,e)=>Math.max(n,e)),k9e=dr(D0,sne),_9e={kernelName:D0,backendName:"cpu",kernelFunc:k9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lne=qn((n,e)=>Math.min(n,e)),I9e=dr(R0,lne),T9e={kernelName:R0,backendName:"cpu",kernelFunc:I9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FN=qn((n,e)=>n*e),A9e=NN((n,e,t,r)=>({real:n*t-e*r,imag:n*r+e*t})),dk=dr($0,FN,A9e),D9e={kernelName:$0,backendName:"cpu",kernelFunc:dk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function une(n,e,t){const r=rc(-1,t);return FN([],e,r,n,t)}function R9e(n){const{inputs:e,backend:t}=n,{x:r}=e;Ke(r,"neg");const o=t.data.get(r.dataId).values,[i,a]=une(o,r.shape,r.dtype);return t.makeTensorInfo(a,r.dtype,i)}const E9e={kernelName:x2,backendName:"cpu",kernelFunc:R9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cne=qn((n,e)=>n!==e?1:0),$9e=dr(S2,cne,null,"bool"),P9e={kernelName:S2,backendName:"cpu",kernelFunc:$9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BN(n,e,t,r,o){const i=e.length,a=ue(e),s=tt(e),l=tt(o),u=Ur(t,ue(o));for(let c=0;c<a;++c){const d=Jp(c,i,s),h=new Array(d.length);for(let p=0;p<h.length;p++)h[p]=d[r[p]];const f=Rs(h,i,l);u[f]=n[c]}return u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lo(n){const{inputs:e,attrs:t,backend:r}=n,{x:o}=e,{perm:i}=t;Ke(o,"transpose");const a=o.shape.length,s=new Array(a);for(let d=0;d<s.length;d++)s[d]=o.shape[i[d]];const l=r.data.get(o.dataId).values,u=BN(l,o.shape,o.dtype,i,s);return{dataId:r.write(u,s,o.dtype),shape:s,dtype:o.dtype}}const M9e={kernelName:jf,backendName:"cpu",kernelFunc:Lo};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dne(n,e,t,r){const[o,i]=_r(n,r),a=ei(e,"int32"),s=jr(ue(o),a),l=ue(i);for(let u=0;u<s.length;++u){const c=u*l;let d=1;for(let h=0;h<l;++h)d*=t[c+h];s[u]=d}return{outVals:s,outShape:o,outDtype:a}}function L9e(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,keepDims:a}=r;Ke(o,"prod");const s=o.shape.length,l=Mt(i,o.shape),u=Fn(l,s);let c=l,d=o;const h=[];u!=null&&(d=Lo({inputs:{x:o},backend:t,attrs:{perm:u}}),h.push(d),c=Kn(c.length,s));const f=t.data.get(d.dataId).values,{outVals:p,outShape:g,outDtype:v}=dne(d.shape,d.dtype,f,c);let m=g;return a&&(m=tr(g,l)),h.forEach(y=>t.disposeIntermediateTensorInfo(y)),t.makeTensorInfo(m,v,p)}const N9e={kernelName:A2,backendName:"cpu",kernelFunc:L9e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O9e(n,e,t){n.forEach((r,o)=>{if(r<0||r>=t){const i=Jp(o,e.length,tt(e)).join(",");throw new Error(`indices[${i}] = ${r} is not in [0, ${t})`)}})}function F9e(n,e){for(let t=0;t<n.length;++t){const r=n[t],o=t===n.length-1?e:n[t+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>o)throw new Error("Ragged splits must not point past values");for(let i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}function B9e(n,e,t,r){const o=[];let i=0;const a=e.length-1+t.length,s=new Array(a).fill(null).map(()=>[0]);F9e(t,r);let l=1;for(let u=0;u<e.length-1;++u){l*=e[u];const c=e[u+1];for(let d=1;d<l+1;++d)s[u].push(d*c)}for(let u=0;u<n.length;++u){let c=n[u],d=n[u]+1;for(let h=0;h<t.length;++h){const f=t[h],p=h+e.length-1;if(p>=0){const g=s[p],v=g[g.length-1]-f[c];for(let m=c;m<d;++m)s[p].push(f[m+1]+v)}c=f[c],d=f[d]}d!==c&&(o.push([c,d]),i+=d-c)}return{outSplits:s,valueSlices:o,numValues:i}}function z9e(n){const e=[];for(let t=0;t<n.length;++t){const r=n[t].length,o=Wn("int32",r);e.push(o),n[t].forEach((i,a)=>o[a]=i)}return e}function s8(n,e){const t=n.slice(0,e);for(;t.length<e;)t.push(1);for(let r=e;r<n.length;r++)t[e-1]*=n[r];return t}function V9e(n,e,t,r,o,i){const a=s8(e,2)[1],s=s8(i,2)[1];let l=0;for(const u of t)for(let c=u[0];c<u[1];++c){for(let d=0;d<r;++d)o[l*s+d]=n[c*a+d];++l}}function G9e(n,e,t,r,o){const i=e.slice();i[0]=o;const a=Wn(t,ue(i)),s=n.length,l=s===0?0:s/e[0];return V9e(n,e,r,l,a,i),[a,i]}function hne(n,e,t,r,o,i,a,s){if(n.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(O9e(i,a,l),r.length===0)throw new Error("params.rank must be nonzero");const u=r[0],{outSplits:c,valueSlices:d,numValues:h}=B9e(i,a,n,u),f=z9e(c),p=G9e(t,r,o,d,h);return[f,p[0],p[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l8=2147483647;function fne(n,e,t,r,o,i,a){if(e.length>1)throw new Error("starts must be a scalar or vector");if(o.length>1)throw new Error("limits must be a scalar or vector");if(a.length>1)throw new Error("deltas must be a scalar or vector");const s=e.length===0,l=o.length===0,u=a.length===0,c=[];s||c.push(e[0]),l||c.push(o[0]),u||c.push(a[0]);for(let v=1;v<c.length;++v)if(c[v]!==c[v-1])throw new Error("starts, limits, and deltas must have the same shape");const d=c.length===0?1:c[0],h=Wn("int32",d+1);h[0]=0;for(let v=0;v<d;++v){const m=s?n[0]:n[v],y=l?r[0]:r[v],b=u?i[0]:i[v];if(b===0)throw new Error("Requires delta != 0");let w;if(b>0&&y<m||b<0&&y>m)w=0;else if(w=Math.ceil(Math.abs((y-m)/b)),w>l8)throw new Error(`Requires ((limit - start) / delta) <= ${l8}`);h[v+1]=h[v]+w}const f=h[d],p=Wn(t,f);let g=0;for(let v=0;v<d;++v){const m=h[v+1]-h[v];let y=s?n[0]:n[v];const b=u?i[0]:i[v];for(let w=0;w<m;++w)p[g++]=y,y+=b}return[h,p]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Li=Ta;class gS{constructor(e,t,r,o,i,a,s,l,u,c){this.shape=e,this.shapeShape=t,this.values=r,this.valuesShape=o,this.valuesDType=i,this.defaultValue=a,this.defaultValueShape=s,this.rowPartitionValues=l,this.rowPartitionValuesShapes=u,this.rowPartitionTypes=nQ(c),this.raggedRank=rQ(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Li.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Li.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Li.VALUE_ROWIDS:return gS.getMaxWidthValueRowID(t);case Li.ROW_SPLITS:return gS.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${Li[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const t=e.length;if(t===0||t===1)return 0;let r=0;for(let o=0;o<t-1;++o){const i=e[o+1]-e[o];i>r&&(r=i)}return r}static getMaxWidthValueRowID(e){const t=e.length;if(t===0)return 0;let r=0,o=e[0],i=0;for(let a=1;a<t;++a){const s=e[a];s!==o&&(o=s,i=Math.max(a-r,i),r=a)}return Math.max(t-r,i)}tensorShapeFromTensor(e,t,r=!0){if(t.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return c8(e,r)}calculateOutputSize(e){const t=this.valuesShape,r=this.defaultValueShape;oQ(r,t);const o=this.tensorShapeFromTensor(this.shape,this.shapeShape),a=tQ(this.raggedRank,o,t);a[0]<0&&(a[0]=e);for(let s=1;s<=this.raggedRank;++s)a[s]<0&&(a[s]=this.getMaxWidth(s));return a}calculateFirstParentOutputIndex(e,t,r){const o=Math.min(e,r),i=[];let a=0;for(let s=0;s<o;++s,a+=t)i.push(a);for(let s=o;s<e;++s)i.push(-1);return O(i.length===e,()=>"Final length of result must be equal to firstDimension."),i}calculateOutputIndexRowSplit(e,t,r,o){const i=e.length,a=[];for(let s=0;s<i-1;++s){const l=e[s+1]-e[s];let u=Math.min(o,l),c=t[s];c===-1&&(u=0);for(let d=0;d<u;++d)a.push(c),c+=r;for(let d=0;d<l-u;++d)a.push(-1)}if(i>0&&a.length!==e[i-1])throw new Error("Invalid row split size.");return a}calculateOutputIndexValueRowID(e,t,r,o){const i=e.length,a=[];if(i===0)return[];let s=0,l=e[0];if(l>=t.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${t.length}`);let u=t[l];a.push(u);for(let c=1;c<i;++c){const d=e[c];if(d===l)u>=0&&(++s,s<o?u+=r:u=-1);else{if(s=0,l=d,d>=t.length)throw new Error(`Got nextValueRowId=${d} which is not less than ${t.length}`);u=t[d]}a.push(u)}if(a.length!==e.length)throw new Error("Invalid row ids.");return a}calculateOutputIndex(e,t,r,o){const i=this.getRowPartitionTensor(e),a=this.getRowPartitionTypeByDimension(e);switch(a){case Li.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,t,r,o);case Li.ROW_SPLITS:if(i.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${i.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(i,t,r,o);default:throw new Error(`Unsupported partition type: ${Li[a]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case Li.FIRST_DIM_SIZE:return e[0];case Li.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Li.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Li[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const t=this.getFirstDimensionSize(),r=this.calculateOutputSize(t),o=new Array(this.raggedRank+1);o[o.length-1]=1;for(let l=o.length-2;l>=0;--l)o[l]=o[l+1]*r[l+1];const i=c8(r,!1),a=Wn(this.valuesDType,ue(i));if(o[0]*r[0]>0){let l=this.calculateFirstParentOutputIndex(t,o[0],r[0]);for(let u=1;u<=this.raggedRank;++u)l=this.calculateOutputIndex(u-1,l,o[u],r[u]);this.setOutput(this.raggedRank,l,a,i)}return[i,a]}setOutput(e,t,r,o){if(r.length===0)return;const i=this.values,a=r;let s=o.slice();s=s.slice(e+1);const l=ue(s),u=t.length;let c=this.defaultValue;if(c.length!==l&&c.length!==1){const p=this.defaultValueShape;ee(()=>{const g=Y(c,p);c=Yv(g,s).dataSync()})}let d=0,h=0,f=0;for(let p=0;p<=u;++p){let g=p<u?t[p]:-1;if(g===f){++f;continue}if(h<f){const v=i.subarray(d*l),m=a.subarray(h*l),y=(f-h)*l;u8(m,v,y)}if(p>=u){const v=r.length;g=Math.floor(v/l)}if(g>f)if(this.defaultValue.length===1)a.subarray(f*l,g*l).fill(this.defaultValue[0]),f=g;else for(;g>f;){const v=a.slice(f*l);u8(v,c,l),++f}g<0?(d=p+1,h=f):(d=p,h=f,f=h+1)}}}function u8(n,e,t){for(let r=0;r<t;r++)n[r]=e[r]}function c8(n,e){const t=[];for(let r of n){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}t.push(r)}return t}function pne(n,e,t,r,o,i,a,s,l,u){return new gS(n,e,t,r,o,i,a,s,l,u).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gne(n,e,t,r){const o=n===e,i=n<e&&t<0,a=e<n&&t>1;if(o||i||a)return jr(0,r);const s=Math.abs(Math.ceil((e-n)/t)),l=jr(s,r);e<n&&t===1&&(t=-1),l[0]=n;for(let u=1;u<l.length;u++)l[u]=l[u-1]+t;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vne=Zs(n=>1/Math.sqrt(n)),W9e=dc(F0,vne),H9e={kernelName:F0,backendName:"cpu",kernelFunc:W9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cd(n,e,t,r,o,i,a,s,l,u){const c=[r/o,o],d=n.values,h=e.values;if(r===0)return $t(t,e.dtype);const f=l instanceof Pr?l:$t(c,e.dtype);typeof l=="string"||typeof l=="number"?f.values.fill(l):typeof l=="boolean"&&f.values.fill(+l);for(let p=0;p<i;p++){const g=[];let v=0;for(let m=0;m<a;m++){const y=d[p*a+m];g.push(y),v+=y*s[m]}if(v<0||v>=r/o)throw new Error(`Invalid indices: ${g} does not index into ${t}`);for(let m=0;m<o;m++)u?f.values[v*o+m]+=h[p*o+m]:f.values[v*o+m]=e.rank===0?h[0]:h[p*o+m]}return f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U9e=Zs(n=>1/(1+Math.exp(-n))),mne=hn(W0,n=>1/(1+Math.exp(-n))),j9e={kernelName:W0,backendName:"cpu",kernelFunc:mne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yne(n,e,t,r,o){const i=WL(r,e,t),a=ue(t),s=tt(r);if(i){const d=HL(e,s);return o==="string"?n.slice(d,d+a):n.subarray(d,d+a)}const l=o==="string"?$l(n):n,u=$t(r,o,l),c=$t(t,o);for(let d=0;d<c.size;++d){const h=c.indexToLoc(d),f=h.map((p,g)=>p+e[g]);c.set(u.get(...f),...h)}return o==="string"?kQ(c.values):c.values}function sh(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{begin:i,size:a}=r;Ke(o,"slice");const[s,l]=q2(o,i,a);VL(o,s,l);const u=t.data.get(o.dataId).values,c=yne(u,s,l,o.shape,o.dtype);return t.makeTensorInfo(l,o.dtype,c)}const K9e={kernelName:M2,backendName:"cpu",kernelFunc:sh};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bne(n,e,t,r,o,i,a){const s=e[0],l=i[0],u=new Array(l),c=new Array(s),d=e[1];if(l===0){if(s!==0)throw new Error(dQ(s));const v=Wn(t,0),m=Wn(o,0);return[v,[0,d],m,u,c]}let h=!0,f=0;const p=new Array(l).fill(0);for(let v=0;v<s;++v){const m=n[v*d];if(m<0)throw new Error(hQ(v,m));if(m>=l)throw new Error(fQ(v,m,l));++p[m],h=h&&m>=f,f=m}let g=!0;for(let v=0;v<l;++v){const m=p[v]===0;u[v]=m,g=g&&!m,p[v]=Math.max(p[v],1),v>0&&(p[v]+=p[v-1])}if(g&&h){const v=n,m=r;for(let y=0;y<s;++y)c[y]=y;return[v,[s,d],m,u,c]}else{const v=p[l-1],m=Wn(t,v*d),y=Wn(o,v),b=new Array(l).fill(0);for(let w=0;w<s;++w){const x=n[w*d],S=b[x],C=(x===0?0:p[x-1])+S;b[x]++;for(let k=0;k<d;++k)m[C*d+k]=n[w*d+k];y[C]=r[w],c[w]=C}for(let w=0;w<l;++w)if(b[w]===0){const S=w===0?0:p[w-1];m[S*d+0]=w;for(let C=1;C<d;++C)m[S*d+C]=0;y[S]=a}return[m,[v,d],y,u,c]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wne(n,e,t,r,o){const i=ue(r),a=e[0],s=o.length,l=[];let u=1,c=-1;for(let v=0;v<s;++v){const m=o[v];if(m===-1){if(c!==-1)throw new Error(pQ(c,v));c=v,l.push(1)}else{if(m<0)throw new Error(gQ(v,m));u*=m,l.push(m)}}if(c!==-1){if(u<=0)throw new Error(vQ());const v=Math.trunc(i/u);if(u*v!==i)throw new Error(mQ(r,l));l[c]=v}if(ue(l)!==i)throw new Error(yQ(r,l));const h=r.length,f=[];if(h>0){f[h-1]=1;for(let v=h-2;v>=0;--v)f[v]=f[v+1]*r[v+1]}const p=[];if(s>0){p[s-1]=1;for(let v=s-2;v>=0;--v)p[v]=p[v+1]*l[v+1]}const g=Wn(t,a*s);for(let v=0;v<a;++v){let m=0;for(let y=0;y<h;++y)m+=n[v*h+y]*f[y];for(let y=0;y<s;++y)g[v*s+y]=Math.trunc(m/p[y]),m%=p[y]}return[g,[a,s],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zN(n,e,t,r,o,i=!1,a=0){const s=r.length,l=[e[0],n.length/e[0]],u=l[1],d=s>0?o[s-1]+1:0;if(d<0)throw new Error(vR());const h=e.slice();h[0]=d;const f=h.reduce((b,w)=>b*w,1),p=Wn(t,f);if(s===0)return d>0&&p.fill(a),[p,h];if(d<=0)throw new Error(vR());let g=0,v=1,m=0,y=o[g];for(;;){let b=0;if(v<s){if(b=o[v],y===b){++v;continue}if(y>=b)throw new Error(bQ())}if(y<0||y>=d)throw new Error(wQ(y,d));y>m&&p.fill(a,m*u,y*u);for(let w=g;w<v;++w){const x=r[w];if(x<0||x>=l[0])throw new Error(xQ(w,r[w],l[0]));for(let S=0;S<u;S++)p[y*u+S]+=n[x*u+S]}if(i)for(let w=0;w<u;w++)p[y*u+w]/=v-g;if(g=v,++v,m=y+1,y=b,v>s)break}return m<d&&p.fill(a,m*u,d*u),[p,h]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X9e=Zs(n=>Math.sqrt(n)),q9e=hn(U0,n=>Math.sqrt(n)),Y9e={kernelName:U0,backendName:"cpu",kernelFunc:q9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xne=qn((n,e)=>{const t=n-e;return t*t}),Z9e=dr(j0,xne),J9e={kernelName:j0,backendName:"cpu",kernelFunc:Z9e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sne=Zs((n,e)=>{const{pattern:t,replaceGlobal:r,rewrite:o}=e;return n.replace(new RegExp(t,r?"g":""),o)}),Q9e=dc(KM,Sne),eGe={kernelName:KM,backendName:"cpu",kernelFunc:Q9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cne(n,e,t,r){const o=$t(n,e.dtype);for(let i=0;i<o.size;i++){const a=o.indexToLoc(i),s=new Array(a.length);for(let l=0;l<s.length;l++)s[l]=a[l]*t[l]+r[l];o.set(e.get(...s),...a)}return o}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tGe{constructor(e,t,r,o,i,a){this.separator=$u(e),this.nGramWidths=t,this.leftPad=$u(r),this.rightPad=$u(o),this.padWidth=i,this.preserveShort=a}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const r=this.getPadWidth(t);return Math.max(0,e+2*r-t+1)}createNGrams(e,t,r,o,i,a){for(let s=0;s<i;++s){const l=this.getPadWidth(a),u=Math.max(0,l-s),c=Math.max(0,l-(i-(s+1))),d=a-(u+c),h=t+(u>0?0:s-l);let f=0;f+=u*this.leftPad.length;for(let y=0;y<d;++y)f+=e[h+y].length;f+=c*this.rightPad.length;const p=u+c+d-1;f+=p*this.separator.length,r[o+s]=new Uint8Array(f);const g=r[o+s];let v=0;const m=y=>y.forEach(b=>g[v++]=b);for(let y=0;y<u;++y)m(this.leftPad),m(this.separator);for(let y=0;y<d-1;++y)m(e[h+y]),m(this.separator);if(d>0){m(e[h+d-1]);for(let y=0;y<c;++y)m(this.separator),m(this.rightPad)}else{for(let y=0;y<c-1;++y)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const r=e.length,o=t.length;if(o>0){let l=t[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let u=1;u<o;++u){let c=t[u]>=l;if(c=c&&t[u]<=r,!c)throw new Error(`Invalid split value ${t[u]}, must be in [${l}, ${r}]`);l=t[u]}if(l!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${l}`)}const i=o-1,a=Wn("int32",o);if(r===0||o===0){const l=new Array(r);for(let u=0;u<=i;++u)a[u]=0;return[l,a]}a[0]=0;for(let l=1;l<=i;++l){const u=t[l]-t[l-1];let c=0;this.nGramWidths.forEach(d=>{c+=this.getNumNGrams(u,d)}),this.preserveShort&&u>0&&c===0&&(c=1),a[l]=a[l-1]+c}const s=new Array(a[i]);for(let l=0;l<i;++l){const u=t[l];let c=a[l];if(this.nGramWidths.forEach(d=>{const h=t[l+1]-t[l],f=this.getNumNGrams(h,d);this.createNGrams(e,u,s,c,f,d),c+=f}),this.preserveShort&&c===a[l]){const d=t[l+1]-t[l];if(d===0)continue;const h=d+2*this.padWidth;this.createNGrams(e,u,s,c,1,h)}}return[s,a]}}function kne(n,e,t,r,o,i,a,s){return new tGe(t,r,o,i,a,s).compute(n,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nGe(n,e,t,r){if(!n.length)return;if(e.length===0){for(let i=0;i<n.length;++i)r.push(n.subarray(i,i+1));return}if(e.length===1){const i=e[0];let a=n.indexOf(i);for(;a!==-1;){const s=n.subarray(0,a);(!t||s.length!==0)&&r.push(s),n=n.subarray(a+1),a=n.indexOf(i)}(!t||n.length!==0)&&r.push(n);return}let o=0;for(let i=0;i<n.length+1;i++)if(i===n.length||e.indexOf(n[i])!==-1){const a=n.subarray(o,i);(!t||a.length!==0)&&r.push(a),o=i+1}}function _ne(n,e,t){const r=n.length,o=[];let i=0,a=0;const s=new Array(r);for(let h=0;h<r;++h){const f=o.length;nGe(n[h],e,t,o);const p=o.length-f;s[h]=p,i+=p,a=Math.max(a,p)}const l=Wn("int32",i*2),u=new Array(i),c=[r,a];let d=0;for(let h=0;h<r;++h)for(let f=0;f<s[h];++f)l[d*2]=h,l[d*2+1]=f,u[d]=o[d],++d;return[l,u,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ine(n,e){const t=Wn("int32",n.length);for(let r=0;r<n.length;++r)t[r]=g3e(n[r]).modulo(e).getLowBitsUnsigned();return t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tne=qn((n,e)=>n-e),rGe=NN((n,e,t,r)=>({real:n-t,imag:e-r})),VN=dr(K0,Tne,rGe),oGe={kernelName:K0,backendName:"cpu",kernelFunc:VN};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ane(n,e){const t=new Array(n.rank);for(let o=0;o<t.length;o++)t[o]=n.shape[o]*e[o];const r=$t(t,n.dtype);for(let o=0;o<r.values.length;++o){const i=r.indexToLoc(o),a=new Array(n.rank);for(let l=0;l<a.length;l++)a[l]=i[l]%n.shape[l];const s=n.locToIndex(a);r.values[o]=n.values[s]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xv=(n,e)=>{const t=e.value-n.value;return t===0?n.index-e.index:t};function Dne(n,e,t=0,r=n.length-1){for(;r>t;){if(r-t>600){const s=r-t+1,l=e-t+1,u=Math.log(s),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(s-c)/s)*Math.sign(l-s/2),h=Math.max(t,Math.floor(e-l*c/s+d)),f=Math.min(r,Math.floor(e+(s-l)*c/s+d));Dne(n,e,h,f)}const o=n[e];let i=t,a=r;for(yf(n,t,e),xv(n[r],o)>0&&yf(n,t,r);i<a;){for(yf(n,i,a),i++,a--;xv(n[i],o)<0;)i=i+1;for(;xv(n[a],o)>0;)a=a-1}xv(n[t],o)===0?yf(n,t,a):(a=a+1,yf(n,a,r)),a<=e&&(t=a+1),e<=a&&(r=a-1)}}function Rne(n,e,t,r,o){const i=e[e.length-1],[a,s]=[n.length/i,i],l=Ur(t,a*r),u=Ur("int32",a*r);for(let d=0;d<a;d++){const h=d*s,f=n.subarray(h,h+s);let p=new Array(f.length);f.forEach((y,b)=>p[b]={value:y,index:b}),r<p.length&&(Dne(p,r),p=p.slice(0,r)),o&&p.sort(xv);const g=d*r,v=l.subarray(g,g+r),m=u.subarray(g,g+r);for(let y=0;y<r;y++)v[y]=p[y].value,m[y]=p[y].index}const c=e.slice();return c[c.length-1]=r,[$t(c,t,l),$t(c,"int32",u)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ene(n,e,t,r){const o=Mt(e,t)[0],i=[1,t[0],1];for(let p=0;p<o;p++)i[0]*=t[p];i[1]=t[o];for(let p=o+1;p<t.length;p++)i[2]*=t[p];const a=new Map,s=new Int32Array(t[o]),l=new Pr(i,r,n),u=[],c=i[0]===1&&i[2]===1;for(let p=0;p<t[o];p++){let g;if(c)g=n[p].toString();else{const m=[];for(let y=0;y<i[0];y++)for(let b=0;b<i[2];b++)m.push(l.get(y,p,b));g=m.join(",")}const v=a.get(g);if(v!=null)s[p]=v;else{const m=a.size;a.set(g,m),s[p]=m,u.push(p)}}const d=i.slice();d[1]=a.size;const h=new Pr(d,r);u.forEach((p,g)=>{for(let v=0;v<i[0];v++)for(let m=0;m<i[2];m++)h.set(l.get(v,p,m),v,g,m)});const f=t.slice();return f[o]=d[1],{outputValues:h.values,outputShape:f,indices:s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iGe=Object.freeze(Object.defineProperty({__proto__:null,addImpl:zte,bincountImpl:ON,bincountReduceImpl:Vte,bitwiseAndImpl:Gte,castImpl:Bte,ceilImpl:Wte,concatImpl:Hte,equalImpl:Ute,expImpl:Kte,expm1Impl:qte,floorDivImpl:Zte,floorImpl:Yte,gatherNdImpl:Jte,gatherV2Impl:Qte,greaterEqualImpl:tne,greaterImpl:ene,lessEqualImpl:rne,lessImpl:nne,linSpaceImpl:one,logImpl:ine,maxImpl:ane,maximumImpl:sne,minimumImpl:lne,multiplyImpl:FN,negImpl:une,notEqualImpl:cne,prodImpl:dne,raggedGatherImpl:hne,raggedRangeImpl:fne,raggedTensorToTensorImpl:pne,rangeImpl:gne,rsqrtImpl:vne,scatterImpl:Cd,sigmoidImpl:U9e,simpleAbsImpl:Fte,sliceImpl:yne,sparseFillEmptyRowsImpl:bne,sparseReshapeImpl:wne,sparseSegmentReductionImpl:zN,sqrtImpl:X9e,squaredDifferenceImpl:xne,staticRegexReplaceImpl:Sne,stridedSliceImpl:Cne,stringNGramsImpl:kne,stringSplitImpl:_ne,stringToHashBucketFastImpl:Ine,subImpl:Tne,tileImpl:Ane,topKImpl:Rne,transposeImpl:BN,uniqueImpl:Ene},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */QZ("cpu",()=>new ck,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ne=hn(v0,n=>n>=0?n:Math.exp(n)-1),aGe={kernelName:v0,backendName:"cpu",kernelFunc:$ne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pne(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{alpha:i}=r;Ke([o],"leakyRelu");const a=ue(o.shape),s=t.data.get(o.dataId).values,l=Ur("float32",a);for(let u=0;u<s.length;u++)l[u]=s[u]<0?i*s[u]:s[u];return t.makeTensorInfo(o.shape,"float32",l)}const sGe={kernelName:l2,backendName:"cpu",kernelFunc:Pne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lGe=qn((n,e)=>n<0?e*n:n);function Mne(n){const{inputs:e,backend:t}=n,{x:r,alpha:o}=e;Ke([r,o],"prelu");const i=t.data.get(r.dataId).values,a=t.data.get(o.dataId).values,[s,l]=lGe(r.shape,o.shape,i,a,"float32");return t.makeTensorInfo(l,"float32",s)}const uGe={kernelName:T2,backendName:"cpu",kernelFunc:Mne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lne=hn(L0,n=>Math.max(0,n)),cGe={kernelName:L0,backendName:"cpu",kernelFunc:Lne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nne=hn(N0,n=>Math.min(Math.max(0,n),6)),dGe={kernelName:N0,backendName:"cpu",kernelFunc:Nne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vS(n,e,t,r,o){if(t==="linear")return js({inputs:{x:e},backend:n});if(t==="relu")return Lne({inputs:{x:e},backend:n});if(t==="elu")return $ne({inputs:{x:e},backend:n});if(t==="relu6")return Nne({inputs:{x:e},backend:n});if(t==="prelu")return Mne({inputs:{x:e,alpha:r},backend:n});if(t==="leakyrelu")return Pne({inputs:{x:e},backend:n,attrs:{alpha:o}});if(t==="sigmoid")return mne({inputs:{x:e},backend:n});throw new Error(`Activation ${t} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kn(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{shape:i}=r,a=ue(o.shape),s=iZ(i,a),l=ue(s);O(a===l,()=>`The new shape (${s}) has ${l} elements and the old shape (${o.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`),t.incRef(o.dataId);const u=t.data.get(o.dataId);if(u.complexTensorInfos!=null){const c=u.complexTensorInfos.real,d=u.complexTensorInfos.imag;c.shape=s,d.shape=s}return{dataId:o.dataId,shape:s,dtype:o.dtype}}const hGe={kernelName:D2,backendName:"cpu",kernelFunc:kn};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function One(n){const{inputs:e,backend:t,attrs:r}=n,{a:o,b:i}=e,{transposeA:a,transposeB:s}=r;Ke([o,i],"matMul");const l=o.shape.length,u=i.shape.length,c=a?o.shape[l-2]:o.shape[l-1],d=s?i.shape[u-1]:i.shape[u-2],h=a?o.shape[l-1]:o.shape[l-2],f=s?i.shape[u-2]:i.shape[u-1],p=o.shape.slice(0,-2),g=i.shape.slice(0,-2),v=ue(p),m=ue(g),b=xt(o.shape.slice(0,-2),i.shape.slice(0,-2)).concat([h,f]);O(c===d,()=>`Error in matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${o.shape} and ${i.shape} and transposeA=${a} and transposeB=${s} must match.`);const w=a?[v,c,h]:[v,h,c],x=s?[m,f,d]:[m,d,f],S=kn({inputs:{x:o},backend:t,attrs:{shape:w}}),C=kn({inputs:{x:i},backend:t,attrs:{shape:x}}),k=a?S.shape[1]:S.shape[2],_=a?S.shape[2]:S.shape[1],I=s?C.shape[1]:C.shape[2],T=Math.max(v,m),A=t.data.get(S.dataId).values,D=t.data.get(C.dataId).values,E=tt(S.shape),$=tt(C.shape),[P,N,M]=a?[E[0],1,E[1]]:[E[0],E[1],1],[L,V,W]=s?[1,$[1],$[0]]:[$[1],1,$[0]],j=_*I,Q=$t([T,_,I],S.dtype),te=Q.values,se=t.blockSize;for(let ge=0;ge<T;ge++){const ye=ge%v,ve=ge%m;for(let de=0;de<_;de+=se){const Se=Math.min(de+se,_);for(let me=0;me<I;me+=se){const Ee=Math.min(me+se,I);for(let F=0;F<k;F+=se){const z=Math.min(F+se,k);for(let J=de;J<Se;J++)for(let ie=me;ie<Ee;ie++){let ae=0;for(let pe=F;pe<z;pe++){const Ie=A[ye*P+J*N+pe*M],Ce=D[pe*L+ie*V+ve*W];ae+=Ie*Ce}te[ge*j+(J*I+ie)]+=ae}}}}}return t.disposeIntermediateTensorInfo(S),t.disposeIntermediateTensorInfo(C),t.makeTensorInfo(b,Q.dtype,Q.values)}const fGe={kernelName:KC,backendName:"cpu",kernelFunc:One};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pGe(n){const{inputs:e,backend:t,attrs:r}=n,{a:o,b:i,bias:a,preluActivationWeights:s}=e,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;let h,f,p;const g=[];h=One({inputs:{a:o,b:i},attrs:{transposeA:l,transposeB:u},backend:t}),a&&(f=wp({inputs:{a:h,b:a},backend:t}),g.push(h),h=f),c&&(p=vS(t,h,c,s,d),g.push(h),h=p);for(const m of g)t.disposeIntermediateTensorInfo(m);return h}const gGe={kernelName:jx,backendName:"cpu",kernelFunc:pGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vGe=hn(r0,n=>Math.acos(n)),mGe={kernelName:r0,backendName:"cpu",kernelFunc:vGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yGe=hn(o0,n=>Math.acosh(n)),bGe={kernelName:o0,backendName:"cpu",kernelFunc:yGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wGe(n){const{inputs:e,backend:t}=n,r=e;Ke(e,"addN");const o=r.map(s=>t.data.get(s.dataId).values),i=$t(r[0].shape,r[0].dtype),a=i.values;for(let s=0;s<r.length;s++){const l=o[s];for(let u=0;u<a.length;u++)a[u]+=l[u]}return t.makeTensorInfo(i.shape,i.dtype,i.values)}const xGe={kernelName:hM,backendName:"cpu",kernelFunc:wGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SGe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,keepDims:a}=r;Ke(o,"all");const s=Mt(i,o.shape);let l=s;const u=Fn(l,o.shape.length);let c=o;u!=null&&(c=Lo({inputs:{x:o},backend:t,attrs:{perm:u}}),l=Kn(l.length,o.shape.length)),Or("all",l,c.shape.length);const[d,h]=_r(c.shape,l),f=ue(h),p=jr(ue(d),c.dtype),g=t.data.get(c.dataId).values;for(let m=0;m<p.length;++m){const y=m*f;let b=g[y];for(let w=0;w<f;++w){const x=g[y+w];b=b&&x}p[m]=b}u!=null&&t.disposeIntermediateTensorInfo(c);const v=t.makeTensorInfo(d,c.dtype,p);if(a){const m=tr(d,s),y=kn({inputs:{x:v},backend:t,attrs:{shape:m}});return t.disposeIntermediateTensorInfo(v),y}return v}const CGe={kernelName:fM,backendName:"cpu",kernelFunc:SGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kGe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,keepDims:a}=r;Ke(o,"any");const s=Mt(i,o.shape);let l=s;const u=Fn(l,o.shape.length);let c=o;u!=null&&(c=Lo({inputs:{x:o},backend:t,attrs:{perm:u}}),l=Kn(l.length,o.shape.length)),Or("any",l,c.shape.length);const[d,h]=_r(c.shape,l),f=ue(h),p=jr(ue(d),c.dtype),g=t.data.get(c.dataId).values;for(let m=0;m<p.length;++m){const y=m*f;let b=g[y];for(let w=0;w<f;++w){const x=g[y+w];b=b||x}p[m]=b}u!=null&&t.disposeIntermediateTensorInfo(c);const v=t.makeTensorInfo(d,c.dtype,p);if(a){const m=tr(d,s),y=kn({inputs:{x:v},backend:t,attrs:{shape:m}});return t.disposeIntermediateTensorInfo(v),y}return v}const _Ge={kernelName:pM,backendName:"cpu",kernelFunc:kGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IGe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i}=r;Ke(o,"argMax");let a=Mt(i,o.shape);const s=Fn(a,o.shape.length);let l=o;const u=[];s!=null&&(l=Lo({inputs:{x:o},backend:t,attrs:{perm:s}}),u.push(l),a=Kn(a.length,l.shape.length)),a=[a[0]],Or("argMax",a,l.shape.length);const[c,d]=_r(l.shape,a),h=ue(c),f=jr(h,"int32"),p=ue(d),g=t.data.get(l.dataId).values;for(let v=0;v<f.length;++v){const m=v*p;let y=g[m],b=0;for(let w=0;w<p;++w){const x=g[m+w];x>y&&(y=x,b=w)}f[v]=b}return u.forEach(v=>t.disposeIntermediateTensorInfo(v)),t.makeTensorInfo(c,"int32",f)}const TGe={kernelName:WC,backendName:"cpu",kernelFunc:IGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AGe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i}=r;Ke(o,"argMin");let a=Mt(i,o.shape);const s=Fn(a,o.shape.length);let l=o;const u=[];s!=null&&(l=Lo({inputs:{x:o},backend:t,attrs:{perm:s}}),u.push(l),a=Kn(a.length,l.shape.length)),a=[a[0]],Or("argMin",a,l.shape.length);const[c,d]=_r(l.shape,a),h=ue(c),f=jr(h,"int32"),p=ue(d),g=t.data.get(l.dataId).values;for(let v=0;v<f.length;++v){const m=v*p;let y=g[m],b=0;for(let w=0;w<p;++w){const x=g[m+w];x<y&&(y=x,b=w)}f[v]=b}return u.forEach(v=>t.disposeIntermediateTensorInfo(v)),t.makeTensorInfo(c,"int32",f)}const DGe={kernelName:HC,backendName:"cpu",kernelFunc:AGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RGe=hn(i0,n=>Math.asin(n)),EGe={kernelName:i0,backendName:"cpu",kernelFunc:RGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Ge=hn(a0,n=>Math.asinh(n)),PGe={kernelName:a0,backendName:"cpu",kernelFunc:$Ge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MGe=hn(s0,n=>Math.atan(n)),LGe={kernelName:s0,backendName:"cpu",kernelFunc:MGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NGe=qn((n,e)=>Math.atan2(n,e)),OGe=dr(u0,NGe),FGe={kernelName:u0,backendName:"cpu",kernelFunc:OGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BGe=hn(l0,n=>Math.atanh(n)),zGe={kernelName:l0,backendName:"cpu",kernelFunc:BGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GN(n,e,t,r,o,i){const a=o.strideHeight,s=o.strideWidth,l=o.dilationHeight,u=o.dilationWidth,c=o.effectiveFilterHeight,d=o.effectiveFilterWidth,h=o.padInfo.top,f=o.padInfo.left,p=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=$t(o.outShape,t),v=g.values,m=o.outShape[1]*o.outShape[2]*o.outShape[3],y=o.outShape[2]*o.outShape[3],b=o.outShape[3];for(let w=0;w<o.batchSize;++w){const x=w*m,S=w*r[0];for(let C=0;C<o.inChannels;++C)for(let k=0;k<o.outHeight;++k){const _=k*a-h,I=Math.max(0,_),T=Math.min(o.inHeight,c+_),A=x+k*y;for(let D=0;D<o.outWidth;++D){const E=D*s-f,$=Math.max(0,E),P=Math.min(o.inWidth,d+E);let N=p,M=0,L=0;for(let W=I;W<T;W+=l){const j=S+W*r[1];for(let Q=$;Q<P;Q+=u){const te=j+Q*r[2],se=n[te+C];i==="max"&&se>N?N=se:i==="avg"&&(M+=se,L++)}if(isNaN(N))break}const V=A+D*b+C;v[V]=i==="avg"?M/L:N}}}return g}function Fne(n,e,t,r,o=!1,i=!1){const a=$t(r.outShape,"int32"),s=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,f=r.padInfo.top,p=r.padInfo.left,g=$t(e,t,n);for(let v=0;v<r.batchSize;++v)for(let m=0;m<r.inChannels;++m)for(let y=0;y<r.outHeight;++y){const b=y*s-f;let w=b;for(;w<0;)w+=u;const x=Math.min(r.inHeight,d+b);for(let S=0;S<r.outWidth;++S){const C=S*l-p;let k=C;for(;k<0;)k+=c;const _=Math.min(r.inWidth,h+C);let I=Number.NEGATIVE_INFINITY,T=-1;for(let A=w;A<x;A+=u){const D=A-b;for(let E=k;E<_;E+=c){const $=E-C,P=g.get(v,A,E,m);P>I&&(I=P,o?T=i?((v*r.inHeight+A)*r.inWidth+E)*r.inChannels+m:(A*r.inWidth+E)*r.inChannels+m:T=D*h+$)}}a.set(T,v,y,S,m)}}return a}function Bne(n,e,t,r,o,i){const a=o.strideDepth,s=o.strideHeight,l=o.strideWidth,u=o.dilationDepth,c=o.dilationHeight,d=o.dilationWidth,h=o.effectiveFilterDepth,f=o.effectiveFilterHeight,p=o.effectiveFilterWidth,g=o.padInfo.front,v=o.padInfo.top,m=o.padInfo.left,y=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=$t(o.outShape,t),w=b.values,x=o.outShape[1]*o.outShape[2]*o.outShape[3]*o.outShape[4],S=o.outShape[2]*o.outShape[3]*o.outShape[4],C=o.outShape[3]*o.outShape[4],k=o.outShape[4];for(let _=0;_<o.batchSize;++_){const I=_*x,T=_*r[0];for(let A=0;A<o.inChannels;++A)for(let D=0;D<o.outDepth;++D){const E=D*a-g;let $=E;for(;$<0;)$+=u;const P=Math.min(o.inDepth,h+E),N=I+D*S;for(let M=0;M<o.outHeight;++M){const L=M*s-v;let V=L;for(;V<0;)V+=c;const W=Math.min(o.inHeight,f+L),j=N+M*C;for(let Q=0;Q<o.outWidth;++Q){const te=Q*l-m;let se=te;for(;se<0;)se+=d;const ge=Math.min(o.inWidth,p+te),ye=j+Q*k;let ve=y,de=0,Se=0;for(let Ee=$;Ee<P;Ee+=u){const F=T+Ee*r[1];for(let z=V;z<W;z+=c){const J=F+z*r[2];for(let ie=se;ie<ge;ie+=d){const ae=J+ie*r[3],pe=n[ae+A];if(i==="max"&&pe>ve?ve=pe:i==="avg"&&(de+=pe,Se++),isNaN(ve))break}if(isNaN(ve))break}if(isNaN(ve))break}const me=ye+A;w[me]=i==="avg"?de/Math.max(Se,1):ve}}}}return b}function VGe(n,e){const t=$t(e.outShape,"int32"),r=e.strideDepth,o=e.strideHeight,i=e.strideWidth,a=e.dilationDepth,s=e.dilationHeight,l=e.dilationWidth,u=e.effectiveFilterDepth,c=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.front,f=e.padInfo.top,p=e.padInfo.left;for(let g=0;g<e.batchSize;++g)for(let v=0;v<e.inChannels;++v)for(let m=0;m<e.outDepth;++m){const y=m*r-h;let b=y;for(;b<0;)b+=a;const w=Math.min(e.inDepth,u+y);for(let x=0;x<e.outHeight;++x){const S=x*o-f;let C=S;for(;C<0;)C+=s;const k=Math.min(e.inHeight,c+S);for(let _=0;_<e.outWidth;++_){const I=_*i-p;let T=I;for(;T<0;)T+=l;const A=Math.min(e.inWidth,d+I);let D=Number.NEGATIVE_INFINITY,E=-1;for(let $=b;$<w;$+=a){const P=$-y;for(let N=C;N<k;N+=s){const M=N-S;for(let L=T;L<A;L+=l){const V=L-I,W=n.get(g,$,N,L,v);W>=D&&(D=W,E=P*c*d+M*c+V)}}}t.set(E,g,m,x,_,v)}}}return t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GGe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e;Ke(o,"avgPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=r,u=1;O(Xr(a,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const c=ha(o.shape,i,a,u,s,l);let d;if(c.filterWidth===1&&c.filterHeight===1&&an(c.inShape,c.outShape))d=js({inputs:{x:o},backend:t});else{const h=t.data.get(o.dataId).values,f=tt(o.shape),p=GN(h,o.shape,o.dtype,f,c,"avg");d=t.makeTensorInfo(c.outShape,o.dtype,p.values)}return d}const WGe={kernelName:UC,backendName:"cpu",kernelFunc:GGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HGe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{filterSize:i,strides:a,pad:s,dimRoundingMode:l,dataFormat:u}=r;Ke(o,"avgPool3d");const c=Fl(o.shape,i,a,1,s,l,u),d=t.data.get(o.dataId).values,h=Bne(d,o.shape,o.dtype,tt(o.shape),c,"avg");return t.makeTensorInfo(h.shape,"float32",h.values)}const UGe={kernelName:jC,backendName:"cpu",kernelFunc:HGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jGe(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,input:i}=e,{filterSize:a,strides:s,pad:l,dimRoundingMode:u}=r;Ke([o,i],"avgPool3DGrad");const c=Fl(i.shape,a,s,1,l,u),d=c.strideDepth,h=c.strideHeight,f=c.strideWidth,p=c.filterDepth,g=c.filterHeight,v=c.filterWidth,m=c.dilationDepth,y=c.dilationHeight,b=c.dilationWidth,w=c.effectiveFilterDepth,x=c.effectiveFilterHeight,S=c.effectiveFilterWidth,C=w-1-c.padInfo.front,k=S-1-c.padInfo.left,_=x-1-c.padInfo.top,I=$t(i.shape,"float32"),T=1/(p*g*v),A=t.bufferSync(o);for(let D=0;D<c.batchSize;++D)for(let E=0;E<c.inChannels;++E)for(let $=0;$<c.inDepth;++$)for(let P=0;P<c.inHeight;++P)for(let N=0;N<c.inWidth;++N){const M=$-C,L=P-_,V=N-k;let W=0;for(let j=0;j<w;j+=m){const Q=(M+j)/d;if(!(Q<0||Q>=c.outDepth||Math.floor(Q)!==Q))for(let te=0;te<x;te+=y){const se=(L+te)/h;if(!(se<0||se>=c.outHeight||Math.floor(se)!==se))for(let ge=0;ge<S;ge+=b){const ye=(V+ge)/f;if(ye<0||ye>=c.outWidth||Math.floor(ye)!==ye)continue;const ve=A.get(D,Q,se,ye,E);W+=ve}}}I.set(W*T,D,$,P,N,E)}return t.makeTensorInfo(I.shape,I.dtype,I.values)}const KGe={kernelName:vM,backendName:"cpu",kernelFunc:jGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XGe(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,input:i}=e,a=i;Ke([o,i],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=ha(a.shape,s,l,1,u),d=c.strideHeight,h=c.strideWidth,f=c.filterHeight,p=c.filterWidth,g=c.dilationHeight,v=c.dilationWidth,m=c.effectiveFilterHeight,y=c.effectiveFilterWidth,b=y-1-c.padInfo.left,w=m-1-c.padInfo.top,x=$t(a.shape,"float32"),S=1/(f*p),C=t.data.get(o.dataId).values,k=$t(o.shape,"float32",C);for(let _=0;_<c.batchSize;++_)for(let I=0;I<c.inChannels;++I)for(let T=0;T<c.inHeight;++T)for(let A=0;A<c.inWidth;++A){const D=T-w,E=A-b;let $=0;for(let P=0;P<m;P+=g){const N=(D+P)/d;if(!(N<0||N>=c.outHeight||Math.floor(N)!==N))for(let M=0;M<y;M+=v){const L=(E+M)/h;if(L<0||L>=c.outWidth||Math.floor(L)!==L)continue;const V=k.get(_,N,L,I);$+=V}}x.set($*S,_,T,A,I)}return t.makeTensorInfo(x.shape,x.dtype,x.values)}const qGe={kernelName:gM,backendName:"cpu",kernelFunc:XGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YGe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,scale:i,offset:a,mean:s,variance:l}=e;O(s.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),O(a==null||s.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),O(i==null||s.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Ke([o,s,l,i,a],"batchNorm");let{varianceEpsilon:u}=r;u==null&&(u=.001);const c=t.data.get(o.dataId).values,d=t.data.get(s.dataId).values,h=t.data.get(l.dataId).values,f=i?t.data.get(i.dataId).values:new Float32Array([1]),p=a?t.data.get(a.dataId).values:new Float32Array([0]),g=new Float32Array(c.length),v=p.length,m=f.length,y=h.length,b=d.length;let w=0,x=0,S=0,C=0;for(let k=0;k<c.length;++k)g[k]=p[w++]+(c[k]-d[x++])*f[S++]/Math.sqrt(h[C++]+u),w>=v&&(w=0),x>=b&&(x=0),S>=m&&(S=0),C>=y&&(C=0);return t.makeTensorInfo(o.shape,o.dtype,g)}const ZGe={kernelName:i2,backendName:"cpu",kernelFunc:YGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JGe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{blockShape:i,crops:a}=r;Ke([o],"batchToSpaceND");const s=i.reduce((m,y)=>m*y),l=rb(o.shape,i,s),u=ob(l.length,i.length),c=ib(o.shape,i,s),d=qL(a,i.length),h=YL(c,a,i.length),f=kn({inputs:{x:o},backend:t,attrs:{shape:l}}),p=Lo({inputs:{x:f},backend:t,attrs:{perm:u}}),g=kn({inputs:{x:p},backend:t,attrs:{shape:c}}),v=sh({inputs:{x:g},backend:t,attrs:{begin:d,size:h}});return t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(p),t.disposeIntermediateTensorInfo(g),v}const QGe={kernelName:XC,backendName:"cpu",kernelFunc:JGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eWe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,weights:i}=e,{size:a}=r,s=t.data.get(o.dataId).values,l=t.data.get(i.dataId).values,u=ON(s,l,i.dtype,i.shape,a);return t.makeTensorInfo([a],i.dtype,u)}const tWe={kernelName:mM,backendName:"cpu",kernelFunc:eWe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nWe(n){const{inputs:e,backend:t}=n,{s0:r,s1:o}=e,i=t.data.get(r.dataId).values,a=t.data.get(o.dataId).values,s=xt(Array.from(i),Array.from(a));return t.makeTensorInfo([s.length],"int32",Int32Array.from(s))}const rWe={kernelName:dZ,backendName:"cpu",kernelFunc:nWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oWe=hn(h0,(n,e)=>{const t=e;return n>t.clipValueMax?t.clipValueMax:n<t.clipValueMin?t.clipValueMin:n}),iWe={kernelName:h0,backendName:"cpu",kernelFunc:oWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aWe=n=>{const{x:e}=n.inputs,t=n.backend,r=new Float32Array(ue(e.shape)),o=t.data.get(e.dataId),i=o.complexTensorInfos.real,a=o.complexTensorInfos.imag,s=t.data.get(i.dataId).values,l=t.data.get(a.dataId).values;for(let u=0;u<s.length;u++){const c=s[u],d=l[u];r[u]=Math.hypot(c,d)}return t.makeOutput(r,e.shape,"float32")},sWe={kernelName:qC,backendName:"cpu",kernelFunc:aWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xp(n){const{inputs:e,backend:t}=n,{input:r}=e,o=t.data.get(r.dataId).complexTensorInfos.imag,i=t.data.get(o.dataId).values;return t.makeTensorInfo(o.shape,o.dtype,i)}const lWe={kernelName:LM,backendName:"cpu",kernelFunc:xp};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sp(n){const{inputs:e,backend:t,attrs:r}=n,{axis:o}=r,i=Mt(o,e[0].shape)[0],a=e.map(g=>g.shape);jL(a,i);let s=$s(e.map(g=>g.shape),i);if(ue(s)===0)return t.makeTensorInfo(s,e[0].dtype,[]);const l=e.filter(g=>ue(g.shape)>0);if(l.length===1)return js({inputs:{x:l[0]},backend:t});if(l[0].dtype==="complex64"){const g=l.map(w=>ah({inputs:{input:w},backend:t})),v=l.map(w=>xp({inputs:{input:w},backend:t})),m=Sp({inputs:g,backend:t,attrs:{axis:i}}),y=Sp({inputs:v,backend:t,attrs:{axis:i}}),b=Ko({inputs:{real:m,imag:y},backend:t});return g.forEach(w=>t.disposeIntermediateTensorInfo(w)),v.forEach(w=>t.disposeIntermediateTensorInfo(w)),t.disposeIntermediateTensorInfo(m),t.disposeIntermediateTensorInfo(y),b}const u=l.map(g=>{const m=[-1,ue(g.shape.slice(i))];return kn({inputs:{x:g},backend:t,attrs:{shape:m}})}),c=u.map(g=>({vals:t.data.get(g.dataId).values,shape:g.shape}));s=$s(u.map(g=>g.shape),1);const d=u[0].shape[0]===1,h=Hte(c,s,e[0].dtype,d),f=$s(l.map(g=>g.shape),i),p=t.makeTensorInfo(f,e[0].dtype,h);return u.forEach(g=>t.disposeIntermediateTensorInfo(g)),p}const uWe={kernelName:YC,backendName:"cpu",kernelFunc:Sp};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zne(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,filter:i}=e,{strides:a,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r;Ke([o,i],"conv2d");const d=Bl(l),h=Nr(o.shape,i.shape,a,u,s,c,!1,d),f=h.filterHeight,p=h.filterWidth,g=h.dilationHeight,v=h.dilationWidth,m=h.padInfo.left,y=h.padInfo.top,b=h.dataFormat==="channelsLast",w=new Pr(h.outShape,o.dtype),x=tt(o.shape),S=tt(i.shape),C=x[0],k=b?x[1]:x[2],_=b?x[2]:1,I=b?1:x[1],T=w.strides[0],A=b?w.strides[1]:w.strides[2],D=b?w.strides[2]:1,E=b?1:w.strides[1],$=t.data.get(o.dataId).values,P=t.data.get(i.dataId).values,N=w.values;for(let M=0;M<h.batchSize;++M){const L=M*C,V=M*T;for(let W=0;W<h.outHeight;++W){const j=V+W*A,Q=W*h.strideHeight-y;for(let te=0;te<f;++te){const se=Q+te*g;if(se<0||se>=h.inHeight)continue;const ge=te*S[0],ye=L+se*k;for(let ve=0;ve<h.outWidth;++ve){const de=j+ve*D,Se=ve*h.strideWidth-m;for(let me=0;me<p;++me){const Ee=Se+me*v;if(Ee<0||Ee>=h.inWidth)continue;const F=ge+me*S[1],z=ye+Ee*_;let J=F;for(let ie=0;ie<h.inChannels;++ie){const ae=$[z+ie*I];for(let pe=0;pe<h.outChannels;++pe)N[de+pe*E]+=ae*P[J+pe];J+=h.outChannels}}}}}}return t.makeTensorInfo(w.shape,w.dtype,N)}const cWe={kernelName:ZC,backendName:"cpu",kernelFunc:zne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dWe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,dy:i}=e,{strides:a,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;Ke([o,i],"conv2dBackpropFilter");const d=Bl(l),h=Nr(o.shape,c,a,1,s,u,!1,d),{strideHeight:f,strideWidth:p,filterHeight:g,filterWidth:v}=h,m=h.dataFormat==="channelsLast",y=new Pr(h.filterShape,"float32"),b=h.padInfo.left,w=h.padInfo.top,x=t.data.get(o.dataId).values,S=t.data.get(i.dataId).values,C=new Pr(o.shape,o.dtype,x),k=new Pr(i.shape,i.dtype,S);for(let _=0;_<g;++_){const I=Math.max(0,Math.ceil((w-_)/f)),T=Math.min(h.outHeight,(h.inHeight+w-_)/f);for(let A=0;A<v;++A){const D=Math.max(0,Math.ceil((b-A)/p)),E=Math.min(h.outWidth,(h.inWidth+b-A)/p);for(let $=0;$<h.inChannels;++$)for(let P=0;P<h.outChannels;++P){let N=0;for(let M=0;M<h.batchSize;++M)for(let L=I;L<T;++L){const V=_+L*f-w;for(let W=D;W<E;++W){const j=A+W*p-b;m?N+=C.get(M,V,j,$)*k.get(M,L,W,P):N+=C.get(M,$,V,j)*k.get(M,P,L,W)}}y.set(N,_,A,$,P)}}}return t.makeTensorInfo(y.shape,y.dtype,y.values)}const hWe={kernelName:wM,backendName:"cpu",kernelFunc:dWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fWe(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,filter:i}=e,{inputShape:a,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r;Ke([o,i],"conv2dBackpropInput");const d=tt(i.shape),h=tt(o.shape);let f=Bl(u);const p=Nr(a,i.shape,s,1,l,c,!1,f),g=new Pr(p.inShape,"float32"),v=g.values,m=t.data.get(o.dataId).values,y=t.data.get(i.dataId).values,[b,w,x]=d,{batchSize:S,filterHeight:C,filterWidth:k,inChannels:_,inHeight:I,inWidth:T,outChannels:A,outHeight:D,outWidth:E,strideHeight:$,strideWidth:P}=p;f=p.dataFormat;const N=C-1-p.padInfo.top,M=k-1-p.padInfo.left,L=f==="channelsLast",V=g.strides[0],W=L?g.strides[1]:g.strides[2],j=L?g.strides[2]:1,Q=L?1:g.strides[1],te=h[0],se=L?h[1]:h[2],ge=L?h[2]:1,ye=L?1:h[1];for(let ve=0;ve<S;++ve)for(let de=0;de<_;++de)for(let Se=0;Se<I;++Se){const me=Se-N,Ee=Math.max(0,Math.ceil(me/$)),F=Math.min(D,(C+me)/$);for(let z=0;z<T;++z){const J=z-M,ie=Math.max(0,Math.ceil(J/P)),ae=Math.min(E,(k+J)/P);let pe=0;for(let Ce=Ee;Ce<F;++Ce){const Te=Ce*$-me;for(let we=ie;we<ae;++we){const Ze=we*P-J,Me=te*ve+se*Ce+ge*we,Ue=b*(C-1-Te)+w*(k-1-Ze)+x*de;for(let it=0;it<A;++it){const St=m[Me+ye*it],Vt=y[Ue+it];pe+=St*Vt}}}const Ie=V*ve+W*Se+j*z+Q*de;v[Ie]=pe}}return t.makeTensorInfo(g.shape,g.dtype,g.values)}const pWe={kernelName:JC,backendName:"cpu",kernelFunc:fWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gWe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,filter:i}=e,{strides:a,pad:s,dilations:l}=r;Ke([o,i],"conv3d");const u=ic(o.shape,i.shape,a,l,s),{filterDepth:c,filterHeight:d,filterWidth:h,dilationDepth:f,dilationHeight:p,dilationWidth:g,padInfo:v}=u,m=v.front,y=v.left,b=v.top,w=new Pr(u.outShape,o.dtype),x=t.data.get(o.dataId).values,S=t.data.get(i.dataId).values,C=w.values,k=tt(o.shape),_=tt(i.shape);for(let I=0;I<u.batchSize;++I){const T=I*k[0],A=I*w.strides[0];for(let D=0;D<u.outDepth;++D){const E=A+D*w.strides[1],$=D*u.strideDepth-m;for(let P=0;P<c;++P){const N=$+P*f;if(N<0||N>=u.inDepth)continue;const M=P*_[0],L=T+N*k[1];for(let V=0;V<u.outHeight;++V){const W=E+V*w.strides[2],j=V*u.strideHeight-b;for(let Q=0;Q<d;++Q){const te=j+Q*p;if(te<0||te>=u.inHeight)continue;const se=M+Q*_[1],ge=L+te*k[2];for(let ye=0;ye<u.outWidth;++ye){const ve=W+ye*u.outChannels,de=ye*u.strideWidth-y;for(let Se=0;Se<h;++Se){const me=de+Se*g;if(me<0||me>=u.inWidth)continue;const Ee=se+Se*_[2],F=ge+me*u.inChannels;let z=Ee;for(let J=0;J<u.inChannels;++J){const ie=x[F+J];for(let ae=0;ae<u.outChannels;++ae)C[ve+ae]+=ie*S[z+ae];z+=u.outChannels}}}}}}}}return t.makeTensorInfo(w.shape,w.dtype,w.values)}const vWe={kernelName:QC,backendName:"cpu",kernelFunc:gWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mWe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,dy:i}=e,{strides:a,pad:s,filterShape:l}=r;Ke([o,i],"conv3dBackpropFilterV2");const u=tt(o.shape),c=tt(i.shape),d=ic(o.shape,l,a,1,s),h=d.strideDepth,f=d.strideHeight,p=d.strideWidth,g=d.filterDepth,v=d.filterHeight,m=d.filterWidth,y=new Pr(d.filterShape,"float32"),b=y.values,[w,x,S,C]=y.strides,k=t.data.get(i.dataId).values,[_,I,T,A]=c,D=t.data.get(o.dataId).values,[E,$,P,N]=u,M=d.padInfo.front,L=d.padInfo.left,V=d.padInfo.top;for(let W=0;W<g;++W){const j=Math.max(0,Math.ceil((M-W)/h)),Q=Math.min(d.outDepth,(d.inDepth+M-W)/h),te=W*w;for(let se=0;se<v;++se){const ge=Math.max(0,Math.ceil((V-se)/f)),ye=Math.min(d.outHeight,(d.inHeight+V-se)/f),ve=se*x+te;for(let de=0;de<m;++de){const Se=Math.max(0,Math.ceil((L-de)/p)),me=Math.min(d.outWidth,(d.inWidth+L-de)/p),Ee=de*S+ve;for(let F=0;F<d.inChannels;++F){const z=F*C+Ee;for(let J=0;J<d.outChannels;++J){let ie=0;for(let ae=0;ae<d.batchSize;++ae){const pe=ae*E,Ie=ae*_;for(let Ce=j;Ce<Q;++Ce){const we=(W+Ce*h-M)*$+pe,Ze=Ce*I+Ie;for(let Me=ge;Me<ye;++Me){const it=(se+Me*f-V)*P+we,St=Me*T+Ze;for(let Vt=Se;Vt<me;++Vt){const Br=(de+Vt*p-L)*N+it,rr=Vt*A+St;ie+=D[Br+F]*k[rr+J]}}}}b[z+J]=ie}}}}}return t.makeTensorInfo(y.shape,y.dtype,y.values)}const yWe={kernelName:xM,backendName:"cpu",kernelFunc:mWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bWe(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,filter:i}=e,{pad:a,strides:s,inputShape:l}=r;Ke([o],"conv3dBackpropInputV2");const u=tt(o.shape),c=tt(i.shape),d=ic(l,i.shape,s,1,a),h=new Pr(d.inShape,"float32"),f=h.values,[p,g,v,m]=h.strides,y=t.data.get(o.dataId).values,[b,w,x,S]=u,C=t.data.get(i.dataId).values,[k,_,I,T]=c,{batchSize:A,filterDepth:D,filterHeight:E,filterWidth:$,inChannels:P,inDepth:N,inHeight:M,inWidth:L,outChannels:V,outDepth:W,outHeight:j,outWidth:Q,strideDepth:te,strideHeight:se,strideWidth:ge}=d,ye=D-1-d.padInfo.front,ve=E-1-d.padInfo.top,de=$-1-d.padInfo.left;for(let Se=0;Se<A;++Se)for(let me=0;me<P;++me)for(let Ee=0;Ee<N;++Ee){const F=Ee-ye,z=Math.max(0,Math.ceil(F/te)),J=Math.min(W,(D+F)/te);for(let ie=0;ie<M;++ie){const ae=ie-ve,pe=Math.max(0,Math.ceil(ae/se)),Ie=Math.min(j,(E+ae)/se);for(let Ce=0;Ce<L;++Ce){const Te=Ce-de,we=Math.max(0,Math.ceil(Te/ge)),Ze=Math.min(Q,($+Te)/ge);let Me=0;for(let Ue=z;Ue<J;++Ue){const it=Ue*te-F;for(let St=pe;St<Ie;++St){const Vt=St*se-ae;for(let Gt=we;Gt<Ze;++Gt){const Br=Gt*ge-Te,rr=b*Se+w*Ue+x*St+S*Gt,ai=k*(D-1-it)+_*(E-1-Vt)+I*($-1-Br)+T*me;for(let Ir=0;Ir<V;++Ir){const fc=y[rr+Ir],bb=C[ai+Ir];Me+=fc*bb}}}}f[p*Se+g*Ee+v*ie+m*Ce+me]=Me}}}return t.makeTensorInfo(h.shape,h.dtype,h.values)}const wWe={kernelName:SM,backendName:"cpu",kernelFunc:bWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xWe=hn(f0,n=>Math.cos(n)),SWe={kernelName:f0,backendName:"cpu",kernelFunc:xWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CWe=hn(p0,n=>Math.cosh(n)),kWe={kernelName:p0,backendName:"cpu",kernelFunc:CWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _We(n){const{inputs:e,backend:t,attrs:r}=n,{image:o,boxes:i,boxInd:a}=e,{cropSize:s,method:l,extrapolationValue:u}=r,[c,d,h,f]=o.shape,p=i.shape[0],[g,v]=s,m=$t([p,g,v,f],"float32"),y=t.data.get(i.dataId).values,b=t.data.get(a.dataId).values,w=t.data.get(o.dataId).values,x=tt(o.shape),S=tt(m.shape);for(let C=0;C<p;C++){const k=C*4,_=y[k],I=y[k+1],T=y[k+2],A=y[k+3],D=b[C];if(D>=c)continue;const E=g>1?(T-_)*(d-1)/(g-1):0,$=v>1?(A-I)*(h-1)/(v-1):0;for(let P=0;P<g;P++){const N=g>1?_*(d-1)+P*E:.5*(_+T)*(d-1);if(N<0||N>d-1){for(let M=0;M<v;M++)for(let L=0;L<f;L++){const V=L+M*S[2]+P*S[1]+C*S[0];m.values[V]=u}continue}if(l==="bilinear"){const M=Math.floor(N),L=Math.ceil(N),V=N-M;for(let W=0;W<v;W++){const j=v>1?I*(h-1)+W*$:.5*(I+A)*(h-1);if(j<0||j>h-1){for(let ge=0;ge<f;ge++){const ye=ge+W*S[2]+P*S[1]+C*S[0];m.values[ye]=u}continue}const Q=Math.floor(j),te=Math.ceil(j),se=j-Q;for(let ge=0;ge<f;ge++){let ye=ge+Q*x[2]+M*x[1]+D*x[0];const ve=w[ye];ye=ge+te*x[2]+M*x[1]+D*x[0];const de=w[ye];ye=ge+Q*x[2]+L*x[1]+D*x[0];const Se=w[ye];ye=ge+te*x[2]+L*x[1]+D*x[0];const me=w[ye],Ee=ve+(de-ve)*se,F=Se+(me-Se)*se;ye=ge+W*S[2]+P*S[1]+C*S[0],m.values[ye]=Ee+(F-Ee)*V}}}else for(let M=0;M<v;++M){const L=v>1?I*(h-1)+M*$:.5*(I+A)*(h-1);if(L<0||L>h-1){for(let j=0;j<f;j++){const Q=j+M*S[2]+P*S[1]+C*S[0];m.values[Q]=u}continue}const V=Math.round(L),W=Math.round(N);for(let j=0;j<f;j++){const Q=j+V*x[2]+W*x[1]+D*x[0],te=j+M*S[2]+P*S[1]+C*S[0];m.values[te]=w[Q]}}}}return t.makeTensorInfo(m.shape,m.dtype,m.values)}const IWe={kernelName:kM,backendName:"cpu",kernelFunc:_We};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TWe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,exclusive:a,reverse:s}=r;Ke(o,"cumprod");const l=Fn([i],o.shape.length);let u=o;l!=null&&(u=Lo({inputs:{x:o},backend:t,attrs:{perm:l}}));const c=Kn(1,o.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const d=ei(u.dtype,"int32"),h=uM(ue(u.shape),d),f=t.data.get(u.dataId).values,p=u.shape[u.shape.length-1],g=s?(m,y)=>m+p-y-1:(m,y)=>m+y;for(let m=0;m<f.length;m+=p)for(let y=0;y<p;y++){const b=g(m,y);if(y===0)h[b]=a?1:f[b];else{const w=g(m,y-1);h[b]=a?f[w]*h[w]:f[b]*h[w]}}const v=t.makeTensorInfo(u.shape,d,h);if(l!=null){const m=ac(l),y=Lo({inputs:{x:v},backend:t,attrs:{perm:m}});return t.disposeIntermediateTensorInfo(v),t.disposeIntermediateTensorInfo(u),y}return v}const AWe={kernelName:CM,backendName:"cpu",kernelFunc:TWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DWe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,exclusive:a,reverse:s}=r;Ke(o,"cumsum");const l=Fn([i],o.shape.length);let u=o;l!=null&&(u=Lo({inputs:{x:o},backend:t,attrs:{perm:l}}));const c=Kn(1,o.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const d=ei(u.dtype,"int32"),h=jr(ue(u.shape),d),f=t.data.get(u.dataId).values,p=u.shape[u.shape.length-1],g=s?(m,y)=>m+p-y-1:(m,y)=>m+y;for(let m=0;m<f.length;m+=p)for(let y=0;y<p;y++){const b=g(m,y);if(y===0)h[b]=a?0:f[b];else{const w=g(m,y-1);h[b]=a?f[w]+h[w]:f[b]+h[w]}}const v=t.makeTensorInfo(u.shape,d,h);if(l!=null){const m=ac(l),y=Lo({inputs:{x:v},backend:t,attrs:{perm:m}});return t.disposeIntermediateTensorInfo(v),t.disposeIntermediateTensorInfo(u),y}return v}const RWe={kernelName:e2,backendName:"cpu",kernelFunc:DWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EWe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,weights:i}=e,{size:a,binaryOutput:s}=r;if(o.shape.length===1){const l=t.data.get(o.dataId).values,u=t.data.get(i.dataId).values,c=ON(l,u,i.dtype,i.shape,a);return t.makeTensorInfo([a],i.dtype,c)}else if(o.shape.length===2){const l=t.bufferSync(o),u=t.bufferSync(i),c=Vte(l,u,a,s);return t.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}const $We={kernelName:_M,backendName:"cpu",kernelFunc:EWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PWe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{blockSize:i,dataFormat:a}=r;O(a==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${a}`);const s=o.shape[0],l=o.shape[1],u=o.shape[2],c=o.shape[3],d=l*i,h=u*i,f=c/(i*i),p=t.data.get(o.dataId).values,g=new Float32Array(s*d*h*f);let v=0;for(let m=0;m<s;++m)for(let y=0;y<d;++y){const b=Math.floor(y/i),w=y%i;for(let x=0;x<h;++x){const S=Math.floor(x/i),C=x%i,k=(w*i+C)*f;for(let _=0;_<f;++_){const T=_+k+c*(S+u*(b+l*m));g[v++]=p[T]}}}return t.makeTensorInfo([s,d,h,f],o.dtype,g)}const MWe={kernelName:IM,backendName:"cpu",kernelFunc:PWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vne(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,filter:i}=e,{strides:a,pad:s,dilations:l,dimRoundingMode:u}=r;Ke([o,i],"depthwiseConv2DNative");const c=tt(o.shape),d=tt(i.shape);let h=l;h==null&&(h=[1,1]),O(Xr(a,h),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${h}'`);const f=Nr(o.shape,i.shape,a,h,s,u,!0),{filterHeight:p,filterWidth:g,dilationHeight:v,dilationWidth:m,padInfo:y}=f,b=y.left,w=y.top,x=f.outChannels/f.inChannels,S=new Pr(f.outShape,o.dtype),C=t.data.get(o.dataId).values,k=t.data.get(i.dataId).values,_=S.values;for(let I=0;I<f.batchSize;++I){const T=I*c[0],A=I*S.strides[0];for(let D=0;D<f.outHeight;++D){const E=A+D*S.strides[1],$=D*f.strideHeight-w;for(let P=0;P<p;++P){const N=$+P*v;if(N<0||N>=f.inHeight)continue;const M=P*d[0],L=T+N*c[1];for(let V=0;V<f.outWidth;++V){const W=E+V*S.strides[2],j=V*f.strideWidth-b;for(let Q=0;Q<g;++Q){const te=j+Q*m;if(te<0||te>=f.inWidth)continue;const se=M+Q*d[1],ge=L+te*f.inChannels;let ye=W,ve=se;for(let de=0;de<f.inChannels;++de){const Se=C[ge+de];for(let me=0;me<x;++me)_[ye+me]+=Se*k[ve+me];ye+=x,ve+=x}}}}}}return t.makeTensorInfo(S.shape,S.dtype,S.values)}const LWe={kernelName:t2,backendName:"cpu",kernelFunc:Vne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NWe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,dy:i}=e,{strides:a,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r;Ke([o,i],"depthwiseConv2dNativeBackpropFilter");const d=Nr(o.shape,c,a,s,l,u,!0),{strideHeight:h,strideWidth:f,filterHeight:p,filterWidth:g}=d,v=new Pr(d.filterShape,"float32"),m=d.padInfo.left,y=d.padInfo.top,b=d.outChannels/d.inChannels,w=t.data.get(o.dataId).values,x=new Pr(o.shape,o.dtype,w),S=t.data.get(i.dataId).values,C=new Pr(i.shape,i.dtype,S);for(let k=0;k<p;++k){const _=Math.max(0,Math.ceil((y-k)/h)),I=Math.min(d.outHeight,(d.inHeight+y-k)/h);for(let T=0;T<g;++T){const A=Math.max(0,Math.ceil((m-T)/f)),D=Math.min(d.outWidth,(d.inWidth+m-T)/f);for(let E=0;E<d.outChannels;++E){const $=Math.trunc(E/b),P=E%b;let N=0;for(let M=0;M<d.batchSize;++M)for(let L=_;L<I;++L){const V=k+L*h-y;for(let W=A;W<D;++W){const j=T+W*f-m;N+=x.get(M,V,j,$)*C.get(M,L,W,E)}}v.set(N,k,T,$,P)}}}return t.makeTensorInfo(v.shape,v.dtype,v.values)}const OWe={kernelName:TM,backendName:"cpu",kernelFunc:NWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FWe(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,filter:i}=e,{strides:a,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r;Ke([o,i],"depthwiseConv2DNativeBackpropInput");const d=tt(o.shape),h=tt(i.shape),f=Nr(c,i.shape,a,s,l,u,!0),p=new Pr(f.inShape,"float32"),g=p.values,[v,m,y]=p.strides,b=t.data.get(o.dataId).values,[w,x,S]=d,C=t.data.get(i.dataId).values,[k,_,I]=h,{batchSize:T,filterHeight:A,filterWidth:D,inChannels:E,inHeight:$,inWidth:P,outChannels:N,outHeight:M,outWidth:L,strideHeight:V,strideWidth:W}=f,j=A-1-f.padInfo.top,Q=D-1-f.padInfo.left,te=N/E;for(let se=0;se<T;++se)for(let ge=0;ge<E;++ge)for(let ye=0;ye<$;++ye){const ve=ye-j,de=Math.max(0,Math.ceil(ve/V)),Se=Math.min(M,(A+ve)/V);for(let me=0;me<P;++me){const Ee=me-Q,F=Math.max(0,Math.ceil(Ee/W)),z=Math.min(L,(D+Ee)/W);let J=0;for(let ie=de;ie<Se;++ie){const ae=ie*V-ve;for(let pe=F;pe<z;++pe){const Ie=pe*W-Ee,Ce=w*se+x*ie+S*pe,Te=k*(A-1-ae)+_*(D-1-Ie)+I*ge;for(let we=0;we<te;++we){const Ze=ge*te+we,Me=b[Ce+Ze],Ue=C[Te+we];J+=Me*Ue}}}g[v*se+m*ye+y*me+ge]=J}}return t.makeTensorInfo(p.shape,p.dtype,p.values)}const BWe={kernelName:AM,backendName:"cpu",kernelFunc:FWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zWe(n){const{inputs:e,backend:t}=n,{x:r}=e,o=ue(r.shape),i=t.data.get(r.dataId).values,a=$t([o,o],r.dtype),s=a.values;for(let u=0;u<i.length;u++)s[u*o+u]=i[u];const l=[...r.shape,...r.shape];return t.makeTensorInfo(l,a.dtype,a.values)}const VWe={kernelName:hZ,backendName:"cpu",kernelFunc:zWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GWe={kernelName:n2,backendName:"cpu",kernelFunc:({inputs:n,backend:e,attrs:t})=>{const{x:r,filter:o}=n,{strides:i,pad:a,dilations:s}=t,l=e,u=l.data.get(r.dataId).values,c=r.shape.length,d=l.data.get(o.dataId).values,h=o.shape.length,{batchSize:f,inHeight:p,inWidth:g,inChannels:v,outHeight:m,outWidth:y,padInfo:b,strideHeight:w,strideWidth:x,filterHeight:S,filterWidth:C,dilationHeight:k,dilationWidth:_,outShape:I}=J0(r.shape,o.shape,i,a,"NHWC",s),T=ue(I),A=I.length,D=Wn(r.dtype,T);for(let $=0;$<f;++$)for(let P=0;P<m;++P){const N=P*w-b.top;for(let M=0;M<y;++M){const L=M*x-b.left;for(let V=0;V<v;++V){let W=Number.MIN_SAFE_INTEGER;for(let Q=0;Q<S;++Q){const te=N+Q*k;if(te>=0&&te<p)for(let se=0;se<C;++se){const ge=L+se*_;if(ge>=0&&ge<g){const ye=Rs([$,te,ge,V],c,tt(r.shape)),ve=Rs([Q,se,V],h,tt(o.shape)),de=u[ye]+d[ve];de>W&&(W=de)}}}const j=Rs([$,P,M,V],A,tt(I));D[j]=W}}}return{dataId:l.write(Ch(D,r.dtype),I,r.dtype),shape:I,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WWe={kernelName:JD,backendName:"cpu",kernelFunc:({inputs:n,backend:e,attrs:t})=>{const{x:r,filter:o,dy:i}=n,{strides:a,pad:s,dilations:l}=t,u=e,c=Na(r.shape,u.data.get(r.dataId).values),d=Na(o.shape,u.data.get(o.dataId).values),{batchSize:h,inHeight:f,inWidth:p,inChannels:g,outHeight:v,outWidth:m,padInfo:y,strideHeight:b,strideWidth:w,filterHeight:x,filterWidth:S,dilationHeight:C,dilationWidth:k,outShape:_}=J0(r.shape,o.shape,a,s,"NHWC",l);O(i.rank===_.length,()=>`Error in ${JD}, dy must have the same rank as output ${_.length}, but got ${i.rank}`);const I=Na(_,u.data.get(i.dataId).values),T=lZ(o.shape,o.dtype);for(let D=0;D<h;++D)for(let E=0;E<v;++E){const $=E*b-y.top;for(let P=0;P<m;++P){const N=P*w-y.left;for(let M=0;M<g;++M){let L=Number.MIN_SAFE_INTEGER,V=0,W=0;for(let j=0;j<x;++j){const Q=$+j*C;if(Q>=0&&Q<f)for(let te=0;te<S;++te){const se=N+te*k;if(se>=0&&se<p){const ge=c[D][Q][se][M]+d[j][te][M];ge>L&&(L=ge,V=j,W=te)}}}T[V][W][M]+=I[D][E][P][M]}}}return{dataId:u.write(Ch(T,r.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HWe={kernelName:ZD,backendName:"cpu",kernelFunc:({inputs:n,backend:e,attrs:t})=>{const{x:r,filter:o,dy:i}=n,{strides:a,pad:s,dilations:l}=t,u=e,c=Na(r.shape,u.data.get(r.dataId).values),d=Na(o.shape,u.data.get(o.dataId).values),{batchSize:h,inHeight:f,inWidth:p,inChannels:g,outHeight:v,outWidth:m,padInfo:y,strideHeight:b,strideWidth:w,filterHeight:x,filterWidth:S,dilationHeight:C,dilationWidth:k,outShape:_}=J0(r.shape,o.shape,a,s,"NHWC",l);O(i.rank===_.length,()=>`Error in ${ZD}, dy must have the same rank as output ${_.length}, but got ${i.rank}`);const I=Na(_,u.data.get(i.dataId).values),T=lZ(r.shape,r.dtype);for(let D=0;D<h;++D)for(let E=0;E<v;++E){const $=E*b-y.top;for(let P=0;P<m;++P){const N=P*w-y.left;for(let M=0;M<g;++M){let L=Number.MIN_SAFE_INTEGER,V=$<0?0:$,W=N<0?0:N;for(let j=0;j<x;++j){const Q=$+j*C;if(Q>=0&&Q<f)for(let te=0;te<S;++te){const se=N+te*k;if(se>=0&&se<p){const ge=c[D][Q][se][M]+d[j][te][M];ge>L&&(L=ge,V=Q,W=se)}}}T[D][V][W][M]+=I[D][E][P][M]}}}return{dataId:u.write(Ch(T,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UWe(n){const{inputs:e,backend:t,attrs:r}=n,{image:o}=e,{canvas:i,options:a}=r,{contextOptions:s,imageOptions:l}=a||{},u=(l==null?void 0:l.alpha)||1,c=(s==null?void 0:s.contextType)||"2d";if(c!=="2d")throw new Error(`Context type ${s.contextType} is not supported by the CPU backend.`);const d=i.getContext(c,(s==null?void 0:s.contextAttributes)||{});if(d==null)throw new Error(`Could not get the context with ${c} type.`);const[h,f]=o.shape.slice(0,2),p=o.shape.length===2?1:o.shape[2],g=t.data.get(o.dataId).values,v=o.dtype==="float32"?255:1,m=new Uint8ClampedArray(f*h*4);for(let b=0;b<h*f;++b){const w=[0,0,0,255*u];for(let S=0;S<p;S++){const C=g[b*p+S];if(o.dtype==="float32"){if(C<0||C>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${C}.`)}else if(o.dtype==="int32"&&(C<0||C>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${C}.`);p===1?(w[0]=C*v,w[1]=C*v,w[2]=C*v):w[S]=C*v}const x=b*4;m[x+0]=Math.round(w[0]),m[x+1]=Math.round(w[1]),m[x+2]=Math.round(w[2]),m[x+3]=Math.round(w[3])}i.width=f,i.height=h;const y=new ImageData(m,f,h);return d.putImageData(y,0,0),o}const jWe={kernelName:r3e,backendName:"cpu",kernelFunc:UWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fb(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,keepDims:a}=r;Ke(o,"sum");let s;o.dtype==="bool"?s=Ku({inputs:{x:o},backend:t,attrs:{dtype:"int32"}}):s=js({inputs:{x:o},backend:t});const l=s.shape.length,u=Mt(i,s.shape),c=Fn(u,l);let d=u,h=s;c!=null&&(h=Lo({inputs:{x:s},backend:t,attrs:{perm:c}}),d=Kn(d.length,l)),Or("sum",d,h.shape.length);const[f,p]=_r(h.shape,d),g=ei(h.dtype,"int32");let v=pS(t,f,g);const m=ue(p),y=t.data.get(v.dataId).values,b=t.data.get(h.dataId).values;for(let w=0;w<y.length;++w){const x=w*m;let S=0;for(let C=0;C<m;++C)S+=b[x+C];y[w]=S}if(a){const w=tr(v.shape,u),x=v;v=kn({inputs:{x:v},backend:t,attrs:{shape:w}}),t.disposeIntermediateTensorInfo(x)}return t.disposeIntermediateTensorInfo(s),c!=null&&t.disposeIntermediateTensorInfo(h),v}const KWe={kernelName:L2,backendName:"cpu",kernelFunc:fb};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XWe(n){const{inputs:e,backend:t,attrs:r}=n,{equation:o}=r,i=e,{allDims:a,summedDims:s,idDims:l}=oN(o,i.length);aN(a.length,l,i);const{path:u,steps:c}=sN(s,l),d=c.length;let h=null,f=a.length;const p=[];for(let g=0;g<d;++g){for(const v of c[g]){const{permutationIndices:m,expandDims:y}=iN(f,l[v]);let b;lN(m)?b=i[v]:(b=Lo({inputs:{x:i[v]},backend:t,attrs:{perm:m}}),p.push(b));const w=b.shape.slice();for(let x=0;x<y.length;++x)w.splice(y[x],0,1);an(b.shape,w)||(b=kn({inputs:{x:b},backend:t,attrs:{shape:w}}),p.push(b)),h===null?h=b:(h=dk({inputs:{a:b,b:h},backend:t}),p.push(h))}g<d-1&&(u[g]>=0&&(h=fb({inputs:{x:h},backend:t,attrs:{axis:u[g]-(a.length-f),keepDims:!1}}),p.push(h)),f--)}for(const g of p)g!==h&&t.disposeIntermediateTensorInfo(g);return h}const qWe={kernelName:DM,backendName:"cpu",kernelFunc:XWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YWe(n){const{inputs:e,backend:t}=n,{dy:r,y:o}=e;Ke([r,o],"eluGrad");const i=new Float32Array(ue(o.shape)),a=t.data.get(o.dataId).values,s=t.data.get(r.dataId).values;for(let l=0;l<a.length;++l){const u=a[l];u>=0?i[l]=s[l]:i[l]=s[l]*(u+1)}return t.makeTensorInfo(o.shape,"float32",i)}const ZWe={kernelName:RM,backendName:"cpu",kernelFunc:YWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JWe=ZL,QWe=JL,eHe=QL,tHe=eN,nHe=tN,rHe=nN,oHe=hn(m0,n=>{const e=Math.sign(n),t=Math.abs(n),r=1/(1+JWe*t);return e*(1-((((rHe*r+nHe)*r+tHe)*r+eHe)*r+QWe)*r*Math.exp(-t*t))}),iHe={kernelName:m0,backendName:"cpu",kernelFunc:oHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mS(n){const{inputs:e,backend:t,attrs:r}=n,{input:o}=e,{dim:i}=r,a=o.shape.length,s=o.shape.slice();let l=i;return i<0&&(O(-(a+1)<=i,()=>`Axis must be in the interval [${-(a+1)}, ${a}]`),l=a+i+1),s.splice(l,0,1),kn({inputs:{x:o},backend:t,attrs:{shape:s}})}const aHe={kernelName:o2,backendName:"cpu",kernelFunc:mS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sHe=qn((n,e)=>n/e),WN=dr(g0,sHe),IR={kernelName:g0,backendName:"cpu",kernelFunc:WN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gne(n,e,t){const r=n.shape,o=r[0],i=r[1],a=t.data.get(n.dataId),s=a.complexTensorInfos.real,l=a.complexTensorInfos.imag,u=[o,i],c=ue(u),d=Ur("float32",c),h=Ur("float32",c);for(let v=0;v<o;v++){const m=sh({inputs:{x:s},backend:t,attrs:{begin:[v,0],size:[1,i]}}),y=sh({inputs:{x:l},backend:t,attrs:{begin:[v,0],size:[1,i]}}),b=Ko({inputs:{real:m,imag:y},backend:t}),{real:w,imag:x}=lHe(b,e,t),S=El(w,x);for(let C=0;C<i;C++){const k=rN(S,C);d[v*i+C]=k.real,h[v*i+C]=k.imag}t.disposeIntermediateTensorInfo(m),t.disposeIntermediateTensorInfo(y),t.disposeIntermediateTensorInfo(b)}const f=t.makeTensorInfo(u,"float32",d),p=t.makeTensorInfo(u,"float32",h),g=Ko({inputs:{real:f,imag:p},backend:t});return t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(p),g}function lHe(n,e,t){const r=ue(n.shape),o=t.data.get(n.dataId),i=t.data.get(o.complexTensorInfos.real.dataId).values,a=t.data.get(o.complexTensorInfos.imag.dataId).values;if(uHe(r)){const s=TR(i,a,r,e,t),l=[n.shape[0],n.shape[1]];if(e){const u=t.makeTensorInfo(l,"float32",s.real),c=t.makeTensorInfo(l,"float32",s.imag),d=t.makeTensorInfo([],"float32",rc(r,"float32")),h=js({inputs:{x:d},backend:t}),f=IR.kernelFunc({inputs:{a:u,b:d},backend:t}),p=IR.kernelFunc({inputs:{a:c,b:h},backend:t}),g=t.data.get(f.dataId).values,v=t.data.get(p.dataId).values;return t.disposeIntermediateTensorInfo(u),t.disposeIntermediateTensorInfo(c),t.disposeIntermediateTensorInfo(d),t.disposeIntermediateTensorInfo(h),t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(p),{real:g,imag:v}}return s}else{const s=El(i,a),l=cHe(s,r,e);return iQ(l)}}function uHe(n){return(n&n-1)===0}function TR(n,e,t,r,o){if(t===1)return{real:n,imag:e};const i=El(n,e),a=t/2,s=aQ(i),l=s.real,u=s.imag,c=[l.length],d=o.makeTensorInfo(c,"float32",l),h=o.makeTensorInfo(c,"float32",u),f=Ko({inputs:{real:d,imag:h},backend:o}),p=sQ(i),g=p.real,v=p.imag,m=[g.length],y=o.makeTensorInfo(m,"float32",g),b=o.makeTensorInfo(m,"float32",v),w=Ko({inputs:{real:y,imag:b},backend:o}),x=TR(l,u,a,r,o),S=x.real,C=x.imag,k=[S.length],_=o.makeTensorInfo(k,"float32",S),I=o.makeTensorInfo(k,"float32",C),T=Ko({inputs:{real:_,imag:I},backend:o}),A=TR(g,v,a,r,o),D=A.real,E=A.imag,$=[D.length],P=o.makeTensorInfo($,"float32",D),N=o.makeTensorInfo($,"float32",E),M=Ko({inputs:{real:P,imag:N},backend:o}),L=uQ(t,r),V=[L.real.length],W=o.makeTensorInfo(V,"float32",L.real),j=o.makeTensorInfo(V,"float32",L.imag),Q=Ko({inputs:{real:W,imag:j},backend:o}),te=dk({inputs:{a:Q,b:M},backend:o}),se=wp({inputs:{a:T,b:te},backend:o}),ge=VN({inputs:{a:T,b:te},backend:o}),ye=ah({inputs:{input:se},backend:o}),ve=ah({inputs:{input:ge},backend:o}),de=xp({inputs:{input:se},backend:o}),Se=xp({inputs:{input:ge},backend:o}),me=Sp({inputs:[ye,ve],backend:o,attrs:{axis:0}}),Ee=Sp({inputs:[de,Se],backend:o,attrs:{axis:0}}),F=o.data.get(me.dataId).values,z=o.data.get(Ee.dataId).values;return o.disposeIntermediateTensorInfo(d),o.disposeIntermediateTensorInfo(h),o.disposeIntermediateTensorInfo(f),o.disposeIntermediateTensorInfo(y),o.disposeIntermediateTensorInfo(b),o.disposeIntermediateTensorInfo(w),o.disposeIntermediateTensorInfo(_),o.disposeIntermediateTensorInfo(I),o.disposeIntermediateTensorInfo(T),o.disposeIntermediateTensorInfo(P),o.disposeIntermediateTensorInfo(N),o.disposeIntermediateTensorInfo(M),o.disposeIntermediateTensorInfo(W),o.disposeIntermediateTensorInfo(j),o.disposeIntermediateTensorInfo(Q),o.disposeIntermediateTensorInfo(te),o.disposeIntermediateTensorInfo(se),o.disposeIntermediateTensorInfo(ge),o.disposeIntermediateTensorInfo(ye),o.disposeIntermediateTensorInfo(de),o.disposeIntermediateTensorInfo(ve),o.disposeIntermediateTensorInfo(Se),o.disposeIntermediateTensorInfo(me),o.disposeIntermediateTensorInfo(Ee),{real:F,imag:z}}function cHe(n,e,t){const r=new Float32Array(e*2);for(let o=0;o<e;o++){let i=0,a=0;for(let s=0;s<e;s++){const l=cQ(o*s,e,t),u=rN(n,s);i+=u.real*l.real-u.imag*l.imag,a+=u.real*l.imag+u.imag*l.real}t&&(i/=e,a/=e),lQ(r,i,a,o)}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dHe(n){const{inputs:e,backend:t}=n,{input:r}=e,o=ue(r.shape),i=r.shape[r.shape.length-1],a=o/i,s=kn({inputs:{x:r},backend:t,attrs:{shape:[a,i]}}),l=Gne(s,!1,t),u=kn({inputs:{x:l},backend:t,attrs:{shape:r.shape}});return t.disposeIntermediateTensorInfo(s),t.disposeIntermediateTensorInfo(l),u}const hHe={kernelName:EM,backendName:"cpu",kernelFunc:dHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HN(n){const{backend:e,attrs:t}=n,{shape:r,value:o,dtype:i}=t,a=i||Zp(o),s=Wn(a,ue(r));return pHe(s,o,a),e.makeTensorInfo(r,a,s)}const fHe={kernelName:$M,backendName:"cpu",kernelFunc:HN};function pHe(n,e,t){n.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gHe={kernelName:PM,backendName:"cpu",kernelFunc:({inputs:n,attrs:e,backend:t})=>{const{image:r}=n,o=t,i=Ur(r.dtype,ue(r.shape)),[a,s,l,u]=r.shape,c=o.data.get(r.dataId).values;for(let h=0;h<a;h++){const f=h*l*s*u;for(let p=0;p<s;p++){const g=p*(l*u);for(let v=0;v<l;v++){const m=v*u;for(let y=0;y<u;y++){const b=Math.round(l-v-1),w=f+g+m+y;let x=c[w];if(b>=0&&b<l){const S=b*u,C=f+g+S+y;x=c[C]}i[w]=x}}}}return{dataId:o.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vHe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,filter:i,bias:a,preluActivationWeights:s}=e,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:h,activation:f,leakyreluAlpha:p}=r;let g=zne({inputs:{x:o,filter:i},backend:t,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:h}});if(a){const v=g;if(c==="NCHW"&&a.shape.length===1&&a.shape[0]!==1){const m=kn({inputs:{x:a},backend:t,attrs:{shape:[a.shape[0],1,1]}});g=wp({inputs:{a:g,b:m},backend:t}),t.disposeIntermediateTensorInfo(m)}else g=wp({inputs:{a:g,b:a},backend:t});t.disposeIntermediateTensorInfo(v)}if(f){const v=g;if(c==="NCHW"&&f==="prelu"&&s.shape.length===1&&s.shape[0]!==1){const m=kn({inputs:{x:s},backend:t,attrs:{shape:[s.shape[0],1,1]}});g=vS(t,g,f,m,p),t.disposeIntermediateTensorInfo(m)}else g=vS(t,g,f,s,p);t.disposeIntermediateTensorInfo(v)}return g}const mHe={kernelName:Kx,backendName:"cpu",kernelFunc:vHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yHe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,filter:i,bias:a,preluActivationWeights:s}=e,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:h,activation:f,leakyreluAlpha:p}=r;let g=Vne({inputs:{x:o,filter:i},backend:t,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:h}});if(a){const v=g;g=wp({inputs:{a:g,b:a},backend:t}),t.disposeIntermediateTensorInfo(v)}if(f){const v=g;g=vS(t,g,f,s,p),t.disposeIntermediateTensorInfo(v)}return g}const bHe={kernelName:EZ,backendName:"cpu",kernelFunc:yHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wHe(n){const{inputs:e,backend:t}=n,{params:r,indices:o}=e,i=ue(r.shape),a=o.shape,s=a[a.length-1],[l,u,c,d]=zL(r,o);if(u===0)return t.makeTensorInfo(l,r.dtype,[]);const h=t.data.get(o.dataId).values,f=t.bufferSync(r),p=Jte(h,f,r.dtype,u,s,c,d,r.shape,i);return t.makeTensorInfo(l,r.dtype,p.values)}const xHe={kernelName:fZ,backendName:"cpu",kernelFunc:wHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SHe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,indices:i}=e,{axis:a,batchDims:s}=r;Ke([o,i],"gatherV2");const l=Mt(a,o.shape)[0],u=t.data.get(i.dataId).values,c=o.shape[l];for(let w=0;w<u.length;++w){const x=u[w];O(x<=c-1&&x>=0,()=>`GatherV2: the index value ${x} is not in [0, ${c-1}]`)}let d=s;s==null&&(d=0);const h=ue(i.shape),f=cN(o,i,l,d),p=kn({inputs:{x:o},backend:t,attrs:{shape:[f.batchSize,f.outerSize,f.dimSize,f.sliceSize]}}),g=kn({inputs:{x:i},backend:t,attrs:{shape:[f.batchSize,h/f.batchSize]}}),v=[f.batchSize,f.outerSize,h/f.batchSize,f.sliceSize],m=t.bufferSync(g),y=t.bufferSync(p),b=Qte(y,m,v);return t.disposeIntermediateTensorInfo(p),t.disposeIntermediateTensorInfo(g),t.makeTensorInfo(f.outputShape,b.dtype,b.values)}const CHe={kernelName:a2,backendName:"cpu",kernelFunc:SHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kHe(n){const{inputs:e,backend:t}=n,{input:r}=e,o=ue(r.shape),i=r.shape[r.shape.length-1],a=o/i,s=kn({inputs:{x:r},backend:t,attrs:{shape:[a,i]}}),l=Gne(s,!0,t),u=kn({inputs:{x:l},backend:t,attrs:{shape:r.shape}});return t.disposeIntermediateTensorInfo(s),t.disposeIntermediateTensorInfo(l),u}const _He={kernelName:MM,backendName:"cpu",kernelFunc:kHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IHe=hn(k0,n=>Number.isFinite(n)?1:0,"bool"),THe={kernelName:k0,backendName:"cpu",kernelFunc:IHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AHe=hn(_0,n=>Math.abs(n)===1/0?1:0,"bool"),DHe={kernelName:_0,backendName:"cpu",kernelFunc:AHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RHe=hn(I0,n=>Number.isNaN(n)?1:0,"bool"),EHe={kernelName:I0,backendName:"cpu",kernelFunc:RHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $He(n){const{backend:e,attrs:t}=n,{start:r,stop:o,num:i}=t,a=one(r,o,i);return e.makeTensorInfo([a.length],"float32",a)}const PHe={kernelName:pZ,backendName:"cpu",kernelFunc:$He};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MHe=hn(A0,n=>Math.log1p(n)),LHe={kernelName:A0,backendName:"cpu",kernelFunc:MHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NHe=qn((n,e)=>n&&e),OHe=dr(d2,NHe,null,"bool"),FHe={kernelName:d2,backendName:"cpu",kernelFunc:OHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BHe=hn(h2,n=>n?0:1,"bool"),zHe={kernelName:h2,backendName:"cpu",kernelFunc:BHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VHe=qn((n,e)=>n||e),GHe=dr(f2,VHe,null,"bool"),WHe={kernelName:f2,backendName:"cpu",kernelFunc:GHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HHe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{depthRadius:i,bias:a,alpha:s,beta:l}=r;Ke(o,"LRN");const u=o.shape[3],c=u-1,d=t.data.get(o.dataId).values,h=ue(o.shape),f=new Float32Array(h);function p(g){const v=g%u;let m=g-v+Math.max(0,v-i);const y=g-v+Math.min(v+i,c);let b=0;for(;m<=y;m++){const w=d[m];b+=w*w}return b}for(let g=0;g<h;g++){const v=p(g),m=d[g]*Math.pow(a+s*v,-l);f[g]=m}return t.makeTensorInfo(o.shape,o.dtype,f)}const UHe={kernelName:p2,backendName:"cpu",kernelFunc:HHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jHe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,y:i,dy:a}=e,{depthRadius:s,bias:l,alpha:u,beta:c}=r;Ke(a,"LRNGrad");const d=ue(a.shape),h=a.shape[3],f=t.data.get(a.dataId).values,p=t.data.get(o.dataId).values,g=t.data.get(i.dataId).values,v=new Float32Array(d),m=d;for(let y=0;y<m;y++){const b=y%h,w=y-b+Math.max(0,b-s),x=y-b+Math.min(h,b+s+1);let S=0;for(let C=w;C<x;C++)S+=Math.pow(p[C],2);S=u*S+l;for(let C=w;C<x;C++){let k=-2*u*c*p[C]*g[y]/S;y===C&&(k+=Math.pow(S,-c)),k*=f[y],v[C]+=k}}return t.makeTensorInfo(a.shape,o.dtype,v)}const KHe={kernelName:NM,backendName:"cpu",kernelFunc:jHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wne(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{reductionIndices:i,keepDims:a}=r,s=t;let l=o.shape;const u=l.length,c=Mt(i,l);let d=c;const h=Fn(d,u);let f=s.data.get(o.dataId).values;if(h!=null){const w=new Array(u);for(let x=0;x<w.length;x++)w[x]=l[h[x]];f=BN(f,l,o.dtype,h,w),d=Kn(d.length,u),l=w}Ke(o,"max"),Or("max",d,u);const[p,g]=_r(l,d),v=ue(g),m=ane(f,v,p,o.dtype),y=s.write(m,p,o.dtype);let b=p;return a&&(b=tr(p,c)),{dataId:y,shape:b,dtype:o.dtype}}const XHe={kernelName:g2,backendName:"cpu",kernelFunc:Wne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qHe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e;Ke(o,"maxPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=r,u=1;O(Xr(a,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const c=ha(o.shape,i,a,u,s,l);let d;if(c.filterWidth===1&&c.filterHeight===1&&an(c.inShape,c.outShape))d=js({inputs:{x:o},backend:t});else{const h=t.data.get(o.dataId).values,f=tt(o.shape),p=GN(h,o.shape,o.dtype,f,c,"max");d=t.makeTensorInfo(c.outShape,o.dtype,p.values)}return d}const YHe={kernelName:v2,backendName:"cpu",kernelFunc:qHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZHe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{filterSize:i,strides:a,pad:s,dimRoundingMode:l,dataFormat:u}=r;Ke(o,"maxPool3d");const c=Fl(o.shape,i,a,1,s,l,u),d=t.data.get(o.dataId).values,h=Bne(d,o.shape,o.dtype,tt(o.shape),c,"max");return t.makeTensorInfo(h.shape,"float32",h.values)}const JHe={kernelName:m2,backendName:"cpu",kernelFunc:ZHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QHe(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,input:i}=e,{filterSize:a,strides:s,pad:l,dimRoundingMode:u}=r;Ke([o,i],"maxPool3DGrad");const c=Fl(i.shape,a,s,1,l,u),d=t.bufferSync(i),h=VGe(d,c),f=c.strideDepth,p=c.strideHeight,g=c.strideWidth,v=c.dilationDepth,m=c.dilationHeight,y=c.dilationWidth,b=c.effectiveFilterDepth,w=c.effectiveFilterHeight,x=c.effectiveFilterWidth,S=b-1-c.padInfo.front,C=x-1-c.padInfo.left,k=w-1-c.padInfo.top,_=$t(i.shape,"float32"),I=t.bufferSync(o);for(let T=0;T<c.batchSize;++T)for(let A=0;A<c.inChannels;++A)for(let D=0;D<c.inDepth;++D)for(let E=0;E<c.inHeight;++E)for(let $=0;$<c.inWidth;++$){const P=D-S,N=E-k,M=$-C;let L=0;for(let V=0;V<b;V+=v){const W=(P+V)/f;if(!(W<0||W>=c.outDepth||Math.floor(W)!==W))for(let j=0;j<w;j+=m){const Q=(N+j)/p;if(!(Q<0||Q>=c.outHeight||Math.floor(Q)!==Q))for(let te=0;te<x;te+=y){const se=(M+te)/g;if(se<0||se>=c.outWidth||Math.floor(se)!==se)continue;const ge=b*w*x-1-h.get(T,W,Q,se,A),ye=V*w*x+j*x+te,ve=ge===ye?1:0;if(ve===0)continue;const de=I.get(T,W,Q,se,A);L+=de*ve}}}_.set(L,T,D,E,$,A)}return t.makeTensorInfo(_.shape,_.dtype,_.values)}const eUe={kernelName:FM,backendName:"cpu",kernelFunc:QHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tUe(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,input:i,output:a}=e,s=i;Ke([i,a],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,h=ha(s.shape,l,u,1,c,d),f=t.data.get(s.dataId).values,p=$t(h.outShape,s.dtype,Fne(f,s.shape,s.dtype,h).values),g=h.strideHeight,v=h.strideWidth,m=h.dilationHeight,y=h.dilationWidth,b=h.effectiveFilterHeight,w=h.effectiveFilterWidth,x=w-1-h.padInfo.left,S=b-1-h.padInfo.top,C=$t(s.shape,"float32"),k=t.data.get(o.dataId).values,_=$t(o.shape,"float32",k);for(let I=0;I<h.batchSize;++I)for(let T=0;T<h.inChannels;++T)for(let A=0;A<h.inHeight;++A)for(let D=0;D<h.inWidth;++D){const E=A-S,$=D-x;let P=0;for(let N=0;N<b;N+=m){const M=(E+N)/g;if(!(M<0||M>=h.outHeight||Math.floor(M)!==M))for(let L=0;L<w;L+=y){const V=($+L)/v;if(V<0||V>=h.outWidth||Math.floor(V)!==V)continue;const W=b*w-1-p.get(I,M,V,T),j=N*w+L,Q=W===j?1:0;if(Q===0)continue;const te=_.get(I,M,V,T);P+=te*Q}}C.set(P,I,A,D,T)}return t.makeTensorInfo(C.shape,C.dtype,C.values)}const nUe={kernelName:OM,backendName:"cpu",kernelFunc:tUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rUe(n,e,t,r,o){const i=tt(e),a=GN(n,e,t,i,o,"max"),s=Fne(n,e,t,o,!0,r);return[a.values,s.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oUe={kernelName:gZ,backendName:"cpu",kernelFunc:({inputs:n,attrs:e,backend:t})=>{const{x:r}=n,{filterSize:o,strides:i,pad:a,includeBatchInIndex:s}=e,l=t;Ke(r,"MaxPoolWithArgmax");const u=l.data.get(r.dataId).values,c=ha(r.shape,o,i,[1,1],a),[d,h]=rUe(u,r.shape,r.dtype,s,c),f=l.write(d,c.outShape,r.dtype),p=l.write(h,c.outShape,r.dtype);return[{dataId:f,shape:c.outShape,dtype:r.dtype},{dataId:p,shape:c.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iUe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,keepDims:a}=r,s=Mt(i,o.shape),u=_r(o.shape,s)[1],c=ue(u),d=[],h=t.makeTensorInfo([],"float32",new Float32Array([c]));d.push(h);const f=Ku({inputs:{x:o},backend:t,attrs:{dtype:"float32"}});d.push(f);const p=WN({inputs:{a:f,b:h},backend:t});d.push(p);const g=fb({inputs:{x:p},backend:t,attrs:{axis:i,keepDims:a}});return d.forEach(v=>t.disposeIntermediateTensorInfo(v)),g}const aUe={kernelName:y2,backendName:"cpu",kernelFunc:iUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sUe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,keepDims:a}=r;Ke(o,"min");const s=Mt(i,o.shape);let l=s;const u=Fn(l,o.shape.length);let c=o;u!=null&&(c=Lo({inputs:{x:o},backend:t,attrs:{perm:u}}),l=Kn(l.length,o.shape.length)),Or("min",l,c.shape.length);const[d,h]=_r(c.shape,l),f=ue(h),p=jr(ue(d),c.dtype),g=t.data.get(c.dataId).values;for(let m=0;m<p.length;++m){const y=m*f;let b=g[y];for(let w=0;w<f;++w){const x=g[y+w];(Number.isNaN(x)||x<b)&&(b=x)}p[m]=b}u!=null&&t.disposeIntermediateTensorInfo(c);const v=t.makeTensorInfo(d,c.dtype,p);if(a){const m=tr(d,s),y=kn({inputs:{x:v},backend:t,attrs:{shape:m}});return t.disposeIntermediateTensorInfo(v),y}return v}const lUe={kernelName:b2,backendName:"cpu",kernelFunc:sUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uUe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{paddings:i,mode:a}=r;Ke(o,"mirrorPad");const s=i.map((b,w)=>b[0]+o.shape[w]+b[1]),l=i.map(b=>b[0]),u=i.map((b,w)=>b[0]+o.shape[w]),c=a==="reflect"?0:1,d=t.data.get(o.dataId).values,h=o.shape.length,f=tt(o.shape),p=ue(s),g=s.length,v=tt(s),m=Ur(o.dtype,p);for(let b=0;b<p;b++){let w=Jp(b,g,v);for(let S=0;S<g;S++)w[S]<l[S]?w[S]=l[S]*2-w[S]-c:w[S]>=u[S]&&(w[S]=(u[S]-1)*2-w[S]+c);w=w.map((S,C)=>S-l[C]);const x=Rs(w,h,f);m[b]=d[x]}return{dataId:t.write(m,s,o.dtype),shape:s,dtype:o.dtype}}const cUe={kernelName:w2,backendName:"cpu",kernelFunc:uUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dUe=qn((n,e)=>{const t=n%e;return n<0&&e<0||n>=0&&e>=0?t:(t+e)%e}),hUe=dr(E0,dUe),fUe={kernelName:E0,backendName:"cpu",kernelFunc:hUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hne(n){const{inputs:e,backend:t,attrs:r}=n,{logits:o}=e,{dim:i}=r,a=o.shape.length;let s=i;if(s===-1&&(s=a-1),s!==a-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${a} and dim was ${s}`);const l=Mt([s],o.shape),u=Wne({inputs:{x:o},backend:t,attrs:{reductionIndices:l,keepDims:!1}}),c=tr(u.shape,l),d=kn({inputs:{x:u},backend:t,attrs:{shape:c}}),h=VN({inputs:{a:o,b:d},backend:t}),f=Xte({inputs:{x:h},backend:t}),p=fb({inputs:{x:f},backend:t,attrs:{axis:l,keepDims:!1}}),g=kn({inputs:{x:p},backend:t,attrs:{shape:c}}),v=WN({inputs:{a:f,b:g},backend:t});return t.disposeIntermediateTensorInfo(u),t.disposeIntermediateTensorInfo(d),t.disposeIntermediateTensorInfo(h),t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(p),t.disposeIntermediateTensorInfo(g),v}const pUe={kernelName:F2,backendName:"cpu",kernelFunc:Hne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gUe(n){const{inputs:e,backend:t,attrs:r}=n,{logits:o}=e,{numSamples:i,seed:a,normalized:s}=r;Ke(o,"multinomial");const l=s?o:Hne({inputs:{logits:o},backend:t,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],d=t.data.get(l.dataId).values,h=[u,i],f=jr(ue(h),"int32");for(let p=0;p<u;++p){const g=p*c,v=new Float32Array(c-1);v[0]=d[g];for(let b=1;b<v.length;++b)v[b]=v[b-1]+d[g+b];const m=_L.alea(a.toString()),y=p*i;for(let b=0;b<i;++b){const w=m();f[y+b]=v.length;for(let x=0;x<v.length;x++)if(w<v[x]){f[y+b]=x;break}}}return s||t.disposeIntermediateTensorInfo(l),t.makeTensorInfo(h,"int32",f)}const vUe={kernelName:vZ,backendName:"cpu",kernelFunc:gUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mUe=ML;function yUe(n){const{inputs:e,backend:t,attrs:r}=n,{boxes:o,scores:i}=e,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l}=r;Ke(o,"NonMaxSuppression");const u=t.data.get(o.dataId).values,c=t.data.get(i.dataId).values,{selectedIndices:d}=mUe(u,c,a,s,l);return t.makeTensorInfo([d.length],"int32",new Int32Array(d))}const bUe={kernelName:BM,backendName:"cpu",kernelFunc:yUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wUe=LL;function xUe(n){const{inputs:e,backend:t,attrs:r}=n,{boxes:o,scores:i}=e,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r;Ke(o,"NonMaxSuppressionPadded");const c=t.data.get(o.dataId).values,d=t.data.get(i.dataId).values,{selectedIndices:h,validOutputs:f}=wUe(c,d,a,s,l,u);return[t.makeTensorInfo([h.length],"int32",new Int32Array(h)),t.makeTensorInfo([],"int32",new Int32Array([f]))]}const SUe={kernelName:zM,backendName:"cpu",kernelFunc:xUe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CUe=NL;function kUe(n){const{inputs:e,backend:t,attrs:r}=n,{boxes:o,scores:i}=e,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r;Ke(o,"NonMaxSuppressionWithScore");const c=t.data.get(o.dataId).values,d=t.data.get(i.dataId).values,h=a,f=s,p=l,g=u,{selectedIndices:v,selectedScores:m}=CUe(c,d,h,f,p,g);return[t.makeTensorInfo([v.length],"int32",new Int32Array(v)),t.makeTensorInfo([m.length],"float32",new Float32Array(m))]}const _Ue={kernelName:VM,backendName:"cpu",kernelFunc:kUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IUe(n){const{inputs:e,backend:t,attrs:r}=n,{indices:o}=e,{dtype:i,depth:a,onValue:s,offValue:l}=r;Ke(o,"oneHot");const u=ue(o.shape),c=new Float32Array(u*a);c.fill(l);const d=t.data.get(o.dataId).values;for(let h=0;h<u;++h)d[h]>=0&&d[h]<a&&(c[h*a+d[h]]=s);return t.makeTensorInfo([...o.shape,a],i,c)}const TUe={kernelName:k2,backendName:"cpu",kernelFunc:IUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yS(n){const{inputs:e,backend:t}=n,{x:r}=e;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const o=ah({inputs:{input:r},backend:t}),i=yS({inputs:{x:o},backend:t}),a=xp({inputs:{input:r},backend:t}),s=yS({inputs:{x:a},backend:t}),l=Ko({inputs:{real:i,imag:s},backend:t});return t.disposeIntermediateTensorInfo(o),t.disposeIntermediateTensorInfo(i),t.disposeIntermediateTensorInfo(a),t.disposeIntermediateTensorInfo(s),l}else return HN({backend:t,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const AUe={kernelName:V2,backendName:"cpu",kernelFunc:yS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Une(n){const{inputs:e,backend:t}=n,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const o=ah({inputs:{input:r},backend:t}),i=Une({inputs:{x:o},backend:t}),a=xp({inputs:{input:r},backend:t}),s=yS({inputs:{x:a},backend:t}),l=Ko({inputs:{real:i,imag:s},backend:t});return t.disposeIntermediateTensorInfo(o),t.disposeIntermediateTensorInfo(i),t.disposeIntermediateTensorInfo(a),t.disposeIntermediateTensorInfo(s),l}else return HN({backend:t,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const DUe={kernelName:C2,backendName:"cpu",kernelFunc:Une};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jne(n){const{inputs:e,backend:t,attrs:r}=n,{axis:o}=r;if(e.length===1)return mS({inputs:{input:e[0]},backend:t,attrs:{dim:o}});const i=e[0].shape,a=e[0].dtype;e.forEach(c=>{lM(i,c.shape,"All tensors passed to stack must have matching shapes"),O(a===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const s=[],l=e.map(c=>{const d=mS({inputs:{input:c},backend:t,attrs:{dim:o}});return s.push(d),d}),u=Sp({inputs:l,backend:t,attrs:{axis:o}});return s.forEach(c=>t.disposeIntermediateTensorInfo(c)),u}const RUe={kernelName:_2,backendName:"cpu",kernelFunc:jne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EUe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{paddings:i,constantValue:a}=r;Ke(o,"pad");const s=i.map((y,b)=>y[0]+o.shape[b]+y[1]),l=i.map(y=>y[0]),u=t.data.get(o.dataId).values,c=ue(o.shape),d=o.shape.length,h=tt(o.shape),f=ue(s),p=s.length,g=tt(s),v=Ur(o.dtype,f);a!==0&&v.fill(a);for(let y=0;y<c;y++){const w=Jp(y,d,h).map((S,C)=>S+l[C]),x=Rs(w,p,g);v[x]=u[y]}return{dataId:t.write(v,s,o.dtype),shape:s,dtype:o.dtype}}const Kne={kernelName:I2,backendName:"cpu",kernelFunc:EUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Ue=qn((n,e)=>Math.pow(n,e)),PUe=dr(P0,$Ue),MUe={kernelName:P0,backendName:"cpu",kernelFunc:PUe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LUe(n){const{inputs:e,backend:t,attrs:r}=n,{paramsNestedSplits:o,paramsDenseValues:i,indices:a}=e,s=o.map(v=>t.data.get(v.dataId).values),l=o.map(v=>v.shape),u=t.data.get(i.dataId).values,c=t.data.get(a.dataId).values,[d,h,f]=hne(s,l,u,i.shape,i.dtype,c,a.shape),p=d.map(v=>t.makeTensorInfo([v.length],"int32",v)),g=t.makeTensorInfo(f,i.dtype,h);return p.concat([g])}const NUe={kernelName:mZ,backendName:"cpu",kernelFunc:LUe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OUe(n){const{inputs:e,backend:t}=n,{starts:r,limits:o,deltas:i}=e,a=t.data.get(r.dataId).values,s=t.data.get(o.dataId).values,l=t.data.get(i.dataId).values,[u,c]=fne(a,r.shape,r.dtype,s,o.shape,l,i.shape),d=t.makeTensorInfo([u.length],"int32",u),h=t.makeTensorInfo([c.length],r.dtype,c);return[d,h]}const FUe={kernelName:yZ,backendName:"cpu",kernelFunc:OUe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BUe(n){const{inputs:e,backend:t,attrs:r}=n,{shape:o,values:i,defaultValue:a,rowPartitionTensors:s}=e,{rowPartitionTypes:l}=r,u=t.data.get(o.dataId).values,c=t.data.get(i.dataId).values,d=t.data.get(a.dataId).values,h=s.map(v=>t.data.get(v.dataId).values),f=s.map(v=>v.shape),[p,g]=pne(u,o.shape,c,i.shape,i.dtype,d,a.shape,h,f,l);return t.makeTensorInfo(p,i.dtype,g)}const zUe={kernelName:bZ,backendName:"cpu",kernelFunc:BUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VUe(n){const{backend:e,attrs:t}=n,{start:r,stop:o,dtype:i,step:a}=t,s=gne(r,o,a,i);return e.makeTensorInfo([s.length],i,s)}const GUe={kernelName:GM,backendName:"cpu",kernelFunc:VUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WUe=hn(M0,n=>1/n),HUe={kernelName:M0,backendName:"cpu",kernelFunc:WUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UUe(n){const{inputs:e,backend:t,attrs:r}=n,{images:o}=e,{alignCorners:i,halfPixelCenters:a,size:s}=r;Ke(o,"resizeBilinear");const l=tt(o.shape),[u,c]=s,[d,h,f,p]=o.shape,g=t.data.get(o.dataId).values,v=new Float32Array(ue([d,u,c,p])),m=[i&&u>1?h-1:h,i&&c>1?f-1:f],y=[i&&u>1?u-1:u,i&&c>1?c-1:c];let b=0;const w=m[0]/y[0],x=m[1]/y[1];for(let S=0;S<d;S++)for(let C=0;C<u;C++){let k;a?k=w*(C+.5)-.5:k=w*C;const _=Math.max(0,Math.floor(k)),I=k-_,T=Math.min(h-1,Math.ceil(k)),A=S*l[0]+_*l[1],D=S*l[0]+T*l[1];for(let E=0;E<c;E++){let $;a?$=x*(E+.5)-.5:$=x*E;const P=Math.max(0,Math.floor($)),N=$-P,M=Math.min(f-1,Math.ceil($)),L=A+P*l[2],V=D+P*l[2],W=A+M*l[2],j=D+M*l[2];for(let Q=0;Q<p;Q++){const te=g[L+Q],se=g[V+Q],ge=g[W+Q],ye=g[j+Q],ve=te+(ge-te)*N,de=se+(ye-se)*N,Se=ve+(de-ve)*I;v[b++]=Se}}}return t.makeTensorInfo([d,u,c,p],"float32",v)}const jUe={kernelName:E2,backendName:"cpu",kernelFunc:UUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KUe(n){const{inputs:e,backend:t,attrs:r}=n,{images:o,dy:i}=e,{alignCorners:a}=r;Ke([i,o],"resizeBilinearGrad");const s=tt(o.shape),[l,u,c,d]=o.shape,[,h,f]=i.shape,p=new Float32Array(l*u*c*d),g=[a&&h>1?u-1:u,a&&f>1?c-1:c],v=[a&&h>1?h-1:h,a&&f>1?f-1:f],m=g[0]/v[0],y=g[1]/v[1],b=t.data.get(i.dataId).values;let w=0;for(let x=0;x<l;x++){const S=x*s[0];for(let C=0;C<h;C++){const k=C*m,_=Math.floor(k),I=Math.min(Math.ceil(k),u-1),T=S+_*s[1],A=S+I*s[1],D=k-_,E=1-D;for(let $=0;$<f;$++){const P=$*y,N=Math.floor(P),M=Math.min(Math.ceil(P),c-1),L=P-N,V=1-L,W=T+N*s[2],j=T+M*s[2],Q=A+N*s[2],te=A+M*s[2],se=E*V,ge=E*L,ye=D*V,ve=D*L;for(let de=0;de<d;de++){const Se=b[w++];p[W+de]+=Se*se,p[j+de]+=Se*ge,p[Q+de]+=Se*ye,p[te+de]+=Se*ve}}}}return t.makeTensorInfo([l,c,u,d],"float32",p)}const XUe={kernelName:UM,backendName:"cpu",kernelFunc:KUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qUe(n){const{inputs:e,backend:t,attrs:r}=n,{images:o}=e,{alignCorners:i,halfPixelCenters:a,size:s}=r;Ke(o,"resizeNearestNeighbor");const l=tt(o.shape),[u,c]=s,[d,h,f,p]=o.shape,g=t.data.get(o.dataId).values,v=new Float32Array(d*u*c*p),m=[i&&u>1?h-1:h,i&&c>1?f-1:f],y=[i&&u>1?u-1:u,i&&c>1?c-1:c],b=m[0]/y[0],w=m[1]/y[1];let x=0;for(let S=0;S<d;S++){const C=S*l[0];for(let k=0;k<u;k++){const _=a?b*(k+.5):b*k;let I=Math.min(h-1,i?Math.round(_):Math.floor(_));a&&(I=Math.max(0,I));const T=C+I*l[1];for(let A=0;A<c;A++){const D=a?w*(A+.5):w*A;let E=Math.min(f-1,i?Math.round(D):Math.floor(D));a&&(E=Math.max(0,E));const $=T+E*l[2];for(let P=0;P<p;P++){const N=g[$+P];v[x++]=N}}}}return t.makeTensorInfo([d,u,c,p],o.dtype,v)}const YUe={kernelName:R2,backendName:"cpu",kernelFunc:qUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZUe(n){const{inputs:e,backend:t,attrs:r}=n,{images:o,dy:i}=e,{alignCorners:a}=r;Ke([i,o],"resizeNearestNeighborGrad");const s=tt(o.shape),l=tt(i.shape),[u,c,d,h]=o.shape,[,f,p]=i.shape,g=new Float32Array(u*c*d*h),v=t.data.get(i.dataId).values,m=[a&&f>1?c-1:c,a&&p>1?d-1:d],y=[a&&f>1?f-1:f,a&&p>1?p-1:p],b=m[0]/y[0],w=m[1]/y[1],x=1/b,S=1/w,C=Math.ceil(x)*2+2,k=Math.ceil(S)*2+2;for(let _=0;_<u;_++){const I=_*s[0];for(let T=0;T<c;T++){const A=I+T*s[1],D=Math.floor(T*x),E=Math.floor(D-C/2);for(let $=0;$<d;$++){const P=A+$*s[2],N=Math.floor($*S),M=Math.floor(N-k/2);for(let L=0;L<h;L++){let V=0;for(let W=0;W<C;W++){const j=W+E;if(j<0||j>=f)continue;const Q=I+j*l[1],te=j*b,se=Math.min(c-1,a?Math.round(te):Math.floor(te));if(T===se)for(let ge=0;ge<k;ge++){const ye=ge+M;if(ye<0||ye>=p)continue;const ve=Q+ye*l[2],de=ye*w,Se=Math.min(d-1,a?Math.round(de):Math.floor(de));$===Se&&(V+=v[ve+L])}}g[P+L]=V}}}}return t.makeTensorInfo(o.shape,o.dtype,g)}const JUe={kernelName:HM,backendName:"cpu",kernelFunc:ZUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QUe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{dims:i}=r;Ke(o,"reverse");const a=o.shape.length,s=Mt(i,o.shape);if(a===0)return js({inputs:{x:o},backend:t});const l=new Pr(o.shape,o.dtype),u=t.bufferSync(o);for(let c=0;c<l.size;c++){const d=l.indexToLoc(c),h=d.slice();s.forEach(f=>h[f]=o.shape[f]-1-h[f]),l.set(u.get(...h),...d)}return t.makeTensorInfo(l.shape,l.dtype,l.values)}const eje={kernelName:$2,backendName:"cpu",kernelFunc:QUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tje={kernelName:JM,backendName:"cpu",kernelFunc:({inputs:n,attrs:e,backend:t})=>{const{image:r}=n,{radians:o,fillValue:i,center:a}=e,s=t,l=Ur(r.dtype,ue(r.shape)),[u,c,d,h]=r.shape,[f,p]=XL(a,c,d),g=255,v=Math.sin(o),m=Math.cos(o),y=s.data.get(r.dataId).values;for(let w=0;w<u;w++){const x=w*d*c*h;for(let S=0;S<c;S++){const C=S*(d*h);for(let k=0;k<d;k++){const _=k*h;for(let I=0;I<h;I++){const T=[u,S,k,I],A=T[2],D=T[1];let E=(A-f)*m-(D-p)*v,$=(A-f)*v+(D-p)*m;E=Math.round(E+f),$=Math.round($+p);let P=i;if(typeof i!="number"&&(I===3?P=g:P=i[I]),E>=0&&E<d&&$>=0&&$<c){const M=$*(d*h),L=E*h,V=x+M+L+I;P=y[V]}const N=x+C+_+I;l[N]=P}}}}return{dataId:s.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nje=hn(O0,n=>{const e=Math.floor(n);return n-e<.5?Math.floor(n):n-e>.5?Math.ceil(n):e%2===0?e:e+1}),rje={kernelName:O0,backendName:"cpu",kernelFunc:nje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oje(n){const{inputs:e,backend:t,attrs:r}=n,{indices:o,updates:i}=e,{shape:a}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=Th(i,o,a),h=!0,f=t.bufferSync(o),p=t.bufferSync(i),g=Cd(f,p,a,d,u,l,s,c,0,h);return t.makeTensorInfo(a,g.dtype,g.values)}const ije={kernelName:wZ,backendName:"cpu",kernelFunc:oje};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aje(n,e){let t=0,r=n.length,o=0;for(;t<r;)o=Math.floor((t+r)/2),n[o]<e?t=o+1:r=o;return r}function sje(n,e){let t=0,r=n.length,o=0;for(;t<r;)o=Math.floor((t+r)/2),n[o]<=e?t=o+1:r=o;return r}function lje(n,e,t,r,o,i){const a=Wn("int32",t*o);for(let s=0;s<t;++s){const l=n.slice(s*r,(s+1)*r),u=s*o;for(let c=0;c<o;++c)a[u+c]=i==="left"?aje(l,e[c+u]):sje(l,e[c+u])}return a}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uje(n){const{inputs:e,backend:t,attrs:r}=n,{sortedSequence:o,values:i}=e,{side:a}=r,s=t.data.get(o.dataId).values,l=t.data.get(i.dataId).values,u=lje(s,l,o.shape[0],o.shape[1],i.shape[1],a);return t.makeTensorInfo(i.shape,"int32",u)}const cje={kernelName:SZ,backendName:"cpu",kernelFunc:uje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dje(n){const{inputs:e,backend:t}=n,{condition:r,t:o,e:i}=e;Ke([r,o,i],"select");const a=r.shape.length,s=t.data.get(r.dataId).values,l=t.data.get(o.dataId).values,u=t.data.get(i.dataId).values,c=ei(o.dtype,i.dtype),d=jr(ue(o.shape),c);let h=0;const f=a===0||a>1||o.shape.length===1?1:ue(o.shape.slice(1));for(let p=0;p<s.length;p++)for(let g=0;g<f;g++)s[p]===1?d[h++]=l[p]:d[h++]=u[p];return t.makeTensorInfo(o.shape,c,d)}const hje={kernelName:P2,backendName:"cpu",kernelFunc:dje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fje=Z2,pje=J2,gje=hn(B0,n=>n>=0?pje*n:fje*(Math.exp(n)-1)),vje={kernelName:B0,backendName:"cpu",kernelFunc:gje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mje=hn(G0,n=>n<0?-1:n>0?1:0),yje={kernelName:G0,backendName:"cpu",kernelFunc:mje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bje=hn(z0,n=>Math.sin(n)),wje={kernelName:z0,backendName:"cpu",kernelFunc:bje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xje=hn(V0,n=>Math.sinh(n)),Sje={kernelName:V0,backendName:"cpu",kernelFunc:xje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cje=11920928955078125e-23,d8=Math.log(Cje)+2,kje=hn(H0,n=>{const e=n>-d8,t=n<d8,r=Math.exp(n);let o;return t?o=r:e?o=n:o=Math.log(1+r),o}),_je={kernelName:H0,backendName:"cpu",kernelFunc:kje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ije(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{blockShape:i,paddings:a}=r;Ke([o],"spaceToBatchND");const s=ue(i),l=[[0,0]];l.push(...a);for(let S=1+i.length;S<o.shape.length;++S)l.push([0,0]);const u=Kne.kernelFunc({inputs:{x:o},backend:t,attrs:{paddings:l,constantValue:0}}),c=rb(u.shape,i,s,!1),d=ob(c.length,i.length,!1),h=ib(u.shape,i,s,!1),g=kn({inputs:{x:u},backend:t,attrs:{shape:c}}),y=Lo({inputs:{x:g},backend:t,attrs:{perm:d}}),x=kn({inputs:{x:y},backend:t,attrs:{shape:h}});return t.disposeIntermediateTensorInfo(u),t.disposeIntermediateTensorInfo(g),t.disposeIntermediateTensorInfo(y),x}const Tje={kernelName:N2,backendName:"cpu",kernelFunc:Ije};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aje(n){const{inputs:e,backend:t}=n,{indices:r,values:o,denseShape:i,defaultValue:a}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(o.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${o.shape}`);if(a.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${a.shape}`);const s=t.data.get(r.dataId).values,l=t.data.get(o.dataId).values,u=t.data.get(i.dataId).values,c=t.data.get(a.dataId).values[0],[d,h,f,p,g]=bne(s,r.shape,r.dtype,l,o.dtype,u,c);return[t.makeTensorInfo(h,r.dtype,d),t.makeTensorInfo([h[0]],o.dtype,f),t.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(v=>Number(v)))),t.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}const Dje={kernelName:CZ,backendName:"cpu",kernelFunc:Aje};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rje(n){const{inputs:e,backend:t}=n,{inputIndices:r,inputShape:o,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(o.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${o.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(t.data.get(o.dataId).values),s=t.data.get(r.dataId).values,l=Array.from(t.data.get(i.dataId).values),[u,c,d]=wne(s,r.shape,r.dtype,a,l);return[t.makeTensorInfo(c,r.dtype,u),t.makeTensorInfo([d.length],i.dtype,new Int32Array(d))]}const Eje={kernelName:kZ,backendName:"cpu",kernelFunc:Rje};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $je(n){const{inputs:e,backend:t}=n,{data:r,indices:o,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${o.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${i.shape}`);if(o.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=t.data.get(r.dataId).values,s=t.data.get(o.dataId).values,l=t.data.get(i.dataId).values,[u,c]=zN(a,r.shape,r.dtype,s,l,!0);return t.makeTensorInfo(c,r.dtype,u)}const Pje={kernelName:_Z,backendName:"cpu",kernelFunc:$je};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mje(n){const{inputs:e,backend:t}=n,{data:r,indices:o,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${o.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${i.shape}`);if(o.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=t.data.get(r.dataId).values,s=t.data.get(o.dataId).values,l=t.data.get(i.dataId).values,[u,c]=zN(a,r.shape,r.dtype,s,l);return t.makeTensorInfo(c,r.dtype,u)}const Lje={kernelName:IZ,backendName:"cpu",kernelFunc:Mje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nje(n){const{inputs:e,backend:t,attrs:r}=n,{sparseIndices:o,sparseValues:i,defaultValue:a}=e,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:h}=Th(i,o,s),f=!1,p=t.bufferSync(o);let g;switch(i.dtype){case"bool":{const v=t.bufferSync(i),m=!!t.data.get(a.dataId).values[0];g=Cd(p,v,s,h,c,u,l,d,m,f);break}case"float32":{const v=t.bufferSync(i),m=t.data.get(a.dataId).values[0];g=Cd(p,v,s,h,c,u,l,d,m,f);break}case"int32":{const v=t.bufferSync(i),m=t.data.get(a.dataId).values[0];g=Cd(p,v,s,h,c,u,l,d,m,f);break}case"string":{const v=t.bufferSync(i),m=Gu(t.data.get(a.dataId).values[0]);g=Cd(p,v,s,h,c,u,l,d,m,f);break}default:throw new Error(`Unsupported type ${i.dtype}`)}return t.makeTensorInfo(s,g.dtype,g.values)}const Oje={kernelName:TZ,backendName:"cpu",kernelFunc:Nje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fje(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{numOrSizeSplits:i,axis:a}=r,s=Mt(a,o.shape)[0],l=uN(o,i,s),u=new Array(o.shape.length).fill(0),c=o.shape.slice();return l.map(d=>{const h=[...c];h[s]=d;const f=sh({inputs:{x:o},backend:t,attrs:{begin:u,size:h}});return u[s]+=d,f})}const Bje={kernelName:O2,backendName:"cpu",kernelFunc:Fje};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zje={kernelName:jM,backendName:"cpu",kernelFunc:({inputs:n,backend:e})=>{const{x:t}=n,r=e;Ke(t,"square");const o=r.data.get(t.dataId).values,i=new Float32Array(o.length);for(let s=0;s<o.length;++s){const l=o[s];i[s]=l*l}return{dataId:r.write(i,t.shape,t.dtype),shape:t.shape,dtype:t.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vje=hn(Z0,(n,e)=>{const t=e;return isNaN(n)?NaN:n>0?1:t.alpha}),Gje={kernelName:Z0,backendName:"cpu",kernelFunc:Vje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wje(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{begin:i,end:a,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:h}=r;Ke(o,"stridedSlice");const{finalShapeSparse:f,finalShape:p,isIdentity:g,sliceDim0:v,isSimpleSlice:m,begin:y,end:b,strides:w}=UL(o.shape,i,a,s,l,u,c,d,h);let x;if(g)x=kn({inputs:{x:o},backend:t,attrs:{shape:p}});else if(v||m){O(o.shape.length>=1,()=>`Input must have rank at least 1, got: ${o.shape.length}`);const S=GL(y,b,w),C=sh({inputs:{x:o},backend:t,attrs:{begin:y,size:S}});x=kn({inputs:{x:C},backend:t,attrs:{shape:p}}),t.disposeIntermediateTensorInfo(C)}else{const S=t.bufferSync(o),C=Cne(f,S,w,y);x=t.makeTensorInfo(p,C.dtype,C.values)}return x}const Hje={kernelName:XM,backendName:"cpu",kernelFunc:Wje};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uje(n){const{inputs:e,backend:t,attrs:r}=n,{separator:o,nGramWidths:i,leftPad:a,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=e,h=t.data.get(c.dataId).values,f=t.data.get(d.dataId).values,[p,g]=kne(h,f,o,i,a,s,l,u);return[t.makeTensorInfo([p.length],"string",p),t.makeTensorInfo(d.shape,"int32",g)]}const jje={kernelName:AZ,backendName:"cpu",kernelFunc:Uje};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kje(n){const{inputs:e,backend:t,attrs:r}=n,{skipEmpty:o}=r,{input:i,delimiter:a}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(a.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const s=t.data.get(i.dataId).values,l=t.data.get(a.dataId).values[0],[u,c,d]=_ne(s,l,o),h=c.length;return[t.makeTensorInfo([h,2],"int32",u),t.makeTensorInfo([h],"string",c),t.makeTensorInfo([2],"int32",new Int32Array(d))]}const Xje={kernelName:DZ,backendName:"cpu",kernelFunc:Kje};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qje(n){const{inputs:e,backend:t,attrs:r}=n,{numBuckets:o}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const a=t.data.get(i.dataId).values,s=Ine(a,o);return t.makeTensorInfo(i.shape,"int32",s)}const Yje={kernelName:RZ,backendName:"cpu",kernelFunc:qje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zje=hn(X0,n=>Math.tan(n)),Jje={kernelName:X0,backendName:"cpu",kernelFunc:Zje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qje=hn(q0,n=>Math.tanh(n)),eKe={kernelName:q0,backendName:"cpu",kernelFunc:Qje};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tKe(n){const{inputs:e,backend:t}=n,{tensor:r,indices:o,updates:i}=e,{sliceRank:a,numUpdates:s,sliceSize:l,strides:u,outputSize:c}=Th(i,o,r.shape),d=!1,h=t.bufferSync(o),f=t.bufferSync(i),p=t.bufferSync(r),g=Cd(h,f,r.shape,c,l,s,a,u,p,d);return t.makeTensorInfo(r.shape,g.dtype,g.values)}const nKe={kernelName:xZ,backendName:"cpu",kernelFunc:tKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rKe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{reps:i}=r;Ke(o,"tile");const a=Ane(t.bufferSync(o),i);return t.makeTensorInfo(a.shape,a.dtype,a.values)}const oKe={kernelName:Y0,backendName:"cpu",kernelFunc:rKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iKe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{k:i,sorted:a}=r;Ke(o,"topk");const s=t.data.get(o.dataId).values,[l,u]=Rne(s,o.shape,o.dtype,i,a);return[t.makeTensorInfo(l.shape,l.dtype,l.values),t.makeTensorInfo(u.shape,u.dtype,u.values)]}const aKe={kernelName:qM,backendName:"cpu",kernelFunc:iKe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sKe(n){const{inputs:e,attrs:t,backend:r}=n,{image:o,transforms:i}=e,{interpolation:a,fillMode:s,fillValue:l,outputShape:u}=t,[c,d,h,f]=o.shape,[p,g]=u??[d,h],v=[c,p,g,f],m=tt(o.shape),y=m[0],b=m[1],w=m[2],x=tt(v),S=x[0],C=x[1],k=x[2],_=Ur(o.dtype,ue(v));_.fill(l);const I=r.data.get(o.dataId).values,T=r.data.get(i.dataId).values;for(let D=0;D<c;++D){const E=i.shape[0]===1?T:T.subarray(D*8,D*8+8);for(let $=0;$<p;++$)for(let P=0;P<g;++P)for(let N=0;N<f;++N){let M;const L=E[6]*P+E[7]*$+1;if(L===0)continue;const V=(E[0]*P+E[1]*$+E[2])/L,W=(E[3]*P+E[4]*$+E[5])/L,j=h8(V,h,s),Q=h8(W,d,s);switch(a){case"nearest":M=fKe(I,d,h,y,b,w,D,Q,j,N,l);break;case"bilinear":M=pKe(I,d,h,y,b,w,D,Q,j,N,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${a}`)}const te=D*S+$*C+P*k+N;_[te]=M}return r.makeTensorInfo(v,o.dtype,_)}return{dataId:r.write(_,v,o.dtype),shape:o.shape,dtype:o.dtype}}const lKe={kernelName:YM,backendName:"cpu",kernelFunc:sKe};function h8(n,e,t){switch(t){case"reflect":return uKe(n,e);case"wrap":return cKe(n,e);case"nearest":return hKe(n,e);case"constant":default:return dKe(n)}}function uKe(n,e){let t=n;if(t<0)if(e<=1)t=0;else{const r=2*e;t<r&&(t=r*Math.trunc(-t/r)+t),t=t<-e?t+r:-t-1}else if(t>e-1)if(e<=1)t=0;else{const r=2*e;t-=r*Math.trunc(t/r),t>=e&&(t=r-t-1)}return Xd(0,t,e-1)}function cKe(n,e){let t=n;if(t<0)if(e<=1)t=0;else{const r=e-1;t+=e*(Math.trunc(-t/r)+1)}else if(t>e-1)if(e<=1)t=0;else{const r=e-1;t-=e*Math.trunc(t/r)}return Xd(0,t,e-1)}function dKe(n,e){return n}function hKe(n,e){return Xd(0,n,e-1)}function Sv(n,e,t,r,o,i,a,s,l,u,c){const d=a*r+s*o+l*i+u;return 0<=s&&s<e&&0<=l&&l<t?n[d]:c}function fKe(n,e,t,r,o,i,a,s,l,u,c){const d=Math.round(s),h=Math.round(l);return Sv(n,e,t,r,o,i,a,d,h,u,c)}function pKe(n,e,t,r,o,i,a,s,l,u,c){const d=Math.floor(s),h=Math.floor(l),f=d+1,p=h+1,g=(p-l)*Sv(n,e,t,r,o,i,a,d,h,u,c)+(l-h)*Sv(n,e,t,r,o,i,a,d,p,u,c),v=(p-l)*Sv(n,e,t,r,o,i,a,f,h,u,c)+(l-h)*Sv(n,e,t,r,o,i,a,f,p,u,c);return(f-s)*g+(s-d)*v}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gKe(n){const{inputs:e,attrs:t,backend:r}=n,{axis:o}=t,{x:i}=e;Ke(i,"unique");const a=r.data.get(i.dataId).values,{outputValues:s,outputShape:l,indices:u}=Ene(a,o,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}const vKe={kernelName:ZM,backendName:"cpu",kernelFunc:gKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mKe(n){const{inputs:e,backend:t,attrs:r}=n,{value:o}=e;let{axis:i}=r;i<0&&(i+=o.shape.length);const a=o.shape.length,s=o.shape[i],l=new Array(a-1);let u=0;for(let f=0;f<a;f++)f!==i&&(l[u++]=o.shape[f]);const c=new Array(a).fill(0),d=o.shape.slice();d[i]=1;const h=new Array(s);for(let f=0;f<h.length;f++){c[i]=f;const p=sh({inputs:{x:o},backend:t,attrs:{begin:c,size:d}});h[f]=kn({inputs:{x:p},backend:t,attrs:{shape:l}}),t.disposeIntermediateTensorInfo(p)}return h}const yKe={kernelName:B2,backendName:"cpu",kernelFunc:mKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bKe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,segmentIds:i}=e,{numSegments:a}=r;Ke(o,"unsortedSegmentSum");const s=o.shape.length,l=i.shape.length,u=[],c=[],d=s-l;let h=i;for(let p=0;p<d;++p){const g=mS({inputs:{input:h},backend:t,attrs:{dim:p+1}});h=g,c.push(g)}for(let p=0;p<a;++p){const g=rc(p,"int32"),v=t.makeTensorInfo([],"int32",g),m=jte({inputs:{a:v,b:h},backend:t}),y=Ku({inputs:{x:m},backend:t,attrs:{dtype:"float32"}}),b=dk({inputs:{a:y,b:o},backend:t}),w=fb({inputs:{x:b},backend:t,attrs:{axis:0,keepDims:!1}});u.push(w),c.push(v),c.push(m),c.push(y),c.push(b),c.push(w)}const f=jne({inputs:u,backend:t,attrs:{axis:0}});return c.forEach(p=>t.disposeIntermediateTensorInfo(p)),f}const wKe={kernelName:z2,backendName:"cpu",kernelFunc:bKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xKe=[gGe,q8e,mGe,bGe,t9e,xGe,CGe,_Ge,TGe,DGe,EGe,PGe,LGe,FGe,zGe,WGe,UGe,KGe,qGe,fGe,ZGe,QGe,tWe,r9e,rWe,Q8e,i9e,iWe,Y8e,sWe,uWe,cWe,hWe,pWe,vWe,yWe,wWe,SWe,kWe,IWe,AWe,RWe,$We,MWe,LWe,OWe,BWe,VWe,GWe,WWe,HWe,jWe,qWe,aGe,ZWe,a9e,iHe,s9e,aHe,u9e,hHe,fHe,gHe,d9e,f9e,mHe,bHe,xHe,CHe,g9e,m9e,Z8e,_He,lWe,THe,DHe,EHe,sGe,b9e,x9e,PHe,C9e,LHe,FHe,zHe,WHe,UHe,KHe,XHe,_9e,YHe,JHe,eUe,nUe,oUe,aUe,lUe,T9e,cUe,fUe,vUe,D9e,E9e,bUe,SUe,_Ue,P9e,TUe,DUe,RUe,Kne,MUe,uGe,N9e,NUe,FUe,zUe,GUe,J8e,IR,HUe,cGe,dGe,hGe,jUe,XUe,YUe,JUe,eje,tje,rje,H9e,ije,cje,hje,vje,j9e,yje,wje,Sje,K9e,pUe,_je,Tje,Dje,Eje,Pje,Lje,Oje,Bje,Y9e,zje,J9e,eGe,Gje,Hje,jje,Xje,Yje,oGe,KWe,Jje,eKe,nKe,oKe,aKe,lKe,M9e,vKe,yKe,wKe,AUe];for(const n of xKe)$Z(n);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hd={},G1={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function SKe(n,e){hd[n]=e}function ja(n,e){if(!(n in hd)||e!=null){const r=kKe(n,e);if(r!==null)hd[n]=r;else return console.log("Could not get context for WebGL version",n),null}const t=hd[n];return t==null||t.isContextLost()?(delete hd[n],ja(n)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),hd[n])}function CKe(n){if(!re().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&n===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function kKe(n,e){if(n!==1&&n!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const t=e??CKe(n);return t.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete hd[n]},!1),re().getBool("SOFTWARE_WEBGL_ENABLED")&&(G1.failIfMajorPerformanceCaveat=!1),n===1?t.getContext("webgl",G1)||t.getContext("experimental-webgl",G1):t.getContext("webgl2",G1)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var vy;(function(n){n[n.DENSE=0]="DENSE",n[n.SHARED_BATCH=1]="SHARED_BATCH"})(vy||(vy={}));var yi;(function(n){n[n.RENDER=0]="RENDER",n[n.UPLOAD=1]="UPLOAD",n[n.PIXELS=2]="PIXELS",n[n.DOWNLOAD=3]="DOWNLOAD"})(yi||(yi={}));var Rr;(function(n){n[n.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",n[n.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",n[n.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",n[n.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",n[n.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Rr||(Rr={}));function pb(n,e){return[e,n]}function _Ke(n,e){return n*e}function W1(n){const e=ue(n),t=Math.ceil(e/4);return KD(t)}function lg(n,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(n/2))]}function IKe(n,e){const[t,r]=lg(n,e);return t*r*4}function UN(n,e){const t=n;let r,o,i,a,s,l,u,c,d,h;return re().getNumber("WEBGL_VERSION")===2?(r=t.R32F,o=t.R16F,i=t.RGBA16F,a=t.RGBA32F,s=t.RED,u=4,c=1,d=t.HALF_FLOAT,h=t.FLOAT,l=t.RGBA8):(r=n.RGBA,o=n.RGBA,i=n.RGBA,a=t.RGBA,s=n.RGBA,u=4,c=4,d=e!=null?e.HALF_FLOAT_OES:null,h=n.FLOAT,l=n.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:o,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:s,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:d,textureTypeFloat:h}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fe(n,e){const t=e();return re().getBool("DEBUG")&&TKe(n),t}function TKe(n){const e=n.getError();if(e!==n.NO_ERROR)throw new Error("WebGL Error: "+EKe(n,e))}const AKe=596e-10,DKe=65504;function RKe(n){return!!(re().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||n===0||AKe<Math.abs(n)&&Math.abs(n)<DKe)}function EKe(n,e){switch(e){case n.NO_ERROR:return"NO_ERROR";case n.INVALID_ENUM:return"INVALID_ENUM";case n.INVALID_VALUE:return"INVALID_VALUE";case n.INVALID_OPERATION:return"INVALID_OPERATION";case n.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case n.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case n.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function H1(n,e){return zl(n,()=>n.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function $Ke(n,e){const t=zl(n,()=>n.createShader(n.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(Fe(n,()=>n.shaderSource(t,e)),Fe(n,()=>n.compileShader(t)),n.getShaderParameter(t,n.COMPILE_STATUS)===!1)throw console.log(n.getShaderInfoLog(t)),new Error("Failed to compile vertex shader.");return t}function PKe(n,e){const t=zl(n,()=>n.createShader(n.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(Fe(n,()=>n.shaderSource(t,e)),Fe(n,()=>n.compileShader(t)),re().get("ENGINE_COMPILE_ONLY"))return t;if(n.getShaderParameter(t,n.COMPILE_STATUS)===!1)throw Xne(e,n.getShaderInfoLog(t)),new Error("Failed to compile fragment shader.");return t}const MKe=/ERROR: [0-9]+:([0-9]+):/g;function Xne(n,e){const t=MKe.exec(e);if(t==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(n);return}const r=+t[1],o=n.split(`
`),i=o.length.toString().length+2,a=o.map((d,h)=>Uf((h+1).toString(),i)+d);let s=0;for(let d=0;d<a.length;d++)s=Math.max(a[d].length,s);const l=a.slice(0,r-1),u=a.slice(r-1,r),c=a.slice(r);console.log(l.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${Uf(u[0],s)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join(`
`))}function LKe(n){return zl(n,()=>n.createProgram(),"Unable to create WebGLProgram.")}function NKe(n,e){if(Fe(n,()=>n.linkProgram(e)),!re().get("ENGINE_COMPILE_ONLY")&&n.getProgramParameter(e,n.LINK_STATUS)===!1)throw console.log(n.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function ST(n,e){if(Fe(n,()=>n.validateProgram(e)),n.getProgramParameter(e,n.VALIDATE_STATUS)===!1)throw console.log(n.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function OKe(n,e){const t=zl(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return Fe(n,()=>n.bindBuffer(n.ARRAY_BUFFER,t)),Fe(n,()=>n.bufferData(n.ARRAY_BUFFER,e,n.STATIC_DRAW)),t}function FKe(n,e){const t=zl(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return Fe(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t)),Fe(n,()=>n.bufferData(n.ELEMENT_ARRAY_BUFFER,e,n.STATIC_DRAW)),t}function BKe(n){return zl(n,()=>n.createTexture(),"Unable to create WebGLTexture.")}function zKe(n,e){const t=re().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n<=0||e<=0){const r=`[${n}x${e}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(n>t||e>t){const r=`[${n}x${e}]`,o=`[${t}x${t}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+o+".")}}function VKe(n){return zl(n,()=>n.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function f8(n,e,t,r,o,i,a){const s=n.getAttribLocation(e,t);return s===-1?!1:(Fe(n,()=>n.bindBuffer(n.ARRAY_BUFFER,r)),Fe(n,()=>n.vertexAttribPointer(s,o,n.FLOAT,!1,i,a)),Fe(n,()=>n.enableVertexAttribArray(s)),!0)}function GKe(n,e,t){KKe(n,t),Fe(n,()=>n.activeTexture(n.TEXTURE0+t)),Fe(n,()=>n.bindTexture(n.TEXTURE_2D,e))}function WKe(n,e,t){return zl(n,()=>n.getUniformLocation(e,t),'uniform "'+t+'" not present in program.')}function HKe(n,e,t){return n.getUniformLocation(e,t)}function UKe(n,e,t,r){Fe(n,()=>GKe(n,e,r)),Fe(n,()=>n.uniform1i(t,r))}function CT(n,e,t){Fe(n,()=>n.bindFramebuffer(n.FRAMEBUFFER,t)),Fe(n,()=>n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0))}function p8(n,e){Fe(n,()=>n.bindFramebuffer(n.FRAMEBUFFER,e)),Fe(n,()=>n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,null,0))}function U1(n){const e=n.checkFramebufferStatus(n.FRAMEBUFFER);if(e!==n.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+jKe(n,e))}function jKe(n,e){switch(e){case n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case n.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function zl(n,e,t){const r=Fe(n,()=>e());if(r==null)throw new Error(t);return r}function KKe(n,e){const t=n.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+n.TEXTURE0;if(r<n.TEXTURE0||r>t){const o=`[gl.TEXTURE0, gl.TEXTURE${t}]`;throw new Error(`textureUnit must be in ${o}.`)}}function Cp(n,e=2){return ue(n.slice(0,n.length-e))}function kp(n){if(n.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[n.length>1?n[n.length-2]:1,n[n.length-1]]}function j1(n){let e=[1,1,1];return n.length===0||n.length===1&&n[0]===1||(e=[Cp(n),...kp(n)]),e}function XKe(n,e=!1){let t=re().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=re().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&re().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=t/2),e&&(t=t*2,r=r*2,n=n.map((s,l)=>l>=n.length-2?sM(n[l]):n[l]),n.length===1&&(n=[2,n[0]])),n.length!==2&&(n=nc(n).newShape);let o=ue(n),i=null;n.length<=1&&o<=t?i=[1,o]:n.length===2&&n[0]<=t&&n[1]<=t?i=n:n.length===3&&n[0]*n[1]<=t&&n[2]<=t?i=[n[0]*n[1],n[2]]:n.length===3&&n[0]<=t&&n[1]*n[2]<=t?i=[n[0],n[1]*n[2]]:n.length===4&&n[0]*n[1]*n[2]<=t&&n[3]<=t?i=[n[0]*n[1]*n[2],n[3]]:n.length===4&&n[0]<=t&&n[1]*n[2]*n[3]<=t&&(i=[n[0],n[1]*n[2]*n[3]]);const a=i!=null&&Math.max(...i)>r&&Math.min(...i)<=(e?2:1)&&Math.min(...i)>0;if(i==null||a)if(e){const s=Cp(n);let l=2,u=2;n.length&&([l,u]=kp(n)),o=s*(l/2)*(u/2),i=KD(o).map(c=>c*2)}else i=KD(o);return i}function K1(n){return n%2===0}function bS(n,e){if(n=n.slice(-2),e=e.slice(-2),an(n,e)||!n.length||!e.length||n[0]===0||n[1]===0||e[0]===0||e[1]===0)return!0;if(n.length!==e.length){const t=n[n.length-1],r=e[e.length-1];if(t===r||K1(t)&&K1(r)&&(n[0]===1||e[0]===1))return!0}return n[1]===e[1]&&K1(n[0])&&K1(e[0])}let kT,_T;function qKe(n){if(kT==null){const e=ja(n);kT=e.getParameter(e.MAX_TEXTURE_SIZE)}return kT}function YKe(n){if(_T==null){const e=ja(n);_T=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,_T)}function ZKe(n){if(n===0)return 0;let e;const t=ja(n);return Ji(t,"EXT_disjoint_timer_query_webgl2")&&n===2?e=2:Ji(t,"EXT_disjoint_timer_query")?e=1:e=0,e}function Ji(n,e){return n.getExtension(e)!=null}function g8(n){try{if(ja(n)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function JKe(n){if(n===0)return!1;const e=ja(n);if(n===1){if(!Ji(e,"OES_texture_float"))return!1}else if(!Ji(e,"EXT_color_buffer_float"))return!1;return AR(e)}function QKe(n){if(n===0)return!1;const e=ja(n);if(n===1){if(!Ji(e,"OES_texture_float")||!Ji(e,"WEBGL_color_buffer_float"))return!1}else{if(Ji(e,"EXT_color_buffer_float"))return AR(e);const r="EXT_color_buffer_half_float";if(Ji(e,r)){const o=e.getExtension(r);return eXe(e,o)}return!1}return AR(e)}function AR(n){const e=UN(n),t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t),n.texImage2D(n.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const i=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,i),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0);const a=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(t),n.deleteFramebuffer(i),a}function eXe(n,e){const t=UN(n,e),r=n.createTexture();n.bindTexture(n.TEXTURE_2D,r),n.texImage2D(n.TEXTURE_2D,0,t.internalFormatHalfFloat,1,1,0,t.textureFormatFloat,t.textureTypeHalfFloat,null);const a=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,a),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,r,0);const s=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(r),n.deleteFramebuffer(a),s}function tXe(n){return n!==2?!1:ja(n).fenceSync!=null}function gb(n,e){Array.isArray(n)||(n=[n]),n.forEach(t=>{t!=null&&O(t.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qe=re();qe.registerFlag("HAS_WEBGL",()=>qe.getNumber("WEBGL_VERSION")>0);qe.registerFlag("WEBGL_VERSION",()=>g8(2)?2:g8(1)?1:0);qe.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);qe.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>qe.get("WEBGL_VERSION")===2);qe.registerFlag("WEBGL_CPU_FORWARD",()=>!0);qe.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);qe.registerFlag("WEBGL_PACK",()=>qe.getBool("HAS_WEBGL"));qe.registerFlag("WEBGL_PACK_NORMALIZATION",()=>qe.getBool("WEBGL_PACK"));qe.registerFlag("WEBGL_PACK_CLIP",()=>qe.getBool("WEBGL_PACK"));qe.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>qe.getBool("WEBGL_PACK"));qe.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>qe.getBool("WEBGL_PACK"));qe.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>qe.getBool("WEBGL_PACK"));qe.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>qe.getBool("WEBGL_PACK"));qe.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>qe.getBool("WEBGL_PACK"));qe.registerFlag("WEBGL_PACK_REDUCE",()=>qe.getBool("WEBGL_PACK"));qe.registerFlag("WEBGL_LAZILY_UNPACK",()=>qe.getBool("WEBGL_PACK"));qe.registerFlag("WEBGL_CONV_IM2COL",()=>qe.getBool("WEBGL_PACK"));qe.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>qe.getBool("WEBGL_PACK"));qe.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>qKe(qe.getNumber("WEBGL_VERSION")));qe.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>YKe(qe.getNumber("WEBGL_VERSION")));qe.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const n=qe.getNumber("WEBGL_VERSION");return n===0?0:ZKe(n)});qe.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>qe.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!qZ());qe.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>JKe(qe.getNumber("WEBGL_VERSION")));qe.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>qe.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:qe.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));qe.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>QKe(qe.getNumber("WEBGL_VERSION")));qe.registerFlag("WEBGL_FENCE_API_ENABLED",()=>tXe(qe.getNumber("WEBGL_VERSION")));qe.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>qe.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);qe.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,n=>{if(typeof n!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${n}.`);if(n<0&&n!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${n}.`)});qe.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>qZ()?1:-1,n=>{if(typeof n!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${n}.`);if(n<0&&n!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${n}.`)});qe.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);qe.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);qe.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);qe.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);qe.registerFlag("WEBGL_EXP_CONV",()=>!1);qe.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>qe.getBool("IS_TEST"));qe.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);qe.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);qe.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);qe.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function po(){let n,e,t,r,o,i,a,s,l,u;return re().getNumber("WEBGL_VERSION")===2?(n="#version 300 es",e="in",t="out",r="in",o="texture",i="outputColor",a="out vec4 outputColor;",s=re().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(n="",e="attribute",t="varying",r="varying",o="texture2D",i="gl_FragColor",a="",s=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:n,attribute:e,varyingVs:t,varyingFs:r,texture2D:o,output:i,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rh(n,e,t="index"){const r=tt(e);return r.map((o,i)=>{const a=`int ${n[i]} = ${t} / ${o}`,s=i===r.length-1?`int ${n[i+1]} = ${t} - ${n[i]} * ${o}`:`index -= ${n[i]} * ${o}`;return`${a}; ${s};`}).join("")}function hk(n,e,t="index"){const r=tt(e);return r.map((o,i)=>{const a=`int ${n[i]} = ${t} / outShapeStrides[${i}]`,s=i===r.length-1?`int ${n[i+1]} = ${t} - ${n[i]} * outShapeStrides[${i}]`:`index -= ${n[i]} * outShapeStrides[${i}]`;return`${a}; ${s};`}).join("")}function nXe(n,e){const t=n.length,r=n.map(i=>`${e}[${i}]`),o=new Array(t-1);o[t-2]=r[t-1];for(let i=t-3;i>=0;--i)o[i]=`(${o[i+1]} * ${r[i+1]})`;return o}function rXe(n,e,t="index"){const r=n.map((i,a)=>a),o=nXe(r,e);return o.map((i,a)=>{const s=`int ${n[a]} = ${t} / ${o[a]}`,l=a===o.length-1?`int ${n[a+1]} = ${t} - ${n[a]} * ${o[a]}`:`index -= ${n[a]} * ${o[a]}`;return`${s}; ${l};`}).join("")}function jN(n){const e=tt(n).map(t=>t.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function KN(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const qne=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:Yne}=U6e;function oXe(n,e,t){const r=[];if(n.forEach(f=>{const p=ue(f.shapeInfo.logicalShape);if(f.shapeInfo.isUniform?r.push(`uniform float ${f.name}${p>1?`[${p}]`:""};`):(r.push(`uniform sampler2D ${f.name};`),r.push(`uniform int offset${f.name};`)),t.enableShapeUniforms){const{uniformShape:g}=XN(t.packedInputs,f.shapeInfo.logicalShape,f.shapeInfo.texShape);switch(g.length){case 1:r.push(`uniform int ${f.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${f.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${f.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${f.name}Shape;`);break}r.push(`uniform ivec2 ${f.name}TexShape;`)}}),t.enableShapeUniforms){switch(e.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}t.customUniforms&&t.customUniforms.forEach(f=>{r.push(`uniform ${f.type} ${f.name}${f.arrayIndex?`[${f.arrayIndex}]`:""};`)});const o=r.join(`
`),i=n.map(f=>iXe(f,e,t.packedInputs,t.enableShapeUniforms)).join(`
`),a=e.texShape,s=po(),l=lXe(s);let u,c,d=dXe(s);return e.isPacked?(u=aXe(e.logicalShape,a,t.enableShapeUniforms),c=cXe(s)):(u=sXe(e.logicalShape,a,t.enableShapeUniforms),c=uXe(s)),t.packedInputs&&(d+=gXe),[d,l,c,o,u,i,t.userCode].join(`
`)}function ug(n,e=!1){const t=n.shapeInfo.logicalShape;switch(t.length){case 0:return TXe(n,e);case 1:return DXe(n,e);case 2:return EXe(n,e);case 3:return PXe(n,e);case 4:return LXe(n,e);case 5:return NXe(n);case 6:return OXe(n);default:throw new Error(`${t.length}-D input sampling is not yet supported`)}}function Zne(n,e){switch(n.shapeInfo.logicalShape.length){case 0:return IXe(n);case 1:return AXe(n,e);case 2:return RXe(n,e);case 3:return $Xe(n,e);default:return MXe(n,e)}}function iXe(n,e,t=!1,r){let o="";t?o+=Zne(n,r):o+=ug(n,r);const i=n.shapeInfo.logicalShape,a=e.logicalShape;return i.length<=a.length&&(t?o+=FXe(n,e):o+=BXe(n,e)),o}function aXe(n,e,t){switch(n.length){case 0:return Jne();case 1:return vXe(n,e,t);case 2:return kXe(n,e,t);case 3:return yXe(n,e,t);default:return wXe(n,e,t)}}function sXe(n,e,t){switch(n.length){case 0:return Jne();case 1:return mXe(n,e,t);case 2:return _Xe(n,e,t);case 3:return bXe(n,e,t);case 4:return xXe(n,e,t);case 5:return SXe(n,e);case 6:return CXe(n,e);default:throw new Error(`${n.length}-D output sampling is not yet supported`)}}function lXe(n){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${n.texture2D}(textureSampler, uv).r;
    }
  `}function uXe(n){return`
    void setOutput(float val) {
      ${n.output} = vec4(val, 0, 0, 0);
    }
  `}function cXe(n){return`
    void setOutput(vec4 val) {
      ${n.output} = val;
    }
  `}function dXe(n){return`${n.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${n.varyingFs} vec2 resultUV;
    ${n.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${n.defineSpecialNaN}
    ${n.defineSpecialInf}
    ${n.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${hXe}
    ${fXe}
    ${pXe}
  `}const hXe=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,fXe=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,pXe=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,gXe=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Jne(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function vXe(n,e,t){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return r[0]===1?t?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?t?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:t?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function mXe(n,e,t){return e[0]===1?t?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?t?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:t?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function yXe(n,e,t){if(t)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],o=Math.ceil(n[2]/2),i=o*Math.ceil(n[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${o});
      int c = imod(index, ${o}) * 2;

      return ivec3(b, r, c);
    }
  `}function bXe(n,e,t){if(t)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${hk(["r","c","d"],n)}
    return ivec3(r, c, d);
  }
`;const r=Rh(["r","c","d"],n);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function wXe(n,e,t){if(t)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],o=Math.ceil(n[n.length-1]/2),i=o*Math.ceil(n[n.length-2]/2);let a=i,s="",l="b, r, c";for(let u=2;u<n.length-1;u++)a*=n[n.length-u-1],s=`
      int b${u} = index / ${a};
      index -= b${u} * ${a};
    `+s,l=`b${u}, `+l;return`
    ivec${n.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${s}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${o});
      int c = imod(index, ${o}) * 2;

      return ivec${n.length}(${l});
    }
  `}function xXe(n,e,t){if(t)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${hk(["r","c","d","d2"],n)}
      return ivec4(r, c, d, d2);
    }
  `;const r=Rh(["r","c","d","d2"],n);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function SXe(n,e){const t=Rh(["r","c","d","d2","d3"],n);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${t}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function CXe(n,e){const t=Rh(["r","c","d","d2","d3","d4"],n);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${t}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function kXe(n,e,t){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(an(n,e))return t?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const o=Math.ceil(n[1]/2);return t?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${o});
      int c = imod(index, ${o}) * 2;

      return ivec2(r, c);
    }
  `}function _Xe(n,e,t){return an(n,e)?t?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:n[1]===1?t?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:n[0]===1?t?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:t?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${n[1]};
      int c = index - r * ${n[1]};
      return ivec2(r, c);
    }
  `}function Eh(n){return`offset${n}`}function IXe(n){const e=n.name,t="get"+e.charAt(0).toUpperCase()+e.slice(1),r=po();return`
    vec4 ${t}() {
      return ${r.texture2D}(${e}, halfCR);
    }
  `}function TXe(n,e){const t=n.name,r="get"+t.charAt(0).toUpperCase()+t.slice(1);if(n.shapeInfo.isUniform)return`float ${r}() {return ${t};}`;const[o,i]=n.shapeInfo.texShape;if(o===1&&i===1)return`
      float ${r}() {
        return sampleTexture(${t}, halfCR);
      }
    `;const a=Eh(t);if(e)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${t}TexShape[0], ${t}TexShape[1], ${a});
      return sampleTexture(${t}, uv);
    }
  `;const[s,l]=n.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${s}, ${l}, ${a});
      return sampleTexture(${t}, uv);
    }
  `}function AXe(n,e){const t=n.name,r="get"+t.charAt(0).toUpperCase()+t.slice(1),o=n.shapeInfo.texShape,i=po();if(e)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${t}TexShape[0]) / 2.0), ceil(float(${t}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${t}, uv);
    }
  `;const a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${a[0]}, ${a[1]}, index);
      return ${i.texture2D}(${t}, uv);
    }
  `}function DXe(n,e){const t=n.name,r="get"+t.charAt(0).toUpperCase()+t.slice(1);if(n.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${cg(n)}
      }
    `;const o=n.shapeInfo.texShape,i=o[0],a=o[1];if(a===1&&i===1)return`
      float ${r}(int index) {
        return sampleTexture(${t}, halfCR);
      }
    `;const s=Eh(t);return a===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / float(${t}TexShape[0]));
        return sampleTexture(${t}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / ${i}.0);
        return sampleTexture(${t}, uv);
      }
    `:i===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${s}) + 0.5) / float(${t}TexShape[1]), 0.5);
        return sampleTexture(${t}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${s}) + 0.5) / ${a}.0, 0.5);
        return sampleTexture(${t}, uv);
      }
    `:e?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${t}TexShape[0], ${t}TexShape[1], index + ${s});
      return sampleTexture(${t}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${a}, index + ${s});
      return sampleTexture(${t}, uv);
    }
  `}function RXe(n,e){const t=n.shapeInfo.logicalShape,r=n.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n.shapeInfo.texShape,a=i[0],s=i[1],l=po();if(i!=null&&an(t,i))return e?`
      vec4 ${o}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${o}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}.0, ${a}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(e)return`
    vec4 ${o}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;const u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=Math.ceil(t[1]/2);return`
    vec4 ${o}(int row, int col) {
      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function EXe(n,e){const t=n.shapeInfo.logicalShape,r=n.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n.shapeInfo.texShape;if(i!=null&&an(t,i)){if(e)return`
      float ${o}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const h=i[0],f=i[1];return`
    float ${o}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${f}.0, ${h}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:a,keptDims:s}=nc(t),l=a;if(l.length<t.length){const h=dg(n,l),f=["row","col"];return`
      ${ug(h,e)}
      float ${o}(int row, int col) {
        return ${o}(${hg(f,s)});
      }
    `}if(n.shapeInfo.isUniform)return`
      float ${o}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${t[1]}, 1)));
        ${cg(n)}
      }
    `;const u=i[0],c=i[1],d=Eh(r);return c===1?e?`
      float ${o}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${o}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${t[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
      return sampleTexture(${r}, uv);
    }
  `:u===1?e?`
      float ${o}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${o}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${t[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:e?`
      float ${o}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${d};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${o}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${t[1]} + col + ${d};
    vec2 uv = uvFromFlat(${u}, ${c}, index);
    return sampleTexture(${r}, uv);
  }
`}function $Xe(n,e){const t=n.shapeInfo.logicalShape,r=n.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(t[0]===1){const h=t.slice(1),f=[1,2],p=dg(n,h),g=["b","row","col"];return`
        ${Zne(p,e)}
        vec4 ${o}(int b, int row, int col) {
          return ${o}(${hg(g,f)});
        }
      `}const s=po();if(e)return`
    vec4 ${o}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${s.texture2D}(${r}, uv);
    }
  `;const l=a[0],u=a[1],c=Math.ceil(t[2]/2),d=c*Math.ceil(t[1]/2);return`
    vec4 ${o}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${u}, ${d}, ${c}, b, row, col);
      return ${s.texture2D}(${r}, uv);
    }
  `}function PXe(n,e){const t=n.shapeInfo.logicalShape,r=n.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t[1]*t[2],a=t[2],{newShape:s,keptDims:l}=nc(t),u=s;if(u.length<t.length){const g=dg(n,u),v=["row","col","depth"];return`
        ${ug(g,e)}
        float ${o}(int row, int col, int depth) {
          return ${o}(${hg(v,l)});
        }
      `}if(n.shapeInfo.isUniform)return`
      float ${o}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${i}, ${a}, 1)));
        ${cg(n)}
      }
    `;const c=n.shapeInfo.texShape,d=c[0],h=c[1],f=n.shapeInfo.flatOffset;if(h===i&&f==null)return e?`
      float ${o}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${o}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${a}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${h}.0, ${d}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(h===a&&f==null)return e?`
      float ${o}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${o}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${t[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${h}.0, ${d}.0);
      return sampleTexture(${r}, uv);
    }
  `;const p=Eh(r);return e?`
    float ${o}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${p};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${o}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i} + col * ${a} + depth + ${p};
        vec2 uv = uvFromFlat(${d}, ${h}, index);
        return sampleTexture(${r}, uv);
      }
  `}function MXe(n,e){const t=n.name,r="get"+t.charAt(0).toUpperCase()+t.slice(1),o=po();if(e)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${t}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${t}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${t}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${t}TexShape[0]) / 2.0), ceil(float(${t}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${o.texture2D}(${t}, uv);
    }
  `;const i=n.shapeInfo.logicalShape,a=i.length,s=n.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=l[0],c=l[1],d=Math.ceil(i[a-1]/2);let h=d*Math.ceil(i[a-2]/2),f="int b, int row, int col",p=`b * ${h} + (row / 2) * ${d} + (col / 2)`;for(let g=2;g<a-1;g++)f=`int b${g}, `+f,h*=i[a-g-1],p=`b${g} * ${h} + `+p;return`
    vec4 ${r}(${f}) {
      int index = ${p};
      int texR = index / ${c};
      int texC = index - texR * ${c};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});
      return ${o.texture2D}(${t}, uv);
    }
  `}function LXe(n,e){const t=n.shapeInfo.logicalShape,r=n.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t[3],a=t[2]*i,s=t[1]*a,{newShape:l,keptDims:u}=nc(t);if(l.length<t.length){const y=dg(n,l),b=["row","col","depth","depth2"];return`
      ${ug(y,e)}
      float ${o}(int row, int col, int depth, int depth2) {
        return ${o}(${hg(b,u)});
      }
    `}if(n.shapeInfo.isUniform)return`
      float ${o}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${s}, ${a}, ${i}, 1)));
        ${cg(n)}
      }
    `;const c=n.shapeInfo.flatOffset,d=n.shapeInfo.texShape,h=d[0],f=d[1],p=`int stride2 = ${r}Shape[3];`,g=`int stride1 = ${r}Shape[2] * stride2;`,v=`int stride0 = ${r}Shape[1] * stride1;`;if(f===s&&c==null)return e?`
      float ${o}(int row, int col, int depth, int depth2) {
        ${p}
        ${g}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${o}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${a}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${f}.0, ${h}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(f===i&&c==null)return e?`
      float ${o}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${o}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${t[1]*t[2]}, ${t[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${f}.0, ${h}.0);
        return sampleTexture(${r}, uv);
      }
    `;const m=Eh(r);return e?`
    float ${o}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${p}
      ${g}
      ${v}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${m});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${o}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${s} + col * ${a} +
          depth * ${i} + depth2;
      vec2 uv = uvFromFlat(${h}, ${f}, index + ${m});
      return sampleTexture(${r}, uv);
    }
  `}function NXe(n){const e=n.shapeInfo.logicalShape,t=n.name,r="get"+t.charAt(0).toUpperCase()+t.slice(1),o=e[4],i=e[3]*o,a=e[2]*i,s=e[1]*a,{newShape:l,keptDims:u}=nc(e);if(l.length<e.length){const g=dg(n,l),v=["row","col","depth","depth2","depth3"];return`
      ${ug(g)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${hg(v,u)});
      }
    `}if(n.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${s}, ${a}, ${i}, ${o})) +
          depth3;
        ${cg(n)}
      }
    `;const c=n.shapeInfo.flatOffset,d=n.shapeInfo.texShape,h=d[0],f=d[1];if(f===s&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${a}, ${i}, ${o}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${f}.0, ${h}.0);
        return sampleTexture(${t}, uv);
      }
    `;if(f===o&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${f}.0, ${h}.0);
        return sampleTexture(${t}, uv);
      }
    `;const p=Eh(t);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${s} + col * ${a} + depth * ${i} +
          depth2 * ${o} + depth3 + ${p};
      vec2 uv = uvFromFlat(${h}, ${f}, index);
      return sampleTexture(${t}, uv);
    }
  `}function OXe(n){const e=n.shapeInfo.logicalShape,t=n.name,r="get"+t.charAt(0).toUpperCase()+t.slice(1),{newShape:o,keptDims:i}=nc(e);if(o.length<e.length){const v=dg(n,o),m=["row","col","depth","depth2","depth3","depth4"];return`
      ${ug(v)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${hg(m,i)});
      }
    `}const a=e[5],s=e[4]*a,l=e[3]*s,u=e[2]*l,c=e[1]*u;if(n.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${c}, ${u}, ${l}, ${s})) +
          dot(
            vec2(depth3, depth4),
            vec2(${a}, 1)));
        ${cg(n)}
      }
    `;const d=n.shapeInfo.flatOffset,h=n.shapeInfo.texShape,f=h[0],p=h[1];if(p===c&&d==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${u}, ${l}, ${s}, ${a})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${f}.0);
        return sampleTexture(${t}, uv);
      }
    `;if(p===a&&d==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${f}.0);
        return sampleTexture(${t}, uv);
      }
    `;const g=Eh(t);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${c} + col * ${u} + depth * ${l} +
          depth2 * ${s} + depth3 * ${a} + depth4 + ${g};
      vec2 uv = uvFromFlat(${f}, ${p}, index);
      return sampleTexture(${t}, uv);
    }
  `}function cg(n){const e=n.name,t=ue(n.shapeInfo.logicalShape);return t<2?`return ${e};`:`
    for (int i = 0; i < ${t}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function FXe(n,e){const t=n.name,r=t.charAt(0).toUpperCase()+t.slice(1),o="get"+r+"AtOutCoords",i=n.shapeInfo.logicalShape.length,a=e.logicalShape.length,s=Yne(n.shapeInfo.logicalShape,e.logicalShape),l=vn(a),u=a-i;let c;const d=["x","y","z","w","u","v"];i===0?c="":a<2&&s.length>=1?c="coords = 0;":c=s.map(y=>`coords.${d[y+u]} = 0;`).join(`
`);let h="";a<2&&i>0?h="coords":h=n.shapeInfo.logicalShape.map((y,b)=>`coords.${d[b+u]}`).join(", ");let f="return outputValue;";const g=ue(n.shapeInfo.logicalShape)===1,m=ue(e.logicalShape)===1;if(i===1&&!g&&!m)f=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(g&&!m)a===1?f=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:f=`
        return vec4(outputValue.x);
      `;else if(s.length){const y=i-2,b=i-1;s.indexOf(y)>-1&&s.indexOf(b)>-1?f="return vec4(outputValue.x);":s.indexOf(y)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":s.indexOf(b)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${o}() {
      ${l} coords = getOutputCoords();
      ${c}
      vec4 outputValue = get${r}(${h});
      ${f}
    }
  `}function BXe(n,e){const t=n.name,r=t.charAt(0).toUpperCase()+t.slice(1),o="get"+r+"AtOutCoords",i=e.texShape,a=n.shapeInfo.texShape,s=n.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!n.shapeInfo.isUniform&&s===l&&n.shapeInfo.flatOffset==null&&an(a,i))return`
      float ${o}() {
        return sampleTexture(${t}, resultUV);
      }
    `;const u=vn(l),c=Yne(n.shapeInfo.logicalShape,e.logicalShape),d=l-s;let h;const f=["x","y","z","w","u","v"];s===0?h="":l<2&&c.length>=1?h="coords = 0;":h=c.map(g=>`coords.${f[g+d]} = 0;`).join(`
`);let p="";return l<2&&s>0?p="coords":p=n.shapeInfo.logicalShape.map((g,v)=>`coords.${f[v+d]}`).join(", "),`
    float ${o}() {
      ${u} coords = getOutputCoords();
      ${h}
      return get${r}(${p});
    }
  `}function vn(n){if(n<=1)return"int";if(n===2)return"ivec2";if(n===3)return"ivec3";if(n===4)return"ivec4";if(n===5)return"ivec5";if(n===6)return"ivec6";throw Error(`GPU for rank ${n} is not yet supported`)}function XN(n,e,t){const{newShape:r,keptDims:o}=nc(e),i=e.length,a=n&&i===3&&e[0]===1,s=a?e.slice(1):r,l=!n&&i>1&&!an(e,t)&&r.length<i||a;return{useSqueezeShape:l,uniformShape:l?s:e,keptDims:o}}function dg(n,e){const t=JSON.parse(JSON.stringify(n));return t.shapeInfo.logicalShape=e,t}function hg(n,e){return e.map(t=>n[t]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zXe(n,e,t,r){const o=t.map((c,d)=>{const h={logicalShape:c.shape,texShape:c.isUniform?null:c.texData.texShape,isUniform:c.isUniform,isPacked:c.isUniform?!1:c.texData.isPacked,flatOffset:null};return c.texData!=null&&c.texData.slice!=null&&c.texData.slice.flatOffset>0&&(h.flatOffset=c.texData.slice.flatOffset),{name:e.variableNames[d],shapeInfo:h}}),i=o.map(c=>c.shapeInfo),a={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=oXe(o,a,e),l=PKe(n.gl,s),u=n.createProgram(l);return re().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:i,outShapeInfo:a,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(n.buildVao(u),Object.assign({program:e,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:i,outShapeInfo:a},Qne(n,e,u)))}function Qne(n,e,t){const r=[],o=[];let i,a,s,l=null,u=null;u=n.getUniformLocation(t,"NAN",!1),re().getNumber("WEBGL_VERSION")===1&&(l=n.getUniformLocation(t,"INFINITY",!1));const c=!1;for(const d of e.variableNames){const h={name:d,uniform:n.getUniformLocation(t,d,c),offset:n.getUniformLocation(t,`offset${d}`,c)};e.enableShapeUniforms&&(h.shape=n.getUniformLocation(t,`${d}Shape`,c),h.texShape=n.getUniformLocation(t,`${d}TexShape`,c)),r.push(h)}if(e.enableShapeUniforms&&(i=n.getUniformLocation(t,"outShape",c),s=n.getUniformLocation(t,"outShapeStrides",c),a=n.getUniformLocation(t,"outTexShape",c)),e.customUniforms)for(const d of e.customUniforms)o.push(n.getUniformLocation(t,d.name,c));return{variablesLocations:r,customUniformLocations:o,infLoc:l,nanLoc:u,outShapeLocation:i,outShapeStridesLocation:s,outTexShapeLocation:a}}function v8(n,e){if(n.length!==e.length)throw Error(`Binary was compiled with ${n.length} inputs, but was executed with ${e.length} inputs`);n.forEach((t,r)=>{const o=t.logicalShape,i=e[r],a=i.shape;if(!an(o,a))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${o} and ${a} must match`);if(t.isUniform&&i.isUniform)return;const s=t.texShape,l=i.isUniform?null:i.texData.texShape;if(!an(s,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${s} and ${l} must match`)})}function VXe(n,e,t,r,o){e.program.enableShapeUniforms||(v8(e.inShapeInfos,t),v8([e.outShapeInfo],[r]));const i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?n.setOutputPackedMatrixTexture(i.texture,a[0],a[1]):n.setOutputMatrixTexture(i.texture,a[0],a[1]),n.setProgram(e.webGLProgram),n.bindVertexArray(e.webGLProgram.vao),re().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&n.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&n.gl.uniform1f(e.nanLoc,NaN);for(let l=0;l<t.length;++l){const u=t[l],{uniform:c,offset:d,shape:h,texShape:f}=e.variablesLocations[l];if(h){const{uniformShape:p}=XN(e.program.packedInputs,u.shape,u.texData.texShape);switch(p.length){case 1:n.gl.uniform1iv(h,new Int32Array(p));break;case 2:n.gl.uniform2iv(h,new Int32Array(p));break;case 3:n.gl.uniform3iv(h,new Int32Array(p));break;case 4:n.gl.uniform4iv(h,new Int32Array(p));break}}if(f&&n.gl.uniform2i(f,u.texData.texShape[0],u.texData.texShape[1]),c!=null){if(u.isUniform){if(ue(u.shape)<2)n.gl.uniform1f(c,u.uniformValues[0]);else{let p=u.uniformValues;p instanceof Float32Array||(p=new Float32Array(p)),n.gl.uniform1fv(c,p)}continue}u.texData.slice!=null&&d!=null&&n.gl.uniform1i(d,u.texData.slice.flatOffset),n.setInputMatrixTexture(u.texData.texture.texture,c,l)}}const s=e.outShapeLocation;if(s)switch(r.shape.length){case 1:n.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:n.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:n.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:n.gl.uniform4iv(s,new Int32Array(r.shape));break}if(e.outShapeStridesLocation){const l=tt(r.shape);switch(r.shape.length){case 2:n.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:n.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:n.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}if(e.outTexShapeLocation&&n.gl.uniform2i(e.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),e.program.customUniforms&&o)for(let l=0;l<e.program.customUniforms.length;++l){const u=e.program.customUniforms[l],c=e.customUniformLocations[l],d=o[l];if(u.type==="float")n.gl.uniform1fv(c,d);else if(u.type==="vec2")n.gl.uniform2fv(c,d);else if(u.type==="vec3")n.gl.uniform3fv(c,d);else if(u.type==="vec4")n.gl.uniform4fv(c,d);else if(u.type==="int")n.gl.uniform1iv(c,d);else if(u.type==="ivec2")n.gl.uniform2iv(c,d);else if(u.type==="ivec3")n.gl.uniform3iv(c,d);else if(u.type==="ivec4")n.gl.uniform4iv(c,d);else throw Error(`uniform type ${u.type} is not supported yet.`)}n.executeProgram()}function GXe(n,e,t){let r="";e.concat(t).forEach(a=>{const s=a.texData!=null&&a.texData.slice!=null&&a.texData.slice.flatOffset>0;if(n.enableShapeUniforms&&!a.isUniform){const l=a.texData.texShape,{useSqueezeShape:u,uniformShape:c,keptDims:d}=XN(n.packedInputs,a.shape,l);let h="",f="",p="";if(c.length===1&&n.packedInputs){const x=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];h=`${x[0]>1}_${x[1]>1}`}else if(c.length===2&&!n.packedInputs)f=`${c[0]>1}_${c[1]>1}`;else if(c.length>2&&!n.packedInputs){const x=tt(c);p=`${x[0]===l[1]}_${x[x.length-1]===l[1]}`}const g=a.shape.length,v=c.length===2&&an(a.shape,l),m=ue(a.shape)===1,y=vp(a.shape,t.shape),b=!n.packedInputs&&g===t.shape.length&&an(l,t.texData.texShape),w=n.packedInputs||c.length>2?"":`${l[0]>1}_${l[1]>1}`;r+=`${g}_${b}_${u?d:""}_${c.length}_${m}_${y}_${v}_${h}_${f}_${p}_${w}_${s}`}else{const l=a.isUniform?"uniform":a.texData.texShape;r+=`${a.shape}_${l}_${s}`}});const o=n.userCode;let i=n.constructor.name;return i+="_"+r+"_"+o+`${re().getNumber("WEBGL_VERSION")}`,i}function Yr(n){return re().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&n<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WXe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=vy.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=po();this.outputShape=e,this.enableShapeUniforms=Yr(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?hk(["r","c","d"],e):Rh(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${t.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HXe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=vy.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=po();this.outputShape=e,this.enableShapeUniforms=Yr(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?hk(["r","c","d"],e):Rh(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${t.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UXe{constructor(e){this.variableNames=["A"],this.outTexUsage=yi.DOWNLOAD;const t=po();this.outputShape=e,this.userCode=`
      ${qne}

      void main() {
        float x = getAAtOutCoords();
        ${t.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jXe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=yi.DOWNLOAD;const t=po();this.outputShape=e,this.userCode=`
      ${qne}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${t.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KXe={R:0,G:1,B:2,A:3};class m8{constructor(e,t=!1,r="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const o=po();this.outputShape=e,this.enableShapeUniforms=Yr(this.outputShape.length);let i="result";t&&(i="floor(result * 255. + 0.5)");let a="";for(let s=0;s<r.length;s++){const l=r[s];a+=`
          if(offset == ${s}) {
            result = values[${KXe[l]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?KN():jN(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${r.length});

        flatIndex = idiv(flatIndex, ${r.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${o.texture2D}(A, uv);
          ${a}
        }
        ${o.output} = vec4(${i}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XXe{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=po();this.outputShape=e,this.enableShapeUniforms=Yr(this.outputShape.length);let o="",i="result";t&&(i="floor(result * 255. + 0.5)");for(let a=0;a<=1;a++)for(let s=0;s<=1;s++){const l=a*2+s;o+=`
          localCoords = coords;
          if(localCoords[2] + ${s} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${s};
          if (localCoords[1] + ${a} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${a};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?KN():jN(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${o}

          ${r.output} = ${i};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qXe(n){const e=po(),t=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return $Ke(n,t)}function YXe(n){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return OKe(n,e)}function ZXe(n){const e=new Uint16Array([0,1,2,2,1,3]);return FKe(n,e)}function vb(n,e,t,r,o,i){zKe(e,t);const a=BKe(n),s=n.TEXTURE_2D;return Fe(n,()=>n.bindTexture(s,a)),Fe(n,()=>n.texParameteri(s,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE)),Fe(n,()=>n.texParameteri(s,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)),Fe(n,()=>n.texParameteri(s,n.TEXTURE_MIN_FILTER,n.NEAREST)),Fe(n,()=>n.texParameteri(s,n.TEXTURE_MAG_FILTER,n.NEAREST)),re().getNumber("WEBGL_VERSION")===1?Fe(n,()=>n.texImage2D(s,0,r,e,t,0,o,i,null)):Fe(n,()=>n.texStorage2D(s,1,r,e,t)),Fe(n,()=>n.bindTexture(n.TEXTURE_2D,null)),{texture:a,texShape:[t,e]}}function ere(n){return n.internalFormatFloat}function JXe(n,e,t,r){const[o,i]=pb(e,t);return vb(n,o,i,ere(r),r.textureFormatFloat,n.FLOAT)}function tre(n){return n.internalFormatHalfFloat}function QXe(n,e,t,r){const[o,i]=pb(e,t);return vb(n,o,i,tre(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function nre(n){return n.downloadTextureFormat}function eqe(n,e,t,r){const[o,i]=pb(e,t);return vb(n,o,i,nre(r),n.RGBA,n.UNSIGNED_BYTE)}function rre(n){return n.internalFormatPackedFloat}function tqe(n,e,t,r){const[o,i]=lg(e,t);return vb(n,o,i,rre(r),n.RGBA,n.FLOAT)}function ore(n){return n.internalFormatPackedHalfFloat}function nqe(n,e,t,r){const[o,i]=lg(e,t);return vb(n,o,i,ore(r),n.RGBA,r.textureTypeHalfFloat)}function rqe(n,e,t){return Fe(n,()=>n.bindBuffer(n.ARRAY_BUFFER,t)),f8(n,e,"clipSpacePos",t,3,20,0)&&f8(n,e,"uv",t,2,20,12)}function oqe(n,e,t,r,o,i){Fe(n,()=>n.bindTexture(n.TEXTURE_2D,e));let a,s,l;o instanceof Uint8Array?(a=new Uint8Array(t*r*4),s=n.UNSIGNED_BYTE,l=n.RGBA):(a=new Float32Array(t*r*4),s=n.FLOAT,l=i.internalFormatPackedFloat),a.set(o),re().getNumber("WEBGL_VERSION")===2?Fe(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,t,r,n.RGBA,s,a)):Fe(n,()=>n.texImage2D(n.TEXTURE_2D,0,l,t,r,0,n.RGBA,s,a)),Fe(n,()=>n.bindTexture(n.TEXTURE_2D,null))}function iqe(n,e,t){Fe(n,()=>n.bindTexture(n.TEXTURE_2D,e)),t.data instanceof Uint8Array?re().getNumber("WEBGL_VERSION")===2?Fe(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.width,t.height,n.RGBA,n.UNSIGNED_BYTE,t.data)):Fe(n,()=>n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t.width,t.height,0,n.RGBA,n.UNSIGNED_BYTE,t.data)):re().getNumber("WEBGL_VERSION")===2?Fe(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,t)):Fe(n,()=>n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t)),Fe(n,()=>n.bindTexture(n.TEXTURE_2D,null))}function aqe(n,e,t,r){const o=n.createBuffer();Fe(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,o));const s=4*4*e*t;return Fe(n,()=>n.bufferData(n.PIXEL_PACK_BUFFER,s,n.STREAM_READ)),Fe(n,()=>n.readPixels(0,0,t,e,n.RGBA,n.FLOAT,0)),Fe(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,null)),o}function sqe(n,e,t){const r=n,o=new Float32Array(t);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function lqe(n,e,t,r){const[o,i]=pb(e,t),a=4,s=new Uint8Array(_Ke(e*t,a));return Fe(n,()=>n.readPixels(0,0,o,i,r.downloadTextureFormat,n.UNSIGNED_BYTE,s)),new Float32Array(s.buffer)}function uqe(n,e,t,r,o,i,a,s){const l=n,u=new Float32Array(IKe(i,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function cqe(n,e,t){const r=new Float32Array(e*t*4);return Fe(n,()=>n.readPixels(0,0,t,e,n.RGBA,n.FLOAT,r)),r}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IT{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=re().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,SKe(t,e)):this.gl=ja(t),e=this.gl,re().getNumber("WEBGL_VERSION")===2){const i=e;this.createVertexArray=()=>Fe(i,()=>i.createVertexArray()),this.bindVertexArray=a=>Fe(i,()=>i.bindVertexArray(a)),this.deleteVertexArray=a=>Fe(i,()=>i.deleteVertexArray(a)),this.getVertexArray=()=>Fe(i,()=>i.getParameter(i.VERTEX_ARRAY_BINDING))}else if(e!=null){const i=e.getExtension("OES_vertex_array_object");if(i==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>Fe(e,()=>i.createVertexArrayOES()),this.bindVertexArray=a=>Fe(e,()=>i.bindVertexArrayOES(a)),this.deleteVertexArray=a=>Fe(e,()=>i.deleteVertexArrayOES(a)),this.getVertexArray=()=>Fe(e,()=>e.getParameter(i.VERTEX_ARRAY_BINDING_OES))}let r="WEBGL_color_buffer_float";const o="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),re().getNumber("WEBGL_VERSION")===1){const i="OES_texture_float",a="OES_texture_half_float";if(this.textureFloatExtension=H1(this.gl,i),Ji(this.gl,a))this.textureHalfFloatExtension=H1(this.gl,a);else if(re().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Ji(this.gl,o))this.colorBufferHalfFloatExtension=H1(this.gl,o);else if(re().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Ji(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(Ji(this.gl,o))this.colorBufferHalfFloatExtension=this.gl.getExtension(o);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=YXe(this.gl),this.indexBuffer=ZXe(this.gl),this.framebuffer=VKe(this.gl),this.textureConfig=UN(this.gl,this.textureHalfFloatExtension)}get debug(){return re().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;Fe(e,()=>e.finish()),Fe(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),Fe(e,()=>e.deleteFramebuffer(this.framebuffer)),Fe(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),Fe(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),Fe(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),JXe(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),QXe(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),eqe(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),iqe(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,r,o){this.throwIfDisposed(),oqe(this.gl,e,t,r,o,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),nqe(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),tqe(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(p8(this.gl,this.framebuffer),this.outputTexture=null),Fe(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,r){return this.downloadMatrixDriver(e,()=>lqe(this.gl,t,r,this.textureConfig))}downloadPackedMatrixFromBuffer(e,t,r,o,i,a){return uqe(this.gl,e,t,r,o,i,a,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return sqe(this.gl,e,t)}createBufferFromTexture(e,t,r){this.bindTextureToFrameBuffer(e);const o=aqe(this.gl,t,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),o}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,r;if(re().getBool("WEBGL_FENCE_API_ENABLED")){const o=e,i=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=()=>{const a=o.clientWaitSync(i,0,0);return a===o.ALREADY_SIGNALED||a===o.CONDITION_SATISFIED},t=i}else re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(t,re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:t,isFencePassed:r}}downloadMatrixFromPackedTexture(e,t,r){return this.downloadMatrixDriver(e,()=>cqe(this.gl,t,r))}createProgram(e){this.throwIfDisposed();const t=this.gl;this.vertexShader==null&&(this.vertexShader=qXe(t));const r=LKe(t);Fe(t,()=>t.attachShader(r,this.vertexShader)),Fe(t,()=>t.attachShader(r,e)),NKe(t,r);const o=Object.assign(r,{vao:this.createVertexArray()});return this.debug&&ST(t,o),o}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;Fe(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),rqe(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(Fe(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&ST(this.gl,this.program),Fe(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,t,r=!0){return this.throwIfDisposed(),r?WKe(this.gl,e,t):HKe(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),Fe(this.gl,()=>this.gl.getAttribLocation(e,t))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,r){this.throwIfDisposed(),this.throwIfNoProgram(),UKe(this.gl,e,t,r)}setOutputMatrixTexture(e,t,r){this.setOutputMatrixTextureDriver(e,r,t)}setOutputPackedMatrixTexture(e,t,r){this.throwIfDisposed();const[o,i]=lg(t,r);this.setOutputMatrixTextureDriver(e,o,i)}setOutputMatrixWriteRegion(e,t,r,o){this.setOutputMatrixWriteRegionDriver(r,e,o,t)}setOutputPackedMatrixWriteRegion(e,t,r,o){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&ST(this.gl,this.program),U1(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const t=this.getVertexArray();console.assert(t===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}Fe(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Fe(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=H1(this.gl,re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,o=this.getQueryTimerExtensionWebGL2(),i=r.createQuery();return r.beginQuery(o.TIME_ELAPSED_EXT,i),i}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const t=this.gl,r=this.getQueryTimerExtensionWebGL2();t.endQuery(r.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await QV(()=>this.disposed||this.isQueryAvailable(e,re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(t===0)return null;if(t===2){const r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(t===0)return!0;if(t===2){const r=this.gl,o=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),i&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),o=r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}}pollFence(e){return new Promise(t=>{this.addItemToPoll(()=>e.isFencePassed(),()=>t())})}pollItems(){const e=dqe(this.itemsToPoll.map(t=>t.isDoneFn));for(let t=0;t<=e;++t){const{resolveFn:r}=this.itemsToPoll[t];r()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in re().platform&&(r=re().platform.setTimeoutCustom.bind(re().platform)),QV(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),CT(this.gl,e,this.framebuffer),this.debug&&U1(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(CT(this.gl,this.outputTexture,this.framebuffer),this.debug&&U1(this.gl)):p8(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const r=t();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(e,t,r){this.throwIfDisposed();const o=this.gl;CT(o,e,this.framebuffer),this.debug&&U1(o),this.outputTexture=e,Fe(o,()=>o.viewport(0,0,t,r)),Fe(o,()=>o.scissor(0,0,t,r))}setOutputMatrixWriteRegionDriver(e,t,r,o){this.throwIfDisposed(),Fe(this.gl,()=>this.gl.scissor(e,t,r,o))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function dqe(n){let e=0;for(;e<n.length&&n[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:hqe,bincountImpl:ire,bincountReduceImpl:fqe,bitwiseAndImpl:pqe,castImpl:gqe,ceilImpl:vqe,concatImpl:mqe,equalImpl:yqe,expImpl:bqe,expm1Impl:wqe,floorImpl:xqe,gatherNdImpl:Sqe,gatherV2Impl:Cqe,greaterImpl:kqe,greaterEqualImpl:_qe,lessImpl:Iqe,lessEqualImpl:Tqe,linSpaceImpl:Aqe,logImpl:Dqe,maxImpl:Rqe,maximumImpl:Eqe,minimumImpl:$qe,multiplyImpl:Pqe,negImpl:Mqe,notEqualImpl:Lqe,prodImpl:Nqe,raggedGatherImpl:Oqe,raggedRangeImpl:Fqe,raggedTensorToTensorImpl:Bqe,rangeImpl:zqe,rsqrtImpl:Vqe,scatterImpl:Gqe,sigmoidImpl:Wqe,simpleAbsImpl:are,sliceImpl:Hqe,sparseFillEmptyRowsImpl:Uqe,sparseReshapeImpl:jqe,sparseSegmentReductionImpl:sre,sqrtImpl:Kqe,staticRegexReplaceImpl:Xqe,stridedSliceImpl:qqe,stringNGramsImpl:Yqe,stringSplitImpl:Zqe,stringToHashBucketFastImpl:Jqe,subImpl:Qqe,tileImpl:eYe,topKImpl:tYe,transposeImpl:qN,uniqueImpl:nYe}=iGe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lre(n,e){return["x","y","z","w","u","v"].slice(0,e).map(t=>`${n}.${t}`)}function oo(n,e){return e===1?[n]:lre(n,e)}function rYe(n,e){if(n===1)return"rc";let t="";for(let r=0;r<n;r++)t+=e[r],r<n-1&&(t+=",");return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oYe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Yr(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const t=oo("rc",this.rank),r=vn(this.rank),o=this.getOutOfBoundsCondition(t),i=this.getSetup(t),a=this.getOutput(t);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${o}) {
            setOutput(vec4(0));
          } else {
            ${i}

            setOutput(vec4(${a}));
          }
        }
      `}}getSourceCoordsArr(e){const t=[];for(let r=0;r<=1;r++)for(let o=0;o<=1;o++){let i=`${r===0?"r":"rp1"}, ${o===0?"c":"cp1"}`;for(let a=2;a<this.rank;a++)i=`${e[e.length-1-a]},`+i;t.push(i)}return t}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let r=this.rank-2;r<this.rank;r++)t+=`${e[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(t+="||");return t}getSetup(e){if(this.rank===1)return"";const t=e.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],o=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${t[0]};
      int c = ${t[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${o};
    `}getOutput(e){const t=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${t[0]}),
            cEdge ? 0. : getA(${t[1]}),
            rEdge ? 0. : getA(${t[2]}),
            rEdge || cEdge ? 0. : getA(${t[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ure{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Yr(this.outputShape.length);let r="";for(let o=0;o<4;o++){let i="thisRC = rc;";o%2===1&&(i+="thisRC.z += 1;"),o>1&&(i+="thisRC.y += 1;"),r+=`
        ${i}
        ${o>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${o}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${o>0?"}":""}
      `}this.userCode=`
      ${iYe(t,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?KN():jN(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${r}

        setOutput(result);
      }
    `}}function iYe(n,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?rXe(["r","c","d"],"inputShape"):Rh(["r","c","d"],n)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aYe{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,r){const o=b8(t,r),i=w8(e,o,r);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const a=y8(e,o,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=a,this.log();const l=this.freeTextures[i].pop();return this.usedTextures[i].push(l),l}let s;return o===Rr.PACKED_2X2_FLOAT32?s=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===Rr.PACKED_2X2_FLOAT16?s=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===Rr.UNPACKED_FLOAT32?s=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===Rr.UNPACKED_FLOAT16?s=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===Rr.PACKED_4X1_UNSIGNED_BYTE&&(s=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(s),this.numUsedTextures++,this._numBytesAllocated+=a,this.log(),s}releaseTexture(e,t,r,o){if(this.freeTextures==null)return;const i=b8(r,o),a=w8(t,i,o);a in this.freeTextures||(this.freeTextures[a]=[]);const s=y8(t,i,this.gpgpu.gl,this.gpgpu.textureConfig,o),l=re().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;const u=this.usedTextures[a],c=u&&u.indexOf(e);if(c==null||c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u[c]=u[u.length-1],u.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(t=>{this.gpgpu.deleteMatrixTexture(t.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(t=>{this.gpgpu.deleteMatrixTexture(t.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function sYe(n,e){const t=n;if(e===t.R32F)return 4;if(e===t.R16F)return 2;if(e===t.RGBA32F)return 16;if(e===n.RGBA)return 16;if(e===t.RGBA16F)return 8;if(e===t.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function y8(n,e,t,r,o){const i=lYe(e,r);let a;if(o){const[l,u]=lg(n[0],n[1]);a=l*u}else{const[l,u]=pb(n[0],n[1]);a=l*u}const s=sYe(t,i);return a*s}function lYe(n,e){switch(n){case Rr.PACKED_2X2_FLOAT32:return rre(e);case Rr.PACKED_2X2_FLOAT16:return ore(e);case Rr.UNPACKED_FLOAT32:return ere(e);case Rr.UNPACKED_FLOAT16:return tre(e);case Rr.PACKED_4X1_UNSIGNED_BYTE:return nre(e);default:throw new Error(`Unknown physical texture type ${n}`)}}function uYe(n){return re().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?Rr.PACKED_2X2_FLOAT32:Rr.UNPACKED_FLOAT32:n?Rr.PACKED_2X2_FLOAT16:Rr.UNPACKED_FLOAT16}function b8(n,e){if(n===yi.UPLOAD)return Rr.PACKED_2X2_FLOAT32;if(n===yi.RENDER||n==null)return uYe(e);if(n===yi.DOWNLOAD||n===yi.PIXELS)return Rr.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${n}`)}function w8(n,e,t){return`${n[0]}_${n[1]}_${e}_${t}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cs{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Yr(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${t}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const pa="if (isnan(x)) return x;",cYe="return x;",x8="return abs(x);",dYe="return (x >= 0.0) ? x : (exp(x) - 1.0);",hYe=pa+`
  return (x < 0.0) ? 0.0 : x;
`,fYe=pa+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,su="return x;",pYe="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gYe="return x;",vYe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,mYe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,yYe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,bYe="return 1.0 / (1.0 + exp(-1.0 * x));";class Cu{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Yr(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${t}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wYe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Yr(this.outputShape.length);const t=e.length,r=oo("rc",t),o=vn(t),i=rYe(t,r),a=r.slice(-2),s=t<=1?"rc":`vec2(${a.join(",")})`;this.userCode=`
      void main() {
        ${o} rc = getOutputCoords();
        vec4 packedInput = getA(${i});

        setOutput(getChannel(packedInput, ${s}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xYe=NJ,SYe=1e-7,CYe=1e-4,X1={};function kYe(n){return n in X1||(X1[n]={}),X1[n]}const _Ye=re().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),IYe=600;function TYe(){return re().global.screen==null?1024:re().global.screen.height*re().global.screen.width*window.devicePixelRatio*IYe/1024/1024}class fk extends aM{nextDataId(){return fk.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!re().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(e!=null){if(e instanceof IT)t=e;else{const r=ja(re().getNumber("WEBGL_VERSION"),e);t=new IT(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=ja(re().getNumber("WEBGL_VERSION"));t=new IT(r),this.binaryCache=kYe(re().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new aYe(this.gpgpu),this.numMBBeforeWarning=TYe(),this.texData=new oZ(this,us())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,r,o,i,a){const s=this.makeTensorInfo(t,r),l=this.texData.get(s.dataId);l.isPacked=!1,l.texture={texture:e,texShape:[o,i]},l.texShape=[o,i];const u=j1(t),c=new m8(u,!1,a),d=this.runWebGLProgram(c,[s],r,[[o,i]]);return d.shape=t,l.texture=null,this.disposeIntermediateTensorInfo(s),d.dataId}write(e,t,r){if((re().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||re().getBool("DEBUG"))&&this.checkNumericalProblems(e),r==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const o={id:this.nextDataId()};return this.texData.set(o,{shape:t,dtype:r,values:e,usage:yi.UPLOAD,refCount:1}),o}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const t=this.texData.get(e);t.refCount++}decRef(e){if(this.texData.has(e)){const t=this.texData.get(e);t.refCount--}}move(e,t,r,o,i){if(re().getBool("DEBUG")&&this.checkNumericalProblems(t),o==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:o,values:t,usage:yi.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:r,dtype:o,complexTensorInfos:i,slice:a,shape:s,isPacked:l}=t;if(a!=null){let h;l?h=new Cu(s,su):h=new Cs(s,su);const f=this.runWebGLProgram(h,[{dataId:e,shape:s,dtype:o}],o),p=this.readSync(f.dataId);return this.disposeIntermediateTensorInfo(f),p}if(r!=null)return this.convertAndCacheOnCPU(e);if(o==="string")return r;const u=this.activeTimers!=null;let c;u&&(c=xo());let d;if(o==="complex64"){const h=this.readSync(i.real.dataId),f=this.readSync(i.imag.dataId);d=El(h,f)}else d=this.getValuesFromTexture(e);return u&&(this.downloadWaitMs+=xo()-c),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const p=this.pendingRead.get(e);return new Promise(g=>p.push(g))}const t=this.texData.get(e),{values:r,shape:o,slice:i,dtype:a,complexTensorInfos:s,isPacked:l}=t;if(i!=null){let p;l?p=new Cu(o,su):p=new Cs(o,su);const g=this.runWebGLProgram(p,[{dataId:e,shape:o,dtype:a}],a),v=this.read(g.dataId);return this.disposeIntermediateTensorInfo(g),v}if(r!=null)return this.convertAndCacheOnCPU(e);if(re().getBool("DEBUG")&&!re().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&re().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u=null,c;if(a!=="complex64"&&re().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(e);const p=this.texData.get(c.dataId);u=this.gpgpu.createBufferFromTexture(p.texture.texture,...W1(o))}this.pendingRead.set(e,[]),a!=="complex64"&&await this.gpgpu.createAndWaitForFence();let d;if(a==="complex64"){const p=await Promise.all([this.read(s.real.dataId),this.read(s.imag.dataId)]),g=p[0],v=p[1];d=El(g,v)}else if(u==null)d=this.getValuesFromTexture(e);else{const p=ue(o);d=this.gpgpu.downloadFloat32MatrixFromBuffer(u,p)}if(c!=null&&this.disposeIntermediateTensorInfo(c),u!=null){const p=this.gpgpu.gl;Fe(p,()=>p.deleteBuffer(u))}const h=this.convertAndCacheOnCPU(e,d),f=this.pendingRead.get(e);return this.pendingRead.delete(e),f.forEach(p=>p(h)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&us().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e,t={}){const r=this.texData.get(e),{values:o,shape:i,slice:a,dtype:s,isPacked:l,texture:u}=r;if(s==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(a!=null){let f;l?f=new Cu(i,su):f=new Cs(i,su);const p=this.runWebGLProgram(f,[{dataId:e,shape:i,dtype:s}],s),g=this.readToGPU(p,t);return this.disposeIntermediateTensorInfo(p),g}if(u==null)throw o!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,t.customTexShape),d=us().makeTensorFromTensorInfo(c),h=this.texData.get(c.dataId);return Object.assign({tensorRef:d},h.texture)}bufferSync(e){const t=this.readSync(e.dataId);if(e.dtype==="string")try{const r=t.map(o=>Gu(o));return $t(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return $t(e.shape,e.dtype,t)}checkNumericalProblems(e){if(e!=null)for(let t=0;t<e.length;t++){const r=e[t];if(!RKe(r))throw re().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:t,dtype:r,isPacked:o}=this.texData.get(e),i=ue(t);if(re().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const h=this.decode(e),f=this.texData.get(h.dataId),p=this.gpgpu.downloadMatrixFromPackedTexture(f.texture.texture,...W1(t)).subarray(0,i);return this.disposeIntermediateTensorInfo(h),p}const a=re().getBool("WEBGL_PACK")&&o===!0,s=a?j1(t):t,l=a?new jXe(s):new UXe(s),u=this.runWebGLProgram(l,[{shape:s,dtype:r,dataId:e}],"float32"),c=this.texData.get(u.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(u),d}timerAvailable(){return re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,r=[];let o=!1;this.programTimersStack==null?(this.programTimersStack=r,o=!0):this.activeTimers.push(r),this.activeTimers=r,e();const i=qd(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),a=qd(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=t,o&&(this.programTimersStack=null);const s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(i);s.kernelMs=HNe(l),s.getExtraProfileInfo=()=>l.map((u,c)=>({name:a[c],ms:u})).map(u=>`${u.name}: ${u.ms}`).join(", ")}else s.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,s})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:xo(),endMs:null}}endTimer(e){return re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=xo(),e)}async getQueryTime(e){if(re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return r!=null&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:r,texShape:o,usage:i,isPacked:a,slice:s}=this.texData.get(e),l=s&&s.origDataId||e,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),t!=null&&(this.numBytesInGPU-=this.computeBytes(o,r),this.textureManager.releaseTexture(t,o,i,a)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=_Ye){return re().getBool("WEBGL_CPU_FORWARD")&&e.every(r=>this.texData.get(r.dataId).texture==null&&ue(r.shape)<t)}getGPGPUContext(){return this.gpgpu}where(e){pi("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return xYe(e.shape,t)}packedUnaryOp(e,t,r){const o=new Cu(e.shape,t),i=this.compileAndRun(o,[e],r);return us().makeTensorFromTensorInfo(i)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const o=are(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,o)}if(re().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,x8,e.dtype);const t=new Cs(e.shape,x8),r=this.compileAndRun(t,[e]);return us().makeTensorFromTensorInfo(r)}makeTensorInfo(e,t,r){let o;if(t==="string"&&r!=null&&r.length>0&&n0(r[0])){const i=r.map(a=>$u(a));o=this.write(i,e,t)}else o=this.write(r,e,t);return this.texData.get(o).usage=null,{dataId:o,shape:e,dtype:t}}makeOutput(e,t,r){return us().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,r),this)}unpackTensor(e){const t=new wYe(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new oYe(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const r=[Cp(e.shape),...kp(e.shape)],o={dtype:e.dtype,shape:r,dataId:e.dataId},i=[Cp(t),...kp(t)],a=new ure(i,r),s=!0,l=[r],u=this.runWebGLProgram(a,[o],e.dtype,l,s);return{dataId:u.dataId,shape:t,dtype:u.dtype}}decode(e,t){const r=this.texData.get(e),{isPacked:o,shape:i,dtype:a}=r;if(t!=null){const h=ue(i),f=t[0]*t[1]*4;O(h<=f,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const s=j1(i);let l;o?l=new HXe(s):l=new WXe(s);const u=!0,c=[t??W1(s)],d=this.runWebGLProgram(l,[{shape:s,dtype:a,dataId:e}],a,c,u,t);return{dtype:a,shape:i,dataId:d.dataId}}runWebGLProgram(e,t,r,o,i=!1,a){const s=this.makeTensorInfo(e.outputShape,r),l=this.texData.get(s.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===vy.DENSE){const m=a??W1(e.outputShape);l.texShape=m.map(y=>y*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),ue(s.shape)===0)return l.values=Ur(s.dtype,0),s;const u=[],c=t.map(m=>{if(m.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let y=this.texData.get(m.dataId);if(y.texture==null){if(!e.packedInputs&&ue(m.shape)<=re().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:m.shape,texData:null,isUniform:!0,uniformValues:y.values};e.packedInputs&&(y.isPacked=!0,y.shape=m.shape)}if(this.uploadToGPU(m.dataId),!!y.isPacked!=!!e.packedInputs)m=y.isPacked?this.unpackTensor(m):this.packTensor(m),u.push(m),y=this.texData.get(m.dataId);else if(y.isPacked&&!bS(y.shape,m.shape)){const b=m,w=m.shape;m.shape=y.shape,m=this.packedReshape(m,w),u.push(m),y=this.texData.get(m.dataId),b.shape=w}return{shape:m.shape,texData:y,isUniform:!1}});this.uploadToGPU(s.dataId);const d={shape:s.shape,texData:l,isUniform:!1},h=GXe(e,c,d),f=this.getAndSaveBinary(h,()=>zXe(this.gpgpu,e,c,d)),p=this.activeTimers!=null;let g;p&&(g=this.startTimer()),re().get("ENGINE_COMPILE_ONLY")||VXe(this.gpgpu,f,c,d,o),u.forEach(m=>this.disposeIntermediateTensorInfo(m)),p&&(g=this.endTimer(g),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(g)}));const v=re().getNumber("WEBGL_FLUSH_THRESHOLD");if(v>0){const m=xo();m-this.lastGlFlushTime>v&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=m)}if(!re().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&i===!1){const m=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),m}return s}compileAndRun(e,t,r,o,i=!1){return r=r||t[0].dtype,this.runWebGLProgram(e,t,r,o,i)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(re().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(t=>{this.gpgpu.deleteProgram(this.binaryCache[t].webGLProgram),delete this.binaryCache[t]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=ee(()=>{if(!re().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=re().getBool("DEBUG");re().set("DEBUG",!1);const t=this.abs(Zt(1e-8)).dataSync()[0];if(re().set("DEBUG",e),t>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?SYe:CYe}uploadToGPU(e){const t=this.texData.get(e),{shape:r,dtype:o,values:i,texture:a,usage:s,isPacked:l}=t;if(a!=null)return;const u=this.activeTimers!=null;let c;u&&(c=xo());let d=t.texShape;if(d==null&&(d=XKe(r,l),t.texShape=d),i!=null){const h=j1(r);let f,p=d[1],g=d[0];const v=i instanceof Uint8Array||i instanceof Uint8ClampedArray;(l||!v)&&([p,g]=lg(d[0],d[1])),l?f=new XXe(h,v):f=new m8(h,v);const m=v?[g,p]:d,y=this.makeTensorInfo(m,o),b=this.texData.get(y.dataId);v?b.usage=yi.PIXELS:b.usage=yi.UPLOAD,b.texShape=m,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(y.dataId),p,g,i);const w=[[g,p]],S=this.runWebGLProgram(f,[y],o,w,!0),C=this.texData.get(S.dataId);t.texShape=C.texShape,t.isPacked=C.isPacked,t.usage=C.usage,re().get("ENGINE_COMPILE_ONLY")?this.disposeData(S.dataId):(t.texture=C.texture,t.values=null,this.texData.delete(S.dataId)),this.disposeIntermediateTensorInfo(y),u&&(this.uploadWaitMs+=xo()-c)}else{const h=this.acquireTexture(d,s,o,l);t.texture=h}}convertAndCacheOnCPU(e,t){const r=this.texData.get(e),{dtype:o}=r;return t!=null&&(r.values=AYe(t,o)),r.values}acquireTexture(e,t,r,o){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${i} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,o)}computeBytes(e,t){return e[0]*e[1]*Ux(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}else{for(const[,t]of Object.entries(this.binaryCache)){const r=new Promise(o=>{try{this.checkCompletion_(t),o(!0)}catch(i){throw i}});e.push(r)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await rS(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(Xne(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:r,infLoc:o,nanLoc:i,outShapeLocation:a,outShapeStridesLocation:s,outTexShapeLocation:l}=Qne(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=r,e.infLoc=o,e.nanLoc=i,e.outShapeLocation=a,e.outShapeStridesLocation=s,e.outTexShapeLocation=l}}createTensorFromGPUData(e,t,r){e.channels=e.channels||"RGBA";const{texture:o,height:i,width:a,channels:s}=e,l=us().backend;if(!l.gpgpu.gl.isTexture(o))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const u=l.writeTexture(o,t,r,i,a,s);return us().makeTensorFromDataId(u,t,r,l)}}fk.nextDataId=0;function AYe(n,e){if(e==="float32"||e==="complex64")return n;if(e==="int32"||e==="bool"){const t=e==="int32"?new Int32Array(n.length):new Uint8Array(n.length);for(let r=0;r<t.length;++r)t[r]=Math.round(n[r]);return t}else throw new Error(`Unknown dtype ${e}`)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */YZ()&&QZ("webgl",()=>new fk,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YN=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class lh{constructor(e,t,r){this.variableNames=["A","B"],this.outputShape=xt(t,r),this.enableShapeUniforms=Yr(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $h=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class fg{constructor(e,t,r,o=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=xt(t,r);const i=this.outputShape.length;this.enableShapeUniforms=Yr(i);let a="";if(o)if(i===0||ue(this.outputShape)===1)a=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(a=`
          ${vn(i)} coords = getOutputCoords();
        `,i===1)this.enableShapeUniforms?a+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:a+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=oo("coords",i);this.enableShapeUniforms?a+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= outShape[${i} - 2];
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= outShape[${i} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:a+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= ${this.outputShape[i-2]};
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= ${this.outputShape[i-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${a}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ni(n){const{inputs:e,backend:t}=n,{x:r}=e;return t.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const DYe={kernelName:C0,backendName:"webgl",kernelFunc:ni};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hc(n){const{inputs:e,backend:t}=n,{real:r,imag:o}=e,i=t.makeTensorInfo(r.shape,"complex64"),a=t.texData.get(i.dataId),s=ni({inputs:{x:r},backend:t}),l=ni({inputs:{x:o},backend:t});return a.complexTensorInfos={real:s,imag:l},i}const RYe={kernelName:bM,backendName:"webgl",kernelFunc:hc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cre="return (a < 0.) ? b * a : a;",dre=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function EYe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{alpha:i}=r,a=t.makeTensorInfo([],"float32",rc(i,"float32")),s=re().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new fg(dre,o.shape,a.shape):new lh(cre,o.shape,a.shape),l=t.runWebGLProgram(s,[o,a],"float32");return t.disposeIntermediateTensorInfo(a),l}const $Ye={kernelName:l2,backendName:"webgl",kernelFunc:EYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hre="return (a < 0.) ? b * a : a;",fre=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function PYe(n){const{inputs:e,backend:t}=n,{x:r,alpha:o}=e,i=re().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new fg(fre,r.shape,o.shape):new lh(hre,r.shape,o.shape);return t.runWebGLProgram(i,[r,o],"float32")}const MYe={kernelName:T2,backendName:"webgl",kernelFunc:PYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pg="if (isnan(x)) return x;";function Kt({opSnippet:n,packedOpSnippet:e,cpuKernelImpl:t,dtype:r}){return({inputs:o,backend:i})=>{const{x:a}=o,s=i,l=r||a.dtype;if(s.shouldExecuteOnCPU([a])&&t!=null){const d=s.texData.get(a.dataId),h=t(d.values,l);return s.makeTensorInfo(a.shape,l,h)}const u=re().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let c;return u?c=new Cu(a.shape,e):c=new Cs(a.shape,n),s.runWebGLProgram(c,[a],l)}}function Fr({opSnippet:n,packedOpSnippet:e,checkOutOfBounds:t=!1,supportsComplex:r=!1,cpuKernelImpl:o,dtype:i}){return({inputs:a,backend:s})=>{const{a:l,b:u}=a,c=s;if(r&&l.dtype==="complex64"){const p=c.texData.get(l.dataId),g=c.texData.get(u.dataId),[v,m]=[[p.complexTensorInfos.real,g.complexTensorInfos.real],[p.complexTensorInfos.imag,g.complexTensorInfos.imag]].map(b=>{const[w,x]=b,S={dataId:w.dataId,dtype:w.dtype,shape:l.shape},C={dataId:x.dataId,dtype:x.dtype,shape:u.shape},k=new lh(n,l.shape,u.shape);return c.runWebGLProgram(k,[S,C],ei(w.dtype,x.dtype))}),y=hc({inputs:{real:v,imag:m},backend:c});return c.disposeIntermediateTensorInfo(v),c.disposeIntermediateTensorInfo(m),y}const d=i||ei(l.dtype,u.dtype);if((l.dtype==="string"||u.dtype==="string"||c.shouldExecuteOnCPU([l,u]))&&o!=null){const p=c.texData.get(l.dataId).values,g=c.texData.get(u.dataId).values,v=l.dtype==="string"?$l(p):p,m=l.dtype==="string"?$l(g):g,[y,b]=o(l.shape,u.shape,v,m,d),w=c.makeTensorInfo(b,d),x=c.texData.get(w.dataId);return x.values=y,w}const h=re().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let f;return h?f=new fg(e,l.shape,u.shape,t):f=new lh(n,l.shape,u.shape),c.runWebGLProgram(f,[l,u],d)}}function my(n,e=!1){if(n==="linear")return e?gYe:cYe;if(n==="relu")return e?mYe:hYe;if(n==="elu")return e?vYe:dYe;if(n==="relu6")return e?yYe:fYe;if(n==="prelu")return e?fre:hre;if(n==="leakyrelu")return e?dre:cre;if(n==="sigmoid")return e?bYe:pYe;throw new Error(`Activation ${n} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pre{constructor(e,t,r,o=!1,i=!1,a=!1,s=null,l=!1,u=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=Yr(this.outputShape.length);const c=o?e[1]:e[2],d=Math.ceil(c/2),h=o?"i * 2, rc.y":"rc.y, i * 2",f=i?"rc.z, i * 2":"i * 2, rc.z",p=o?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],g=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let v="",m="";s&&(l?v=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${s}
        }`:u?v=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${s}
        }`:v=`vec4 activation(vec4 x) {
          ${s}
        }`,m="result = activation(result);");const y=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");let b="rc.x",w="rc.x";e[0]<t[0]?b=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(w=`imod(rc.x, ${t[0]})`),this.userCode=`
      ${v}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${d}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${b};
        int batchB = ${w};
        for (int i = 0; i < ${d}; i++) {
          vec4 a = getMatrixA(batchA, ${h});
          vec4 b = getMatrixB(batchB, ${f});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${p[0]} * ${g[0]});
          result += (${p[1]} * ${g[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${y}

        ${m}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S8={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class C8{constructor(e,t,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=xt(t,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k8="return a * b;";function ZN(n){const{inputs:e,backend:t}=n,{a:r,b:o}=e,i=ei(r.dtype,o.dtype);if(r.dtype==="complex64"){const s=t.texData.get(r.dataId),l=t.texData.get(o.dataId),u=new C8(S8.REAL,r.shape,o.shape),c=new C8(S8.IMAG,r.shape,o.shape),d=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:r.shape},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:o.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:o.shape}],h=t.runWebGLProgram(u,d,"float32"),f=t.runWebGLProgram(c,d,"float32"),p=hc({inputs:{real:h,imag:f},backend:t});return t.disposeIntermediateTensorInfo(h),t.disposeIntermediateTensorInfo(f),p}if(t.shouldExecuteOnCPU([r,o])){const s=t.texData.get(r.dataId),l=t.texData.get(o.dataId),[u,c]=Pqe(r.shape,o.shape,s.values,l.values,i),d=t.makeTensorInfo(c,i),h=t.texData.get(d.dataId);return h.values=u,d}let a;return re().getBool("WEBGL_PACK_BINARY_OPERATIONS")?a=new fg(k8,r.shape,o.shape):a=new lh(k8,r.shape,o.shape),t.runWebGLProgram(a,[r,o],i)}const LYe={kernelName:$0,backendName:"webgl",kernelFunc:ZN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NYe(n,e,t){const r=[Cp(n.shape),...kp(n.shape)],o={dtype:n.dtype,shape:r,dataId:n.dataId},i=[Cp(e),...kp(e)],a=new ure(i,r),s=!0,l=[r],u=t.runWebGLProgram(a,[o],n.dtype,l,s);return{dataId:u.dataId,shape:e,dtype:u.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Le(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{shape:i}=r,a=t,s=ue(o.shape),l=iZ(i,s),u=ue(l);O(s===u,()=>`The new shape (${l}) has ${u} elements and the old shape (${o.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`);const c=a.texData.get(o.dataId);return c.isPacked&&!bS(o.shape,l)&&!(c.texture!==null&&bS(c.shape,l))?NYe(o,l,a):(a.incRef(o.dataId),{dataId:o.dataId,shape:l,dtype:o.dtype})}const OYe={kernelName:D2,backendName:"webgl",kernelFunc:Le};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _8{constructor(e,t){this.variableNames=["x"];const{windowSize:r,batchSize:o,inSize:i,outSize:a}=e;this.outputShape=[o,a];const s=Math.floor(r/4)*4,l=r%4;let u="sumValue += dot(values, ones);";if(t!=null){const d=1/t;u=`sumValue += dot(values * ${hp(d)?d.toPrecision(2):d}, ones);`}let c="";i%r>0&&(c=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${c}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${s}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${s};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${u}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${u}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${u}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FYe{constructor(e,t){this.variableNames=["x"];const{windowSize:r,batchSize:o,inSize:i,outSize:a}=e;this.outputShape=[o,a];let s="0.0",l="";t==="prod"?s="1.0":t==="min"?(s="1.0 / 1e-20",l="min"):t==="max"&&(s="-1.0 / 1e-20",l="max");let u=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;t==="sum"?u="sumValue":t==="prod"?u="prodValue":t==="all"?u="allValue":t==="any"&&(u="anyValue");const c=Math.floor(r/4)*4,d=r%4;let h=`
      if (${t==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${t==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${t==="min"} || ${t==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,f="vec4";t==="all"?(s="1.0",h=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,f="bvec4"):t==="any"&&(s="0.0",h=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,f="bvec4");let p="";i%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${s};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${s});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          ${f} values = ${f}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${h}
        }

        int inIdx = inOffset + ${c};
        if (${d===1}) {
          ${f} values = ${f}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${h}
        } else if (${d===2}) {
          ${f} values = ${f}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${h}
        } else if (${d===3}) {
          ${f} values = ${f}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${h}
        }
        setOutput(${u});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BYe(n){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const t=e.length?e[e.length-1].outSize:n[1],r=Y2(t);e.push({inSize:t,windowSize:r,outSize:Math.ceil(t/r)})}return e}function Ph(n,e,t,r){const o=BYe(n.shape);let i=n;for(let a=0;a<o.length;a++){const{inSize:s,windowSize:l,outSize:u}=o[a];let c,d;t==="mean"?c=a===0?new _8({windowSize:l,inSize:s,batchSize:n.shape[0],outSize:u},s):new _8({windowSize:l,inSize:s,batchSize:n.shape[0],outSize:u}):c=new FYe({windowSize:l,inSize:s,batchSize:n.shape[0],outSize:u},t),d=i,i=r.runWebGLProgram(c,[i],e),d.dataId!==n.dataId&&r.disposeIntermediateTensorInfo(d)}return i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zYe{constructor(e,t){this.variableNames=["A"];const r=new Array(e.length);for(let a=0;a<r.length;a++)r[a]=e[t[a]];this.outputShape=r,this.rank=r.length;const o=vn(this.rank),i=VYe(t);this.userCode=`
    void main() {
      ${o} resRC = getOutputCoords();
      setOutput(getA(${i}));
    }
    `}}function VYe(n){const e=n.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const t=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e);for(let o=0;o<n.length;o++)r[n[o]]=t[o];return r.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GYe{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(e.length);for(let c=0;c<r.length;c++)r[c]=e[t[c]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const o=vn(this.rank),i=lre("rc",this.rank),a=new Array(this.rank);for(let c=0;c<t.length;c++)a[t[c]]=i[c];const s=`vec2(${a.slice(-2).join()})`,l=`++${i[this.rank-1]} < ${r[this.rank-1]}`,u=`getChannel(getA(${a.join()}), ${s})`;this.userCode=`
    void main() {
      ${o} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${u};
      if(${l}) {
        result[1] = ${u};
      }
      --${i[this.rank-1]};
      if(++${i[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${u};
        if(${l}) {
          result[3] = ${u};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pk(n,e,t){const r=re().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new GYe(n.shape,e):new zYe(n.shape,e);return t.runWebGLProgram(r,[n],n.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WYe(n,e,t,r){const o=e,i=n.shape.length,a=Mt(o,n.shape);let s=a;const l=Fn(s,i),u=l!=null;let c=n;u&&(c=pk(n,l,r),s=Kn(s.length,i)),Or("sum",s,i);const[d,h]=_r(c.shape,s);let f=d;t&&(f=tr(d,a));const p=ue(h),v=ue(n.shape)/p,m=Le({inputs:{x:c},attrs:{shape:[v,p]},backend:r}),y=eL(n.dtype),b=Ph(m,y,"sum",r),w=Le({inputs:{x:b},attrs:{shape:f},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(b),u&&r.disposeIntermediateTensorInfo(c),w}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gk(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,keepDims:a}=r;return WYe(o,i,a,t)}const HYe={kernelName:L2,backendName:"webgl",kernelFunc:gk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fo(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{perm:i}=r,a=t,s=o.shape.length,l=new Array(s);for(let c=0;c<l.length;c++)l[c]=o.shape[i[c]];let u;if(a.shouldExecuteOnCPU([o])){const d=a.texData.get(o.dataId).values,h=qN(d,o.shape,o.dtype,i,l);u=a.makeTensorInfo(l,o.dtype);const f=a.texData.get(u.dataId);f.values=h}else u=pk(o,i,a);return u}const UYe={kernelName:jf,backendName:"webgl",kernelFunc:fo};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gre=1e3;function wS({a:n,b:e,transposeA:t,transposeB:r,backend:o,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:s=0,activation:l=null}){const u=n.shape.length,c=e.shape.length,d=t?n.shape[u-2]:n.shape[u-1],h=r?e.shape[c-1]:e.shape[c-2],f=t?n.shape[u-1]:n.shape[u-2],p=r?e.shape[c-2]:e.shape[c-1],g=n.shape.slice(0,-2),v=e.shape.slice(0,-2),m=ue(g),y=ue(v),w=xt(n.shape.slice(0,-2),e.shape.slice(0,-2)).concat([f,p]);O(d===h,()=>`Error in matMul: inner shapes (${d}) and (${h}) of Tensors with shapes ${n.shape} and ${e.shape} and transposeA=${t} and transposeB=${r} must match.`);const x=t?[m,d,f]:[m,f,d],S=r?[y,p,h]:[y,h,p],C=Le({inputs:{x:n},backend:o,attrs:{shape:x}}),k=Le({inputs:{x:e},backend:o,attrs:{shape:S}}),_=[C,k],I=Math.max(m,y),T=t?C.shape[1]:C.shape[2],A=i!=null,D=a!=null,E=l==="leakyrelu",$=l!=null?my(l,!0):null,P=A||D||E||$!=null;let N;if((f===1||p===1)&&T>gre&&P===!1){let L=C,V=k;t&&(L=fo({inputs:{x:C},backend:o,attrs:{perm:[0,2,1]}}),_.push(L)),r&&(V=fo({inputs:{x:k},backend:o,attrs:{perm:[0,2,1]}}),_.push(V));const W=p!==1,j=p===1;let Q=L;W&&(Q=Le({inputs:{x:L},backend:o,attrs:{shape:[I,T,1]}}),_.push(Q));const te=p===1?2:1;let se=V;j&&(se=Le({inputs:{x:V},backend:o,attrs:{shape:[I,1,T]}}),_.push(se));const ge=ZN({inputs:{a:Q,b:se},backend:o});N=gk({inputs:{x:ge},backend:o,attrs:{axis:te,keepDims:!0}}),_.push(ge)}else{const L=ei(n.dtype,e.dtype),V=new pre(x,S,[I,f,p],t,r,A,$,D,E),W=[C,k];if(i!=null&&W.push(i),D&&W.push(a),E){const j=o.makeTensorInfo([],"float32",rc(s,"float32"));W.push(j),_.push(j)}N=o.runWebGLProgram(V,W,L)}const M=Le({inputs:{x:N},backend:o,attrs:{shape:w}});_.push(N);for(const L of _)o.disposeIntermediateTensorInfo(L);return M}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jYe(n){const{inputs:e,backend:t,attrs:r}=n,{a:o,b:i,bias:a,preluActivationWeights:s}=e,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;return wS({a:o,b:i,transposeA:l,transposeB:u,backend:t,bias:a,preluActivationWeights:s,leakyreluAlpha:d,activation:c})}const KYe={kernelName:jx,backendName:"webgl",kernelFunc:jYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I8="return abs(x);";function XYe(n){const{inputs:e,backend:t}=n,{x:r}=e;if(t.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const i=t.texData.get(r.dataId),a=are(i.values);return t.makeTensorInfo(r.shape,r.dtype,a)}let o;return re().getBool("WEBGL_PACK_UNARY_OPERATIONS")?o=new Cu(r.shape,I8):o=new Cs(r.shape,I8),t.runWebGLProgram(o,[r],r.dtype)}const qYe={kernelName:GC,backendName:"webgl",kernelFunc:XYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YYe=pa+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,ZYe=Kt({opSnippet:YYe}),JYe={kernelName:r0,backendName:"webgl",kernelFunc:ZYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QYe=pa+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,eZe=Kt({opSnippet:QYe}),tZe={kernelName:o0,backendName:"webgl",kernelFunc:eZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T8="return a + b;",nZe=Fr({opSnippet:T8,packedOpSnippet:T8,supportsComplex:!0,cpuKernelImpl:hqe}),rZe={kernelName:Qp,backendName:"webgl",kernelFunc:nZe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oZe{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((i,a)=>`T${a}`);const r=[];this.variableNames.forEach(i=>{r.push(`float v${i} = get${i}AtOutCoords();`)});const o=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${o};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iZe{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((i,a)=>`T${a}`);const r=[];this.variableNames.forEach(i=>{r.push(`vec4 v${i} = get${i}AtOutCoords();`)});const o=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${o};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _w(n){const{inputs:e,backend:t}=n,r=e;if(r.length===1)return ni({inputs:{x:r[0]},backend:t});if(r.length>re().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(r.length/2),u=_w({inputs:r.slice(0,l),backend:t}),c=_w({inputs:r.slice(l),backend:t});return _w({inputs:[u,c],backend:t})}const o=r.map(l=>l.dtype).reduce((l,u)=>ei(l,u)),i=r.map(l=>l.shape),s=re().getBool("WEBGL_PACK")?new iZe(r[0].shape,i):new oZe(r[0].shape,i);return t.runWebGLProgram(s,r,o)}const aZe={kernelName:hM,backendName:"webgl",kernelFunc:_w};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sZe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,keepDims:a}=r,s=o.shape.length,l=Mt(i,o.shape);let u=l;const c=Fn(u,s);let d=o;c!=null&&(d=fo({inputs:{x:o},backend:t,attrs:{perm:c}}),u=Kn(u.length,s)),Or("all",u,s);const[h,f]=_r(d.shape,u),p=ue(f),g=Le({inputs:{x:d},backend:t,attrs:{shape:[-1,p]}}),v=Ph(g,g.dtype,"all",t);let m;if(a){const y=tr(h,l);m=Le({inputs:{x:v},backend:t,attrs:{shape:y}})}else m=Le({inputs:{x:v},backend:t,attrs:{shape:h}});return t.disposeIntermediateTensorInfo(g),t.disposeIntermediateTensorInfo(v),c!=null&&t.disposeIntermediateTensorInfo(d),m}const lZe={kernelName:fM,backendName:"webgl",kernelFunc:sZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uZe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,keepDims:a}=r,s=o.shape.length,l=Mt(i,o.shape);let u=l;const c=Fn(u,s);let d=o;c!=null&&(d=fo({inputs:{x:o},backend:t,attrs:{perm:c}}),u=Kn(u.length,s)),Or("any",u,s);const[h,f]=_r(d.shape,u),p=ue(f),g=Le({inputs:{x:d},backend:t,attrs:{shape:[-1,p]}}),v=Ph(g,g.dtype,"any",t);let m;if(a){const y=tr(h,l);m=Le({inputs:{x:v},backend:t,attrs:{shape:y}})}else m=Le({inputs:{x:v},backend:t,attrs:{shape:h}});return t.disposeIntermediateTensorInfo(g),t.disposeIntermediateTensorInfo(v),c!=null&&t.disposeIntermediateTensorInfo(d),m}const cZe={kernelName:pM,backendName:"webgl",kernelFunc:uZe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dZe{constructor(e,t,r){this.variableNames=["A"];const{windowSize:o,batchSize:i,outSize:a}=e;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a];const s=t==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${o};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${o}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${s} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hZe{constructor(e,t,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,O(e.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const i=e[e.length-1],a=Math.ceil(i/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),o||this.variableNames.push("bestIndicesA");const s=this.outputShape,l=s.length,u=vn(l),c=oo("coords",l);let d,h;if(a===1){h=l+1;const k=vn(h);d=`
        ${k} sourceLocR = ${k}(${c.join()}, 0);
        ++${c[l-1]};
        ${k} sourceLocG = ${k}(${c.join()}, 0);
        ++${c[l-2]};
        ${k} sourceLocA = ${k}(${c.join()}, 0);
        --${c[l-1]};
        ${k} sourceLocB = ${k}(${c.join()}, 0);
        --${c[l-2]};`}else h=l,d=`
        ${u} sourceLocR = coords;
        ++${c[l-1]};
        ${u} sourceLocG = coords;
        ++${c[l-2]};
        ${u} sourceLocA = coords;
        --${c[l-1]};
        ${u} sourceLocB = coords;
        --${c[l-2]};`;const f=["x","y","z","w","u","v"].slice(0,h),p="."+f[h-1],g=f.map(k=>"int "+k),v=oo("sourceLocR",h-1).concat("inIdx.r"),m=oo("sourceLocG",h-1).concat("inIdx.g"),y=oo("sourceLocB",h-1).concat("inIdx.b"),b=oo("sourceLocA",h-1).concat("inIdx.a"),w=r==="max"?"greaterThan":"lessThan",x=o?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${v.join()}),
                             getBestIndicesAChannel(${m.join()}),
                             getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${b.join()})));`,S=`vec4(
            getAChannel(${v.join()}),
            hasNextCol ? getAChannel(${m.join()}) : 0.,
            hasNextRow ? getAChannel(${y.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,C=o?"":`
      float getBestIndicesAChannel(${g.join()}) {
        return getChannel(getBestIndicesA(${f.join()}),
                                          vec2(${f.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${g.join()}) {
        return getChannel(getA(${f.join()}),
                               vec2(${f.slice(-2).join()}));
      }
      ${C}
      void main() {
        ${u} coords = getOutputCoords();
        bool hasNextCol = ${c[l-1]} < ${s[l-1]-1};
        bool hasNextRow = ${c[l-2]} < ${s[l-2]-1};
        ${d}
        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},
          sourceLocB${p}, sourceLocA${p}) * ${t};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${S};

        for (int i = 0; i < ${t}; i++) {
          inIdx = srcIdx;
          ${x}
          vec4 candidate = ${S};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${w}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vre(n,e,t,r=null){let o=e.shape[0],i=e.shape[1];r!=null&&(o=r.shape[0],i=r.shape[1]);const a=Y2(i),s={windowSize:a,inSize:i,batchSize:o,outSize:Math.ceil(i/a)},l=new dZe(s,t,r==null),u=[e];r!=null&&u.push(r);const c=n.runWebGLProgram(l,u,"int32");if(c.shape[1]===1)return c;const d=vre(n,e,t,c);return n.disposeIntermediateTensorInfo(c),d}function mre(n,e,t,r=null){const o=r!=null?r.shape:e.shape,i=o[o.length-1],a=Y2(i),s=new hZe(o,a,t,r==null),l=r==null?[e]:[e,r],u=n.runWebGLProgram(s,l,"int32");if(u.shape.length===e.shape.length){const c=mre(n,e,t,u);return n.disposeIntermediateTensorInfo(u),c}return u}function yre(n,e,t,r){const o=[t];if(Or("arg"+r.charAt(0).toUpperCase()+r.slice(1),o,e.shape.length),!re().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const i=[],a=n.texData.get(e.dataId),s=a!==null&&a.isPacked;let l=e;s&&(l=n.unpackTensor(e),i.push(l));const[u,c]=_r(l.shape,o),d=ue(c),h=Le({inputs:{x:l},backend:n,attrs:{shape:[-1,d]}});i.push(h);const f=vre(n,h,r);i.push(f);const p=Le({inputs:{x:f},backend:n,attrs:{shape:u}});return i.forEach(g=>n.disposeIntermediateTensorInfo(g)),p}return mre(n,e,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fZe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i}=r;let a=Mt(i,o.shape);const s=Fn(a,o.shape.length);let l=o;const u=[];s!=null&&(l=fo({inputs:{x:o},backend:t,attrs:{perm:s}}),u.push(l),a=Kn(a.length,l.shape.length)),Or("argMax",[a[0]],l.shape.length);const c=yre(t,l,a[0],"max");return u.forEach(d=>t.disposeIntermediateTensorInfo(d)),c}const pZe={kernelName:WC,backendName:"webgl",kernelFunc:fZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gZe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i}=r;let a=Mt(i,o.shape);const s=Fn(a,o.shape.length);let l=o;const u=[];s!=null&&(l=fo({inputs:{x:o},backend:t,attrs:{perm:s}}),u.push(l),a=Kn(a.length,l.shape.length)),Or("argMin",[a[0]],l.shape.length);const c=yre(t,l,a[0],"min");return u.forEach(d=>t.disposeIntermediateTensorInfo(d)),c}const vZe={kernelName:HC,backendName:"webgl",kernelFunc:gZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mZe=pa+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,yZe=Kt({opSnippet:mZe}),bZe={kernelName:i0,backendName:"webgl",kernelFunc:yZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wZe=pa+"return log(x + sqrt(x * x + 1.0));",xZe=Kt({opSnippet:wZe}),SZe={kernelName:a0,backendName:"webgl",kernelFunc:xZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CZe=pa+`
  return atan(x);
`,kZe=Kt({opSnippet:CZe}),_Ze={kernelName:s0,backendName:"webgl",kernelFunc:kZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IZe=YN+`
  return atan(a, b);
`,TZe=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+$h+`
  return result;
`,AZe=Fr({opSnippet:IZe,packedOpSnippet:TZe}),DZe={kernelName:u0,backendName:"webgl",kernelFunc:AZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RZe=pa+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,EZe=Kt({opSnippet:RZe}),$Ze={kernelName:l0,backendName:"webgl",kernelFunc:EZe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yy{constructor(e,t,r,o=!1,i=!1){if(this.variableNames=["x"],t==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,s=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const g=t==="avg",v=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,m=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let y="0.0";if(g||(y="-1.0 / 1e-20"),r){const k=">=";this.userCode=`
        const ivec2 strides = ivec2(${s}, ${l});
        const ivec2 pads = ivec2(${f}, ${p});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${d};
              wR += ${u}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h};
                wC += ${c}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${k} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${o?i?v:m:`wR * ${h} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const b="max";let w=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;t==="avg"&&(w="avgValue / max(count, 1.0)");const x=Math.floor(a/4)*4,S=a%4,C=`
      if (${g}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${b}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${s}, ${l});
      const ivec2 pads = ivec2(${f}, ${p});
      const float initializationValue = ${y};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${y});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${d};
            wR += ${u}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${x}; wC += 4) {
            int xC = xCCorner + wC * ${c};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              getValue(batch, xR, xC + 3 * ${c}, d)
            );

            ${C}
          }

          int xC = xCCorner + ${x};
          if (${S===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${C}
          } else if (${S===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              initializationValue,
              initializationValue
            );

            ${C}
          } else if (${S===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              initializationValue
            );

            ${C}
          }
        }
        setOutput(${w});
      }
    `}}class JN{constructor(e,t,r,o=!1,i=!1){if(this.variableNames=["x"],t==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,s=e.strideDepth,l=e.strideHeight,u=e.strideWidth,c=e.dilationDepth,d=e.dilationHeight,h=e.dilationWidth,f=e.effectiveFilterDepth,p=e.effectiveFilterHeight,g=e.effectiveFilterWidth,v=e.padInfo.front,m=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const b=t==="avg";let w="0.0";if(b||(w="-1.0 / 1e-20"),r){const I=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${s}, ${l}, ${u});
        const ivec3 pads = ivec3(${v}, ${m}, ${y});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${f};
              wD += ${c}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${p};
                wR += ${d}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${g};
                  wC += ${h}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${I} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${o?i?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${g} +
                      wR * ${g} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const x="max";let S=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;t==="avg"&&(S="avgValue / max(count, 1.0)");const C=Math.floor(a/4)*4,k=a%4,_=`
      if (${b}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${x}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${s}, ${l}, ${u});
      const ivec3 pads = ivec3(${v}, ${m}, ${y});
      const float initializationValue = ${w};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${w});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${f};
            wD += ${c}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p};
            wR += ${d}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${C}; wC += 4) {
              int xC = xCCorner + wC * ${h};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                getValue(batch, xD, xR, xC + 2 * ${h}, ch),
                getValue(batch, xD, xR, xC + 3 * ${h}, ch)
              );

              ${_}
            }

            int xC = xCCorner + ${C};
            if (${k===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${_}
            } else if (${k===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                initializationValue,
                initializationValue
              );

              ${_}
            } else if (${k===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                getValue(batch, xD, xR, xC + 2 * ${h}, ch),
                initializationValue
              );

              ${_}
            }
          }
        }
        setOutput(${S});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PZe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e;gb(o,"avgPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=r,u=1;O(Xr(a,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const c=ha(o.shape,i,a,u,s,l);if(c.filterWidth===1&&c.filterHeight===1&&an(c.inShape,c.outShape))return ni({inputs:{x:o},backend:t});const d=new yy(c,"avg",!1);return t.runWebGLProgram(d,[o],"float32")}const MZe={kernelName:UC,backendName:"webgl",kernelFunc:PZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LZe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{filterSize:i,strides:a,pad:s,dimRoundingMode:l,dataFormat:u}=r,c=[1,1,1],d=Fl(o.shape,i,a,c,s,l,u),h=new JN(d,"avg",!1);return t.runWebGLProgram(h,[o],"float32")}const NZe={kernelName:jC,backendName:"webgl",kernelFunc:LZe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OZe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,r=e.filterWidth,o=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,s=e.dilationWidth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=l-1-e.padInfo.top,d=u-1-e.padInfo.left,h=1/(t*r);this.userCode=`
      const ivec2 pads = ivec2(${c}, ${d});
      const float avgMultiplier = float(${h});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${a}) {
          float dyR = float(dyRCorner + wR) / ${o}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${u};
            wC+= ${s}) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class FZe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,r=e.filterHeight,o=e.filterWidth,i=e.strideDepth,a=e.strideHeight,s=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,d=e.effectiveFilterDepth,h=e.effectiveFilterHeight,f=e.effectiveFilterWidth,p=d-1-e.padInfo.front,g=h-1-e.padInfo.top,v=f-1-e.padInfo.left,m=1/(t*r*o);this.userCode=`
      const ivec3 pads = ivec3(${p}, ${g}, ${v});
      const float avgMultiplier = float(${m});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${d};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${i}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${h};
              wR += ${u}) {
            float dyR = float(dyRCorner + wR) / ${a}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${f};
                wC += ${c}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BZe(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,input:i}=e,a=i,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,d=[1,1,1],h=Fl(a.shape,s,l,d,u,c),f=new FZe(h);return t.runWebGLProgram(f,[o],a.dtype)}const zZe={kernelName:vM,backendName:"webgl",kernelFunc:BZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VZe(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,input:i}=e,a=i;gb([o,i],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=ha(a.shape,s,l,1,u),d=new OZe(c);return t.runWebGLProgram(d,[o],a.dtype)}const GZe={kernelName:gM,backendName:"webgl",kernelFunc:VZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WZe(n){const{inputs:e,backend:t,attrs:r}=n,{a:o,b:i}=e,{transposeA:a,transposeB:s}=r;return wS({a:o,b:i,transposeA:a,transposeB:s,backend:t})}const HZe={kernelName:KC,backendName:"webgl",kernelFunc:WZe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UZe{constructor(e,t,r,o,i,a){this.outputShape=[],this.variableNames=["x","mean","variance"],xt(e,t),xt(e,r);let s="0.0";o!=null&&(xt(e,o),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let l="1.0";i!=null&&(xt(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${s};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${a}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jZe{constructor(e,t,r,o,i,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],xt(e,t),xt(e,r);let s="vec4(0.0)";o!=null&&(xt(e,o),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let l="vec4(1.0)";i!=null&&(xt(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${s};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${a}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KZe=({inputs:n,backend:e,attrs:t})=>{const{x:r,mean:o,variance:i,offset:a,scale:s}=n;O(o.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),O(a==null||o.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),O(s==null||o.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=t;l==null&&(l=.001);const u=[r,o,i];let c=null;a!=null&&(c=a.shape,u.push(a));let d=null;s!=null&&(d=s.shape,u.push(s));const h=re().getBool("WEBGL_PACK_NORMALIZATION")?new jZe(r.shape,o.shape,i.shape,c,d,l):new UZe(r.shape,o.shape,i.shape,c,d,l);return e.runWebGLProgram(h,u,u[0].dtype)},XZe={kernelName:i2,backendName:"webgl",kernelFunc:KZe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qZe{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=vn(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=YZe(this.rank);let o;const i=e.map((a,s)=>`sourceLoc.${DR[s]} = start[${s}] + coords.${DR[s]};`);o=`
        ${t} sourceLoc;
        ${t} coords = getOutputCoords();
        ${i.join(`
`)}
      `,this.userCode=`
      void main() {
        ${o}
        setOutput(getSource(${r}));
      }
    `}}const DR=["x","y","z","w","u","v"];function YZe(n){if(n===1)return"sourceLoc";if(n<=6)return DR.slice(0,n).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${n} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZZe{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=vn(this.rank),r=oo("coords",this.rank),o=oo("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":`vec2(${o.slice(-2).join()})`,a=`getChannel(getSource(${o.join()}), ${i})`,s=`
      result.x = ${a};
      if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
        ++${o[this.rank-1]};
        result.y = ${a};
        --${o[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${e[this.rank-2]}) {
        ++${o[this.rank-2]};
        result.z = ${a};
        if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
          ++${o[this.rank-1]};
          result.w = ${a};
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            ${t}(${e.map((c,d)=>`start[${d}]`).join()});`:e.map((c,d)=>`${o[d]} = ${r[d]} + start[${d}];`).join(`
`);this.userCode=`
      void main() {
        ${t} coords = getOutputCoords();
        ${t} sourceLoc;
        ${u}
        vec4 result = vec4(0.);
        ${s}
        ${l}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JZe(n,e,t,r){const o=r.texData.get(n.dataId),i=r.makeTensorInfo(t,n.dtype),a=r.texData.get(i.dataId);Object.assign(a,o),a.refCount=1,a.shape=t,a.dtype=n.dtype;let s=HL(e,tt(n.shape));o.slice&&(s+=o.slice.flatOffset),a.slice={flatOffset:s,origDataId:o.slice&&o.slice.origDataId||n.dataId};const l=r.dataRefCount.get(a.slice.origDataId)||1;return r.dataRefCount.set(a.slice.origDataId,l+1),i}function gg(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{begin:i,size:a}=r,[s,l]=q2(o,i,a);if(VL(o,s,l),ue(l)===0)return t.makeTensorInfo(l,o.dtype,[]);if(t.shouldExecuteOnCPU([o])||o.dtype==="string"){const d=t.texData.get(o.dataId),h=Hqe(d.values,s,l,o.shape,o.dtype);return t.makeTensorInfo(l,o.dtype,h)}const{isPacked:u}=t.texData.get(o.dataId),c=WL(o.shape,s,l);if(u||!c){const d=re().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ZZe(l):new qZe(l),h=[s];return t.runWebGLProgram(d,[o],o.dtype,h)}return t.uploadToGPU(o.dataId),JZe(o,s,l,t)}const QZe={kernelName:M2,backendName:"webgl",kernelFunc:gg};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eJe=n=>{const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{blockShape:i,crops:a}=r;O(o.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const s=i.reduce((y,b)=>y*b),l=rb(o.shape,i,s),u=ob(l.length,i.length),c=ib(o.shape,i,s),d=qL(a,i.length),h=YL(c,a,i.length),f=[],p=Le({inputs:{x:o},backend:t,attrs:{shape:l}}),g=fo({inputs:{x:p},backend:t,attrs:{perm:u}}),v=Le({inputs:{x:g},backend:t,attrs:{shape:c}}),m=gg({inputs:{x:v},backend:t,attrs:{begin:d,size:h}});return f.push(p),f.push(g),f.push(v),f.forEach(y=>t.disposeIntermediateTensorInfo(y)),m},tJe={kernelName:XC,backendName:"webgl",kernelFunc:eJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nJe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,weights:i}=e,{size:a}=r,s=t.readSync(o.dataId),l=t.readSync(i.dataId),u=ire(s,l,i.dtype,i.shape,a);return t.makeTensorInfo([a],i.dtype,u)}const rJe={kernelName:mM,backendName:"webgl",kernelFunc:nJe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oJe=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,iJe=`
  return float(int(a.r) & int(b.r));
`;function aJe(n){const{inputs:e,backend:t}=n,{a:r,b:o}=e,i=re().getBool("WEBGL_PACK_BINARY_OPERATIONS"),a=re().getNumber("WEBGL_VERSION");if(t.shouldExecuteOnCPU([r,o])||a===1){const l=t.texData.get(r.dataId).values,u=t.texData.get(o.dataId).values,[c,d]=pqe(r.shape,o.shape,l,u,r.dtype),h=t.makeTensorInfo(d,r.dtype),f=t.texData.get(h.dataId);return f.values=c,h}let s;return i?s=new fg(oJe,r.shape,o.shape,!1):s=new lh(iJe,r.shape,o.shape),t.runWebGLProgram(s,[r,o],r.dtype)}const sJe={kernelName:yM,backendName:"webgl",kernelFunc:aJe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lJe(n){const{inputs:e,backend:t}=n,{s0:r,s1:o}=e,i=t.readSync(r.dataId),a=t.readSync(o.dataId),s=xt(Array.from(i),Array.from(a));return t.makeTensorInfo([s.length],"int32",Int32Array.from(s))}const uJe={kernelName:dZ,backendName:"webgl",kernelFunc:lJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cJe="return float(a != b);",bre=Fr({opSnippet:cJe,cpuKernelImpl:Lqe,dtype:"bool"}),dJe={kernelName:S2,backendName:"webgl",kernelFunc:bre};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mb(n){const{inputs:e,backend:t}=n,{input:r}=e,o=t.texData.get(r.dataId);return ni({inputs:{x:o.complexTensorInfos.real},backend:t})}const hJe={kernelName:WM,backendName:"webgl",kernelFunc:mb};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fJe="return float(int(x));";function pJe(n,e){const t=new Cs(n.shape,fJe),r=e.runWebGLProgram(t,[n],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RR(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{dtype:i}=r;if(i==="complex64"){if(o.dtype==="complex64")return ni({inputs:{x:o},backend:t});const a=gr(o.shape),s=RR({inputs:{x:o},backend:t,attrs:{dtype:"float32"}}),l=hc({inputs:{real:s,imag:a},backend:t});return a.dispose(),t.disposeIntermediateTensorInfo(s),l}if(o.dtype==="complex64"){const a=mb({inputs:{input:o},backend:t}),s=RR({inputs:{x:a},backend:t,attrs:{dtype:i}});return t.disposeIntermediateTensorInfo(a),s}if(!aZ(o.dtype,i)){const a=ni({inputs:{x:o},backend:t});return{dataId:a.dataId,shape:a.shape,dtype:i}}if(t.shouldExecuteOnCPU([o])){const a=t.texData.get(o.dataId).values,[s,l,u]=gqe(a,o.shape,o.dtype,i);return t.makeTensorInfo(s,l,u)}if(i==="int32")return pJe(o,t);if(i==="bool"){const a=t.makeTensorInfo([],"bool",Ur("bool",1)),l=bre({inputs:{a:o,b:a},backend:t});return t.disposeIntermediateTensorInfo(a),l}throw new Error(`Error in Cast: failed to cast ${o.dtype} to ${i}`)}const gJe={kernelName:c0,backendName:"webgl",kernelFunc:RR};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A8="return ceil(x);",vJe=Kt({opSnippet:A8,packedOpSnippet:A8,cpuKernelImpl:vqe}),mJe={kernelName:d0,backendName:"webgl",kernelFunc:vJe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yJe{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bJe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wJe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{clipValueMin:i,clipValueMax:a}=r;let s;re().getBool("WEBGL_PACK_CLIP")?s=new bJe(o.shape):s=new yJe(o.shape);const l=[[i],[a]];return t.runWebGLProgram(s,[o],o.dtype,l)}const xJe={kernelName:h0,backendName:"webgl",kernelFunc:wJe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SJe{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D8(n,e){return{dataId:e.dataId,dtype:e.dtype,shape:n.shape}}function CJe(n){const{inputs:e,backend:t}=n,{x:r}=e,o=t.texData.get(r.dataId),i=new SJe(r.shape),a=[D8(r,o.complexTensorInfos.real),D8(r,o.complexTensorInfos.imag)];return t.runWebGLProgram(i,a,a[0].dtype)}const kJe={kernelName:qC,backendName:"webgl",kernelFunc:CJe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Je{constructor(e){this.outputShape=[],this.outputShape=$s(e,1),this.variableNames=e.map((a,s)=>`T${s}`);const t=new Array(e.length-1);t[0]=e[0][1];for(let a=1;a<t.length;a++)t[a]=t[a-1]+e[a][1];const r=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let a=1;a<t.length;a++){const s=t[a-1];r.push(`else if (yC < ${t[a]}) setOutput(getT${a}(yR, yC-${s}));`)}const o=t.length,i=t[t.length-1];r.push(`else setOutput(getT${o}(yR, yC-${i}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IJe{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=$s(e,t);const r=this.outputShape,o=r.length,i=vn(o),a=oo("coords",o),s=["x","y","z","w","u","v"].slice(0,o);this.variableNames=e.map((g,v)=>`T${v}`);const l=new Array(e.length-1);l[0]=e[0][t];for(let g=1;g<l.length;g++)l[g]=l[g-1]+e[g][t];const u=s[t],c=s.slice(-2),d=s.join();let h=`if (${u} < ${l[0]}) {
        return getChannel(
            getT0(${d}), vec2(${c.join()}));
        }`;for(let g=1;g<l.length;g++){const v=l[g-1];h+=`
        if (${u} < ${l[g]}  && ${u} >= ${l[g-1]}) {
          return getChannel(
            getT${g}(${q1(s,u,v)}),
            vec2(${q1(c,u,v)}));
        }`}const f=l.length,p=l[l.length-1];h+=`
        return getChannel(
          getT${f}(${q1(s,u,p)}),
          vec2(${q1(c,u,p)}));`,this.userCode=`
      float getValue(${s.map(g=>"int "+g)}) {
        ${h}
      }

      void main() {
        ${i} coords = getOutputCoords();
        vec4 result = vec4(getValue(${a}), 0., 0., 0.);

        ${a[o-1]} = ${a[o-1]} + 1;
        if (${a[o-1]} < ${r[o-1]}) {
          result.g = getValue(${a});
        }

        ${a[o-2]} = ${a[o-2]} + 1;
        if (${a[o-2]} < ${r[o-2]}) {
          result.a = getValue(${a});
        }

        ${a[o-1]} = ${a[o-1]} - 1;
        if (${a[o-2]} < ${r[o-2]} &&
            ${a[o-1]} < ${r[o-1]}) {
          result.b = getValue(${a});
        }
        setOutput(result);
      }
    `}}function q1(n,e,t){const r=n.indexOf(e);return n.map((i,a)=>a===r?`${i} - ${t}`:i).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vk(n){const{inputs:e,backend:t}=n,{input:r}=e,o=t.texData.get(r.dataId);return ni({inputs:{x:o.complexTensorInfos.imag},backend:t})}const TJe={kernelName:LM,backendName:"webgl",kernelFunc:vk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cv(n,e,t){const r=n[0].dtype;if(r==="complex64"){const f=n.map(y=>mb({inputs:{input:y},backend:t})),p=n.map(y=>vk({inputs:{input:y},backend:t})),g=Cv(f,e,t),v=Cv(p,e,t),m=hc({inputs:{real:g,imag:v},backend:t});return f.forEach(y=>t.disposeIntermediateTensorInfo(y)),p.forEach(y=>t.disposeIntermediateTensorInfo(y)),t.disposeIntermediateTensorInfo(g),t.disposeIntermediateTensorInfo(v),m}let o=t.shouldExecuteOnCPU(n);if(r==="string"&&(o=!0),o){const f=n.map(w=>{const S=[-1,ue(w.shape.slice(e))];return Le({inputs:{x:w},backend:t,attrs:{shape:S}})}),p=f.map(w=>({vals:t.readSync(w.dataId),shape:w.shape})),g=$s(f.map(w=>w.shape),1),v=f[0].shape[0]===1,m=mqe(p,g,r,v),y=$s(n.map(w=>w.shape),e),b=t.makeTensorInfo(y,r,m);return f.forEach(w=>t.disposeIntermediateTensorInfo(w)),b}const i=n.filter(f=>ue(f.shape)>0),a=re().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(i.length===1){const f=a?new Cs(n[0].shape,su):new Cu(n[0].shape,su);return t.runWebGLProgram(f,n,r)}const s=re().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>s){const f=[];for(let g=0;g<i.length;g+=s){const v=i.slice(g,g+s);f.push(Cv(v,e,t))}const p=Cv(f,e,t);for(const g of f)t.disposeIntermediateTensorInfo(g);return p}if(a){const f=new IJe(i.map(p=>p.shape),e);return t.runWebGLProgram(f,i,r)}const{tensors2D:l,outShape:u}=AJe(i,e,t),c=new _Je(l.map(f=>f.shape)),d=t.runWebGLProgram(c,l,r);l.forEach(f=>t.disposeIntermediateTensorInfo(f));const h=Le({inputs:{x:d},attrs:{shape:u},backend:t});return t.disposeIntermediateTensorInfo(d),h}function AJe(n,e,t){const r=$s(n.map(i=>i.shape),e);return{tensors2D:n.map(i=>Le({inputs:{x:i},attrs:{shape:[-1,ue(i.shape.slice(e))]},backend:t})),outShape:r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wre(n){const{inputs:e,backend:t,attrs:r}=n,{axis:o}=r,i=Mt(o,e[0].shape)[0],a=e.map(u=>u.shape);jL(a,i);const s=$s(e.map(u=>u.shape),i);if(ue(s)===0)return t.makeTensorInfo(s,e[0].dtype,[]);const l=e.filter(u=>ue(u.shape)>0);return l.length===1?ni({inputs:{x:l[0]},backend:t}):Cv(l,i,t)}const DJe={kernelName:YC,backendName:"webgl",kernelFunc:wre};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xre{constructor(e,t=!1,r=null,o=!1,i=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const a=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,d=e.dilationWidth,h=e.filterHeight,f=e.filterWidth,p=Math.floor(e.inChannels/4)*4,g=e.inChannels%4,v=e.dataFormat==="channelsLast",m=v?1:2,y=v?2:3,b=v?3:1;let w="",x="";r&&(o?w=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?w=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:w=`
          float activation(float x) {
            ${r}
          }
        `,x="result = activation(result);");const S=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${w}

      const ivec2 strides = ivec2(${l}, ${u});
      const ivec2 pads = ivec2(${a}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${b}];

        ivec2 xRCCorner =
            ivec2(coords[${m}], coords[${y}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${h}; wR++) {
          int xR = xRCorner + wR * ${c};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${f}; wC++) {
            int xC = xCCorner + wC * ${d};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${p}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${v}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${g===1}) {

              if (${v}) {
                dotProd +=
                    getX(batch, xR, xC, ${p}) *
                    getW(wR, wC, ${p}, d2);
              } else {
                dotProd +=
                    getX(batch, ${p}, xR, xC) *
                    getW(wR, wC, ${p}, d2);
              }

            } else if (${g===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2)
              );

              if (${v}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${g===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2),
                getW(wR, wC, ${p} + 2, d2)
              );

              if (${v}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1),
                  getX(batch, xR, xC, ${p} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC),
                  getX(batch, ${p} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${S}
        ${x}
        setOutput(result);
      }
    `}}class RJe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,r=e.padInfo.top,o=e.padInfo.left,i=e.strideDepth,a=e.strideHeight,s=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,d=e.filterDepth,h=e.filterHeight,f=e.filterWidth,p=Math.floor(e.inChannels/4)*4,g=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${i}, ${a}, ${s});
      const ivec3 pads = ivec3(${t}, ${r}, ${o});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${d}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${h}; wR++) {
            int xR = xRCorner + wR * ${u};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${f}; wC++) {
              int xC = xCCorner + wC * ${c};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${p}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${g===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${p}) *
                  getW(wF, wR, wC, ${p}, d2);
              } else if (${g===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${g===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1),
                  getX(batch, xF, xR, xC, ${p} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2),
                  getW(wF, wR, wC, ${p} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Sre{constructor(e,t=!1,r=null,o=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Yr(this.outputShape.length);const a=e.padInfo.left,s=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,d=c;let h=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let v=0;v<c;v++)h+=`
           vec4 xTexelC${v*2};
           int xTexelC${v*2}Ready;
           vec4 xTexelC${v*2+1};
           int xTexelC${v*2+1}Ready;
           vec4 xC${v};`;h+=`
     for (int r = 0; r < ${u}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let v=0;v<c;v++)h+=`
           xTexelC${v*2} = vec4(0.0);
           xTexelC${v*2}Ready = 0;
           xTexelC${v*2+1} = vec4(0.0);
           xTexelC${v*2+1}Ready = 0;
           xC${v} = vec4(0.0);`;h+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let v=0;v<(d+1)/2;v++){const m=v*2;if(h+=`
           xC = xCCorner + ${m*l};
           `,s===1){if(m<c&&(a%2===1?(h+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m}Ready == 0) {
                   xTexelC${m} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${m}.zw = vec2(0.0);
                   }
                   xTexelC${m}Ready = 1;
                 }
               `,l===1&&m>0?h+=`
                 xC${m} = vec4(xTexelC${m-2}.zw, xTexelC${m}.xy);
                 `:h+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${m} = vec4(previous.zw, xTexelC${m}.xy);
                   } else {
                     xC${m} = vec4(0.0, 0.0, xTexelC${m}.xy);
                   }
                   `):h+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${m}Ready == 0) {
                   xTexelC${m} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${m}.zw = vec2(0.0);
                   }
                   xTexelC${m}Ready = 1;
                 }

                 xC${m} = xTexelC${m};
                 `,m+1<c)){const y=a%2===0?sM(l):l;l%2===0&&a%2===1||l%2!==0&&a%2!==1?(h+=`
                   xCOffset = xC + imod(pads[1], 2) + ${y};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m+1}Ready == 0) {
                     xTexelC${m+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${m+1}.zw = vec2(0.0);
                     }
                     xTexelC${m+1}Ready = 1;
                   }
                   `,l>1?h+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${m+1} = vec4(previous.zw, xTexelC${m+1}.xy);
                     } else {
                      xC${m+1} = vec4(0.0, 0.0, xTexelC${m+1}.xy);
                     }
                     `:h+=`
                     xC${m+1} = vec4(xTexelC${m}.zw, xTexelC${m+1}.xy);
                     `):y===1?h+=`
                     xC${m+1} = xTexelC${m};
                     `:h+=`
                     xCOffset = xC + ${y};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m+1}Ready == 0) {
                       xTexelC${m+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${m+1}.zw = vec2(0.0);
                       }
                       xTexelC${m+1}Ready = 1;
                     }

                     xC${m+1} = xTexelC${m+1};
                     `}}else m<c&&(a%2===1?(h+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m}Ready == 0) {
                   xTexelC${m} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${m}.zw = vec2(0.0);
                   }
                   xTexelC${m}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${m+1}Ready == 0) {
                   xTexelC${m+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${m+1}.zw = vec2(0.0);
                   }
                   xTexelC${m+1}Ready = 1;
                 }

                 xC${m} = vec4(xTexelC${m}.zw, xTexelC${m+1}.zw);
               `,m+1<c&&(h+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${m+1} = vec4(xTexelC${m+1}.xy, final.xy);
                 `)):(h+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${m}Ready == 0) {
                   xTexelC${m} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${m}.zw = vec2(0.0);
                   }
                   xTexelC${m}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m+1}Ready == 0) {
                   xTexelC${m+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${m+1}.zw = vec2(0.);
                   }
                   xTexelC${m+1}Ready = 1;
                 }

                 xC${m} = vec4(
                   xTexelC${m}.xy, xTexelC${m+1}.xy);
               `,m+1<c&&(h+=`
                   xC${m+1} = vec4(xTexelC${m}.zw, xTexelC${m+1}.zw);
                 `)));m<c&&(h+=`
             wTexel = getW(r, ${m}, d1, d2);
             dotProd += xC${m}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${m}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,m+1<c&&(h+=`
               wTexel = getW(r, ${m+1}, d1, d2);
               dotProd += xC${m+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${m+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}h+=`
     }
   `,h+=`
     }
   `,h+=`
     }
   `;let f="",p="";r&&(o?f=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:i?f=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:f=`vec4 activation(vec4 x) {
           ${r}
         }`,p="result = activation(result);");const g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${f}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${h}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${g}
         ${p}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EJe{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Yr(this.outputShape.length);const{dataFormat:r}=t,o=po(),i=r==="channelsLast",a=i?1:2,s=i?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let u="";for(let c=0;c<=1;c++)for(let d=0;d<=1;d++)u+=`
          blockIndex = rc.z + ${d};
          pos = rc.y + ${c};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${a}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${s}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${i}) {
                  innerDims = vec2(d1, ch);
                  result[${c*2+d}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${c*2+d}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${u}

        ${o.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xS(n,e){const t=n.length;return t>=3?e?[...n.slice(0,-3),n[t-3]*n[t-2],n[t-1]]:[...n.slice(0,-3),n[t-3],n[t-2]*n[t-1]]:!e&&t===1&&n[0]>1?[n[0],1]:null}function Cre({x:n,filter:e,convInfo:t,backend:r,bias:o=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:s=null}){const l=n.shape,u=r.texData.get(n.dataId),c=t.inChannels,d=l[0]*l[1]*l[2],h=t.outChannels,f=t.dataFormat==="channelsLast",p=!1,g=!1;let v;const m=[];if(i!=null){const w=xS(i.shape,f);w!=null&&(i=Le({inputs:{x:i},backend:r,attrs:{shape:w}}),m.push(i))}if(o!=null){const w=xS(o.shape,f);w!=null&&(o=Le({inputs:{x:o},backend:r,attrs:{shape:w}}),m.push(o))}if(!((d===1||h===1)&&c>gre)&&u.isPacked&&f&&u.texture!=null&&l[2]%2!==0&&an(u.shape.slice(-3),l.slice(-3))){const w=l[0]*l[1]*(l[2]+1),x={dataId:n.dataId,shape:[1,w,t.inChannels],dtype:n.dtype},S=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,O(bS(u.shape,x.shape),()=>`packed reshape ${u.shape} to ${x.shape} isn't free`);const C=Le({inputs:{x:e},backend:r,attrs:{shape:[1,t.inChannels,t.outChannels]}});m.push(C);const k=wS({a:x,b:C,backend:r,transposeA:p,transposeB:g,bias:o,activation:s,preluActivationWeights:i,leakyreluAlpha:a}),_=r.texData.get(k.dataId);O(_.isPacked,()=>"batchMatMul result is expected to be packed"),u.shape=S,_.shape=t.outShape,v=ni({inputs:{x:k},backend:r}),v.shape=t.outShape,m.push(k)}else{const w=t.outHeight*t.outWidth,x=Le({inputs:{x:n},backend:r,attrs:{shape:f?[t.batchSize,w,t.inChannels]:[t.batchSize,t.inChannels,w]}}),S=Le({inputs:{x:e},backend:r,attrs:{shape:[1,t.inChannels,t.outChannels]}}),C=wS({a:f?x:S,b:f?S:x,transposeA:!f,transposeB:g,backend:r,bias:o,activation:s,preluActivationWeights:i,leakyreluAlpha:a});v=Le({inputs:{x:C},backend:r,attrs:{shape:t.outShape}}),m.push(x),m.push(S),m.push(C)}for(const w of m)r.disposeIntermediateTensorInfo(w);return v}function kre({x:n,filter:e,convInfo:t,backend:r,bias:o=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:s=null}){const{filterWidth:l,filterHeight:u,inChannels:c,outWidth:d,outHeight:h,dataFormat:f}=t,p=f==="channelsLast",g=l*u*c,v=h*d,m=[t.batchSize,g,v],y=!0,b=!1,w=[];if(i!=null){const M=xS(i.shape,p);M!=null&&(i=Le({inputs:{x:i},backend:r,attrs:{shape:M}}),w.push(i))}if(o!=null){const M=xS(o.shape,p);M!=null&&(o=Le({inputs:{x:o},backend:r,attrs:{shape:M}}),w.push(o))}const x=Le({inputs:{x:e},backend:r,attrs:{shape:[1,g,ue(e.shape)/g]}});w.push(x);const S=new EJe(m,t),C=[n.shape,[t.padInfo.top,t.padInfo.left],[t.strideHeight,t.strideWidth],[t.dilationHeight,t.dilationWidth],[t.inChannels],[t.filterWidth*t.inChannels],[t.outWidth]],k=r.runWebGLProgram(S,[n],"float32",C),_=Le({inputs:{x:k},backend:r,attrs:{shape:m}});w.push(k),w.push(_);const I=o!=null,T=i!=null,A=s==="leakyrelu",D=s?my(s,!0):null,E=new pre(p?_.shape:x.shape,p?x.shape:_.shape,p?[t.batchSize,v,t.outChannels]:[t.batchSize,t.outChannels,v],y,b,I,D,T,A),$=p?[_,x]:[x,_];if(o&&$.push(o),T&&$.push(i),A){const M=r.makeTensorInfo([],"float32",rc(a,"float32"));$.push(M),w.push(M)}const P=r.runWebGLProgram(E,$,"float32"),N=Le({inputs:{x:P},backend:r,attrs:{shape:t.outShape}});w.push(P);for(const M of w)r.disposeIntermediateTensorInfo(M);return N}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Je(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,filter:i}=e,{strides:a,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r,d=Bl(l),h=Nr(o.shape,i.shape,a,u,s,c,!1,d);let f;if(h.filterHeight===1&&h.filterWidth===1&&h.dilationHeight===1&&h.dilationWidth===1&&h.strideHeight===1&&h.strideWidth===1&&(h.padInfo.type==="SAME"||h.padInfo.type==="VALID"))f=Cre({x:o,filter:i,convInfo:h,backend:t});else if(h.strideWidth<=2&&d==="channelsLast"&&re().getBool("WEBGL_EXP_CONV")){const g=new Sre(h),v=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];f=t.runWebGLProgram(g,[o,i],"float32",v)}else if(re().getBool("WEBGL_CONV_IM2COL"))f=kre({x:o,filter:i,convInfo:h,backend:t});else{const g=new xre(h);f=t.runWebGLProgram(g,[o,i],"float32")}const p=Le({inputs:{x:f},backend:t,attrs:{shape:h.outShape}});return t.disposeIntermediateTensorInfo(f),p}const PJe={kernelName:ZC,backendName:"webgl",kernelFunc:$Je};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MJe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,r=e.strideWidth,o=e.padInfo.top,i=e.padInfo.left,a=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${t} - ${o};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${a?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class LJe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,r=e.filterWidth,o=e.strideHeight,i=e.strideWidth,a=e.dataFormat==="channelsLast",s=t-1-e.padInfo.top,l=r-1-e.padInfo.left,u=a?1:2,c=a?2:3,d=a?3:1;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${d}];

        ivec2 dyCorner = ivec2(coords[${u}], coords[${c}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / ${o}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${a}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class NJe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,r=e.strideHeight,o=e.strideWidth,i=e.padInfo.front,a=e.padInfo.top,s=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${t} - ${i};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${a};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${o} - ${s};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class OJe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,r=e.filterHeight,o=e.filterWidth,i=e.strideDepth,a=e.strideHeight,s=e.strideWidth,l=t-1-e.padInfo.front,u=r-1-e.padInfo.top,c=o-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${u}, ${c});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${t}; wF++) {
          float dyF = float(dyFCorner + wF) / ${i}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${t} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${a}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${o}; wC++) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${o} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FJe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,dy:i}=e,{strides:a,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,d=Bl(l),h=Nr(o.shape,c,a,1,s,u,!1,d),f=new MJe(h);return t.runWebGLProgram(f,[o,i],"float32")}const BJe={kernelName:wM,backendName:"webgl",kernelFunc:FJe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zJe{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=Yr(this.outputShape.length);const t=e.filterHeight,r=e.filterWidth,o=t-1-e.padInfo.top,i=r-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${i});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            int wCPerm = ${r} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VJe(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,filter:i}=e,{inputShape:a,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r,d=Bl(u),h=Nr(a,i.shape,s,1,l,c,!1,d);if(re().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&d==="channelsLast"){const f=[[h.strideHeight,h.strideWidth]],p=new zJe(h);return t.runWebGLProgram(p,[o,i],"float32",f)}else{const f=new LJe(h);return t.runWebGLProgram(f,[o,i],"float32")}}const GJe={kernelName:JC,backendName:"webgl",kernelFunc:VJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WJe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,filter:i}=e,{strides:a,pad:s,dilations:l}=r,u=ic(o.shape,i.shape,a,l,s),c=new RJe(u);return t.runWebGLProgram(c,[o,i],"float32")}const HJe={kernelName:QC,backendName:"webgl",kernelFunc:WJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UJe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,dy:i}=e,{strides:a,pad:s,filterShape:l}=r,u=ic(o.shape,l,a,1,s),c=new NJe(u);return t.runWebGLProgram(c,[o,i],"float32")}const jJe={kernelName:xM,backendName:"webgl",kernelFunc:UJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KJe(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,filter:i}=e,{pad:a,strides:s,inputShape:l}=r,u=ic(l,i.shape,s,1,a),c=new OJe(u);return t.runWebGLProgram(c,[o,i],"float32")}const XJe={kernelName:SM,backendName:"webgl",kernelFunc:KJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qJe=pg+`
  return cos(x);
`,YJe=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${$h}
  return result;
`,ZJe=Kt({opSnippet:qJe,packedOpSnippet:YJe}),JJe={kernelName:f0,backendName:"webgl",kernelFunc:ZJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QJe=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,eQe=Kt({opSnippet:QJe}),tQe={kernelName:p0,backendName:"webgl",kernelFunc:eQe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nQe{constructor(e,t,r,o,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[a,s,l,u]=e,[c]=t,[d,h]=r;this.outputShape=[c,d,h,u];const f=o==="bilinear"?1:0,[p,g]=[`${s-1}.0`,`${l-1}.0`],[v,m,y]=d>1?[`${(s-1)/(d-1)}`,"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[b,w,x]=h>1?[`${(l-1)/(h-1)}`,"(x2-x1) * width_ratio",`x1*${g} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${g}`];this.userCode=`
      const float height_ratio = float(${v});
      const float width_ratio = float(${b});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${a}) {
          return;
        }

        float height_scale = ${m};
        float width_scale = ${w};

        float in_y = ${y};
        if( in_y < 0.0 || in_y > ${p} ) {
          setOutput(float(${i}));
          return;
        }
        float in_x = ${x};
        if( in_x < 0.0 || in_x > ${g} ) {
          setOutput(float(${i}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${f} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rQe=n=>{const{inputs:e,backend:t,attrs:r}=n,{image:o,boxes:i,boxInd:a}=e,{cropSize:s,method:l,extrapolationValue:u}=r,c=new nQe(o.shape,i.shape,s,l,u);return t.runWebGLProgram(c,[o,i,a],"float32")},oQe={kernelName:kM,backendName:"webgl",kernelFunc:rQe};var by;(function(n){n.Prod="*",n.Sum="+"})(by||(by={}));class R8{constructor(e,t,r,o){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,a=this.op===by.Prod?"1.0":"0.0",s=r?a:`getX(${E8(i,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let u="",c="";r?(u=o?`end != ${l-1}`:"end != 0",c=o?"end + 1":"end - 1"):(u=o?`end + pow2 < ${l}`:"end >= pow2",c=o?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${vn(i)} coords = getOutputCoords();
        int end = ${$8(i,"coords",this.op)};
        float val = ${s};
        int pow2 = int(pow(2.0, index));
        if (${u}) {
          int idx = ${c};
          ${$8(i,"coords",this.op)} = idx;
          val ${this.op}= getX(${E8(i,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function E8(n,e,t){if(n===1)return`${e}`;if(n===2)return`${e}.x, ${e}.y`;if(n===3)return`${e}.x, ${e}.y, ${e}.z`;if(n===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${t} for rank ${n} is not yet supported`)}function $8(n,e,t){if(n===1)return`${e}`;if(n===2)return`${e}.y`;if(n===3)return`${e}.z`;if(n===4)return`${e}.w`;throw new Error(`Cumulative ${t} for rank ${n} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _re(n,e,t,r,o,i){const a=e.shape.length,s=Fn([r],a);let l=e;s!=null&&(l=fo({inputs:{x:e},backend:t,attrs:{perm:s}}));const u=Kn(1,a)[0];if(u!==a-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${r}`);const c=l.shape[u];let d=ni({inputs:{x:l},backend:t});for(let h=0;h<=Math.ceil(Math.log2(c))-1;h++){const f=new R8(n,l.shape,!1,i),p=[[h]],g=d;d=t.runWebGLProgram(f,[d],d.dtype,p),t.disposeIntermediateTensorInfo(g)}if(o){const h=new R8(n,l.shape,o,i),f=d;d=t.runWebGLProgram(h,[d],d.dtype),t.disposeIntermediateTensorInfo(f)}if(s!=null){const h=ac(s),f=fo({inputs:{x:d},backend:t,attrs:{perm:h}});return t.disposeIntermediateTensorInfo(d),t.disposeIntermediateTensorInfo(l),f}return d}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iQe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,exclusive:a,reverse:s}=r;return _re(by.Prod,o,t,i,a,s)}const aQe={kernelName:CM,backendName:"webgl",kernelFunc:iQe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sQe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,exclusive:a,reverse:s}=r;return _re(by.Sum,o,t,i,a,s)}const lQe={kernelName:e2,backendName:"webgl",kernelFunc:sQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uQe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,weights:i}=e,{size:a,binaryOutput:s}=r;if(o.shape.length===1){const l=t.readSync(o.dataId),u=t.readSync(i.dataId),c=ire(l,u,i.dtype,i.shape,a);return t.makeTensorInfo([a],i.dtype,c)}else if(o.shape.length===2){const l=t.bufferSync(o),u=t.bufferSync(i),c=fqe(l,u,a,s);return t.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}const cQe={kernelName:_M,backendName:"webgl",kernelFunc:uQe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dQe{constructor(e,t,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${t};
      int offset_h = imod(h, ${t});
      int in_w = w / ${t};
      int offset_w = imod(w, ${t});
      int offset_d = (offset_h * ${t} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hQe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{blockSize:i,dataFormat:a}=r,s=o.shape[0],l=a==="NHWC"?o.shape[1]:o.shape[2],u=a==="NHWC"?o.shape[2]:o.shape[3],c=a==="NHWC"?o.shape[3]:o.shape[1],d=l*i,h=u*i,f=c/(i*i),p=a==="NHWC"?[s,d,h,f]:[s,f,d,h],g=new dQe(p,i,a);return t.runWebGLProgram(g,[o],o.dtype)}const fQe={kernelName:IM,backendName:"webgl",kernelFunc:hQe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ire{constructor(e,t=!1,r=null,o=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Yr(this.outputShape.length);const a=e.filterHeight,s=e.filterWidth,l=e.outChannels/e.inChannels;let u="",c="";r&&(o?u=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?u=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:u=`
          float activation(float x) {
            ${r}
          }
        `,c="result = activation(result);");const d=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${u}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${a}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${s}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${d}
        ${c}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tre{constructor(e,t=!1,r=null,o=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Yr(this.outputShape.length);const a=e.outChannels/e.inChannels,s=e.padInfo.left,l=e.strideWidth,u=e.dilationWidth,c=e.filterHeight,d=e.filterWidth,h=d;let f=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let m=0;m<d;m++)f+=`
          vec4 xTexelC${m*2};
          int xTexelC${m*2}Ready;
          vec4 xTexelC${m*2+1};
          int xTexelC${m*2+1}Ready;
          vec4 xC${m};`;f+=`
    for (int r = 0; r < ${c}; r++) {
      `;for(let m=0;m<d;m++)f+=`
          xTexelC${m*2} = vec4(0.0);
          xTexelC${m*2}Ready = 0;
          xTexelC${m*2+1} = vec4(0.0);
          xTexelC${m*2+1}Ready = 0;
          xC${m} = vec4(0.0);`;f+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let m=0;m<(h+1)/2;m++){const y=m*2;if(f+=`
          xC = xCCorner + ${y*u};
          `,l===1){if(y<d&&(s%2===1?(f+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }
              `,u===1&&y>0?f+=`
                xC${y} = vec4(xTexelC${y-2}.zw, xTexelC${y}.xy);
                `:f+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${y} = vec4(previous.zw, xTexelC${y}.xy);
                  } else {
                    xC${y} = vec4(0.0, 0.0, xTexelC${y}.xy);
                  }
                  `):f+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xC${y} = xTexelC${y};
                `,y+1<d)){const b=s%2===0?sM(u):u;u%2===0&&s%2===1||u%2!==0&&s%2!==1?(f+=`
                  xCOffset = xC + imod(pads[1], 2) + ${b};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                    xTexelC${y+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${y+1}.zw = vec2(0.0);
                    }
                    xTexelC${y+1}Ready = 1;
                  }
                  `,u>1?f+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${y+1} = vec4(previous.zw, xTexelC${y+1}.xy);
                    } else {
                     xC${y+1} = vec4(0.0, 0.0, xTexelC${y+1}.xy);
                    }
                    `:f+=`
                    xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.xy);
                    `):b===1?f+=`
                    xC${y+1} = xTexelC${y};
                    `:f+=`
                    xCOffset = xC + ${b};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                      xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${y+1}.zw = vec2(0.0);
                      }
                      xTexelC${y+1}Ready = 1;
                    }

                    xC${y+1} = xTexelC${y+1};
                    `}}else y<d&&(s%2===1?(f+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.0);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
              `,y+1<d&&(f+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${y+1} = vec4(xTexelC${y+1}.xy, final.xy);
                `)):(f+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(
                  xTexelC${y}.xy, xTexelC${y+1}.xy);
              `,y+1<d&&(f+=`
                  xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
                `)));y<d&&(f+=`
            wTexel = getW(r, ${y}, d1, q);
            dotProd += xC${y} * vec4(wTexel.xz, wTexel.xz);
          `,y+1<d&&(f+=`
              wTexel = getW(r, ${y+1}, d1, q);
              dotProd += xC${y+1} * vec4(wTexel.xz, wTexel.xz);
            `))}f+=`
    }
  `,f+=`
      }
    `;let p="",g="";r&&(o?p=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?p=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:p=`vec4 activation(vec4 x) {
          ${r}
        }`,g="result = activation(result);");const v=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${p}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${a};
        int q = d2 - d1 * ${a};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${f}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${v}
        ${g}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pQe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,filter:i}=e,{strides:a,pad:s,dilations:l,dimRoundingMode:u}=r;let c=l;c==null&&(c=[1,1]),O(Xr(a,c),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${c}'`);const d=Nr(o.shape,i.shape,a,c,s,u,!0);let h;re().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?h=new Tre(d):h=new Ire(d);const f=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return t.runWebGLProgram(h,[o,i],"float32",f)}const gQe={kernelName:t2,backendName:"webgl",kernelFunc:pQe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vQe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,r=e.strideWidth,o=e.padInfo.top,i=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${a} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${t} - ${o};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class mQe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,r=e.filterWidth,o=e.strideHeight,i=e.strideWidth,a=t-1-e.padInfo.top,s=r-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / ${o}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yQe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,dy:i}=e,{strides:a,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r,d=Nr(o.shape,c,a,s,l,u,!0),h=new vQe(d);return t.runWebGLProgram(h,[o,i],"float32")}const bQe={kernelName:TM,backendName:"webgl",kernelFunc:yQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wQe(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,filter:i}=e,{strides:a,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r,d=Nr(c,i.shape,a,s,l,u,!0),h=new mQe(d);return t.runWebGLProgram(h,[o,i],"float32")}const xQe={kernelName:AM,backendName:"webgl",kernelFunc:wQe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SQe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CQe(n){const{inputs:e,backend:t}=n,{x:r}=e,o=[...r.shape,...r.shape],i=ue(r.shape),a=Le({inputs:{x:r},backend:t,attrs:{shape:[i]}}),s=new SQe(i),l=t.runWebGLProgram(s,[a],a.dtype),u=Le({inputs:{x:l},backend:t,attrs:{shape:o}});return t.disposeIntermediateTensorInfo(a),t.disposeIntermediateTensorInfo(l),u}const kQe={kernelName:hZ,backendName:"webgl",kernelFunc:CQe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Qe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:r,padInfo:o,strideHeight:i,strideWidth:a,filterHeight:s,filterWidth:l,dilationHeight:u,dilationWidth:c}=e,{top:d,left:h}=o;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${a});
      const ivec2 pads = ivec2(${d}, ${h});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${s}; h++) {
          int hIn = hBeg + h * ${u};

          if (hIn >= 0 && hIn < ${t}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${c};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IQe(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,filter:i}=e,{strides:a,pad:s,dilations:l}=r,u=J0(o.shape,i.shape,a,s,"NHWC",l);let c;const d=new _Qe(u);c=t.runWebGLProgram(d,[o,i],"float32");const h=Le({inputs:{x:c},backend:t,attrs:{shape:u.outShape}});return t.disposeIntermediateTensorInfo(c),h}const TQe={kernelName:n2,backendName:"webgl",kernelFunc:IQe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AQe(n){const{inputs:e,backend:t,attrs:r}=n,{equation:o}=r,i=e,{allDims:a,summedDims:s,idDims:l}=oN(o,i.length);aN(a.length,l,i);const{path:u,steps:c}=sN(s,l),d=c.length;let h=null,f=a.length;const p=[];for(let g=0;g<d;++g){for(const v of c[g]){const{permutationIndices:m,expandDims:y}=iN(f,l[v]);let b;lN(m)?b=i[v]:(b=fo({inputs:{x:i[v]},backend:t,attrs:{perm:m}}),p.push(b));const w=b.shape.slice();for(let x=0;x<y.length;++x)w.splice(y[x],0,1);an(b.shape,w)||(b=Le({inputs:{x:b},backend:t,attrs:{shape:w}}),p.push(b)),h===null?h=b:(h=ZN({inputs:{a:b,b:h},backend:t}),p.push(h))}g<d-1&&(u[g]>=0&&(h=gk({inputs:{x:h},backend:t,attrs:{axis:u[g]-(a.length-f),keepDims:!1}}),p.push(h)),f--)}for(const g of p)g!==h&&t.disposeIntermediateTensorInfo(g);return h}const DQe={kernelName:DM,backendName:"webgl",kernelFunc:AQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RQe="return (x >= 0.0) ? x : (exp(x) - 1.0);",EQe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,$Qe=Kt({opSnippet:RQe,packedOpSnippet:EQe}),PQe={kernelName:v0,backendName:"webgl",kernelFunc:$Qe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MQe="return (b >= 0.0) ? a : a * (b + 1.0);",LQe=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,NQe=n=>{const{inputs:e,backend:t}=n,{dy:r,y:o}=e,i=re().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new fg(LQe,r.shape,o.shape):new lh(MQe,r.shape,o.shape);return t.runWebGLProgram(i,[r,o],r.dtype)},OQe={kernelName:RM,backendName:"webgl",kernelFunc:NQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FQe=`
  return vec4(equal(a, b));
`,BQe="return float(a == b);",zQe=Fr({opSnippet:BQe,packedOpSnippet:FQe,dtype:"bool",cpuKernelImpl:yqe}),VQe={kernelName:r2,backendName:"webgl",kernelFunc:zQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GQe=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${ZL};
  float a1 = ${JL};
  float a2 = ${QL};
  float a3 = ${eN};
  float a4 = ${tN};
  float a5 = ${nN};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,WQe=Kt({opSnippet:GQe}),HQe={kernelName:m0,backendName:"webgl",kernelFunc:WQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UQe=pg+`
  return exp(x);
`,jQe=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Are=Kt({opSnippet:UQe,packedOpSnippet:jQe,cpuKernelImpl:bqe,dtype:"float32"}),KQe={kernelName:y0,backendName:"webgl",kernelFunc:Are};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ER(n){const{inputs:e,attrs:t,backend:r}=n,{dim:o}=t,{input:i}=e,a=i.shape.length,s=i.shape.slice();let l=o;return o<0&&(O(-(a+1)<=o,()=>`Axis must be in the interval [${-(a+1)}, ${a}]`),l=a+o+1),s.splice(l,0,1),Le({inputs:{x:i},backend:r,attrs:{shape:s}})}const XQe={kernelName:o2,backendName:"webgl",kernelFunc:ER};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P8="return exp(x) - 1.0;",qQe=Kt({opSnippet:P8,packedOpSnippet:P8,cpuKernelImpl:wqe}),YQe={kernelName:b0,backendName:"webgl",kernelFunc:qQe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class M8{constructor(e,t,r){this.variableNames=["real","imag"];const o=t[1];this.outputShape=t;const i=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,a=r?`${o}.0`:"1.0";let s;if(e==="real")s="return real * expR - imag * expI;";else if(e==="imag")s="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${i};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${s}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${o});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${o}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${a};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dre(n,e,t){const r=t.texData.get(n.dataId),o=ue(n.shape),i=n.shape[n.shape.length-1],a=o/i,s=Le({inputs:{x:n},backend:t,attrs:{shape:[a,i]}}),l=s.shape,u=new M8("real",l,e),c=new M8("imag",l,e),d=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],h=t.runWebGLProgram(u,d,"float32"),f=t.runWebGLProgram(c,d,"float32"),p=hc({inputs:{real:h,imag:f},backend:t});t.disposeIntermediateTensorInfo(h),t.disposeIntermediateTensorInfo(f);const g=Le({inputs:{x:p},backend:t,attrs:{shape:n.shape}});return t.disposeIntermediateTensorInfo(s),t.disposeIntermediateTensorInfo(p),g}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZQe(n){const{inputs:e,backend:t}=n,{input:r}=e;return Dre(r,!1,t)}const JQe={kernelName:EM,backendName:"webgl",kernelFunc:ZQe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QQe{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yb(n){const{backend:e,attrs:t}=n,{shape:r,value:o}=t;let{dtype:i}=t;if(i=i||Zp(o),i==="string"){const a=Wn(i,ue(r));return a.fill(o),e.makeTensorInfo(r,i,a)}else{const a=new QQe(r,o),s=[[o]];return e.runWebGLProgram(a,[],i,s)}}const eet={kernelName:$M,backendName:"webgl",kernelFunc:yb};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tet{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${t} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${t}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const net={kernelName:PM,backendName:"webgl",kernelFunc:({inputs:n,backend:e})=>{const{image:t}=n,r=e,o=new tet(t.shape);return r.runWebGLProgram(o,[t],t.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L8="return floor(x);",ret=Kt({opSnippet:L8,packedOpSnippet:L8,cpuKernelImpl:xqe}),oet={kernelName:w0,backendName:"webgl",kernelFunc:ret};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iet=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,aet=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,set=Fr({opSnippet:iet,packedOpSnippet:aet,dtype:"int32"}),uet={kernelName:x0,backendName:"webgl",kernelFunc:set};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cet{constructor(e){this.variableNames=["A"];const t=po(),[r,o]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${o}.0, ${r}.0);

        vec4 values = ${t.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class det{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=po(),[r,o]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${o}.0, ${r}.0);
            vec4 values = ${t.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${t.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const het={kernelName:QD,backendName:"webgl",kernelFunc:fet};let lf,TT=re().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function fet(n){const{inputs:e,backend:t,attrs:r}=n;let{pixels:o}=e;const{numChannels:i}=r,a=typeof HTMLVideoElement<"u"&&o instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,[l,u]=a?[o.videoWidth,o.videoHeight]:[o.width,o.height],c=[u,l],d=[u,l,i];if(s||a){const g=re().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(lf==null||g!==TT)&&(TT=g,lf=document.createElement("canvas").getContext("2d",{willReadFrequently:TT})),lf.canvas.width=l,lf.canvas.height=u,lf.drawImage(o,0,0,l,u),o=lf.canvas}const h=t.makeTensorInfo(c,"int32");t.texData.get(h.dataId).usage=yi.PIXELS,t.gpgpu.uploadPixelDataToTexture(t.getTexture(h.dataId),o);const f=re().getBool("WEBGL_PACK")?new det(d):new cet(d),p=t.runWebGLProgram(f,[h],"int32");return t.disposeData(h.dataId),p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pet(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,filter:i,bias:a,preluActivationWeights:s}=e,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:h,activation:f,leakyreluAlpha:p}=r,g=Bl(c),v=Nr(o.shape,i.shape,l,d,u,h,!1,g);let m;const y=[],b=a!=null,w=s!=null,x=f==="leakyrelu",S=()=>{const k=[o,i],_=(I,T)=>{if(T==="NCHW"&&I.shape.length===1&&I.shape[0]!==1){const A=Le({inputs:{x:I},backend:t,attrs:{shape:[I.shape[0],1,1]}});return y.push(A),A}return I};if(b&&k.push(_(a,c)),w&&k.push(_(s,c)),x){const I=t.makeTensorInfo([],"float32",rc(p,"float32"));k.push(I),y.push(I)}return k};if(v.filterHeight===1&&v.filterWidth===1&&v.dilationHeight===1&&v.dilationWidth===1&&v.strideHeight===1&&v.strideWidth===1&&(v.padInfo.type==="SAME"||v.padInfo.type==="VALID"))m=Cre({x:o,filter:i,convInfo:v,backend:t,bias:a,activation:f,preluActivationWeights:s,leakyreluAlpha:p});else if(v.strideWidth<=2&&g==="channelsLast"&&re().getBool("WEBGL_EXP_CONV")){const k=f?my(f,!0):null,_=new Sre(v,b,k,w,x),I=[[v.padInfo.top,v.padInfo.left],[v.strideHeight,v.strideWidth],[v.dilationHeight,v.dilationWidth],[v.inHeight,v.inWidth]],T=S();m=t.runWebGLProgram(_,T,"float32",I)}else if(re().getBool("WEBGL_CONV_IM2COL"))m=kre({x:o,filter:i,convInfo:v,backend:t,bias:a,activation:f,preluActivationWeights:s,leakyreluAlpha:p});else{const k=f?my(f,!1):null,_=new xre(v,b,k,w,x),I=S();m=t.runWebGLProgram(_,I,"float32")}const C=Le({inputs:{x:m},backend:t,attrs:{shape:v.outShape}});return y.push(m),y.forEach(k=>t.disposeIntermediateTensorInfo(k)),C}const get={kernelName:Kx,backendName:"webgl",kernelFunc:pet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vet(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,filter:i,bias:a,preluActivationWeights:s}=e,{strides:l,pad:u,dilations:c,dimRoundingMode:d,activation:h,leakyreluAlpha:f}=r,p=[];let g=c;g==null&&(g=[1,1]),O(Xr(l,g),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${g}'`);const v=Nr(o.shape,i.shape,l,g,u,d,!0),m=re().getBool("WEBGL_PACK_DEPTHWISECONV")&&v.strideWidth<=2&&v.outChannels/v.inChannels===1,y=h?my(h,m):null,b=[o,i],w=a!=null,x=s!=null,S=h==="leakyrelu";if(w&&b.push(a),x&&b.push(s),S){const I=t.makeTensorInfo([],"float32",rc(f,"float32"));b.push(I),p.push(I)}let C;m?C=new Tre(v,w,y,x,S):C=new Ire(v,w,y,x,S);const k=[[v.padInfo.top,v.padInfo.left],[v.strideHeight,v.strideWidth],[v.dilationHeight,v.dilationWidth],[v.inHeight,v.inWidth]],_=t.runWebGLProgram(C,b,"float32",k);return p.forEach(I=>t.disposeIntermediateTensorInfo(I)),_}const met={kernelName:EZ,backendName:"webgl",kernelFunc:vet};class yet{constructor(e,t,r,o){this.sliceDim=e,this.strides=t,this.paramsShape=o,this.variableNames=["x","indices"],this.outputShape=r;const i=vn(r.length);let a=`
    int index;`;for(let s=0;s<this.sliceDim;s++)a+=`
          index = round(getIndices(coords[0], ${s}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[s]};
          flattenIndex += index * ${this.strides[s]};`;this.userCode=`
         void main() {
          ${i} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${a}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bet(n){const{inputs:e,backend:t}=n,{params:r,indices:o}=e,i=o.shape,a=i[i.length-1],s=ue(r.shape),[l,u,c,d]=zL(r,o),h=Le({inputs:{x:o},backend:t,attrs:{shape:[u,a]}}),f=Le({inputs:{x:r},backend:t,attrs:{shape:[ue(r.shape)/c,c]}});if(t.shouldExecuteOnCPU([r,o])||r.dtype==="string"){const m=t.readSync(o.dataId),y=t.bufferSync(r),b=Sqe(m,y,r.dtype,u,a,c,d,r.shape,s);return t.makeTensorInfo(l,r.dtype,b.values)}const p=new yet(a,d,[u,c],r.shape),g=t.runWebGLProgram(p,[f,h],f.dtype),v=Le({inputs:{x:g},backend:t,attrs:{shape:l}});return t.disposeIntermediateTensorInfo(h),t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(g),v}const wet={kernelName:fZ,backendName:"webgl",kernelFunc:bet};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xet{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const r=vn(this.rank),o=Cet(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${o}));
      }
    `}}function Cet(n,e){const t=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let o=0;o<n.length;o++)o===2?r.push("index"):r.push(`${t[o]}`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rre(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,indices:i}=e,{axis:a,batchDims:s}=r,l=Mt(a,o.shape)[0];if(re().get("DEBUG")){const y=t.readSync(i.dataId),b=o.shape[l];for(let w=0;w<y.length;++w){const x=y[w];O(x<=b-1&&x>=0,()=>`GatherV2: the index value ${x} is not in [0, ${b-1}]`)}}const u=cN(o,i,l,s),c=ue(i.shape),d=[],h=Le({inputs:{x:o},backend:t,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),f=Le({inputs:{x:i},backend:t,attrs:{shape:[u.batchSize,c/u.batchSize]}});d.push(h),d.push(f);const p=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(t.shouldExecuteOnCPU([o,i])||o.dtype==="string"){const y=t.bufferSync(f),b=t.bufferSync(h),w=Cqe(b,y,p);return d.forEach(x=>t.disposeIntermediateTensorInfo(x)),t.makeTensorInfo(u.outputShape,w.dtype,w.values)}const g=new xet(h.shape,p),v=t.runWebGLProgram(g,[h,f],h.dtype);d.push(v);const m=Le({inputs:{x:v},backend:t,attrs:{shape:u.outputShape}});return d.forEach(y=>t.disposeIntermediateTensorInfo(y)),m}const ket={kernelName:a2,backendName:"webgl",kernelFunc:Rre};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _et="return float(a > b);",Iet=`
  return vec4(greaterThan(a, b));
`,Tet=Fr({opSnippet:_et,packedOpSnippet:Iet,cpuKernelImpl:kqe,dtype:"bool"}),Aet={kernelName:s2,backendName:"webgl",kernelFunc:Tet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Det="return float(a >= b);",Ret=`
  return vec4(greaterThanEqual(a, b));
`,Eet=Fr({opSnippet:Det,packedOpSnippet:Ret,dtype:"bool",cpuKernelImpl:_qe}),$et={kernelName:S0,backendName:"webgl",kernelFunc:Eet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pet(n){const{inputs:e,backend:t}=n,{input:r}=e;return Dre(r,!0,t)}const Met={kernelName:MM,backendName:"webgl",kernelFunc:Pet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Let="return float(!isnan(x) && !isinf(x));",Net=Kt({opSnippet:Let,dtype:"bool"}),Oet={kernelName:k0,backendName:"webgl",kernelFunc:Net};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fet="return float(isinf(x));",Bet=Kt({opSnippet:Fet,dtype:"bool"}),zet={kernelName:_0,backendName:"webgl",kernelFunc:Bet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vet="return float(isnan(x));",Get=Kt({opSnippet:Vet,dtype:"bool"}),Wet={kernelName:I0,backendName:"webgl",kernelFunc:Get};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Het="return float(a < b);",Uet=`
  return vec4(lessThan(a, b));
`,jet=Fr({opSnippet:Het,packedOpSnippet:Uet,cpuKernelImpl:Iqe,dtype:"bool"}),Ket={kernelName:u2,backendName:"webgl",kernelFunc:jet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xet="return float(a <= b);",qet=`
  return vec4(lessThanEqual(a, b));
`,Yet=Fr({opSnippet:Xet,packedOpSnippet:qet,cpuKernelImpl:Tqe,dtype:"bool"}),Zet={kernelName:c2,backendName:"webgl",kernelFunc:Yet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jet(n){const{backend:e,attrs:t}=n,{start:r,stop:o,num:i}=t,a=Aqe(r,o,i);return e.makeTensorInfo([a.length],"float32",a)}const Qet={kernelName:pZ,backendName:"webgl",kernelFunc:Jet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ett=pg+`
  return x < 0.0 ? 0./0. : log(x);
`,ttt=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,ntt=Kt({opSnippet:ett,packedOpSnippet:ttt,cpuKernelImpl:Dqe}),rtt={kernelName:T0,backendName:"webgl",kernelFunc:ntt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ott=pg+`
  return log(1.0 + x);
`,itt=Kt({opSnippet:ott}),att={kernelName:A0,backendName:"webgl",kernelFunc:itt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const stt="return float(a >= 1.0 && b >= 1.0);",ltt=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,utt=Fr({opSnippet:stt,packedOpSnippet:ltt,dtype:"bool"}),ctt={kernelName:d2,backendName:"webgl",kernelFunc:utt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dtt="return float(!(x >= 1.0));",htt=Kt({opSnippet:dtt}),ftt={kernelName:h2,backendName:"webgl",kernelFunc:htt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ptt="return float(a >= 1.0 || b >= 1.0);",gtt=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,vtt=Fr({opSnippet:ptt,packedOpSnippet:gtt,dtype:"bool"}),mtt={kernelName:f2,backendName:"webgl",kernelFunc:vtt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ytt{constructor(e,t,r,o,i){this.variableNames=["x"],this.outputShape=[];const a=t,s=e[3]-1;this.outputShape=e;let l;const u=`float(${r}) + float(${o}) * sum`;i===.5?l=`inversesqrt(${u})`:i===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${a}; j <= ${a}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${s}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class btt{constructor(e,t,r,o,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const a=t,s=e[3]-1;this.outputShape=e;let l;const u=`float(${r}) + float(${o}) * sum`;i===.5?l=`inversesqrt(${u})`:i===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${a};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${a}; j <= ${a}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${s}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wtt=n=>{const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{depthRadius:i,bias:a,alpha:s,beta:l}=r,u=re().getBool("WEBGL_PACK_NORMALIZATION")?new btt(o.shape,i,a,s,l):new ytt(o.shape,i,a,s,l);return t.runWebGLProgram(u,[o],o.dtype)},xtt={kernelName:p2,backendName:"webgl",kernelFunc:wtt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Stt{constructor(e,t,r,o,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=r,this.alpha=o,this.beta=i,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${t})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${t} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${o}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${o})
                * float(${i})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${i});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ctt=n=>{const{inputs:e,backend:t,attrs:r}=n,{x:o,y:i,dy:a}=e,{depthRadius:s,bias:l,alpha:u,beta:c}=r,d=new Stt(o.shape,s,l,u,c);return t.runWebGLProgram(d,[o,i,a],o.dtype)},ktt={kernelName:NM,backendName:"webgl",kernelFunc:Ctt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _tt(n,e,t,r){const o=ue(e),a=ue(n.shape)/o,s=Le({inputs:{x:n},attrs:{shape:[a,o]},backend:r}),l=Ph(s,n.dtype,"max",r),u=Le({inputs:{x:l},attrs:{shape:t},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(l),u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ere(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{reductionIndices:i,keepDims:a}=r,s=o.shape.length,l=Mt(i,o.shape);let u=l;const c=Fn(u,s),d=c!=null,h=t.shouldExecuteOnCPU([o]);let f=o;if(d){if(h){const b=t.texData.get(f.dataId).values,w=new Array(s);for(let C=0;C<w.length;C++)w[C]=o.shape[c[C]];const x=qN(b,o.shape,o.dtype,c,w);f=t.makeTensorInfo(w,o.dtype);const S=t.texData.get(f.dataId);S.values=x}else f=pk(o,c,t);u=Kn(u.length,s)}Or("max",u,s);const[p,g]=_r(f.shape,u);let v=p;a&&(v=tr(p,l));let m;if(h){const b=t.texData.get(f.dataId).values,w=Rqe(b,ue(g),v,o.dtype);m=t.makeTensorInfo(v,o.dtype);const x=t.texData.get(m.dataId);x.values=w}else m=_tt(f,g,v,t);return d&&t.disposeIntermediateTensorInfo(f),m}const Itt={kernelName:g2,backendName:"webgl",kernelFunc:Ere};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ttt=YN+`
  return max(a, b);
`,Att=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+$h+`
  return result;
`,Dtt=Fr({opSnippet:Ttt,packedOpSnippet:Att,cpuKernelImpl:Eqe}),Rtt={kernelName:D0,backendName:"webgl",kernelFunc:Dtt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ett(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e;gb(o,"maxPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=r,u=1;O(Xr(a,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const c=ha(o.shape,i,a,u,s,l);if(c.filterWidth===1&&c.filterHeight===1&&an(c.inShape,c.outShape))return ni({inputs:{x:o},backend:t});const d=new yy(c,"max",!1);return t.runWebGLProgram(d,[o],o.dtype)}const $tt={kernelName:v2,backendName:"webgl",kernelFunc:Ett};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ptt(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{filterSize:i,strides:a,pad:s,dataFormat:l,dimRoundingMode:u}=r,c=[1,1,1],d=Fl(o.shape,i,a,c,s,u,l),h=new JN(d,"max",!1);return t.runWebGLProgram(h,[o],o.dtype)}const Mtt={kernelName:m2,backendName:"webgl",kernelFunc:Ptt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ltt{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,r=e.strideWidth,o=e.dilationHeight,i=e.effectiveFilterHeight,a=e.effectiveFilterWidth,s=i-1-e.padInfo.top,l=a-1-e.padInfo.left,u=i*a-1;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${i};
          wR += ${o}) {
          float dyR = float(dyRCorner + wR) / ${t}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${a}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${u} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${a} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class Ntt{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,r=e.strideHeight,o=e.strideWidth,i=e.dilationDepth,a=e.dilationHeight,s=e.dilationWidth,l=e.effectiveFilterDepth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,d=l-1-e.padInfo.front,h=u-1-e.padInfo.top,f=c-1-e.padInfo.left,p=l*u*c-1;this.userCode=`
      const ivec3 pads = ivec3(${d}, ${h}, ${f});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${i}) {
          float dyD = float(dyDCorner + wD) / ${t}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${u};
              wR += ${a}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${c};
                wC += ${s}) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${p} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${u} * ${c} +
                  wR * ${c} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ott(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,input:i}=e,a=i,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,d=[1,1,1],h=Fl(a.shape,s,l,d,u,c),f=new JN(h,"max",!0),p=t.runWebGLProgram(f,[a],a.dtype),g=new Ntt(h),v=t.runWebGLProgram(g,[o,p],a.dtype);return t.disposeIntermediateTensorInfo(p),v}const Ftt={kernelName:FM,backendName:"webgl",kernelFunc:Ott};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Btt(n){const{inputs:e,backend:t,attrs:r}=n,{dy:o,input:i,output:a}=e,s=i;gb([i,a],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,h=ha(s.shape,l,u,1,c,d),f=!0,p=new yy(h,"max",f),g=t.runWebGLProgram(p,[s],s.dtype),v=new Ltt(h),m=t.runWebGLProgram(v,[o,g],s.dtype);return t.disposeIntermediateTensorInfo(g),m}const ztt={kernelName:OM,backendName:"webgl",kernelFunc:Btt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vtt(n,e,t,r){let o=new yy(t,"max",!1);const i=r.runWebGLProgram(o,[n],"float32");o=new yy(t,"max",!0,!0,e);const a=r.runWebGLProgram(o,[n],"float32");return[i,a]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gtt={kernelName:gZ,backendName:"webgl",kernelFunc:({inputs:n,attrs:e,backend:t})=>{const{x:r}=n,{filterSize:o,strides:i,pad:a,includeBatchInIndex:s}=e,l=t;O(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const u=[1,1];O(Xr(i,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const c=ha(r.shape,o,i,u,a),[d,h]=Vtt(r,s,c,l);return[d,h]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wtt(n,e,t,r){const o=ue(e),a=ue(n.shape)/o,s=Le({inputs:{x:n},attrs:{shape:[a,o]},backend:r}),l=Ph(s,"float32","mean",r),u=Le({inputs:{x:l},attrs:{shape:t},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(l),u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Htt={kernelName:y2,backendName:"webgl",kernelFunc:({inputs:n,attrs:e,backend:t})=>{const{x:r}=n,{keepDims:o,axis:i}=e,a=t,s=r.shape.length,l=Mt(i,r.shape);let u=l;const c=Fn(u,s),d=c!=null,h=a.shouldExecuteOnCPU([r]),f=[];let p=r;if(d){if(h){const w=a.texData.get(p.dataId).values,x=new Array(s);for(let k=0;k<x.length;k++)x[k]=r.shape[c[k]];const S=qN(w,r.shape,r.dtype,c,x);p=a.makeTensorInfo(x,r.dtype);const C=a.texData.get(p.dataId);C.values=S}else p=pk(r,c,a);f.push(p),u=Kn(u.length,s)}Or("sum",u,s);const[g,v]=_r(p.shape,u);let m=g;o&&(m=tr(g,l));const y=Wtt(p,v,m,a);for(const b of f)a.disposeIntermediateTensorInfo(b);return y}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Utt(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,keepDims:a}=r,s=o.shape.length,l=Mt(i,o.shape);let u=l;const c=Fn(u,s);let d=o;c!=null&&(d=fo({inputs:{x:o},backend:t,attrs:{perm:c}}),u=Kn(u.length,o.shape.length)),Or("min",u,s);const[h,f]=_r(d.shape,u),p=ue(f),g=Le({inputs:{x:d},backend:t,attrs:{shape:[-1,p]}}),v=Ph(g,g.dtype,"min",t);let m;if(a){const y=tr(h,l);m=Le({inputs:{x:v},backend:t,attrs:{shape:y}})}else m=Le({inputs:{x:v},backend:t,attrs:{shape:h}});return t.disposeIntermediateTensorInfo(g),t.disposeIntermediateTensorInfo(v),c!=null&&t.disposeIntermediateTensorInfo(d),m}const jtt={kernelName:b2,backendName:"webgl",kernelFunc:Utt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ktt=YN+`
  return min(a, b);
`,Xtt=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+$h+`
  return result;
`,qtt=Fr({opSnippet:Ktt,packedOpSnippet:Xtt,cpuKernelImpl:$qe}),Ytt={kernelName:R0,backendName:"webgl",kernelFunc:qtt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ztt{constructor(e,t,r){this.variableNames=["x"],this.outputShape=t.map((c,d)=>c[0]+e[d]+c[1]);const o=e.length,i=vn(o),a=t.map(c=>c[0]).join(","),s=t.map((c,d)=>c[0]+e[d]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,o),u=r==="reflect"?0:1;if(o===1){this.userCode=`
        int start = ${a};
        int end = ${s};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${u};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${u};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${a});
      ${i} end = ${i}(${s});

      void main() {
        ${i} outC = getOutputCoords();
        for (int i = 0; i < ${o}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${u};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${u};
          }
        }
        ${i} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Jtt{constructor(e,t,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((p,g)=>p[0]+e[g]+p[1]);const o=e.length,i=vn(o),a=t.map(p=>p[0]).join(","),s=t.map((p,g)=>p[0]+e[g]).join(","),l=oo("rc",o),u=oo("source",o),c=`${l[o-1]} < ${this.outputShape[o-1]}`,d=o===1?"source":`vec2(${u.slice(-2).join()})`,h=r==="reflect"?0:1;let f="";if(o===1){const p=`
        ${i} source = rc;
        if (source < start) {
          source = start * 2 - source - ${h};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${h};
        }
        source -= start;
      `;f=`
        ${i} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${d});
        ${l[o-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${d});
        }
      `}else{const p=`
        ${i} source = rc;
        ${i} lt = ${i}(lessThan(source, start));
        ${i} gte = ${i}(greaterThanEqual(source, end));
        ${i} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${h}) +
                gte * ((end - 1) * 2 - source + ${h});
        source -= start;
      `;f=`
        ${i} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${d});
        ${l[o-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${d});
        }
        rc = outputLoc;
        ${l[o-2]} += 1;
        if(${l[o-2]} < ${this.outputShape[o-2]}) {
          ${p}
          result[2] = getChannel(getX(${u.join()}), ${d});
          ${l[o-1]} += 1;
          if(${c}) {
            ${p}
            result[3] = getChannel(getX(${u.join()}), ${d});
          }
        }
      `}this.userCode=`
      const ${i} start = ${i}(${a});
      const ${i} end = ${i}(${s});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${f}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qtt=({inputs:n,backend:e,attrs:t})=>{const{x:r}=n,{paddings:o,mode:i}=t,a=re().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Jtt(r.shape,o,i):new Ztt(r.shape,o,i);return e.runWebGLProgram(a,[r],r.dtype)},ent={kernelName:w2,backendName:"webgl",kernelFunc:Qtt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tnt=`if (b == 0.0) return NAN;
  return mod(a, b);`,nnt=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+$h+`
  return result;
`,rnt=Fr({opSnippet:tnt,packedOpSnippet:nnt}),ont={kernelName:E0,backendName:"webgl",kernelFunc:rnt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class int{constructor(e,t,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${t-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${t-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ant=`
if (a == b) {
  return 1.0;
};
return a / b;`,snt=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,$re=Fr({opSnippet:ant,packedOpSnippet:snt,checkOutOfBounds:!0}),lnt={kernelName:g0,backendName:"webgl",kernelFunc:$re};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N8="return a - b;",Pre=Fr({opSnippet:N8,packedOpSnippet:N8,supportsComplex:!0,cpuKernelImpl:Qqe}),unt={kernelName:K0,backendName:"webgl",kernelFunc:Pre};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mre(n){const{inputs:e,backend:t,attrs:r}=n,{logits:o}=e,{dim:i}=r,a=Mt([i],o.shape),s=Ere({inputs:{x:o},backend:t,attrs:{reductionIndices:a,keepDims:!1}}),l=tr(s.shape,a),u=Le({inputs:{x:s},backend:t,attrs:{shape:l}}),c=Pre({inputs:{a:o,b:u},backend:t}),d=Are({inputs:{x:c},backend:t}),h=gk({inputs:{x:d},backend:t,attrs:{axis:a,keepDims:!1}}),f=Le({inputs:{x:h},backend:t,attrs:{shape:l}}),p=$re({inputs:{a:d,b:f},backend:t});return t.disposeIntermediateTensorInfo(s),t.disposeIntermediateTensorInfo(u),t.disposeIntermediateTensorInfo(c),t.disposeIntermediateTensorInfo(d),t.disposeIntermediateTensorInfo(h),t.disposeIntermediateTensorInfo(f),p}const cnt={kernelName:F2,backendName:"webgl",kernelFunc:Mre};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dnt(n){const{inputs:e,backend:t,attrs:r}=n,{logits:o}=e,{numSamples:i,seed:a,normalized:s}=r,l=s?o:Mre({inputs:{logits:o},backend:t,attrs:{dim:o.shape.length-1}}),u=l.shape[0],c=l.shape[1],d=new int(u,c,i),h=[[a]],f=t.runWebGLProgram(d,[l],"int32",h);return s||t.disposeIntermediateTensorInfo(l),f}const hnt={kernelName:vZ,backendName:"webgl",kernelFunc:dnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fnt=pa+`
  return -x;
`,pnt=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function gnt(n){const{inputs:e,backend:t}=n,{x:r}=e;if(t.shouldExecuteOnCPU([r])){const i=t.texData.get(r.dataId),[a,s]=Mqe(i.values,r.shape,r.dtype);return t.makeTensorInfo(s,r.dtype,a)}let o;return re().getBool("WEBGL_PACK_UNARY_OPERATIONS")?o=new Cu(r.shape,pnt):o=new Cs(r.shape,fnt),t.runWebGLProgram(o,[r],r.dtype)}const vnt={kernelName:x2,backendName:"webgl",kernelFunc:gnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mnt=ML;function ynt(n){pi("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:t,attrs:r}=n,{boxes:o,scores:i}=e,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l}=r,u=t.readSync(o.dataId),c=t.readSync(i.dataId),{selectedIndices:d}=mnt(u,c,a,s,l);return t.makeTensorInfo([d.length],"int32",new Int32Array(d))}const bnt={kernelName:BM,backendName:"webgl",kernelFunc:ynt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wnt=LL;function xnt(n){pi("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:t,attrs:r}=n,{boxes:o,scores:i}=e,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r,c=t.readSync(o.dataId),d=t.readSync(i.dataId),{selectedIndices:h,validOutputs:f}=wnt(c,d,a,s,l,u);return[t.makeTensorInfo([h.length],"int32",new Int32Array(h)),t.makeTensorInfo([],"int32",new Int32Array([f]))]}const Snt={kernelName:zM,backendName:"webgl",kernelFunc:xnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cnt=NL;function knt(n){pi("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:t,attrs:r}=n,{boxes:o,scores:i}=e,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r,c=t.readSync(o.dataId),d=t.readSync(i.dataId),h=a,f=s,p=l,g=u,{selectedIndices:v,selectedScores:m}=Cnt(c,d,h,f,p,g);return[t.makeTensorInfo([v.length],"int32",new Int32Array(v)),t.makeTensorInfo([m.length],"float32",new Float32Array(m))]}const _nt={kernelName:VM,backendName:"webgl",kernelFunc:knt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Int{constructor(e,t,r,o){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${o}), float(${r}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tnt=n=>{const{inputs:e,backend:t,attrs:r}=n,{indices:o}=e,{dtype:i,depth:a,onValue:s,offValue:l}=r,u=ue(o.shape),c=new Int(u,a,s,l),d=Le({inputs:{x:o},backend:t,attrs:{shape:[u]}}),h=t.runWebGLProgram(c,[d],i);t.disposeIntermediateTensorInfo(d);const f=[...o.shape,a],p=Le({inputs:{x:h},backend:t,attrs:{shape:f}});return t.disposeIntermediateTensorInfo(h),p},Ant={kernelName:k2,backendName:"webgl",kernelFunc:Tnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SS(n){const{inputs:e,backend:t}=n,{x:r}=e;if(r.dtype==="complex64"){const o=mb({inputs:{input:r},backend:t}),i=SS({inputs:{x:o},backend:t}),a=vk({inputs:{input:r},backend:t}),s=SS({inputs:{x:a},backend:t}),l=hc({inputs:{real:i,imag:s},backend:t});return t.disposeIntermediateTensorInfo(o),t.disposeIntermediateTensorInfo(i),t.disposeIntermediateTensorInfo(a),t.disposeIntermediateTensorInfo(s),l}else return yb({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:t})}const Dnt={kernelName:V2,backendName:"webgl",kernelFunc:SS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lre(n){const{inputs:e,backend:t}=n,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const o=mb({inputs:{input:r},backend:t}),i=Lre({inputs:{x:o},backend:t}),a=vk({inputs:{input:r},backend:t}),s=SS({inputs:{x:a},backend:t}),l=hc({inputs:{real:i,imag:s},backend:t});return t.disposeIntermediateTensorInfo(o),t.disposeIntermediateTensorInfo(i),t.disposeIntermediateTensorInfo(a),t.disposeIntermediateTensorInfo(s),l}else return yb({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:t})}const Rnt={kernelName:C2,backendName:"webgl",kernelFunc:Lre};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ent(n){const{inputs:e,backend:t,attrs:r}=n,{axis:o}=r;if(e.length===1)return ER({inputs:{input:e[0]},backend:t,attrs:{dim:o}});const i=e[0].shape,a=e[0].dtype;e.forEach(c=>{lM(i,c.shape,"All tensors passed to stack must have matching shapes"),O(a===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const s=[],l=e.map(c=>{const d=ER({inputs:{input:c},backend:t,attrs:{dim:o}});return s.push(d),d}),u=wre({inputs:l,backend:t,attrs:{axis:o}});return s.forEach(c=>t.disposeIntermediateTensorInfo(c)),u}const $nt={kernelName:_2,backendName:"webgl",kernelFunc:Ent};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Pnt{constructor(e,t,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((u,c)=>u[0]+e[c]+u[1]);const o=e.length,i=vn(o),a=t.map(u=>u[0]).join(","),s=t.map((u,c)=>u[0]+e[c]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,o);if(o===1){this.userCode=`
        int start = ${a};
        int end = ${s};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${a});
      ${i} end = ${i}(${s});

      void main() {
        ${i} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${i} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Mnt{constructor(e,t,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((g,v)=>g[0]+e[v]+g[1]);const o=e.length,i=vn(o),a=t.map(g=>g[0]).join(","),s=t.map((g,v)=>g[0]+e[v]).join(","),l=oo("rc",o),u=oo("source",o),c=`${l[o-1]} < ${this.outputShape[o-1]}`,d=o===1?"source":`vec2(${u.slice(-2).join()})`,h=[`${i} rc = outputLoc;`,`${l[o-1]} += 1;
       if(${c}) {
      `,o===1?"":`}
       rc = outputLoc;
       ${l[o-2]} += 1;
       if(${l[o-2]} < ${this.outputShape[o-2]}) {`,o===1?"":`  ${l[o-1]} += 1;
         if(${c}) {`],f=o===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let g=0,v=o===1?2:4;g<v;g++)p+=`
        ${h[g]}
        if (${f}) {
          result[${g}] = float(value);
        } else {
          ${i} source = rc - start;
          result[${g}] = getChannel(getX(${u.join()}), ${d});
        }
      `;p+=o===1?"} ":"}}",this.userCode=`
      const ${i} start = ${i}(${a});
      const ${i} end = ${i}(${s});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nre=n=>{const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{paddings:i,constantValue:a}=r;if(ue(o.shape)===0){const u=i.map((c,d)=>c[0]+o.shape[d]+c[1]);return yb({backend:t,attrs:{shape:u,value:a,dtype:o.dtype}})}const s=re().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Mnt(o.shape,i,a):new Pnt(o.shape,i,a),l=[[a]];return t.runWebGLProgram(s,[o],o.dtype,l)},Lnt={kernelName:I2,backendName:"webgl",kernelFunc:Nre};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nnt=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,Ont=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+$h+`
  return result;
`,Fnt=Fr({opSnippet:Nnt,packedOpSnippet:Ont}),Bnt={kernelName:P0,backendName:"webgl",kernelFunc:Fnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function znt(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{axis:i,keepDims:a}=r,s=o.shape.length,l=[],u=Mt(i,o.shape);let c=u;const d=Fn(c,s);let h=o;d!=null&&(h=fo({inputs:{x:o},backend:t,attrs:{perm:d}}),c=Kn(c.length,s),l.push(h)),Or("prod",c,s);let f;if(t.shouldExecuteOnCPU([h])){const p=t.texData.get(h.dataId).values,{outVals:g,outShape:v,outDtype:m}=Nqe(h.shape,h.dtype,p,c);f=t.makeTensorInfo(v,m,g)}else{const[p,g]=_r(h.shape,c),v=ue(g),m=Le({inputs:{x:h},backend:t,attrs:{shape:[-1,v]}}),y=eL(o.dtype),b=Ph(m,y,"prod",t);f=Le({inputs:{x:b},backend:t,attrs:{shape:p}}),l.push(m),l.push(b)}if(a){l.push(f);const p=tr(f.shape,u);f=Le({inputs:{x:f},backend:t,attrs:{shape:p}})}return l.forEach(p=>t.disposeIntermediateTensorInfo(p)),f}const Vnt={kernelName:A2,backendName:"webgl",kernelFunc:znt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gnt(n){const{inputs:e,backend:t,attrs:r}=n,{paramsNestedSplits:o,paramsDenseValues:i,indices:a}=e,{outputRaggedRank:s}=r,l=o.map(m=>t.readSync(m.dataId)),u=o.map(m=>m.shape),c=t.readSync(i.dataId),d=t.readSync(a.dataId),[h,f,p]=Oqe(l,u,c,i.shape,i.dtype,d,a.shape,s),g=h.map(m=>t.makeTensorInfo([m.length],"int32",m)),v=t.makeTensorInfo(p,i.dtype,f);return g.concat([v])}const Wnt={kernelName:mZ,backendName:"webgl",kernelFunc:Gnt};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hnt(n){const{inputs:e,backend:t}=n,{starts:r,limits:o,deltas:i}=e,a=t.readSync(r.dataId),s=t.readSync(o.dataId),l=t.readSync(i.dataId),[u,c]=Fqe(a,r.shape,r.dtype,s,o.shape,l,i.shape),d=t.makeTensorInfo([u.length],"int32",u),h=t.makeTensorInfo([c.length],r.dtype,c);return[d,h]}const Unt={kernelName:yZ,backendName:"webgl",kernelFunc:Hnt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jnt(n){const{inputs:e,backend:t,attrs:r}=n,{shape:o,values:i,defaultValue:a,rowPartitionTensors:s}=e,{rowPartitionTypes:l}=r,u=t.readSync(o.dataId),c=t.readSync(i.dataId),d=t.readSync(a.dataId),h=s.map(v=>t.readSync(v.dataId)),f=s.map(v=>v.shape),[p,g]=Bqe(u,o.shape,c,i.shape,i.dtype,d,a.shape,h,f,l);return t.makeTensorInfo(p,i.dtype,g)}const Knt={kernelName:bZ,backendName:"webgl",kernelFunc:jnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ore=n=>{const{backend:e,attrs:t}=n,{start:r,stop:o,step:i,dtype:a}=t,s=zqe(r,o,i,a);return e.makeTensorInfo([s.length],a,s)},Xnt={kernelName:GM,backendName:"webgl",kernelFunc:Ore};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qnt="return 1.0 / x;",Ynt=Kt({opSnippet:qnt}),Znt={kernelName:M0,backendName:"webgl",kernelFunc:Ynt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jnt=pa+`
  return (x < 0.0) ? 0.0 : x;
`,Qnt=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,ert=Kt({opSnippet:Jnt,packedOpSnippet:Qnt}),trt={kernelName:L0,backendName:"webgl",kernelFunc:ert};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nrt=pa+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,rrt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,ort=Kt({opSnippet:nrt,packedOpSnippet:rrt}),irt={kernelName:N0,backendName:"webgl",kernelFunc:ort};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class art{constructor(e,t,r,o,i){this.variableNames=["A"],this.outputShape=[];const[a,s,l,u]=e;this.outputShape=[a,t,r,u];const c=[o&&t>1?s-1:s,o&&r>1?l-1:l],d=[o&&t>1?t-1:t,o&&r>1?r-1:r];let h;i?h="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/d[0]},
          ${c[1]/d[1]});
      const vec2 inputShapeRC = vec2(${s}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class srt{constructor(e,t,r,o,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,s,l,u]=e;this.outputShape=[a,t,r,u];const c=[o&&t>1?s-1:s,o&&r>1?l-1:l],d=[o&&t>1?t-1:t,o&&r>1?r-1:r];let h;i?h="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/d[0]},
          ${c[1]/d[1]},
          ${c[1]/d[1]});
      const vec3 inputShapeRC = vec3(${s}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lrt(n){const{inputs:e,backend:t,attrs:r}=n,{images:o}=e,{alignCorners:i,halfPixelCenters:a,size:s}=r,[l,u]=s,c=re().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new srt(o.shape,l,u,i,a):new art(o.shape,l,u,i,a);return t.runWebGLProgram(c,[o],"float32")}const urt={kernelName:E2,backendName:"webgl",kernelFunc:lrt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class crt{constructor(e,t,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,o,i]=t,[,a,s]=e,l=[r&&a>1?o-1:o,r&&s>1?i-1:i],u=[r&&a>1?a-1:a,r&&s>1?s-1:s],c=l[0]/u[0],d=l[1]/u[1],h=1/c,f=1/d,p=Math.ceil(h)*2+2,g=Math.ceil(f)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${d});

        const float invHeightScale = float(${h});
        const float invWidthScale = float(${f});

        const int winHeight = int(${p});
        const int winWidth = int(${g});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${a}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${s}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${o-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function drt(n){const{inputs:e,backend:t,attrs:r}=n,{images:o,dy:i}=e,{alignCorners:a}=r,s=new crt(i.shape,o.shape,a);return t.runWebGLProgram(s,[i],i.dtype)}const hrt={kernelName:UM,backendName:"webgl",kernelFunc:drt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class frt{constructor(e,t,r,o,i){this.variableNames=["A"],this.outputShape=[];const[a,s,l,u]=e;this.outputShape=[a,t,r,u];const c=[o&&t>1?s-1:s,o&&r>1?l-1:l],d=[o&&t>1?t-1:t,o&&r>1?r-1:r],h=o?"0.5":"0.0";let f;i?f="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":f="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/d[0]},
          ${c[1]/d[1]});
      const vec2 inputShapeRC = vec2(${s}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${f};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class prt{constructor(e,t,r,o,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,s,l,u]=e;this.outputShape=[a,t,r,u];const c=[o&&t>1?s-1:s,o&&r>1?l-1:l],d=[o&&t>1?t-1:t,o&&r>1?r-1:r],h=o?"0.5":"0.0";let f;i?f="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":f="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/d[0]},
          ${c[1]/d[1]},
          ${c[1]/d[1]});
      const vec3 inputShapeRC = vec3(${s}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${f};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function grt(n){const{inputs:e,backend:t,attrs:r}=n,{images:o}=e,{alignCorners:i,halfPixelCenters:a,size:s}=r,[l,u]=s,c=re().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new prt(o.shape,l,u,i,a):new frt(o.shape,l,u,i,a);return t.runWebGLProgram(c,[o],o.dtype)}const vrt={kernelName:R2,backendName:"webgl",kernelFunc:grt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mrt{constructor(e,t,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,o,i]=t,[,a,s]=e,l=[r&&a>1?o-1:o,r&&s>1?i-1:i],u=[r&&a>1?a-1:a,r&&s>1?s-1:s],c=l[0]/u[0],d=l[1]/u[1],h=1/c,f=1/d,p=Math.ceil(h)*2+2,g=Math.ceil(f)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${d});

        const float invHeightScale = float(${h});
        const float invWidthScale = float(${f});

        const int winHeight = int(${p});
        const int winWidth = int(${g});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${a}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${s}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${u[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${u[1]}));

            int sourceNearestRow = int(min(
                float(int(${o}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yrt(n){const{inputs:e,backend:t,attrs:r}=n,{images:o,dy:i}=e,{alignCorners:a}=r,s=new mrt(i.shape,o.shape,a);return t.runWebGLProgram(s,[i],i.dtype)}const brt={kernelName:HM,backendName:"webgl",kernelFunc:yrt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wrt{constructor(e,t){this.variableNames=["x"];const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=e,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const o=s=>t.indexOf(s)!==-1&&e[s]!==1?`${e[s]} - coords[${s}] - 1`:`coords[${s}]`,i=e.map((s,l)=>o(l)).join(","),a=vn(r);this.userCode=`
      void main() {
        ${a} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xrt{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=e;const o=oo("rc",r),i=`${o[r-1]} + 1 < ${this.outputShape[r-1]}`,a=`${o[r-2]} + 1 < ${this.outputShape[r-2]}`,s=vn(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${i}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${s} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(o.slice())};
          if(${i}){
            result.g = ${u(o.slice())};
          }
          if(${a}) {
            result.b = ${c(o.slice())};
            if(${i}) {
              result.a = ${d(o.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(p){return h(p)}function u(p){return p[r-1]="("+p[r-1]+" + 1)",h(p)}function c(p){return p[r-2]="("+p[r-2]+" + 1)",h(p)}function d(p){return p[r-1]="("+p[r-1]+" + 1)",p[r-2]="("+p[r-2]+" + 1)",h(p)}function h(p){const g=e.map((y,b)=>f(b,p)),v=g.join(","),m=g.slice(-2).join(",");return`getChannel(getX(${v}), vec2(${m}))`}function f(p,g){return t.indexOf(p)!==-1&&e[p]!==1?`${e[p]} - ${g[p]} - 1`:`${g[p]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Srt(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{dims:i}=r,a=o.shape.length,s=Mt(i,o.shape);if(a===0)return ni({inputs:{x:o},backend:t});const l=re().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xrt(o.shape,s):new wrt(o.shape,s);return t.runWebGLProgram(l,[o],o.dtype)}const Crt={kernelName:$2,backendName:"webgl",kernelFunc:Srt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class krt{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=e[1],o=e[2];this.outputShape=e;let i="";typeof t=="number"?i=`float outputValue = ${t.toFixed(2)};`:i=`
        vec3 fill = vec3(${t.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${i}
          if(coordX >= 0 && coordX < ${o} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _rt={kernelName:JM,backendName:"webgl",kernelFunc:({inputs:n,attrs:e,backend:t})=>{const{image:r}=n,{radians:o,fillValue:i,center:a}=e,s=t,l=new krt(r.shape,i),[u,c]=XL(a,r.shape[1],r.shape[2]),d=[[u,c,Math.sin(o),Math.cos(o)]];return s.runWebGLProgram(l,[r],r.dtype,d)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Irt=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,Trt=Kt({opSnippet:Irt}),Art={kernelName:O0,backendName:"webgl",kernelFunc:Trt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Drt="return inversesqrt(x);",Rrt=Kt({opSnippet:Drt,cpuKernelImpl:Vqe}),Ert={kernelName:F0,backendName:"webgl",kernelFunc:Rrt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QN{constructor(e,t,r,o,i,a,s=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;const u=vn(i.length),c=vn(a.length);let d="";r===1?d="i":r===2&&(d="i, j");const h=`getIndices(${d})`;let f="";o===1?f="i":o===2&&(f="i, coords[1]");const p=`getUpdates(${f})`;let g="";l&&(g="coords[0], coords[1]");const v=`getDefaultValue(${g})`,m=t>1?"strides[j]":"strides";this.userCode=`
        ${u} strides = ${u}(${i});

        void main() {
          ${c} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${t}; j++) {
              int index = round(${h});
              flattenedIndex += index * ${m};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${p};
              found = true;
            }
          }
          setOutput(mix(${v}, sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $rt{constructor(e,t,r,o,i,a,s=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a;const u=vn(i.length),c=vn(a.length);let d="";r===1?d="i":r===2&&(d="i, j");const h=`getIndices(${d})`;let f="";o===1?f="i":o===2&&(f="i, coords[1]");const p=`getUpdates(${f})`;let g="";l&&(g="coords[0], coords[1]");const v=`getDefaultValue(${g})`,m=t>1?"strides[j]":"strides",y=t>1?"strides[j + 1]":"strides";this.userCode=`
        ${u} strides = ${u}(${i});

        void main() {
          ${c} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${t}; j+=2) {
              ivec4 index = round(${h});
              flattenedIndex += index.xz * ${m};
              if (j + 1 < ${t}) {
                flattenedIndex += index.yw * ${y};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${p};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${v}, sum, found));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Prt(n){const{inputs:e,backend:t,attrs:r}=n,{indices:o,updates:i}=e,{shape:a}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=Th(i,o,a),h=[d/u,u];if(d===0)return t.makeTensorInfo(a,o.dtype);const f=Le({inputs:{x:o},backend:t,attrs:{shape:[l,s]}}),p=Le({inputs:{x:i},backend:t,attrs:{shape:[l,u]}}),g=t.makeTensorInfo([],"float32",new Float32Array([0]));let v;re().getBool("WEBGL_PACK")?v=new $rt(l,s,f.shape.length,p.shape.length,c,h):v=new QN(l,s,f.shape.length,p.shape.length,c,h);const m=t.runWebGLProgram(v,[p,f,g],p.dtype),y=Le({inputs:{x:m},backend:t,attrs:{shape:a}});return t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(p),t.disposeIntermediateTensorInfo(m),t.disposeIntermediateTensorInfo(g),y}const Mrt={kernelName:wZ,backendName:"webgl",kernelFunc:Prt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lrt{constructor(e,t,r,o){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,r];const i="while (left < right) {",a=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,s=re().getNumber("WEBGL_VERSION")===2?i:a,l=o==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${s}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nrt(n){const{inputs:e,backend:t,attrs:r}=n,{sortedSequence:o,values:i}=e,{side:a}=r,s=new Lrt(o.shape[0],o.shape[1],i.shape[1],a),l=[[o.shape[1]]];return t.runWebGLProgram(s,[o,i],"int32",l)}const Ort={kernelName:SZ,backendName:"webgl",kernelFunc:Nrt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Frt{constructor(e,t,r){this.variableNames=["c","a","b"],this.outputShape=t;let o,i;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)i="resRC",o="resRC";else{const s=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],u=[];for(let c=0;c<t.length;c++)u.push(`${s[c]}`),c<e&&l.push(`${s[c]}`);o=l.join(),i=u.join()}const a=vn(r);this.userCode=`
      void main() {
        ${a} resRC = getOutputCoords();
        float cVal = getC(${o});
        if (cVal >= 1.0) {
          setOutput(getA(${i}));
        } else {
          setOutput(getB(${i}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Brt(n){const{inputs:e,backend:t}=n,{condition:r,t:o,e:i}=e,a=new Frt(r.shape.length,o.shape,o.shape.length);return t.runWebGLProgram(a,[r,o,i],ei(o.dtype,i.dtype))}const zrt={kernelName:P2,backendName:"webgl",kernelFunc:Brt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vrt=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${Z2};
  float scale = ${J2};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,Grt=Kt({opSnippet:Vrt}),Wrt={kernelName:B0,backendName:"webgl",kernelFunc:Grt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hrt=pg+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,Urt=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,jrt=Kt({opSnippet:Hrt,packedOpSnippet:Urt,cpuKernelImpl:Wqe}),Krt={kernelName:W0,backendName:"webgl",kernelFunc:jrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xrt=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,qrt=Kt({opSnippet:Xrt}),Yrt={kernelName:G0,backendName:"webgl",kernelFunc:qrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zrt=pg+`
  return sin(x);
`,Jrt=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${$h}
  return result;
`,Qrt=Kt({opSnippet:Zrt,packedOpSnippet:Jrt}),eot={kernelName:z0,backendName:"webgl",kernelFunc:Qrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tot=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,not=Kt({opSnippet:tot}),rot={kernelName:V0,backendName:"webgl",kernelFunc:not};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oot=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,iot=Kt({opSnippet:oot}),aot={kernelName:H0,backendName:"webgl",kernelFunc:iot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sot=n=>{const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{blockShape:i,paddings:a}=r;O(o.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const s=i.reduce((m,y)=>m*y),l=[[0,0]];l.push(...a);for(let m=1+i.length;m<o.shape.length;++m)l.push([0,0]);const u=[],c=Nre({inputs:{x:o},backend:t,attrs:{paddings:l,constantValue:0}}),d=rb(c.shape,i,s,!1),h=ob(d.length,i.length,!1),f=ib(c.shape,i,s,!1),p=Le({inputs:{x:c},backend:t,attrs:{shape:d}}),g=fo({inputs:{x:p},backend:t,attrs:{perm:h}}),v=Le({inputs:{x:g},backend:t,attrs:{shape:f}});return u.push(c),u.push(p),u.push(g),u.forEach(m=>t.disposeIntermediateTensorInfo(m)),v},lot={kernelName:N2,backendName:"webgl",kernelFunc:sot};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uot(n){const{inputs:e,backend:t}=n,{indices:r,values:o,denseShape:i,defaultValue:a}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(o.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${o.shape}`);if(a.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${a.shape}`);const s=t.readSync(r.dataId),l=t.readSync(o.dataId),u=t.readSync(i.dataId),c=t.readSync(a.dataId)[0],[d,h,f,p,g]=Uqe(s,r.shape,r.dtype,l,o.dtype,u,c);return[t.makeTensorInfo(h,r.dtype,d),t.makeTensorInfo([h[0]],o.dtype,f),t.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(v=>Number(v)))),t.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}const cot={kernelName:CZ,backendName:"webgl",kernelFunc:uot};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dot(n){const{inputs:e,backend:t}=n,{inputIndices:r,inputShape:o,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(o.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${o.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(t.readSync(o.dataId)),s=t.readSync(r.dataId),l=Array.from(t.readSync(i.dataId)),[u,c,d]=jqe(s,r.shape,r.dtype,a,l);return[t.makeTensorInfo(c,r.dtype,u),t.makeTensorInfo([d.length],i.dtype,new Int32Array(d))]}const hot={kernelName:kZ,backendName:"webgl",kernelFunc:dot};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fot(n){const{inputs:e,backend:t}=n,{data:r,indices:o,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${o.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${i.shape}`);const a=t.readSync(r.dataId),s=t.readSync(o.dataId),l=t.readSync(i.dataId),[u,c]=sre(a,r.shape,r.dtype,s,l,!0);return t.makeTensorInfo(c,r.dtype,u)}const pot={kernelName:_Z,backendName:"webgl",kernelFunc:fot};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function got(n){const{inputs:e,backend:t}=n,{data:r,indices:o,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${o.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${i.shape}`);const a=t.readSync(r.dataId),s=t.readSync(o.dataId),l=t.readSync(i.dataId),[u,c]=sre(a,r.shape,r.dtype,s,l);return t.makeTensorInfo(c,r.dtype,u)}const vot={kernelName:IZ,backendName:"webgl",kernelFunc:got};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mot(n){const{inputs:e,backend:t,attrs:r}=n,{sparseIndices:o,sparseValues:i,defaultValue:a}=e,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:h}=Th(i,o,s),f=!1;if(i.dtype==="string"){const m=t.bufferSync(o),y=t.bufferSync(i),b=Gu(t.readSync(a.dataId)[0]),w=Gqe(m,y,s,h,c,u,l,d,b,f);return t.makeTensorInfo(s,w.dtype,w.values)}const p=new QN(u,l,o.shape.length,i.shape.length,d,[h,1],f),g=t.runWebGLProgram(p,[i,o,a],i.dtype),v=Le({inputs:{x:g},backend:t,attrs:{shape:s}});return t.disposeIntermediateTensorInfo(g),v}const yot={kernelName:TZ,backendName:"webgl",kernelFunc:mot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bot(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{numOrSizeSplits:i,axis:a}=r,s=Mt(a,o.shape)[0],l=uN(o,i,s),u=o.shape.length,c=new Array(u).fill(0),d=o.shape.slice();return l.map(h=>{const f=[...d];f[s]=h;const p=gg({inputs:{x:o},backend:t,attrs:{begin:c,size:f}});return c[s]+=h,p})}const wot={kernelName:O2,backendName:"webgl",kernelFunc:bot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O8="return sqrt(x);",xot=Kt({opSnippet:O8,packedOpSnippet:O8,cpuKernelImpl:Kqe}),Sot={kernelName:U0,backendName:"webgl",kernelFunc:xot};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cot="return x * x;",kot=Kt({opSnippet:Cot}),_ot={kernelName:jM,backendName:"webgl",kernelFunc:kot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F8="return (a - b) * (a - b);",Iot=Fr({opSnippet:F8,packedOpSnippet:F8}),Tot={kernelName:j0,backendName:"webgl",kernelFunc:Iot};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aot(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");const i=t.readSync(o.dataId),a=$l(i),s=Xqe(a,"string",r);return t.makeTensorInfo(o.shape,"string",s)}const Dot={kernelName:KM,backendName:"webgl",kernelFunc:Aot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rot({inputs:n,attrs:e,backend:t}){const{x:r}=n,o=pa+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,i=new Cs(r.shape,o);return t.runWebGLProgram(i,[r],r.dtype)}const Eot={kernelName:Z0,backendName:"webgl",kernelFunc:Rot};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $ot{constructor(e,t,r){this.variableNames=["x"],this.outputShape=r;const o=r.length,i=vn(r.length),a=vn(r.length);let s="";if(o===1)s="coords * strides + begin";else{let l=0;s=r.map((u,c)=>(l++,r.length===1?`coords * strides[${c}] + begin[${c}]`:`coords[${l-1}] * strides[${c}] + begin[${c}]`)).join(",")}this.userCode=`
      ${i} begin = ${i}(${e});
      ${i} strides = ${i}(${t});

      void main() {
        ${a} coords = getOutputCoords();
        setOutput(getX(${s}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pot(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{begin:i,end:a,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:h}=r,{finalShapeSparse:f,finalShape:p,isIdentity:g,sliceDim0:v,isSimpleSlice:m,begin:y,end:b,strides:w}=UL(o.shape,i,a,s,l,u,c,d,h);let x;if(g)x=Le({inputs:{x:o},backend:t,attrs:{shape:p}});else if(v||m){O(o.shape.length>=1,()=>`Input must have rank at least 1, got: ${o.shape.length}`);const C=GL(y,b,w),k=gg({inputs:{x:o},backend:t,attrs:{begin:y,size:C}});x=Le({inputs:{x:k},backend:t,attrs:{shape:p}}),t.disposeIntermediateTensorInfo(k)}else if(t.shouldExecuteOnCPU([o])){const k=t.readSync(o.dataId),_=$t(o.shape,o.dtype,k),I=qqe(f,_,w,y);x=t.makeTensorInfo(p,o.dtype,I.values)}else{const k=new $ot(y,w,f);x=t.runWebGLProgram(k,[o],o.dtype)}const S=Le({inputs:{x},backend:t,attrs:{shape:p}});return t.disposeIntermediateTensorInfo(x),S}const Mot={kernelName:XM,backendName:"webgl",kernelFunc:Pot};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lot(n){const{inputs:e,backend:t,attrs:r}=n,{separator:o,nGramWidths:i,leftPad:a,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=e,h=t.readSync(c.dataId),f=t.readSync(d.dataId),[p,g]=Yqe(h,f,o,i,a,s,l,u);return[t.makeTensorInfo([p.length],"string",p),t.makeTensorInfo(d.shape,"int32",g)]}const Not={kernelName:AZ,backendName:"webgl",kernelFunc:Lot};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oot(n){const{inputs:e,backend:t,attrs:r}=n,{skipEmpty:o}=r,{input:i,delimiter:a}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(a.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const s=t.readSync(i.dataId),l=t.readSync(a.dataId)[0],[u,c,d]=Zqe(s,l,o),h=c.length;return[t.makeTensorInfo([h,2],"int32",u),t.makeTensorInfo([h],"string",c),t.makeTensorInfo([2],"int32",new Int32Array(d))]}const Fot={kernelName:DZ,backendName:"webgl",kernelFunc:Oot};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bot(n){const{inputs:e,backend:t,attrs:r}=n,{numBuckets:o}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const a=t.readSync(i.dataId),s=Jqe(a,o);return t.makeTensorInfo(i.shape,"int32",s)}const zot={kernelName:RZ,backendName:"webgl",kernelFunc:Bot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vot="return tan(x);",Got=Kt({opSnippet:Vot}),Wot={kernelName:X0,backendName:"webgl",kernelFunc:Got};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hot=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,Uot=Kt({opSnippet:Hot}),jot={kernelName:q0,backendName:"webgl",kernelFunc:Uot};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kot(n){const{inputs:e,backend:t,attrs:r}=n,{tensor:o,indices:i,updates:a}=e,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=Th(a,i,o.shape),h=[d/u,u];if(d===0)return t.makeTensorInfo(o.shape,i.dtype);const f=Le({inputs:{x:i},backend:t,attrs:{shape:[l,s]}}),p=Le({inputs:{x:a},backend:t,attrs:{shape:[l,u]}}),g=Le({inputs:{x:o},backend:t,attrs:{shape:h}}),v=new QN(l,s,f.shape.length,p.shape.length,c,h,!1,!0),m=t.runWebGLProgram(v,[p,f,g],g.dtype),y=Le({inputs:{x:m},backend:t,attrs:{shape:o.shape}});return t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(p),t.disposeIntermediateTensorInfo(g),t.disposeIntermediateTensorInfo(m),y}const Xot={kernelName:xZ,backendName:"webgl",kernelFunc:Kot};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qot{constructor(e,t){this.variableNames=["A"];const r=new Array(e.length);for(let a=0;a<r.length;a++)r[a]=e[a]*t[a];this.outputShape=r,this.rank=r.length;const o=vn(this.rank),i=Yot(e);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        setOutput(getA(${i}));
      }
    `}}function Yot(n){const e=n.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${n[0]})`;const t=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let o=0;o<n.length;o++)r.push(`imod(${t[o]}, ${n[o]})`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fre(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{reps:i}=r;if(o.dtype==="string"||o.shape.length>5){const l=t.readSync(o.dataId),u=o.dtype==="string"?l.map(h=>Gu(h)):l,c=$t(o.shape,o.dtype,u),d=eYe(c,i);return t.makeTensorInfo(d.shape,d.dtype,d.values)}const a=new qot(o.shape,i);return t.runWebGLProgram(a,[o],o.dtype)}const Zot={kernelName:Y0,backendName:"webgl",kernelFunc:Fre};class Jot{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class Qot{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jc(n,e){e!==null&&n.disposeIntermediateTensorInfo(e)}function B8(n){let e=1;for(;e<n;)e*=2;return e}function eit(n){const{inputs:e,backend:t,attrs:r}=n,{x:o}=e,{k:i,sorted:a}=r,s=re().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=re().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=o.shape,c=u[u.length-1];if(t.shouldExecuteOnCPU([o])||c<s||i>l){const I=t.readSync(o.dataId),[T,A]=tYe(I,u,o.dtype,i,a);return[t.makeTensorInfo(T.shape,T.dtype,T.values),t.makeTensorInfo(A.shape,A.dtype,A.values)]}if(i===0)return u[u.length-1]=0,[t.makeTensorInfo(u,o.dtype,[]),t.makeTensorInfo(u,"int32",[])];if(c===1)return[o,yb({attrs:{shape:u,dtype:"int32",value:0},backend:t})];const d=t.texData.get(o.dataId),h=d!==null&&d.isPacked,f=h?t.unpackTensor(o):o,g=ue(u)/c,v=Le({inputs:{x:f},attrs:{shape:[g,c]},backend:t});h&&jc(t,f);const m=B8(i),y=B8(c);let b=null;const w=()=>b===null?[v,v]:[v,b],x=(I,T,A)=>{const D=w(),E=new Jot(A),P=[[c],[b===null?1:0],[Number.NEGATIVE_INFINITY],[I],[T]],N=b;b=t.runWebGLProgram(E,D,"int32",P),jc(t,N)};for(let I=1;I<m;I*=2){const T=I*2;for(let A=I;A>=1;A/=2)x(T,A,[g,y])}for(let I=y;I>m;I/=2){const T=w(),A=new Qot([g,I/2]),E=[[c],[b===null?1:0],[m]],$=b;b=t.runWebGLProgram(A,T,"int32",E),jc(t,$);const P=m/2,N=P*2;for(let M=P;M>=1;M/=2)x(N,M,b.shape)}let S=b;b=gg({inputs:{x:b},backend:t,attrs:{begin:0,size:[g,i]}}),jc(t,S);let C=Rre({inputs:{x:v,indices:b},backend:t,attrs:{axis:1,batchDims:1}});jc(t,v);const k=u.slice(0,-1);k.push(i),S=b,b=Le({inputs:{x:b},attrs:{shape:k},backend:t}),jc(t,S);const _=C;return C=Le({inputs:{x:C},attrs:{shape:k},backend:t}),jc(t,_),[C,b]}const tit={kernelName:qM,backendName:"webgl",kernelFunc:eit};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nit{constructor(e,t,r,o,i,a){this.variableNames=["Image","Transforms"],this.outputShape=a;const s=r==="nearest"?1:2;let l;switch(o){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${i});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${i});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${t}));
                float mapY = mapCoord(inY, float(${e}));

                if (${s} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rit(n){const{inputs:e,backend:t,attrs:r}=n,{image:o,transforms:i}=e,{interpolation:a,fillMode:s,fillValue:l,outputShape:u}=r,[c,d,h,f]=o.shape,[p,g]=u??[d,h],v=[c,p,g,f],m=new nit(d,h,a,s,l,v);return t.runWebGLProgram(m,[o,i],"float32")}const oit={kernelName:YM,backendName:"webgl",kernelFunc:rit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iit(n){const{inputs:e,attrs:t,backend:r}=n,{axis:o}=t,{x:i}=e;gb(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const a=r.readSync(i.dataId),{outputValues:s,outputShape:l,indices:u}=nYe(a,o,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}const ait={kernelName:ZM,backendName:"webgl",kernelFunc:iit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sit(n){const{inputs:e,backend:t,attrs:r}=n,{value:o}=e;let{axis:i}=r;i<0&&(i+=o.shape.length);const a=o,s=a.shape.length,l=o.shape[i],u=new Array(s-1);let c=0;for(let g=0;g<s;g++)g!==i&&(u[c++]=a.shape[g]);const d=[],h=new Array(s).fill(0),f=a.shape.slice();f[i]=1;const p=new Array(l);for(let g=0;g<p.length;g++){h[i]=g;const v=gg({inputs:{x:a},backend:t,attrs:{begin:h,size:f}}),m=Le({inputs:{x:v},backend:t,attrs:{shape:u}});p[g]=m,d.push(v)}return d.forEach(g=>t.disposeIntermediateTensorInfo(g)),p}const lit={kernelName:B2,backendName:"webgl",kernelFunc:sit};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uit{constructor(e,t){this.variableNames=["x","segmentIds"];const r=e.windowSize,o=e.batchSize,i=e.inSize,a=e.numSegments,s=a*Math.ceil(i/r);this.outputShape=[o,s];const l="0.0",u="sumValue",c=Math.floor(r/4)*4,d=r%4,h=`
        sumValue += dot(values, segFilter);
    `;let f="";i%r>0&&(f=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `);let p="";i%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${f}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${p}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${a})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${a})));

        float sumValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${h}
        }

        int inIdx = inOffset + ${c};
        if (${d===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${h}
        } else if (${d===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${h}
        } else if (${d===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${h}
        }
        setOutput(${u});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cit(n){const{inputs:e,backend:t,attrs:r}=n,{x:o,segmentIds:i}=e,{numSegments:a}=r,s=o.shape.length,l=[];let u=0;const c=Fn([u],s);let d=o;c!=null&&(d=fo({inputs:{x:o},backend:t,attrs:{perm:c}}),l.push(d),u=Kn(1,s)[0]);const h=CQ(d.shape,u,a),f=ue([d.shape[u]]),p=Le({inputs:{x:d},backend:t,attrs:{shape:[-1,f]}});l.push(p);const g=eL(o.dtype),v=(w,x,S,C,k)=>{const _=w.shape[0],I=w.shape[1],T=SQ(I,k),A={windowSize:T,inSize:I,batchSize:_,numSegments:k},D=new uit(A,x),E=t.compileAndRun(D,[w,S],C);if(l.push(E),E.shape[1]===k)return E;const $=Ore({backend:t,attrs:{start:0,stop:k,step:1,dtype:"float32"}}),P=Fre({inputs:{x:$},backend:t,attrs:{reps:[I/T]}});return l.push($),l.push(P),v(E,x,P,C,k)},m=v(p,"unsortedSegmentSum",i,g,a),y=Le({inputs:{x:m},backend:t,attrs:{shape:h}});let b=y;if(c!=null){l.push(y);const w=ac(c);b=fo({inputs:{x:b},backend:t,attrs:{perm:w}})}return l.forEach(w=>t.disposeIntermediateTensorInfo(w)),b}const dit={kernelName:z2,backendName:"webgl",kernelFunc:cit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hit=[KYe,qYe,JYe,tZe,rZe,aZe,lZe,cZe,pZe,vZe,bZe,SZe,_Ze,DZe,$Ze,MZe,NZe,zZe,GZe,HZe,XZe,tJe,rJe,sJe,uJe,gJe,mJe,xJe,RYe,kJe,DJe,PJe,BJe,GJe,HJe,jJe,XJe,JJe,tQe,oQe,aQe,lQe,cQe,fQe,gQe,bQe,xQe,kQe,TQe,DQe,PQe,OQe,VQe,HQe,KQe,XQe,YQe,JQe,eet,net,oet,uet,het,get,met,wet,ket,Aet,$et,DYe,Met,TJe,Oet,zet,Wet,$Ye,Ket,Zet,Qet,rtt,att,ctt,ftt,mtt,xtt,ktt,Itt,Rtt,$tt,Mtt,Ftt,ztt,Gtt,Htt,jtt,Ytt,ent,ont,hnt,LYe,vnt,bnt,Snt,_nt,dJe,Ant,Rnt,$nt,Lnt,Bnt,MYe,Vnt,Wnt,Unt,Knt,Xnt,hJe,lnt,Znt,trt,irt,OYe,urt,hrt,vrt,brt,Crt,_rt,Art,Ert,Mrt,Ort,zrt,Wrt,Krt,Yrt,eot,rot,QZe,cnt,aot,lot,cot,hot,pot,vot,yot,wot,Sot,_ot,Tot,Dot,Eot,Mot,Not,Fot,zot,unt,HYe,Wot,jot,Xot,Zot,tit,oit,UYe,ait,lit,dit,Dnt];for(const n of hit)$Z(n);const kv=28,_v=28,uf=kv*_v,nl=10,fit=65e3,Y1=55e3,pit="https://storage.googleapis.com/learnjs-data/model-builder/mnist_images.png",git="https://storage.googleapis.com/learnjs-data/model-builder/mnist_labels_uint8";class di{static async Load(){const e=new Image,t=document.createElement("canvas"),r=t.getContext("2d"),o=new Promise(a=>{e.crossOrigin="",e.onload=()=>{e.width=e.naturalWidth,e.height=e.naturalHeight,t.width=e.width,t.height=e.naturalHeight;const s=new ArrayBuffer(fit*uf*4),l=new Float32Array(s);r.drawImage(e,0,0,e.width,e.height,0,0,e.width,e.height);const u=r.getImageData(0,0,t.width,t.height);for(let c=0;c<u.data.length/4;c++)l[c]=u.data[c*4]/255;this.datasetImages=new Float32Array(s),a()},e.src=pit}),i=fetch(git).then(async a=>this.datasetLabels=new Uint8Array(await a.arrayBuffer()));await Promise.all([o,i]),this.trainImages=this.datasetImages.slice(0,uf*Y1),this.testImages=this.datasetImages.slice(uf*Y1),this.trainLabels=this.datasetLabels.slice(0,nl*Y1),this.testLabels=this.datasetLabels.slice(nl*Y1)}static GetTrainImages(){return dT(this.trainImages,[this.trainImages.length/uf,kv,_v,1])}static GetTrainLabels(){return Xf(this.trainLabels,[this.trainLabels.length/nl,nl])}static GetTestImages(e){return e==null?dT(this.testImages,[this.testImages.length/uf,kv,_v,1]):dT(this.testImages,[this.testImages.length/uf,kv,_v,1]).slice([0,0,0,0],[e,kv,_v,1])}static GetTestLabels(e){return e==null?Xf(this.testLabels,[this.testLabels.length/nl,nl]):Xf(this.testLabels,[this.testLabels.length/nl,nl]).slice([0,0],[e,nl])}}Vl(di,"datasetImages"),Vl(di,"datasetLabels"),Vl(di,"trainImages"),Vl(di,"testImages"),Vl(di,"trainLabels"),Vl(di,"testLabels");const z8=28,V8=28;class CS{static createDenseModel(e,t){const r=Z7();return r.add(r8({inputShape:[z8,V8,1]})),t&&r.add(sf()),r.add(nv({units:128,activation:"relu",kernelInitializer:"varianceScaling"})),t&&r.add(sf()),e&&r.add(wT({rate:.5})),r.add(nv({units:64,activation:"relu",kernelInitializer:"varianceScaling"})),t&&r.add(sf()),e&&r.add(wT({rate:.5})),r.add(nv({units:10,activation:"softmax",kernelInitializer:"varianceScaling"})),r}static createConvModel(e,t,r){const o=Z7();return o.add(bT({inputShape:[z8,V8,1],kernelSize:3,filters:16,activation:"relu",kernelInitializer:"varianceScaling",padding:"same"})),t&&o.add(sf()),r&&o.add(xT({poolSize:2,strides:2})),o.add(bT({kernelSize:3,filters:64,activation:"relu",kernelInitializer:"varianceScaling",padding:"same"})),t&&o.add(sf()),r&&o.add(xT({poolSize:2,strides:2})),o.add(bT({kernelSize:3,filters:64,activation:"relu",kernelInitializer:"varianceScaling",padding:"same"})),t&&o.add(sf()),r&&o.add(xT({poolSize:2,strides:2})),o.add(r8()),o.add(nv({units:64,activation:"relu",kernelInitializer:"varianceScaling"})),e&&o.add(wT({rate:.5})),o.add(nv({units:10,activation:"softmax",kernelInitializer:"varianceScaling"})),o}static CreateModel(e,t,r,o){if(e==="DenseNet")return CS.createDenseModel(t,r);if(e==="ConvNet")return CS.createConvModel(t,r,o)}}const vit={class:"flex flex-wrap"},mit={class:"w-12 xl:w-6 px-1"},yit={class:"w-12 xl:w-6 px-1"},bit={__name:"LossAccuracy",setup(n,{expose:e}){const t=Yt(null),r=Yt(null),o=[],i=[],a=[],s=[];let l=null,u=null;const c={title:{left:"30%"},xAxis:{type:"value",name:"",boundaryGap:!1,scale:!0},yAxis:{type:"value",scale:!0},tooltip:{trigger:"axis"},legend:{data:["",""],right:5},grid:{bottom:30,right:50},series:[{name:"",type:"line",showSymbol:!1},{name:"",type:"line",lineStyle:{color:"#fc8452"},itemStyle:{color:"#fac858"},markPoint:{symbolSize:[200,30],label:{formatter:p=>{var g;return`${p.name}${(g=p.value)==null?void 0:g.toFixed(6)}`}}}}]};return e({PlotLossAccuracy:(p,g,v,m=!0)=>{m?(o.push({value:[p,g]}),a.push({value:[p,v]})):(i.push({value:[p,g]}),s.push({value:[p,v]})),l.setOption({series:[{data:o},{data:i}]}),u.setOption({series:[{data:a},{data:s}]})},SpliceLossTrain:()=>{const p=o.length/3;o.splice(0,p),a.splice(0,p)},Reset:()=>{o.length=0,i.length=0,a.length=0,s.length=0}}),Sy(()=>{l=window.echarts.init(t.value),u=window.echarts.init(r.value),c.series[1].data=o,l.setOption(c),l.setOption({title:{text:""},yAxis:{name:""},series:[{},{markPoint:{data:[{type:"min",name:""}]}}]}),u.setOption(c),u.setOption({title:{text:""},yAxis:{name:"%",max:100},series:[{},{markPoint:{data:[{type:"max",name:""}]}}]}),window.onresize=()=>{l.resize(),u.resize()}}),(p,g)=>{const v=t0;return B(),be(v,{header:"",toggleable:"",class:"m-1"},{default:ut(()=>[ke("div",vit,[ke("div",mit,[ke("div",{ref_key:"LossChart",ref:t,class:"bg-white w-full h-12rem mx-1"},null,512)]),ke("div",yit,[ke("div",{ref_key:"AccuracyChart",ref:r,class:"bg-white w-full h-12rem mx-1"},null,512)])])]),_:1})}}},wit={class:"flex flex-wrap"},xit=["src"],Sit={__name:"TestResult",props:{modelValue:{},modelModifiers:{},labels:{},labelsModifiers:{},predictions:{},predictionsModifiers:{}},emits:["update:modelValue","update:labels","update:predictions"],setup(n){const e=_k(n,"modelValue"),t=_k(n,"labels"),r=_k(n,"predictions"),o=Yt([]),i=s=>{const[l,u]=[28,28],c=document.createElement("canvas");c.width=l,c.height=u;const d=c.getContext("2d"),h=new ImageData(l,u);for(let f=0;f<u*l;++f){const p=f*4;h.data[p+0]=s[f]*255,h.data[p+1]=s[f]*255,h.data[p+2]=s[f]*255,h.data[p+3]=255}return d.putImageData(h,0,0),c.toDataURL()},a=s=>{const l=s.shape[0];for(let u=0;u<l;u++)o.value[u]=i(s.slice([u,0],[1,s.shape[1]]).flatten().dataSync())};return bs(e,()=>a(nn(e.value))),(s,l)=>{const u=Hx,c=t0;return B(),be(c,{header:"",toggleable:"",class:"m-1"},{default:ut(()=>[ke("div",wit,[(B(!0),ne(st,null,vr(o.value,(d,h)=>(B(),ne("div",{key:h,class:"flex flex-wrap w-2rem mx-1"},[je(u,{severity:r.value[h]===t.value[h]?"success":"danger",value:r.value[h],class:"w-2rem"},null,8,["severity","value"]),ke("img",{src:d,class:"w-2rem"},null,8,xit)]))),128))])]),_:1})}}},Cit={class:"flex flex-wrap"},kit={class:"mx-1"},_it={__name:"DrawPrediction",setup(n){const e=Yt(null),t=Yt(null),r=Yt(null),o={title:{left:"center",text:""},grid:{left:"50px",bottom:"30px"},xAxis:{type:"category",data:["0","1","2","3","4","5","6","7","8","9"]},yAxis:{type:"value",name:"",min:0,max:1,axisLabel:{formatter:a=>`${a*100}%`}},series:[{data:[0,0,0,0,0,0,0,0,0,0],type:"bar",showBackground:!0,backgroundStyle:{color:"#EEEEEE"}}]};let i=null;return Sy(()=>{i=window.echarts.init(r.value),i.setOption(o)}),bs(t,()=>{if(window.model===null)return;if(e.value.isEmpty()){i.setOption({series:[{data:[0,0,0,0,0,0,0,0,0,0]}]});return}const a=new Image;a.onload=()=>{const s=window.model.predict(Y(Zt(1).sub(M6e(a,1).toFloat().div(255)),[1,28,28,1])).dataSync();i.setOption({series:[{data:Array.from(s)}]})},a.src=t.value}),(a,s)=>{const l=Je("vue-drawing-canvas"),u=qp,c=t0;return B(),be(c,{header:"()",toggleable:"",class:"m-1"},{default:ut(()=>[ke("div",Cit,[ke("div",kit,[je(l,{ref_key:"VueCanvasDrawing",ref:e,image:t.value,"onUpdate:image":s[0]||(s[0]=d=>t.value=d),width:280,height:280,"line-join":"round",lineWidth:20,saveAs:"png",class:"border-pink-400 border-3",outputWidth:28,outputHeight:28},null,8,["image"]),s[2]||(s[2]=ke("br",null,null,-1)),je(u,{label:"",class:"w-full",onClick:s[1]||(s[1]=d=>e.value.reset())})]),ke("div",{class:"bg-white w-20rem h-20rem mx-1",ref_key:"PredictChartElement",ref:r},null,512)])]),_:1})}}},Iit={class:"flex flex-wrap"},Tit={class:"w-12 xl:w-6 p-1"},Ait={class:"flex align-items-center border-1 border-round my-1"},Dit={class:"flex align-items-center border-1 border-round my-1"},Rit={class:"flex flex-wrap align-items-center border-1 border-round"},Eit={class:"flex align-items-center border-1 border-round my-1"},$it={class:"flex align-items-center border-1 border-round my-1"},Pit={class:"flex align-items-center border-1 border-round my-1"},Mit={key:0,class:"w-12 xl:w-6 p-1"},Lit=["textContent"],Nit={class:"flex flex-wrap align-items-center"},Oit={__name:"App",setup(n){const{Loading:e,Alert:t,SummaryToJSON:r}=rZ,{CreateModel:o}=CS,i=Yt([{label:"DenseNet ",value:"DenseNet"},{label:"ConvNet ",value:"ConvNet"}]),a=Yt(i.value[0]),s=Yt(["sgd","adagrad","adadelta","adam","adamax","rmsprop"]),l=Yt("sgd"),u=Yt(!1),c=Yt(!1),d=Yt(!1),h=Yt(!1),f=Yt(!1),p=Yt(null),g=Yt(!1),v=Yt(15),m=Yt(200),y=Yt(3),b=Yt(0),w=Yt(0),x=Yt(0),S=Yt(0),C=Yt(99.38),k=Yt({}),_=Yt([]),I=Yt([]),T=Yt(null);let A=null;const D=()=>I.value=Array.from(model.predict(A).argMax(1).dataSync()),E=()=>{const M=[];model.summary(200,[.6,.7,.8,.9,1],L=>M.push(L)),p.value=r(M)},$=async()=>{if(u.value&&a.value==i.value[1])return a.value=i.value[0],t("CPUConvNet ,DenseNet!");g.value=!0,p.value=null,T.value.Reset(),window.model=o(a.value.value,c.value,d.value,h.value,f.value),E(),model.compile({optimizer:l.value,loss:"categoricalCrossentropy",metrics:["accuracy"]});const M=di.GetTrainImages(),L=di.GetTrainLabels(),V=v.value/100;w.value=Math.ceil(M.shape[0]*(1-V)/m.value)*y.value,b.value=0,x.value=0,S.value=0,C.value=0,M3e(u.value?"cpu":"webgl"),model.fit(M,L,{shuffle:c.value,batchSize:m.value,validationSplit:V,epochs:y.value,callbacks:{onBatchEnd:async(W,j)=>{b.value++,W%10===0&&(T.value.PlotLossAccuracy(b.value,j.loss,j.acc*100),ee(()=>D())),await rS()},onEpochEnd:async(W,j)=>{x.value++,S.value=(j.val_acc*100).toFixed(3),C.value=(model.evaluate(di.GetTestImages(),di.GetTestLabels())[1].dataSync()[0]*100).toFixed(3),T.value.PlotLossAccuracy(b.value,j.val_loss,j.val_acc*100,!1),ee(()=>D()),x.value===3&&T.value.SpliceLossTrain(),await rS()}}}).then(()=>t("!.",null,"success",999999)).catch(W=>{u.value=!0,a.value=i.value[0],t(`!
CPU.`,W.message,"error",999999)}).finally(()=>g.value=!1)},P=()=>model.save("localstorage://my-model").then(()=>t("!")),N=async()=>Y7("localstorage://my-model").then(M=>{window.model=M,E(),t("!")});return e("..."),di.Load().then(()=>(_.value=Array.from(di.GetTestLabels(46).argMax(1).dataSync()),e("..."),Y7("pretraining/pretraining.json"))).then(async M=>{window.model=M,E(),A=di.GetTestImages(46),I.value=Array.from(model.predict(A).argMax(1).dataSync()),k.value=A,t(`!
,.`,null,"success",999999)}),(M,L)=>{const V=nZ,W=iM,j=QP,Q=Hx,te=CNe,se=eZ,ge=qp,ye=Hx,ve=t0;return B(),ne(st,null,[je(ve,{header:"",toggleable:"",class:"m-1"},{default:ut(()=>[ke("div",Iit,[ke("div",Tit,[ke("div",Ait,[L[13]||(L[13]=ke("label",{class:"p-1"},"",-1)),je(V,{modelValue:a.value,"onUpdate:modelValue":L[0]||(L[0]=de=>a.value=de),options:i.value,optionLabel:"label",allowEmpty:!1,disabled:g.value,class:"flex-wrap"},null,8,["modelValue","options","disabled"])]),ke("div",Dit,[L[14]||(L[14]=ke("label",{class:"p-1"},"",-1)),je(V,{modelValue:l.value,"onUpdate:modelValue":L[1]||(L[1]=de=>l.value=de),options:s.value,allowEmpty:!1,disabled:g.value,class:"flex-wrap"},null,8,["modelValue","options","disabled"])]),ke("div",Rit,[je(W,{modelValue:u.value,"onUpdate:modelValue":L[2]||(L[2]=de=>u.value=de),onIcon:"pi pi-bolt",offIcon:"pi pi-microchip-ai",class:"w-12rem",onLabel:"CPU",offLabel:"WebGL",disabled:g.value},null,8,["modelValue","disabled"]),je(W,{modelValue:c.value,"onUpdate:modelValue":L[3]||(L[3]=de=>c.value=de),onIcon:"pi pi-check",offIcon:"pi pi-times",class:"w-7rem",onLabel:"",offLabel:"",disabled:g.value},null,8,["modelValue","disabled"]),je(W,{modelValue:h.value,"onUpdate:modelValue":L[4]||(L[4]=de=>h.value=de),onIcon:"pi pi-check",offIcon:"pi pi-times",class:"w-10rem",onLabel:"",offLabel:"",disabled:g.value},null,8,["modelValue","disabled"]),je(W,{modelValue:d.value,"onUpdate:modelValue":L[5]||(L[5]=de=>d.value=de),onIcon:"pi pi-check",offIcon:"pi pi-times",class:"w-10rem",onLabel:"",offLabel:"",disabled:g.value},null,8,["modelValue","disabled"]),je(W,{modelValue:f.value,"onUpdate:modelValue":L[6]||(L[6]=de=>f.value=de),onIcon:"pi pi-check",offIcon:"pi pi-times",class:"w-8rem",onLabel:"",offLabel:"",disabled:g.value},null,8,["modelValue","disabled"])]),ke("div",Eit,[L[17]||(L[17]=ke("label",{class:"p-1 white-space-nowrap"},"",-1)),je(j,{modelValue:v.value,"onUpdate:modelValue":L[7]||(L[7]=de=>v.value=de),showButtons:"",buttonLayout:"horizontal",suffix:"%",min:0,max:100,disabled:g.value,fluid:""},{incrementbuttonicon:ut(()=>L[15]||(L[15]=[ke("span",{class:"pi pi-plus"},null,-1)])),decrementbuttonicon:ut(()=>L[16]||(L[16]=[ke("span",{class:"pi pi-minus"},null,-1)])),_:1},8,["modelValue","disabled"])]),ke("div",$it,[L[20]||(L[20]=ke("label",{class:"p-1 white-space-nowrap"},"",-1)),je(j,{modelValue:m.value,"onUpdate:modelValue":L[8]||(L[8]=de=>m.value=de),showButtons:"",buttonLayout:"horizontal",min:1,max:100,disabled:g.value,fluid:""},{incrementbuttonicon:ut(()=>L[18]||(L[18]=[ke("span",{class:"pi pi-plus"},null,-1)])),decrementbuttonicon:ut(()=>L[19]||(L[19]=[ke("span",{class:"pi pi-minus"},null,-1)])),_:1},8,["modelValue","disabled"])]),ke("div",Pit,[L[23]||(L[23]=ke("label",{class:"p-1 white-space-nowrap"},"",-1)),je(j,{modelValue:y.value,"onUpdate:modelValue":L[9]||(L[9]=de=>y.value=de),showButtons:"",buttonLayout:"horizontal",min:1,max:100,disabled:g.value,fluid:""},{incrementbuttonicon:ut(()=>L[21]||(L[21]=[ke("span",{class:"pi pi-plus"},null,-1)])),decrementbuttonicon:ut(()=>L[22]||(L[22]=[ke("span",{class:"pi pi-minus"},null,-1)])),_:1},8,["modelValue","disabled"])])]),p.value?(B(),ne("div",Mit,[L[24]||(L[24]=ml("  ")),je(Q,{class:"mx-1",severity:"danger",value:`:${p.value.TotalParameters}`},null,8,["value"]),je(Q,{class:"mx-1",severity:"warn",value:`:${p.value.TrainableParameters}`},null,8,["value"]),je(Q,{class:"mx-1",severity:"secondary",value:`:${p.value.NonTrainableParameters}`},null,8,["value"]),je(se,{value:p.value.Layers,size:"small",scrollable:"",scrollHeight:"14rem",class:"p-datatable-hoverable"},{default:ut(()=>[je(te,{header:""},{body:ut(de=>[ke("div",{textContent:Bn(de.index+1)},null,8,Lit)]),_:1}),je(te,{field:"Type",header:""}),je(te,{field:"InputShape",header:""}),je(te,{field:"OutputShape",header:""}),je(te,{field:"Parameters",header:""})]),_:1},8,["value"])])):Oe("",!0)]),ke("div",Nit,[je(ge,{class:"m-1",icon:"pi pi-play-circle",label:"",onClick:$,disabled:g.value,size:"small"},null,8,["disabled"]),je(ge,{class:"m-1",icon:"pi pi-save",label:"",onClick:P,disabled:g.value,size:"small"},null,8,["disabled"]),je(ge,{class:"m-1",icon:"pi pi-upload",label:"",onClick:N,disabled:g.value,size:"small"},null,8,["disabled"]),je(ye,{class:"m-1",value:`:${x.value}`,severity:"warn"},null,8,["value"]),je(ye,{class:"m-1",value:`:${b.value}/${w.value}(${(b.value/w.value*100).toFixed(1)}%)`},null,8,["value"]),je(ye,{class:"m-1",value:`:${S.value}%`,severity:"success"},null,8,["value"]),je(ye,{class:"m-1",value:`:${C.value}%`,severity:"success"},null,8,["value"]),L[25]||(L[25]=ml(" <= 99.38% "))])]),_:1}),je(bit,{ref_key:"LossAccuracyComponent",ref:T},null,512),je(Sit,{modelValue:k.value,"onUpdate:modelValue":L[10]||(L[10]=de=>k.value=de),labels:_.value,"onUpdate:labels":L[11]||(L[11]=de=>_.value=de),predictions:I.value,"onUpdate:predictions":L[12]||(L[12]=de=>I.value=de)},null,8,["modelValue","labels","predictions"]),je(_it)],64)}}};window.Swal=Wx;window.echarts=RAe;const e3=kae(Oit);e3.use(Dse,{theme:{preset:Fae(sue,{semantic:{primary:{50:"{sky.50}",100:"{sky.100}",200:"{sky.200}",300:"{sky.300}",400:"{sky.400}",500:"{sky.500}",600:"{sky.600}",700:"{sky.700}",800:"{sky.800}",900:"{sky.900}",950:"{sky.950}"}}})}});e3.component("VueDrawingCanvas",yEe);e3.mount("#app");
